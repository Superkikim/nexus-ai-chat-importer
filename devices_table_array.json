[
  [
    {
      "id": "devices_table",
      "type": "text/markdown",
      "title": "Tableau des identifications des appareils",
      "command": "create",
      "content": "# Tableau des identifications des appareils\n\n| Appareil | SN | Nom | MAC | SAK | Version |\n|----------|----|----|-----|-----|---------|\n| 1 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | 68657639364A | 1.30 |\n| 2 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | 494D512F397A | 1.30 |\n| 3 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | 704939425559 | 1.30 |\n| 4 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | 6D52667A4C62 | 1.30 |\n| 5 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | 686F4B705679 | 1.30 |\n\n## Notes\n- Tous les appareils utilisent la version firmware 1.30\n- Les adresses MAC suivent toutes le pattern BC:2B:D7:00:xx:xx\n- Les num√©ros de s√©rie commencent tous par SWP602300200\n- Un appareil n'est pas assign√© (\"Unassigned strip\")\n- Les autres appareils sont nomm√©s selon leur localisation (Local V√©lo, Salon, Cuisine, Lit)",
      "version_uuid": "6131bbaf-a875-4041-b71d-da4c0cb78a68"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "# Tableau des identifications des appareils\n\n| Appareil | SN | Nom | MAC | SAK | Version | IP |\n|----------|----|----|-----|-----|---------|-----|\n| 1 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | 68657639364A | 1.30 | - |\n| 2 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | 494D512F397A | 1.30 | - |\n| 3 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | 704939425559 | 1.30 | - |\n| 4 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | 6D52667A4C62 | 1.30 | - |\n| 5 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | 686F4B705679 | 1.30 | - |\n| 6 | SWP1023002001567 | SWITCH | BC:2B:D7:00:15:CB | 704E476F646D | 2.11 | - |\n| 7 | SWP6023002002810 | PowerStation | BC:2B:D7:00:4D:1C | 436435616472 | 2.11 | - |\n| 8 | SWP6023002001531 | Unassigned strip | BC:2B:D7:00:42:27 | 344169577556 | 1.30 | - |\n| 9 | SWP6023002000564 | Veranda | BC:2B:D7:00:3A:99 | 4A613766434E | 1.30 | - |\n| 10 | SWP6023002002463 | Office | BC:2B:D7:00:4A:66 | 367976614153 | 1.30 | - |\n\n## Notes\n- La majorit√© des appareils utilisent la version firmware 1.30\n- Deux appareils (SWITCH et PowerStation) utilisent la version 2.11\n- Toutes les adresses MAC suivent le pattern BC:2B:D7:00:xx:xx\n- Les num√©ros de s√©rie commencent par SWP (avec variation SWP1023 pour le SWITCH)\n- Deux appareils ne sont pas assign√©s (\"Unassigned strip\")\n- Les autres appareils sont nomm√©s selon leur localisation ou fonction\n- Champs IP pr√©sents mais vides pour tous les appareils",
      "old_str": "# Tableau des identifications des appareils\n\n| Appareil | SN | Nom | MAC | SAK | Version |\n|----------|----|----|-----|-----|---------|\n| 1 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | 68657639364A | 1.30 |\n| 2 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | 494D512F397A | 1.30 |\n| 3 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | 704939425559 | 1.30 |\n| 4 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | 6D52667A4C62 | 1.30 |\n| 5 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | 686F4B705679 | 1.30 |\n\n## Notes\n- Tous les appareils utilisent la version firmware 1.30\n- Les adresses MAC suivent toutes le pattern BC:2B:D7:00:xx:xx\n- Les num√©ros de s√©rie commencent tous par SWP602300200\n- Un appareil n'est pas assign√© (\"Unassigned strip\")\n- Les autres appareils sont nomm√©s selon leur localisation (Local V√©lo, Salon, Cuisine, Lit)",
      "version_uuid": "babd0638-c939-4931-8bb5-ed6314a1512b"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "# Tableau des identifications des appareils\n\n| Appareil | SN | SN local | Nom | MAC | SAK | Version | IP |\n|----------|----|---------|----|-----|-----|---------|-----|\n| 1 | SWP6023002002468 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | 68657639364A | 1.30 | - |\n| 2 | SWP6023002002386 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | 494D512F397A | 1.30 | - |\n| 3 | SWP6023002003697 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | 704939425559 | 1.30 | - |\n| 4 | SWP6023002002359 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | 6D52667A4C62 | 1.30 | - |\n| 5 | SWP6023002002523 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | 686F4B705679 | 1.30 | - |\n| 6 | SWP1023002001567 | SWP1023002002936 | SWITCH | BC:2B:D7:00:15:CB | 704E476F646D | 2.11 | - |\n| 7 | SWP6023002002810 | SWP6023002004670 | PowerStation | BC:2B:D7:00:4D:1C | 436435616472 | 2.11 | - |\n| 8 | SWP6023002001531 | SWP6023002001531 | Unassigned strip | BC:2B:D7:00:42:27 | 344169577556 | 1.30 | - |\n| 9 | SWP6023002000564 | SWP6023002000564 | Veranda | BC:2B:D7:00:3A:99 | 4A613766434E | 1.30 | - |\n| 10 | SWP6023002002463 | SWP6023002002463 | Office | BC:2B:D7:00:4A:66 | 367976614153 | 1.30 | - |\n\n## Notes\n- La majorit√© des appareils utilisent la version firmware 1.30\n- Deux appareils (SWITCH et PowerStation) utilisent la version 2.11\n- Toutes les adresses MAC suivent le pattern BC:2B:D7:00:xx:xx\n- Les num√©ros de s√©rie commencent par SWP (avec variation SWP1023 pour le SWITCH)\n- Deux appareils ne sont pas assign√©s (\"Unassigned strip\")\n- Les autres appareils sont nomm√©s selon leur localisation ou fonction\n- Champs IP pr√©sents mais vides pour tous les appareils\n- **Diff√©rences SN d√©tect√©es** : SWITCH (SWP1023002001567 vs SWP1023002002936) et PowerStation (SWP6023002002810 vs SWP6023002004670)",
      "old_str": "# Tableau des identifications des appareils\n\n| Appareil | SN | Nom | MAC | SAK | Version | IP |\n|----------|----|----|-----|-----|---------|-----|\n| 1 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | 68657639364A | 1.30 | - |\n| 2 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | 494D512F397A | 1.30 | - |\n| 3 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | 704939425559 | 1.30 | - |\n| 4 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | 6D52667A4C62 | 1.30 | - |\n| 5 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | 686F4B705679 | 1.30 | - |\n| 6 | SWP1023002001567 | SWITCH | BC:2B:D7:00:15:CB | 704E476F646D | 2.11 | - |\n| 7 | SWP6023002002810 | PowerStation | BC:2B:D7:00:4D:1C | 436435616472 | 2.11 | - |\n| 8 | SWP6023002001531 | Unassigned strip | BC:2B:D7:00:42:27 | 344169577556 | 1.30 | - |\n| 9 | SWP6023002000564 | Veranda | BC:2B:D7:00:3A:99 | 4A613766434E | 1.30 | - |\n| 10 | SWP6023002002463 | Office | BC:2B:D7:00:4A:66 | 367976614153 | 1.30 | - |\n\n## Notes\n- La majorit√© des appareils utilisent la version firmware 1.30\n- Deux appareils (SWITCH et PowerStation) utilisent la version 2.11\n- Toutes les adresses MAC suivent le pattern BC:2B:D7:00:xx:xx\n- Les num√©ros de s√©rie commencent par SWP (avec variation SWP1023 pour le SWITCH)\n- Deux appareils ne sont pas assign√©s (\"Unassigned strip\")\n- Les autres appareils sont nomm√©s selon leur localisation ou fonction\n- Champs IP pr√©sents mais vides pour tous les appareils",
      "version_uuid": "8e603bfe-a180-439c-b6ea-be4778bc85fb"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "# Tableau des identifications des appareils\n\n| Appareil | SN Cloud | SN Local | Nom | MAC Cloud | MAC Local | SAK Cloud | SAK Local | Version | IP |\n|----------|----------|----------|-----|-----------|-----------|-----------|-----------|---------|-----|\n| 1 | SWP6023002002468 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | BC2BD7004A71 | 68657639364A | MSBJ-MMHJ-KHOW-MCCB | 1.30 | 172.30.47.76 |\n| 2 | SWP6023002002386 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | BC2BD70049CD | 494D512F397A | BXOR-RMPU-XSXG-CDDI | 1.30 | 172.30.47.79 |\n| 3 | SWP6023002003697 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | BC2BD70055E6 | 704939425559 | MJUC-PXOQ-GICT-FLNL | 1.30 | 172.30.47.75 |\n| 4 | SWP6023002002359 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | BC2BD7004997 | 6D52667A4C62 | PUJB-JHOP-OVCR-WSSA | 1.30 | 172.30.47.78 |\n| 5 | SWP6023002002523 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | BC2BD7004ADF | 686F4B705679 | RCOS-BUZJ-WBCD-GOCD | 1.30 | 172.30.47.77 |\n| 6 | SWP1023002001567 | SWP1023002002936 | SWITCH | BC:2B:D7:00:15:CB | BC2BD700207E | 704E476F646D | UVDR-HNEM-ZORG-VXMH | 2.11 | 172.30.47.71 |\n| 7 | SWP6023002002810 | SWP6023002004670 | PowerStation | BC:2B:D7:00:4D:1C | **BC212345A67** | 436435616472 | ZTJC-FXLT-LJVD-AVDE | 2.11 | 172.30.47.111 |\n| 8 | SWP6023002001531 | SWP6023002001531 | Unassigned strip | BC:2B:D7:00:42:27 | BC2BD7004228 | 344169577556 | MHWW-ZLSW-ILEM-WYJE | 1.30 | 172.30.47.73 |\n| 9 | SWP6023002000564 | SWP6023002000564 | Veranda | BC:2B:D7:00:3A:99 | BC2BD7003A9A | 4A613766434E | SHYM-FGTB-RRWW-WOZZ | 1.30 | 172.30.47.72 |\n| 10 | SWP6023002002463 | SWP6023002002463 | Office | BC:2B:D7:00:4A:66 | **unavailable** | 367976614153 | **unavailable** | 1.30 | 172.30.47.74 |\n\n## Analyse des discordances\n\n### üî¥ **Probl√®mes identifi√©s :**\n\n#### **PowerStation (SWP6023002004670) :**\n- **SN** : Diff√©rent entre cloud et local\n- **MAC** : `BC212345A67` ‚Üí **Erreur : manque 1 caract√®re + format incorrect**\n- **Action requise** : Commande 122 pour corriger la MAC\n\n#### **SWITCH (SWP1023002002936) :**\n- **SN** : Diff√©rent entre cloud et local\n- **MAC/SAK** : Coh√©rents mais SN cloud obsol√®te\n\n#### **Office (SWP6023002002463) :**\n- **Timeout** : Appareil inaccessible via HTTP\n- **Action requise** : V√©rifier connectivit√© r√©seau\n\n### ‚úÖ **Appareils conformes :**\n- Local V√©lo, Salon, Cuisine, Lit, Veranda, Unassigned strips\n\n## Notes techniques\n- **MAC Cloud** : Format avec `:` (BC:2B:D7:00:xx:xx)\n- **MAC Local** : Format sans `:` (BC2BD7xxxxxx)\n- **SAK Cloud** : Format hexad√©cimal (ex: 68657639364A)\n- **SAK Local** : Format avec `-` (ex: MSBJ-MMHJ-KHOW-MCCB)\n- Les donn√©es \"Local\" proviennent de la commande 124 (plcmac/plcdak)\n- Les donn√©es \"Cloud\" proviennent de la d√©couverte MaxSmart initiale",
      "old_str": "# Tableau des identifications des appareils\n\n| Appareil | SN | SN local | Nom | MAC | SAK | Version | IP |\n|----------|----|---------|----|-----|-----|---------|-----|\n| 1 | SWP6023002002468 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | 68657639364A | 1.30 | - |\n| 2 | SWP6023002002386 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | 494D512F397A | 1.30 | - |\n| 3 | SWP6023002003697 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | 704939425559 | 1.30 | - |\n| 4 | SWP6023002002359 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | 6D52667A4C62 | 1.30 | - |\n| 5 | SWP6023002002523 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | 686F4B705679 | 1.30 | - |\n| 6 | SWP1023002001567 | SWP1023002002936 | SWITCH | BC:2B:D7:00:15:CB | 704E476F646D | 2.11 | - |\n| 7 | SWP6023002002810 | SWP6023002004670 | PowerStation | BC:2B:D7:00:4D:1C | 436435616472 | 2.11 | - |\n| 8 | SWP6023002001531 | SWP6023002001531 | Unassigned strip | BC:2B:D7:00:42:27 | 344169577556 | 1.30 | - |\n| 9 | SWP6023002000564 | SWP6023002000564 | Veranda | BC:2B:D7:00:3A:99 | 4A613766434E | 1.30 | - |\n| 10 | SWP6023002002463 | SWP6023002002463 | Office | BC:2B:D7:00:4A:66 | 367976614153 | 1.30 | - |\n\n## Notes\n- La majorit√© des appareils utilisent la version firmware 1.30\n- Deux appareils (SWITCH et PowerStation) utilisent la version 2.11\n- Toutes les adresses MAC suivent le pattern BC:2B:D7:00:xx:xx\n- Les num√©ros de s√©rie commencent par SWP (avec variation SWP1023 pour le SWITCH)\n- Deux appareils ne sont pas assign√©s (\"Unassigned strip\")\n- Les autres appareils sont nomm√©s selon leur localisation ou fonction\n- Champs IP pr√©sents mais vides pour tous les appareils\n- **Diff√©rences SN d√©tect√©es** : SWITCH (SWP1023002001567 vs SWP1023002002936) et PowerStation (SWP6023002002810 vs SWP6023002004670)",
      "version_uuid": "c0a8cf41-587e-4e09-8568-5f127441a645"
    },
    {
      "id": "devices_table",
      "command": "rewrite",
      "content": "# Tableau comparatif des identifications des appareils\n\n## Donn√©es des images (Cloud/Discovery) vs Script Bash (Command 124 Local)\n\n| Appareil | SN Images | SN Local (cmd124) | Nom | MAC Images | MAC Local (cmd124) | SAK Images | SAK Local (cmd124) | Version | IP |\n|----------|-----------|-------------------|-----|------------|-------------------|------------|-------------------|---------|-----|\n| 1 | SWP6023002002468 | SWP6023002002468 | Local V√©lo | BC:2B:D7:00:4A:70 | BC2BD7004A71 | 68657639364A | MSBJ-MMHJ-KHOW-MCCB | 1.30 | 172.30.47.76 |\n| 2 | SWP6023002002386 | SWP6023002002386 | Unassigned strip | BC:2B:D7:00:49:CC | BC2BD70049CD | 494D512F397A | BXOR-RMPU-XSXG-CDDI | 1.30 | 172.30.47.79 |\n| 3 | SWP6023002003697 | SWP6023002003697 | Salon | BC:2B:D7:00:55:E5 | BC2BD70055E6 | 704939425559 | MJUC-PXOQ-GICT-FLNL | 1.30 | 172.30.47.75 |\n| 4 | SWP6023002002359 | SWP6023002002359 | Cuisine | BC:2B:D7:00:49:96 | BC2BD7004997 | 6D52667A4C62 | PUJB-JHOP-OVCR-WSSA | 1.30 | 172.30.47.78 |\n| 5 | SWP6023002002523 | SWP6023002002523 | Lit | BC:2B:D7:00:4A:DE | BC2BD7004ADF | 686F4B705679 | RCOS-BUZJ-WBCD-GOCD | 1.30 | 172.30.47.77 |\n| 6 | SWP1023002001567 | SWP1023002002936 | SWITCH | BC:2B:D7:00:15:CB | BC2BD700207E | 704E476F646D | UVDR-HNEM-ZORG-VXMH | 2.11 | 172.30.47.71 |\n| 7 | SWP6023002002810 | SWP6023002004670 | PowerStation | BC:2B:D7:00:4D:1C | **BC212345A67** ‚ö†Ô∏è | 436435616472 | ZTJC-FXLT-LJVD-AVDE | 2.11 | 172.30.47.111 |\n| 8 | SWP6023002001531 | SWP6023002001531 | Unassigned strip | BC:2B:D7:00:42:27 | BC2BD7004228 | 344169577556 | MHWW-ZLSW-ILEM-WYJE | 1.30 | 172.30.47.73 |\n| 9 | SWP6023002000564 | SWP6023002000564 | Veranda | BC:2B:D7:00:3A:99 | BC2BD7003A9A | 4A613766434E | SHYM-FGTB-RRWW-WOZZ | 1.30 | 172.30.47.72 |\n| 10 | SWP6023002002463 | **TIMEOUT** ‚ùå | Office | BC:2B:D7:00:4A:66 | **TIMEOUT** ‚ùå | 367976614153 | **TIMEOUT** ‚ùå | 1.30 | 172.30.47.74 |\n\n## üîç Analyse des discordances\n\n### ‚ùå **Erreurs critiques :**\n\n1. **PowerStation (Device 7) :**\n   - **SN** : `SWP6023002002810` (images) ‚â† `SWP6023002004670` (local)\n   - **MAC** : `BC:2B:D7:00:4D:1C` (images) ‚â† `BC212345A67` (local) **‚Üê ERREUR : MAC corrompue !**\n   - **Action** : Commande 122 pour corriger la MAC\n\n2. **SWITCH (Device 6) :**\n   - **SN** : `SWP1023002001567` (images) ‚â† `SWP1023002002936` (local)\n   - **MAC/SAK** : Coh√©rents apr√®s conversion de format\n\n3. **Office (Device 10) :**\n   - **Timeout** complet lors du test bash\n   - **Action** : V√©rifier connectivit√© r√©seau\n\n### ‚úÖ **Appareils conformes :**\n- Local V√©lo, Unassigned strips, Salon, Cuisine, Lit, Veranda\n\n## üìù Notes techniques\n- **Images** = Donn√©es cloud/discovery (format avec `:` pour MAC)\n- **Bash cmd124** = Donn√©es locales dans l'appareil (format sans `:` pour MAC)  \n- **SAK** : Images = format hex, Local = format lisible avec `-`\n- La PowerStation a clairement une MAC corrompue qui ne respecte pas le format standard",
      "version_uuid": "836ab665-b91c-4e92-9a6a-f38e657a7de4"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "| Appareil | SN Images | SN Local (cmd124) | Nom | MAC Images | PLC MAC Local (cmd124) | SAK Images | DAK Local (cmd124) | Version | IP |",
      "old_str": "| Appareil | SN Images | SN Local (cmd124) | Nom | MAC Images | MAC Local (cmd124) | SAK Images | SAK Local (cmd124) | Version | IP |",
      "version_uuid": "cd9b5ae2-ccbe-460b-b753-05119ad0532d"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "## üìù Notes techniques\n- **Images** = Donn√©es cloud/discovery (format avec `:` pour MAC)\n- **Bash cmd124** = Donn√©es locales dans l'appareil\n  - **plcmac** = PLC MAC (normalement LAN MAC + 1)\n  - **plcdak** = DAK (Device Authentication Key, format lisible)\n- **SAK** : Visible uniquement dans les images (format hex)\n- **DAK** : Visible dans cmd124 (format avec tirets `-`)\n- **R√®gle** : PLC MAC = LAN MAC + 1 (ex: BC2BD7005D7F ‚Üí BC2BD7005D80)\n- La PowerStation a une PLC MAC corrompue qui ne suit pas cette r√®gle",
      "old_str": "## üìù Notes techniques\n- **Images** = Donn√©es cloud/discovery (format avec `:` pour MAC)\n- **Bash cmd124** = Donn√©es locales dans l'appareil (format sans `:` pour MAC)  \n- **SAK** : Images = format hex, Local = format lisible avec `-`\n- La PowerStation a clairement une MAC corrompue qui ne respecte pas le format standard",
      "version_uuid": "1b583139-5a38-48bc-8b95-8ac92e699668"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "| 10 | SWP6023002002463 | SWP6023002002463 | Office | BC:2B:D7:00:4A:66 | BC2BD7004A67 | 367976614153 | MLRM-XWYP-DKVW-GHVX | 1.30 | 172.30.47.74 |",
      "old_str": "| 10 | SWP6023002002463 | **TIMEOUT** ‚ùå | Office | BC:2B:D7:00:4A:66 | **TIMEOUT** ‚ùå | 367976614153 | **TIMEOUT** ‚ùå | 1.30 | 172.30.47.74 |",
      "version_uuid": "217c9c51-b5a1-42f1-b044-f619e7211bf1"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "3. **Office (Device 10) :**\n   - **Maintenant accessible** ‚úÖ\n   - **SN** : Identique (`SWP6023002002463`)\n   - **PLC MAC** : `BC:2B:D7:00:4A:66` ‚Üí `BC2BD7004A67` ‚úÖ (coh√©rent : 4A66 + 1 = 4A67)",
      "old_str": "3. **Office (Device 10) :**\n   - **Timeout** complet lors du test bash\n   - **Action** : V√©rifier connectivit√© r√©seau",
      "version_uuid": "54fe47c0-563a-4f51-9292-ad7dcb716c43"
    },
    {
      "id": "devices_table",
      "command": "update",
      "new_str": "### ‚úÖ **Appareils conformes :**\n- Local V√©lo, Unassigned strips, Salon, Cuisine, Lit, Veranda, **Office**",
      "old_str": "### ‚úÖ **Appareils conformes :**\n- Local V√©lo, Unassigned strips, Salon, Cuisine, Lit, Veranda",
      "version_uuid": "1b8db47d-8a34-4e7e-aea2-37171874a298"
    }
  ]
]

/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/jszip/dist/jszip.min.js
var require_jszip_min = __commonJS({
  "node_modules/jszip/dist/jszip.min.js"(exports, module2) {
    !function(e) {
      if ("object" == typeof exports && "undefined" != typeof module2)
        module2.exports = e();
      else if ("function" == typeof define && define.amd)
        define([], e);
      else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).JSZip = e();
      }
    }(function() {
      return function s(a, o, h) {
        function u(r, e2) {
          if (!o[r]) {
            if (!a[r]) {
              var t = "function" == typeof require && require;
              if (!e2 && t)
                return t(r, true);
              if (l)
                return l(r, true);
              var n = new Error("Cannot find module '" + r + "'");
              throw n.code = "MODULE_NOT_FOUND", n;
            }
            var i = o[r] = { exports: {} };
            a[r][0].call(i.exports, function(e3) {
              var t2 = a[r][1][e3];
              return u(t2 || e3);
            }, i, i.exports, s, a, o, h);
          }
          return o[r].exports;
        }
        for (var l = "function" == typeof require && require, e = 0; e < h.length; e++)
          u(h[e]);
        return u;
      }({ 1: [function(e, t, r) {
        "use strict";
        var d = e("./utils"), c = e("./support"), p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        r.encode = function(e2) {
          for (var t2, r2, n, i, s, a, o, h = [], u = 0, l = e2.length, f = l, c2 = "string" !== d.getTypeOf(e2); u < e2.length; )
            f = l - u, n = c2 ? (t2 = e2[u++], r2 = u < l ? e2[u++] : 0, u < l ? e2[u++] : 0) : (t2 = e2.charCodeAt(u++), r2 = u < l ? e2.charCodeAt(u++) : 0, u < l ? e2.charCodeAt(u++) : 0), i = t2 >> 2, s = (3 & t2) << 4 | r2 >> 4, a = 1 < f ? (15 & r2) << 2 | n >> 6 : 64, o = 2 < f ? 63 & n : 64, h.push(p.charAt(i) + p.charAt(s) + p.charAt(a) + p.charAt(o));
          return h.join("");
        }, r.decode = function(e2) {
          var t2, r2, n, i, s, a, o = 0, h = 0, u = "data:";
          if (e2.substr(0, u.length) === u)
            throw new Error("Invalid base64 input, it looks like a data url.");
          var l, f = 3 * (e2 = e2.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4;
          if (e2.charAt(e2.length - 1) === p.charAt(64) && f--, e2.charAt(e2.length - 2) === p.charAt(64) && f--, f % 1 != 0)
            throw new Error("Invalid base64 input, bad content length.");
          for (l = c.uint8array ? new Uint8Array(0 | f) : new Array(0 | f); o < e2.length; )
            t2 = p.indexOf(e2.charAt(o++)) << 2 | (i = p.indexOf(e2.charAt(o++))) >> 4, r2 = (15 & i) << 4 | (s = p.indexOf(e2.charAt(o++))) >> 2, n = (3 & s) << 6 | (a = p.indexOf(e2.charAt(o++))), l[h++] = t2, 64 !== s && (l[h++] = r2), 64 !== a && (l[h++] = n);
          return l;
        };
      }, { "./support": 30, "./utils": 32 }], 2: [function(e, t, r) {
        "use strict";
        var n = e("./external"), i = e("./stream/DataWorker"), s = e("./stream/Crc32Probe"), a = e("./stream/DataLengthProbe");
        function o(e2, t2, r2, n2, i2) {
          this.compressedSize = e2, this.uncompressedSize = t2, this.crc32 = r2, this.compression = n2, this.compressedContent = i2;
        }
        o.prototype = { getContentWorker: function() {
          var e2 = new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")), t2 = this;
          return e2.on("end", function() {
            if (this.streamInfo.data_length !== t2.uncompressedSize)
              throw new Error("Bug : uncompressed data size mismatch");
          }), e2;
        }, getCompressedWorker: function() {
          return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression);
        } }, o.createWorkerFrom = function(e2, t2, r2) {
          return e2.pipe(new s()).pipe(new a("uncompressedSize")).pipe(t2.compressWorker(r2)).pipe(new a("compressedSize")).withStreamInfo("compression", t2);
        }, t.exports = o;
      }, { "./external": 6, "./stream/Crc32Probe": 25, "./stream/DataLengthProbe": 26, "./stream/DataWorker": 27 }], 3: [function(e, t, r) {
        "use strict";
        var n = e("./stream/GenericWorker");
        r.STORE = { magic: "\0\0", compressWorker: function() {
          return new n("STORE compression");
        }, uncompressWorker: function() {
          return new n("STORE decompression");
        } }, r.DEFLATE = e("./flate");
      }, { "./flate": 7, "./stream/GenericWorker": 28 }], 4: [function(e, t, r) {
        "use strict";
        var n = e("./utils");
        var o = function() {
          for (var e2, t2 = [], r2 = 0; r2 < 256; r2++) {
            e2 = r2;
            for (var n2 = 0; n2 < 8; n2++)
              e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
            t2[r2] = e2;
          }
          return t2;
        }();
        t.exports = function(e2, t2) {
          return void 0 !== e2 && e2.length ? "string" !== n.getTypeOf(e2) ? function(e3, t3, r2, n2) {
            var i = o, s = n2 + r2;
            e3 ^= -1;
            for (var a = n2; a < s; a++)
              e3 = e3 >>> 8 ^ i[255 & (e3 ^ t3[a])];
            return -1 ^ e3;
          }(0 | t2, e2, e2.length, 0) : function(e3, t3, r2, n2) {
            var i = o, s = n2 + r2;
            e3 ^= -1;
            for (var a = n2; a < s; a++)
              e3 = e3 >>> 8 ^ i[255 & (e3 ^ t3.charCodeAt(a))];
            return -1 ^ e3;
          }(0 | t2, e2, e2.length, 0) : 0;
        };
      }, { "./utils": 32 }], 5: [function(e, t, r) {
        "use strict";
        r.base64 = false, r.binary = false, r.dir = false, r.createFolders = true, r.date = null, r.compression = null, r.compressionOptions = null, r.comment = null, r.unixPermissions = null, r.dosPermissions = null;
      }, {}], 6: [function(e, t, r) {
        "use strict";
        var n = null;
        n = "undefined" != typeof Promise ? Promise : e("lie"), t.exports = { Promise: n };
      }, { lie: 37 }], 7: [function(e, t, r) {
        "use strict";
        var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array, i = e("pako"), s = e("./utils"), a = e("./stream/GenericWorker"), o = n ? "uint8array" : "array";
        function h(e2, t2) {
          a.call(this, "FlateWorker/" + e2), this._pako = null, this._pakoAction = e2, this._pakoOptions = t2, this.meta = {};
        }
        r.magic = "\b\0", s.inherits(h, a), h.prototype.processChunk = function(e2) {
          this.meta = e2.meta, null === this._pako && this._createPako(), this._pako.push(s.transformTo(o, e2.data), false);
        }, h.prototype.flush = function() {
          a.prototype.flush.call(this), null === this._pako && this._createPako(), this._pako.push([], true);
        }, h.prototype.cleanUp = function() {
          a.prototype.cleanUp.call(this), this._pako = null;
        }, h.prototype._createPako = function() {
          this._pako = new i[this._pakoAction]({ raw: true, level: this._pakoOptions.level || -1 });
          var t2 = this;
          this._pako.onData = function(e2) {
            t2.push({ data: e2, meta: t2.meta });
          };
        }, r.compressWorker = function(e2) {
          return new h("Deflate", e2);
        }, r.uncompressWorker = function() {
          return new h("Inflate", {});
        };
      }, { "./stream/GenericWorker": 28, "./utils": 32, pako: 38 }], 8: [function(e, t, r) {
        "use strict";
        function A(e2, t2) {
          var r2, n2 = "";
          for (r2 = 0; r2 < t2; r2++)
            n2 += String.fromCharCode(255 & e2), e2 >>>= 8;
          return n2;
        }
        function n(e2, t2, r2, n2, i2, s2) {
          var a, o, h = e2.file, u = e2.compression, l = s2 !== O.utf8encode, f = I.transformTo("string", s2(h.name)), c = I.transformTo("string", O.utf8encode(h.name)), d = h.comment, p = I.transformTo("string", s2(d)), m = I.transformTo("string", O.utf8encode(d)), _ = c.length !== h.name.length, g = m.length !== d.length, b = "", v = "", y = "", w = h.dir, k = h.date, x = { crc32: 0, compressedSize: 0, uncompressedSize: 0 };
          t2 && !r2 || (x.crc32 = e2.crc32, x.compressedSize = e2.compressedSize, x.uncompressedSize = e2.uncompressedSize);
          var S = 0;
          t2 && (S |= 8), l || !_ && !g || (S |= 2048);
          var z = 0, C = 0;
          w && (z |= 16), "UNIX" === i2 ? (C = 798, z |= function(e3, t3) {
            var r3 = e3;
            return e3 || (r3 = t3 ? 16893 : 33204), (65535 & r3) << 16;
          }(h.unixPermissions, w)) : (C = 20, z |= function(e3) {
            return 63 & (e3 || 0);
          }(h.dosPermissions)), a = k.getUTCHours(), a <<= 6, a |= k.getUTCMinutes(), a <<= 5, a |= k.getUTCSeconds() / 2, o = k.getUTCFullYear() - 1980, o <<= 4, o |= k.getUTCMonth() + 1, o <<= 5, o |= k.getUTCDate(), _ && (v = A(1, 1) + A(B(f), 4) + c, b += "up" + A(v.length, 2) + v), g && (y = A(1, 1) + A(B(p), 4) + m, b += "uc" + A(y.length, 2) + y);
          var E = "";
          return E += "\n\0", E += A(S, 2), E += u.magic, E += A(a, 2), E += A(o, 2), E += A(x.crc32, 4), E += A(x.compressedSize, 4), E += A(x.uncompressedSize, 4), E += A(f.length, 2), E += A(b.length, 2), { fileRecord: R.LOCAL_FILE_HEADER + E + f + b, dirRecord: R.CENTRAL_FILE_HEADER + A(C, 2) + E + A(p.length, 2) + "\0\0\0\0" + A(z, 4) + A(n2, 4) + f + b + p };
        }
        var I = e("../utils"), i = e("../stream/GenericWorker"), O = e("../utf8"), B = e("../crc32"), R = e("../signature");
        function s(e2, t2, r2, n2) {
          i.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = t2, this.zipPlatform = r2, this.encodeFileName = n2, this.streamFiles = e2, this.accumulate = false, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [];
        }
        I.inherits(s, i), s.prototype.push = function(e2) {
          var t2 = e2.meta.percent || 0, r2 = this.entriesCount, n2 = this._sources.length;
          this.accumulate ? this.contentBuffer.push(e2) : (this.bytesWritten += e2.data.length, i.prototype.push.call(this, { data: e2.data, meta: { currentFile: this.currentFile, percent: r2 ? (t2 + 100 * (r2 - n2 - 1)) / r2 : 100 } }));
        }, s.prototype.openedSource = function(e2) {
          this.currentSourceOffset = this.bytesWritten, this.currentFile = e2.file.name;
          var t2 = this.streamFiles && !e2.file.dir;
          if (t2) {
            var r2 = n(e2, t2, false, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
            this.push({ data: r2.fileRecord, meta: { percent: 0 } });
          } else
            this.accumulate = true;
        }, s.prototype.closedSource = function(e2) {
          this.accumulate = false;
          var t2 = this.streamFiles && !e2.file.dir, r2 = n(e2, t2, true, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
          if (this.dirRecords.push(r2.dirRecord), t2)
            this.push({ data: function(e3) {
              return R.DATA_DESCRIPTOR + A(e3.crc32, 4) + A(e3.compressedSize, 4) + A(e3.uncompressedSize, 4);
            }(e2), meta: { percent: 100 } });
          else
            for (this.push({ data: r2.fileRecord, meta: { percent: 0 } }); this.contentBuffer.length; )
              this.push(this.contentBuffer.shift());
          this.currentFile = null;
        }, s.prototype.flush = function() {
          for (var e2 = this.bytesWritten, t2 = 0; t2 < this.dirRecords.length; t2++)
            this.push({ data: this.dirRecords[t2], meta: { percent: 100 } });
          var r2 = this.bytesWritten - e2, n2 = function(e3, t3, r3, n3, i2) {
            var s2 = I.transformTo("string", i2(n3));
            return R.CENTRAL_DIRECTORY_END + "\0\0\0\0" + A(e3, 2) + A(e3, 2) + A(t3, 4) + A(r3, 4) + A(s2.length, 2) + s2;
          }(this.dirRecords.length, r2, e2, this.zipComment, this.encodeFileName);
          this.push({ data: n2, meta: { percent: 100 } });
        }, s.prototype.prepareNextSource = function() {
          this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume();
        }, s.prototype.registerPrevious = function(e2) {
          this._sources.push(e2);
          var t2 = this;
          return e2.on("data", function(e3) {
            t2.processChunk(e3);
          }), e2.on("end", function() {
            t2.closedSource(t2.previous.streamInfo), t2._sources.length ? t2.prepareNextSource() : t2.end();
          }), e2.on("error", function(e3) {
            t2.error(e3);
          }), this;
        }, s.prototype.resume = function() {
          return !!i.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), true) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), true));
        }, s.prototype.error = function(e2) {
          var t2 = this._sources;
          if (!i.prototype.error.call(this, e2))
            return false;
          for (var r2 = 0; r2 < t2.length; r2++)
            try {
              t2[r2].error(e2);
            } catch (e3) {
            }
          return true;
        }, s.prototype.lock = function() {
          i.prototype.lock.call(this);
          for (var e2 = this._sources, t2 = 0; t2 < e2.length; t2++)
            e2[t2].lock();
        }, t.exports = s;
      }, { "../crc32": 4, "../signature": 23, "../stream/GenericWorker": 28, "../utf8": 31, "../utils": 32 }], 9: [function(e, t, r) {
        "use strict";
        var u = e("../compressions"), n = e("./ZipFileWorker");
        r.generateWorker = function(e2, a, t2) {
          var o = new n(a.streamFiles, t2, a.platform, a.encodeFileName), h = 0;
          try {
            e2.forEach(function(e3, t3) {
              h++;
              var r2 = function(e4, t4) {
                var r3 = e4 || t4, n3 = u[r3];
                if (!n3)
                  throw new Error(r3 + " is not a valid compression method !");
                return n3;
              }(t3.options.compression, a.compression), n2 = t3.options.compressionOptions || a.compressionOptions || {}, i = t3.dir, s = t3.date;
              t3._compressWorker(r2, n2).withStreamInfo("file", { name: e3, dir: i, date: s, comment: t3.comment || "", unixPermissions: t3.unixPermissions, dosPermissions: t3.dosPermissions }).pipe(o);
            }), o.entriesCount = h;
          } catch (e3) {
            o.error(e3);
          }
          return o;
        };
      }, { "../compressions": 3, "./ZipFileWorker": 8 }], 10: [function(e, t, r) {
        "use strict";
        function n() {
          if (!(this instanceof n))
            return new n();
          if (arguments.length)
            throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
          this.files = /* @__PURE__ */ Object.create(null), this.comment = null, this.root = "", this.clone = function() {
            var e2 = new n();
            for (var t2 in this)
              "function" != typeof this[t2] && (e2[t2] = this[t2]);
            return e2;
          };
        }
        (n.prototype = e("./object")).loadAsync = e("./load"), n.support = e("./support"), n.defaults = e("./defaults"), n.version = "3.10.1", n.loadAsync = function(e2, t2) {
          return new n().loadAsync(e2, t2);
        }, n.external = e("./external"), t.exports = n;
      }, { "./defaults": 5, "./external": 6, "./load": 11, "./object": 15, "./support": 30 }], 11: [function(e, t, r) {
        "use strict";
        var u = e("./utils"), i = e("./external"), n = e("./utf8"), s = e("./zipEntries"), a = e("./stream/Crc32Probe"), l = e("./nodejsUtils");
        function f(n2) {
          return new i.Promise(function(e2, t2) {
            var r2 = n2.decompressed.getContentWorker().pipe(new a());
            r2.on("error", function(e3) {
              t2(e3);
            }).on("end", function() {
              r2.streamInfo.crc32 !== n2.decompressed.crc32 ? t2(new Error("Corrupted zip : CRC32 mismatch")) : e2();
            }).resume();
          });
        }
        t.exports = function(e2, o) {
          var h = this;
          return o = u.extend(o || {}, { base64: false, checkCRC32: false, optimizedBinaryString: false, createFolders: false, decodeFileName: n.utf8decode }), l.isNode && l.isStream(e2) ? i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : u.prepareContent("the loaded zip file", e2, true, o.optimizedBinaryString, o.base64).then(function(e3) {
            var t2 = new s(o);
            return t2.load(e3), t2;
          }).then(function(e3) {
            var t2 = [i.Promise.resolve(e3)], r2 = e3.files;
            if (o.checkCRC32)
              for (var n2 = 0; n2 < r2.length; n2++)
                t2.push(f(r2[n2]));
            return i.Promise.all(t2);
          }).then(function(e3) {
            for (var t2 = e3.shift(), r2 = t2.files, n2 = 0; n2 < r2.length; n2++) {
              var i2 = r2[n2], s2 = i2.fileNameStr, a2 = u.resolve(i2.fileNameStr);
              h.file(a2, i2.decompressed, { binary: true, optimizedBinaryString: true, date: i2.date, dir: i2.dir, comment: i2.fileCommentStr.length ? i2.fileCommentStr : null, unixPermissions: i2.unixPermissions, dosPermissions: i2.dosPermissions, createFolders: o.createFolders }), i2.dir || (h.file(a2).unsafeOriginalName = s2);
            }
            return t2.zipComment.length && (h.comment = t2.zipComment), h;
          });
        };
      }, { "./external": 6, "./nodejsUtils": 14, "./stream/Crc32Probe": 25, "./utf8": 31, "./utils": 32, "./zipEntries": 33 }], 12: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("../stream/GenericWorker");
        function s(e2, t2) {
          i.call(this, "Nodejs stream input adapter for " + e2), this._upstreamEnded = false, this._bindStream(t2);
        }
        n.inherits(s, i), s.prototype._bindStream = function(e2) {
          var t2 = this;
          (this._stream = e2).pause(), e2.on("data", function(e3) {
            t2.push({ data: e3, meta: { percent: 0 } });
          }).on("error", function(e3) {
            t2.isPaused ? this.generatedError = e3 : t2.error(e3);
          }).on("end", function() {
            t2.isPaused ? t2._upstreamEnded = true : t2.end();
          });
        }, s.prototype.pause = function() {
          return !!i.prototype.pause.call(this) && (this._stream.pause(), true);
        }, s.prototype.resume = function() {
          return !!i.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), true);
        }, t.exports = s;
      }, { "../stream/GenericWorker": 28, "../utils": 32 }], 13: [function(e, t, r) {
        "use strict";
        var i = e("readable-stream").Readable;
        function n(e2, t2, r2) {
          i.call(this, t2), this._helper = e2;
          var n2 = this;
          e2.on("data", function(e3, t3) {
            n2.push(e3) || n2._helper.pause(), r2 && r2(t3);
          }).on("error", function(e3) {
            n2.emit("error", e3);
          }).on("end", function() {
            n2.push(null);
          });
        }
        e("../utils").inherits(n, i), n.prototype._read = function() {
          this._helper.resume();
        }, t.exports = n;
      }, { "../utils": 32, "readable-stream": 16 }], 14: [function(e, t, r) {
        "use strict";
        t.exports = { isNode: "undefined" != typeof Buffer, newBufferFrom: function(e2, t2) {
          if (Buffer.from && Buffer.from !== Uint8Array.from)
            return Buffer.from(e2, t2);
          if ("number" == typeof e2)
            throw new Error('The "data" argument must not be a number');
          return new Buffer(e2, t2);
        }, allocBuffer: function(e2) {
          if (Buffer.alloc)
            return Buffer.alloc(e2);
          var t2 = new Buffer(e2);
          return t2.fill(0), t2;
        }, isBuffer: function(e2) {
          return Buffer.isBuffer(e2);
        }, isStream: function(e2) {
          return e2 && "function" == typeof e2.on && "function" == typeof e2.pause && "function" == typeof e2.resume;
        } };
      }, {}], 15: [function(e, t, r) {
        "use strict";
        function s(e2, t2, r2) {
          var n2, i2 = u.getTypeOf(t2), s2 = u.extend(r2 || {}, f);
          s2.date = s2.date || new Date(), null !== s2.compression && (s2.compression = s2.compression.toUpperCase()), "string" == typeof s2.unixPermissions && (s2.unixPermissions = parseInt(s2.unixPermissions, 8)), s2.unixPermissions && 16384 & s2.unixPermissions && (s2.dir = true), s2.dosPermissions && 16 & s2.dosPermissions && (s2.dir = true), s2.dir && (e2 = g(e2)), s2.createFolders && (n2 = _(e2)) && b.call(this, n2, true);
          var a2 = "string" === i2 && false === s2.binary && false === s2.base64;
          r2 && void 0 !== r2.binary || (s2.binary = !a2), (t2 instanceof c && 0 === t2.uncompressedSize || s2.dir || !t2 || 0 === t2.length) && (s2.base64 = false, s2.binary = true, t2 = "", s2.compression = "STORE", i2 = "string");
          var o2 = null;
          o2 = t2 instanceof c || t2 instanceof l ? t2 : p.isNode && p.isStream(t2) ? new m(e2, t2) : u.prepareContent(e2, t2, s2.binary, s2.optimizedBinaryString, s2.base64);
          var h2 = new d(e2, o2, s2);
          this.files[e2] = h2;
        }
        var i = e("./utf8"), u = e("./utils"), l = e("./stream/GenericWorker"), a = e("./stream/StreamHelper"), f = e("./defaults"), c = e("./compressedObject"), d = e("./zipObject"), o = e("./generate"), p = e("./nodejsUtils"), m = e("./nodejs/NodejsStreamInputAdapter"), _ = function(e2) {
          "/" === e2.slice(-1) && (e2 = e2.substring(0, e2.length - 1));
          var t2 = e2.lastIndexOf("/");
          return 0 < t2 ? e2.substring(0, t2) : "";
        }, g = function(e2) {
          return "/" !== e2.slice(-1) && (e2 += "/"), e2;
        }, b = function(e2, t2) {
          return t2 = void 0 !== t2 ? t2 : f.createFolders, e2 = g(e2), this.files[e2] || s.call(this, e2, null, { dir: true, createFolders: t2 }), this.files[e2];
        };
        function h(e2) {
          return "[object RegExp]" === Object.prototype.toString.call(e2);
        }
        var n = { load: function() {
          throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
        }, forEach: function(e2) {
          var t2, r2, n2;
          for (t2 in this.files)
            n2 = this.files[t2], (r2 = t2.slice(this.root.length, t2.length)) && t2.slice(0, this.root.length) === this.root && e2(r2, n2);
        }, filter: function(r2) {
          var n2 = [];
          return this.forEach(function(e2, t2) {
            r2(e2, t2) && n2.push(t2);
          }), n2;
        }, file: function(e2, t2, r2) {
          if (1 !== arguments.length)
            return e2 = this.root + e2, s.call(this, e2, t2, r2), this;
          if (h(e2)) {
            var n2 = e2;
            return this.filter(function(e3, t3) {
              return !t3.dir && n2.test(e3);
            });
          }
          var i2 = this.files[this.root + e2];
          return i2 && !i2.dir ? i2 : null;
        }, folder: function(r2) {
          if (!r2)
            return this;
          if (h(r2))
            return this.filter(function(e3, t3) {
              return t3.dir && r2.test(e3);
            });
          var e2 = this.root + r2, t2 = b.call(this, e2), n2 = this.clone();
          return n2.root = t2.name, n2;
        }, remove: function(r2) {
          r2 = this.root + r2;
          var e2 = this.files[r2];
          if (e2 || ("/" !== r2.slice(-1) && (r2 += "/"), e2 = this.files[r2]), e2 && !e2.dir)
            delete this.files[r2];
          else
            for (var t2 = this.filter(function(e3, t3) {
              return t3.name.slice(0, r2.length) === r2;
            }), n2 = 0; n2 < t2.length; n2++)
              delete this.files[t2[n2].name];
          return this;
        }, generate: function() {
          throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
        }, generateInternalStream: function(e2) {
          var t2, r2 = {};
          try {
            if ((r2 = u.extend(e2 || {}, { streamFiles: false, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: i.utf8encode })).type = r2.type.toLowerCase(), r2.compression = r2.compression.toUpperCase(), "binarystring" === r2.type && (r2.type = "string"), !r2.type)
              throw new Error("No output type specified.");
            u.checkSupport(r2.type), "darwin" !== r2.platform && "freebsd" !== r2.platform && "linux" !== r2.platform && "sunos" !== r2.platform || (r2.platform = "UNIX"), "win32" === r2.platform && (r2.platform = "DOS");
            var n2 = r2.comment || this.comment || "";
            t2 = o.generateWorker(this, r2, n2);
          } catch (e3) {
            (t2 = new l("error")).error(e3);
          }
          return new a(t2, r2.type || "string", r2.mimeType);
        }, generateAsync: function(e2, t2) {
          return this.generateInternalStream(e2).accumulate(t2);
        }, generateNodeStream: function(e2, t2) {
          return (e2 = e2 || {}).type || (e2.type = "nodebuffer"), this.generateInternalStream(e2).toNodejsStream(t2);
        } };
        t.exports = n;
      }, { "./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 12, "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31, "./utils": 32, "./zipObject": 35 }], 16: [function(e, t, r) {
        "use strict";
        t.exports = e("stream");
      }, { stream: void 0 }], 17: [function(e, t, r) {
        "use strict";
        var n = e("./DataReader");
        function i(e2) {
          n.call(this, e2);
          for (var t2 = 0; t2 < this.data.length; t2++)
            e2[t2] = 255 & e2[t2];
        }
        e("../utils").inherits(i, n), i.prototype.byteAt = function(e2) {
          return this.data[this.zero + e2];
        }, i.prototype.lastIndexOfSignature = function(e2) {
          for (var t2 = e2.charCodeAt(0), r2 = e2.charCodeAt(1), n2 = e2.charCodeAt(2), i2 = e2.charCodeAt(3), s = this.length - 4; 0 <= s; --s)
            if (this.data[s] === t2 && this.data[s + 1] === r2 && this.data[s + 2] === n2 && this.data[s + 3] === i2)
              return s - this.zero;
          return -1;
        }, i.prototype.readAndCheckSignature = function(e2) {
          var t2 = e2.charCodeAt(0), r2 = e2.charCodeAt(1), n2 = e2.charCodeAt(2), i2 = e2.charCodeAt(3), s = this.readData(4);
          return t2 === s[0] && r2 === s[1] && n2 === s[2] && i2 === s[3];
        }, i.prototype.readData = function(e2) {
          if (this.checkOffset(e2), 0 === e2)
            return [];
          var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./DataReader": 18 }], 18: [function(e, t, r) {
        "use strict";
        var n = e("../utils");
        function i(e2) {
          this.data = e2, this.length = e2.length, this.index = 0, this.zero = 0;
        }
        i.prototype = { checkOffset: function(e2) {
          this.checkIndex(this.index + e2);
        }, checkIndex: function(e2) {
          if (this.length < this.zero + e2 || e2 < 0)
            throw new Error("End of data reached (data length = " + this.length + ", asked index = " + e2 + "). Corrupted zip ?");
        }, setIndex: function(e2) {
          this.checkIndex(e2), this.index = e2;
        }, skip: function(e2) {
          this.setIndex(this.index + e2);
        }, byteAt: function() {
        }, readInt: function(e2) {
          var t2, r2 = 0;
          for (this.checkOffset(e2), t2 = this.index + e2 - 1; t2 >= this.index; t2--)
            r2 = (r2 << 8) + this.byteAt(t2);
          return this.index += e2, r2;
        }, readString: function(e2) {
          return n.transformTo("string", this.readData(e2));
        }, readData: function() {
        }, lastIndexOfSignature: function() {
        }, readAndCheckSignature: function() {
        }, readDate: function() {
          var e2 = this.readInt(4);
          return new Date(Date.UTC(1980 + (e2 >> 25 & 127), (e2 >> 21 & 15) - 1, e2 >> 16 & 31, e2 >> 11 & 31, e2 >> 5 & 63, (31 & e2) << 1));
        } }, t.exports = i;
      }, { "../utils": 32 }], 19: [function(e, t, r) {
        "use strict";
        var n = e("./Uint8ArrayReader");
        function i(e2) {
          n.call(this, e2);
        }
        e("../utils").inherits(i, n), i.prototype.readData = function(e2) {
          this.checkOffset(e2);
          var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./Uint8ArrayReader": 21 }], 20: [function(e, t, r) {
        "use strict";
        var n = e("./DataReader");
        function i(e2) {
          n.call(this, e2);
        }
        e("../utils").inherits(i, n), i.prototype.byteAt = function(e2) {
          return this.data.charCodeAt(this.zero + e2);
        }, i.prototype.lastIndexOfSignature = function(e2) {
          return this.data.lastIndexOf(e2) - this.zero;
        }, i.prototype.readAndCheckSignature = function(e2) {
          return e2 === this.readData(4);
        }, i.prototype.readData = function(e2) {
          this.checkOffset(e2);
          var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./DataReader": 18 }], 21: [function(e, t, r) {
        "use strict";
        var n = e("./ArrayReader");
        function i(e2) {
          n.call(this, e2);
        }
        e("../utils").inherits(i, n), i.prototype.readData = function(e2) {
          if (this.checkOffset(e2), 0 === e2)
            return new Uint8Array(0);
          var t2 = this.data.subarray(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./ArrayReader": 17 }], 22: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("../support"), s = e("./ArrayReader"), a = e("./StringReader"), o = e("./NodeBufferReader"), h = e("./Uint8ArrayReader");
        t.exports = function(e2) {
          var t2 = n.getTypeOf(e2);
          return n.checkSupport(t2), "string" !== t2 || i.uint8array ? "nodebuffer" === t2 ? new o(e2) : i.uint8array ? new h(n.transformTo("uint8array", e2)) : new s(n.transformTo("array", e2)) : new a(e2);
        };
      }, { "../support": 30, "../utils": 32, "./ArrayReader": 17, "./NodeBufferReader": 19, "./StringReader": 20, "./Uint8ArrayReader": 21 }], 23: [function(e, t, r) {
        "use strict";
        r.LOCAL_FILE_HEADER = "PK", r.CENTRAL_FILE_HEADER = "PK", r.CENTRAL_DIRECTORY_END = "PK", r.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", r.ZIP64_CENTRAL_DIRECTORY_END = "PK", r.DATA_DESCRIPTOR = "PK\x07\b";
      }, {}], 24: [function(e, t, r) {
        "use strict";
        var n = e("./GenericWorker"), i = e("../utils");
        function s(e2) {
          n.call(this, "ConvertWorker to " + e2), this.destType = e2;
        }
        i.inherits(s, n), s.prototype.processChunk = function(e2) {
          this.push({ data: i.transformTo(this.destType, e2.data), meta: e2.meta });
        }, t.exports = s;
      }, { "../utils": 32, "./GenericWorker": 28 }], 25: [function(e, t, r) {
        "use strict";
        var n = e("./GenericWorker"), i = e("../crc32");
        function s() {
          n.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0);
        }
        e("../utils").inherits(s, n), s.prototype.processChunk = function(e2) {
          this.streamInfo.crc32 = i(e2.data, this.streamInfo.crc32 || 0), this.push(e2);
        }, t.exports = s;
      }, { "../crc32": 4, "../utils": 32, "./GenericWorker": 28 }], 26: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("./GenericWorker");
        function s(e2) {
          i.call(this, "DataLengthProbe for " + e2), this.propName = e2, this.withStreamInfo(e2, 0);
        }
        n.inherits(s, i), s.prototype.processChunk = function(e2) {
          if (e2) {
            var t2 = this.streamInfo[this.propName] || 0;
            this.streamInfo[this.propName] = t2 + e2.data.length;
          }
          i.prototype.processChunk.call(this, e2);
        }, t.exports = s;
      }, { "../utils": 32, "./GenericWorker": 28 }], 27: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("./GenericWorker");
        function s(e2) {
          i.call(this, "DataWorker");
          var t2 = this;
          this.dataIsReady = false, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = false, e2.then(function(e3) {
            t2.dataIsReady = true, t2.data = e3, t2.max = e3 && e3.length || 0, t2.type = n.getTypeOf(e3), t2.isPaused || t2._tickAndRepeat();
          }, function(e3) {
            t2.error(e3);
          });
        }
        n.inherits(s, i), s.prototype.cleanUp = function() {
          i.prototype.cleanUp.call(this), this.data = null;
        }, s.prototype.resume = function() {
          return !!i.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = true, n.delay(this._tickAndRepeat, [], this)), true);
        }, s.prototype._tickAndRepeat = function() {
          this._tickScheduled = false, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (n.delay(this._tickAndRepeat, [], this), this._tickScheduled = true));
        }, s.prototype._tick = function() {
          if (this.isPaused || this.isFinished)
            return false;
          var e2 = null, t2 = Math.min(this.max, this.index + 16384);
          if (this.index >= this.max)
            return this.end();
          switch (this.type) {
            case "string":
              e2 = this.data.substring(this.index, t2);
              break;
            case "uint8array":
              e2 = this.data.subarray(this.index, t2);
              break;
            case "array":
            case "nodebuffer":
              e2 = this.data.slice(this.index, t2);
          }
          return this.index = t2, this.push({ data: e2, meta: { percent: this.max ? this.index / this.max * 100 : 0 } });
        }, t.exports = s;
      }, { "../utils": 32, "./GenericWorker": 28 }], 28: [function(e, t, r) {
        "use strict";
        function n(e2) {
          this.name = e2 || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = true, this.isFinished = false, this.isLocked = false, this._listeners = { data: [], end: [], error: [] }, this.previous = null;
        }
        n.prototype = { push: function(e2) {
          this.emit("data", e2);
        }, end: function() {
          if (this.isFinished)
            return false;
          this.flush();
          try {
            this.emit("end"), this.cleanUp(), this.isFinished = true;
          } catch (e2) {
            this.emit("error", e2);
          }
          return true;
        }, error: function(e2) {
          return !this.isFinished && (this.isPaused ? this.generatedError = e2 : (this.isFinished = true, this.emit("error", e2), this.previous && this.previous.error(e2), this.cleanUp()), true);
        }, on: function(e2, t2) {
          return this._listeners[e2].push(t2), this;
        }, cleanUp: function() {
          this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [];
        }, emit: function(e2, t2) {
          if (this._listeners[e2])
            for (var r2 = 0; r2 < this._listeners[e2].length; r2++)
              this._listeners[e2][r2].call(this, t2);
        }, pipe: function(e2) {
          return e2.registerPrevious(this);
        }, registerPrevious: function(e2) {
          if (this.isLocked)
            throw new Error("The stream '" + this + "' has already been used.");
          this.streamInfo = e2.streamInfo, this.mergeStreamInfo(), this.previous = e2;
          var t2 = this;
          return e2.on("data", function(e3) {
            t2.processChunk(e3);
          }), e2.on("end", function() {
            t2.end();
          }), e2.on("error", function(e3) {
            t2.error(e3);
          }), this;
        }, pause: function() {
          return !this.isPaused && !this.isFinished && (this.isPaused = true, this.previous && this.previous.pause(), true);
        }, resume: function() {
          if (!this.isPaused || this.isFinished)
            return false;
          var e2 = this.isPaused = false;
          return this.generatedError && (this.error(this.generatedError), e2 = true), this.previous && this.previous.resume(), !e2;
        }, flush: function() {
        }, processChunk: function(e2) {
          this.push(e2);
        }, withStreamInfo: function(e2, t2) {
          return this.extraStreamInfo[e2] = t2, this.mergeStreamInfo(), this;
        }, mergeStreamInfo: function() {
          for (var e2 in this.extraStreamInfo)
            Object.prototype.hasOwnProperty.call(this.extraStreamInfo, e2) && (this.streamInfo[e2] = this.extraStreamInfo[e2]);
        }, lock: function() {
          if (this.isLocked)
            throw new Error("The stream '" + this + "' has already been used.");
          this.isLocked = true, this.previous && this.previous.lock();
        }, toString: function() {
          var e2 = "Worker " + this.name;
          return this.previous ? this.previous + " -> " + e2 : e2;
        } }, t.exports = n;
      }, {}], 29: [function(e, t, r) {
        "use strict";
        var h = e("../utils"), i = e("./ConvertWorker"), s = e("./GenericWorker"), u = e("../base64"), n = e("../support"), a = e("../external"), o = null;
        if (n.nodestream)
          try {
            o = e("../nodejs/NodejsStreamOutputAdapter");
          } catch (e2) {
          }
        function l(e2, o2) {
          return new a.Promise(function(t2, r2) {
            var n2 = [], i2 = e2._internalType, s2 = e2._outputType, a2 = e2._mimeType;
            e2.on("data", function(e3, t3) {
              n2.push(e3), o2 && o2(t3);
            }).on("error", function(e3) {
              n2 = [], r2(e3);
            }).on("end", function() {
              try {
                var e3 = function(e4, t3, r3) {
                  switch (e4) {
                    case "blob":
                      return h.newBlob(h.transformTo("arraybuffer", t3), r3);
                    case "base64":
                      return u.encode(t3);
                    default:
                      return h.transformTo(e4, t3);
                  }
                }(s2, function(e4, t3) {
                  var r3, n3 = 0, i3 = null, s3 = 0;
                  for (r3 = 0; r3 < t3.length; r3++)
                    s3 += t3[r3].length;
                  switch (e4) {
                    case "string":
                      return t3.join("");
                    case "array":
                      return Array.prototype.concat.apply([], t3);
                    case "uint8array":
                      for (i3 = new Uint8Array(s3), r3 = 0; r3 < t3.length; r3++)
                        i3.set(t3[r3], n3), n3 += t3[r3].length;
                      return i3;
                    case "nodebuffer":
                      return Buffer.concat(t3);
                    default:
                      throw new Error("concat : unsupported type '" + e4 + "'");
                  }
                }(i2, n2), a2);
                t2(e3);
              } catch (e4) {
                r2(e4);
              }
              n2 = [];
            }).resume();
          });
        }
        function f(e2, t2, r2) {
          var n2 = t2;
          switch (t2) {
            case "blob":
            case "arraybuffer":
              n2 = "uint8array";
              break;
            case "base64":
              n2 = "string";
          }
          try {
            this._internalType = n2, this._outputType = t2, this._mimeType = r2, h.checkSupport(n2), this._worker = e2.pipe(new i(n2)), e2.lock();
          } catch (e3) {
            this._worker = new s("error"), this._worker.error(e3);
          }
        }
        f.prototype = { accumulate: function(e2) {
          return l(this, e2);
        }, on: function(e2, t2) {
          var r2 = this;
          return "data" === e2 ? this._worker.on(e2, function(e3) {
            t2.call(r2, e3.data, e3.meta);
          }) : this._worker.on(e2, function() {
            h.delay(t2, arguments, r2);
          }), this;
        }, resume: function() {
          return h.delay(this._worker.resume, [], this._worker), this;
        }, pause: function() {
          return this._worker.pause(), this;
        }, toNodejsStream: function(e2) {
          if (h.checkSupport("nodestream"), "nodebuffer" !== this._outputType)
            throw new Error(this._outputType + " is not supported by this method");
          return new o(this, { objectMode: "nodebuffer" !== this._outputType }, e2);
        } }, t.exports = f;
      }, { "../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 13, "../support": 30, "../utils": 32, "./ConvertWorker": 24, "./GenericWorker": 28 }], 30: [function(e, t, r) {
        "use strict";
        if (r.base64 = true, r.array = true, r.string = true, r.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, r.nodebuffer = "undefined" != typeof Buffer, r.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer)
          r.blob = false;
        else {
          var n = new ArrayBuffer(0);
          try {
            r.blob = 0 === new Blob([n], { type: "application/zip" }).size;
          } catch (e2) {
            try {
              var i = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
              i.append(n), r.blob = 0 === i.getBlob("application/zip").size;
            } catch (e3) {
              r.blob = false;
            }
          }
        }
        try {
          r.nodestream = !!e("readable-stream").Readable;
        } catch (e2) {
          r.nodestream = false;
        }
      }, { "readable-stream": 16 }], 31: [function(e, t, s) {
        "use strict";
        for (var o = e("./utils"), h = e("./support"), r = e("./nodejsUtils"), n = e("./stream/GenericWorker"), u = new Array(256), i = 0; i < 256; i++)
          u[i] = 252 <= i ? 6 : 248 <= i ? 5 : 240 <= i ? 4 : 224 <= i ? 3 : 192 <= i ? 2 : 1;
        u[254] = u[254] = 1;
        function a() {
          n.call(this, "utf-8 decode"), this.leftOver = null;
        }
        function l() {
          n.call(this, "utf-8 encode");
        }
        s.utf8encode = function(e2) {
          return h.nodebuffer ? r.newBufferFrom(e2, "utf-8") : function(e3) {
            var t2, r2, n2, i2, s2, a2 = e3.length, o2 = 0;
            for (i2 = 0; i2 < a2; i2++)
              55296 == (64512 & (r2 = e3.charCodeAt(i2))) && i2 + 1 < a2 && 56320 == (64512 & (n2 = e3.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), o2 += r2 < 128 ? 1 : r2 < 2048 ? 2 : r2 < 65536 ? 3 : 4;
            for (t2 = h.uint8array ? new Uint8Array(o2) : new Array(o2), i2 = s2 = 0; s2 < o2; i2++)
              55296 == (64512 & (r2 = e3.charCodeAt(i2))) && i2 + 1 < a2 && 56320 == (64512 & (n2 = e3.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), r2 < 128 ? t2[s2++] = r2 : (r2 < 2048 ? t2[s2++] = 192 | r2 >>> 6 : (r2 < 65536 ? t2[s2++] = 224 | r2 >>> 12 : (t2[s2++] = 240 | r2 >>> 18, t2[s2++] = 128 | r2 >>> 12 & 63), t2[s2++] = 128 | r2 >>> 6 & 63), t2[s2++] = 128 | 63 & r2);
            return t2;
          }(e2);
        }, s.utf8decode = function(e2) {
          return h.nodebuffer ? o.transformTo("nodebuffer", e2).toString("utf-8") : function(e3) {
            var t2, r2, n2, i2, s2 = e3.length, a2 = new Array(2 * s2);
            for (t2 = r2 = 0; t2 < s2; )
              if ((n2 = e3[t2++]) < 128)
                a2[r2++] = n2;
              else if (4 < (i2 = u[n2]))
                a2[r2++] = 65533, t2 += i2 - 1;
              else {
                for (n2 &= 2 === i2 ? 31 : 3 === i2 ? 15 : 7; 1 < i2 && t2 < s2; )
                  n2 = n2 << 6 | 63 & e3[t2++], i2--;
                1 < i2 ? a2[r2++] = 65533 : n2 < 65536 ? a2[r2++] = n2 : (n2 -= 65536, a2[r2++] = 55296 | n2 >> 10 & 1023, a2[r2++] = 56320 | 1023 & n2);
              }
            return a2.length !== r2 && (a2.subarray ? a2 = a2.subarray(0, r2) : a2.length = r2), o.applyFromCharCode(a2);
          }(e2 = o.transformTo(h.uint8array ? "uint8array" : "array", e2));
        }, o.inherits(a, n), a.prototype.processChunk = function(e2) {
          var t2 = o.transformTo(h.uint8array ? "uint8array" : "array", e2.data);
          if (this.leftOver && this.leftOver.length) {
            if (h.uint8array) {
              var r2 = t2;
              (t2 = new Uint8Array(r2.length + this.leftOver.length)).set(this.leftOver, 0), t2.set(r2, this.leftOver.length);
            } else
              t2 = this.leftOver.concat(t2);
            this.leftOver = null;
          }
          var n2 = function(e3, t3) {
            var r3;
            for ((t3 = t3 || e3.length) > e3.length && (t3 = e3.length), r3 = t3 - 1; 0 <= r3 && 128 == (192 & e3[r3]); )
              r3--;
            return r3 < 0 ? t3 : 0 === r3 ? t3 : r3 + u[e3[r3]] > t3 ? r3 : t3;
          }(t2), i2 = t2;
          n2 !== t2.length && (h.uint8array ? (i2 = t2.subarray(0, n2), this.leftOver = t2.subarray(n2, t2.length)) : (i2 = t2.slice(0, n2), this.leftOver = t2.slice(n2, t2.length))), this.push({ data: s.utf8decode(i2), meta: e2.meta });
        }, a.prototype.flush = function() {
          this.leftOver && this.leftOver.length && (this.push({ data: s.utf8decode(this.leftOver), meta: {} }), this.leftOver = null);
        }, s.Utf8DecodeWorker = a, o.inherits(l, n), l.prototype.processChunk = function(e2) {
          this.push({ data: s.utf8encode(e2.data), meta: e2.meta });
        }, s.Utf8EncodeWorker = l;
      }, { "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./support": 30, "./utils": 32 }], 32: [function(e, t, a) {
        "use strict";
        var o = e("./support"), h = e("./base64"), r = e("./nodejsUtils"), u = e("./external");
        function n(e2) {
          return e2;
        }
        function l(e2, t2) {
          for (var r2 = 0; r2 < e2.length; ++r2)
            t2[r2] = 255 & e2.charCodeAt(r2);
          return t2;
        }
        e("setimmediate"), a.newBlob = function(t2, r2) {
          a.checkSupport("blob");
          try {
            return new Blob([t2], { type: r2 });
          } catch (e2) {
            try {
              var n2 = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
              return n2.append(t2), n2.getBlob(r2);
            } catch (e3) {
              throw new Error("Bug : can't construct the Blob.");
            }
          }
        };
        var i = { stringifyByChunk: function(e2, t2, r2) {
          var n2 = [], i2 = 0, s2 = e2.length;
          if (s2 <= r2)
            return String.fromCharCode.apply(null, e2);
          for (; i2 < s2; )
            "array" === t2 || "nodebuffer" === t2 ? n2.push(String.fromCharCode.apply(null, e2.slice(i2, Math.min(i2 + r2, s2)))) : n2.push(String.fromCharCode.apply(null, e2.subarray(i2, Math.min(i2 + r2, s2)))), i2 += r2;
          return n2.join("");
        }, stringifyByChar: function(e2) {
          for (var t2 = "", r2 = 0; r2 < e2.length; r2++)
            t2 += String.fromCharCode(e2[r2]);
          return t2;
        }, applyCanBeUsed: { uint8array: function() {
          try {
            return o.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length;
          } catch (e2) {
            return false;
          }
        }(), nodebuffer: function() {
          try {
            return o.nodebuffer && 1 === String.fromCharCode.apply(null, r.allocBuffer(1)).length;
          } catch (e2) {
            return false;
          }
        }() } };
        function s(e2) {
          var t2 = 65536, r2 = a.getTypeOf(e2), n2 = true;
          if ("uint8array" === r2 ? n2 = i.applyCanBeUsed.uint8array : "nodebuffer" === r2 && (n2 = i.applyCanBeUsed.nodebuffer), n2)
            for (; 1 < t2; )
              try {
                return i.stringifyByChunk(e2, r2, t2);
              } catch (e3) {
                t2 = Math.floor(t2 / 2);
              }
          return i.stringifyByChar(e2);
        }
        function f(e2, t2) {
          for (var r2 = 0; r2 < e2.length; r2++)
            t2[r2] = e2[r2];
          return t2;
        }
        a.applyFromCharCode = s;
        var c = {};
        c.string = { string: n, array: function(e2) {
          return l(e2, new Array(e2.length));
        }, arraybuffer: function(e2) {
          return c.string.uint8array(e2).buffer;
        }, uint8array: function(e2) {
          return l(e2, new Uint8Array(e2.length));
        }, nodebuffer: function(e2) {
          return l(e2, r.allocBuffer(e2.length));
        } }, c.array = { string: s, array: n, arraybuffer: function(e2) {
          return new Uint8Array(e2).buffer;
        }, uint8array: function(e2) {
          return new Uint8Array(e2);
        }, nodebuffer: function(e2) {
          return r.newBufferFrom(e2);
        } }, c.arraybuffer = { string: function(e2) {
          return s(new Uint8Array(e2));
        }, array: function(e2) {
          return f(new Uint8Array(e2), new Array(e2.byteLength));
        }, arraybuffer: n, uint8array: function(e2) {
          return new Uint8Array(e2);
        }, nodebuffer: function(e2) {
          return r.newBufferFrom(new Uint8Array(e2));
        } }, c.uint8array = { string: s, array: function(e2) {
          return f(e2, new Array(e2.length));
        }, arraybuffer: function(e2) {
          return e2.buffer;
        }, uint8array: n, nodebuffer: function(e2) {
          return r.newBufferFrom(e2);
        } }, c.nodebuffer = { string: s, array: function(e2) {
          return f(e2, new Array(e2.length));
        }, arraybuffer: function(e2) {
          return c.nodebuffer.uint8array(e2).buffer;
        }, uint8array: function(e2) {
          return f(e2, new Uint8Array(e2.length));
        }, nodebuffer: n }, a.transformTo = function(e2, t2) {
          if (t2 = t2 || "", !e2)
            return t2;
          a.checkSupport(e2);
          var r2 = a.getTypeOf(t2);
          return c[r2][e2](t2);
        }, a.resolve = function(e2) {
          for (var t2 = e2.split("/"), r2 = [], n2 = 0; n2 < t2.length; n2++) {
            var i2 = t2[n2];
            "." === i2 || "" === i2 && 0 !== n2 && n2 !== t2.length - 1 || (".." === i2 ? r2.pop() : r2.push(i2));
          }
          return r2.join("/");
        }, a.getTypeOf = function(e2) {
          return "string" == typeof e2 ? "string" : "[object Array]" === Object.prototype.toString.call(e2) ? "array" : o.nodebuffer && r.isBuffer(e2) ? "nodebuffer" : o.uint8array && e2 instanceof Uint8Array ? "uint8array" : o.arraybuffer && e2 instanceof ArrayBuffer ? "arraybuffer" : void 0;
        }, a.checkSupport = function(e2) {
          if (!o[e2.toLowerCase()])
            throw new Error(e2 + " is not supported by this platform");
        }, a.MAX_VALUE_16BITS = 65535, a.MAX_VALUE_32BITS = -1, a.pretty = function(e2) {
          var t2, r2, n2 = "";
          for (r2 = 0; r2 < (e2 || "").length; r2++)
            n2 += "\\x" + ((t2 = e2.charCodeAt(r2)) < 16 ? "0" : "") + t2.toString(16).toUpperCase();
          return n2;
        }, a.delay = function(e2, t2, r2) {
          setImmediate(function() {
            e2.apply(r2 || null, t2 || []);
          });
        }, a.inherits = function(e2, t2) {
          function r2() {
          }
          r2.prototype = t2.prototype, e2.prototype = new r2();
        }, a.extend = function() {
          var e2, t2, r2 = {};
          for (e2 = 0; e2 < arguments.length; e2++)
            for (t2 in arguments[e2])
              Object.prototype.hasOwnProperty.call(arguments[e2], t2) && void 0 === r2[t2] && (r2[t2] = arguments[e2][t2]);
          return r2;
        }, a.prepareContent = function(r2, e2, n2, i2, s2) {
          return u.Promise.resolve(e2).then(function(n3) {
            return o.blob && (n3 instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(n3))) && "undefined" != typeof FileReader ? new u.Promise(function(t2, r3) {
              var e3 = new FileReader();
              e3.onload = function(e4) {
                t2(e4.target.result);
              }, e3.onerror = function(e4) {
                r3(e4.target.error);
              }, e3.readAsArrayBuffer(n3);
            }) : n3;
          }).then(function(e3) {
            var t2 = a.getTypeOf(e3);
            return t2 ? ("arraybuffer" === t2 ? e3 = a.transformTo("uint8array", e3) : "string" === t2 && (s2 ? e3 = h.decode(e3) : n2 && true !== i2 && (e3 = function(e4) {
              return l(e4, o.uint8array ? new Uint8Array(e4.length) : new Array(e4.length));
            }(e3))), e3) : u.Promise.reject(new Error("Can't read the data of '" + r2 + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));
          });
        };
      }, { "./base64": 1, "./external": 6, "./nodejsUtils": 14, "./support": 30, setimmediate: 54 }], 33: [function(e, t, r) {
        "use strict";
        var n = e("./reader/readerFor"), i = e("./utils"), s = e("./signature"), a = e("./zipEntry"), o = e("./support");
        function h(e2) {
          this.files = [], this.loadOptions = e2;
        }
        h.prototype = { checkSignature: function(e2) {
          if (!this.reader.readAndCheckSignature(e2)) {
            this.reader.index -= 4;
            var t2 = this.reader.readString(4);
            throw new Error("Corrupted zip or bug: unexpected signature (" + i.pretty(t2) + ", expected " + i.pretty(e2) + ")");
          }
        }, isSignature: function(e2, t2) {
          var r2 = this.reader.index;
          this.reader.setIndex(e2);
          var n2 = this.reader.readString(4) === t2;
          return this.reader.setIndex(r2), n2;
        }, readBlockEndOfCentral: function() {
          this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);
          var e2 = this.reader.readData(this.zipCommentLength), t2 = o.uint8array ? "uint8array" : "array", r2 = i.transformTo(t2, e2);
          this.zipComment = this.loadOptions.decodeFileName(r2);
        }, readBlockZip64EndOfCentral: function() {
          this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
          for (var e2, t2, r2, n2 = this.zip64EndOfCentralSize - 44; 0 < n2; )
            e2 = this.reader.readInt(2), t2 = this.reader.readInt(4), r2 = this.reader.readData(t2), this.zip64ExtensibleData[e2] = { id: e2, length: t2, value: r2 };
        }, readBlockZip64EndOfCentralLocator: function() {
          if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount)
            throw new Error("Multi-volumes zip are not supported");
        }, readLocalFiles: function() {
          var e2, t2;
          for (e2 = 0; e2 < this.files.length; e2++)
            t2 = this.files[e2], this.reader.setIndex(t2.localHeaderOffset), this.checkSignature(s.LOCAL_FILE_HEADER), t2.readLocalPart(this.reader), t2.handleUTF8(), t2.processAttributes();
        }, readCentralDir: function() {
          var e2;
          for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER); )
            (e2 = new a({ zip64: this.zip64 }, this.loadOptions)).readCentralPart(this.reader), this.files.push(e2);
          if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length)
            throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length);
        }, readEndOfCentral: function() {
          var e2 = this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);
          if (e2 < 0)
            throw !this.isSignature(0, s.LOCAL_FILE_HEADER) ? new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html") : new Error("Corrupted zip: can't find end of central directory");
          this.reader.setIndex(e2);
          var t2 = e2;
          if (this.checkSignature(s.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === i.MAX_VALUE_16BITS || this.diskWithCentralDirStart === i.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === i.MAX_VALUE_16BITS || this.centralDirRecords === i.MAX_VALUE_16BITS || this.centralDirSize === i.MAX_VALUE_32BITS || this.centralDirOffset === i.MAX_VALUE_32BITS) {
            if (this.zip64 = true, (e2 = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0)
              throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
            if (this.reader.setIndex(e2), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, s.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0))
              throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");
            this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral();
          }
          var r2 = this.centralDirOffset + this.centralDirSize;
          this.zip64 && (r2 += 20, r2 += 12 + this.zip64EndOfCentralSize);
          var n2 = t2 - r2;
          if (0 < n2)
            this.isSignature(t2, s.CENTRAL_FILE_HEADER) || (this.reader.zero = n2);
          else if (n2 < 0)
            throw new Error("Corrupted zip: missing " + Math.abs(n2) + " bytes.");
        }, prepareReader: function(e2) {
          this.reader = n(e2);
        }, load: function(e2) {
          this.prepareReader(e2), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles();
        } }, t.exports = h;
      }, { "./reader/readerFor": 22, "./signature": 23, "./support": 30, "./utils": 32, "./zipEntry": 34 }], 34: [function(e, t, r) {
        "use strict";
        var n = e("./reader/readerFor"), s = e("./utils"), i = e("./compressedObject"), a = e("./crc32"), o = e("./utf8"), h = e("./compressions"), u = e("./support");
        function l(e2, t2) {
          this.options = e2, this.loadOptions = t2;
        }
        l.prototype = { isEncrypted: function() {
          return 1 == (1 & this.bitFlag);
        }, useUTF8: function() {
          return 2048 == (2048 & this.bitFlag);
        }, readLocalPart: function(e2) {
          var t2, r2;
          if (e2.skip(22), this.fileNameLength = e2.readInt(2), r2 = e2.readInt(2), this.fileName = e2.readData(this.fileNameLength), e2.skip(r2), -1 === this.compressedSize || -1 === this.uncompressedSize)
            throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");
          if (null === (t2 = function(e3) {
            for (var t3 in h)
              if (Object.prototype.hasOwnProperty.call(h, t3) && h[t3].magic === e3)
                return h[t3];
            return null;
          }(this.compressionMethod)))
            throw new Error("Corrupted zip : compression " + s.pretty(this.compressionMethod) + " unknown (inner file : " + s.transformTo("string", this.fileName) + ")");
          this.decompressed = new i(this.compressedSize, this.uncompressedSize, this.crc32, t2, e2.readData(this.compressedSize));
        }, readCentralPart: function(e2) {
          this.versionMadeBy = e2.readInt(2), e2.skip(2), this.bitFlag = e2.readInt(2), this.compressionMethod = e2.readString(2), this.date = e2.readDate(), this.crc32 = e2.readInt(4), this.compressedSize = e2.readInt(4), this.uncompressedSize = e2.readInt(4);
          var t2 = e2.readInt(2);
          if (this.extraFieldsLength = e2.readInt(2), this.fileCommentLength = e2.readInt(2), this.diskNumberStart = e2.readInt(2), this.internalFileAttributes = e2.readInt(2), this.externalFileAttributes = e2.readInt(4), this.localHeaderOffset = e2.readInt(4), this.isEncrypted())
            throw new Error("Encrypted zip are not supported");
          e2.skip(t2), this.readExtraFields(e2), this.parseZIP64ExtraField(e2), this.fileComment = e2.readData(this.fileCommentLength);
        }, processAttributes: function() {
          this.unixPermissions = null, this.dosPermissions = null;
          var e2 = this.versionMadeBy >> 8;
          this.dir = !!(16 & this.externalFileAttributes), 0 == e2 && (this.dosPermissions = 63 & this.externalFileAttributes), 3 == e2 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = true);
        }, parseZIP64ExtraField: function() {
          if (this.extraFields[1]) {
            var e2 = n(this.extraFields[1].value);
            this.uncompressedSize === s.MAX_VALUE_32BITS && (this.uncompressedSize = e2.readInt(8)), this.compressedSize === s.MAX_VALUE_32BITS && (this.compressedSize = e2.readInt(8)), this.localHeaderOffset === s.MAX_VALUE_32BITS && (this.localHeaderOffset = e2.readInt(8)), this.diskNumberStart === s.MAX_VALUE_32BITS && (this.diskNumberStart = e2.readInt(4));
          }
        }, readExtraFields: function(e2) {
          var t2, r2, n2, i2 = e2.index + this.extraFieldsLength;
          for (this.extraFields || (this.extraFields = {}); e2.index + 4 < i2; )
            t2 = e2.readInt(2), r2 = e2.readInt(2), n2 = e2.readData(r2), this.extraFields[t2] = { id: t2, length: r2, value: n2 };
          e2.setIndex(i2);
        }, handleUTF8: function() {
          var e2 = u.uint8array ? "uint8array" : "array";
          if (this.useUTF8())
            this.fileNameStr = o.utf8decode(this.fileName), this.fileCommentStr = o.utf8decode(this.fileComment);
          else {
            var t2 = this.findExtraFieldUnicodePath();
            if (null !== t2)
              this.fileNameStr = t2;
            else {
              var r2 = s.transformTo(e2, this.fileName);
              this.fileNameStr = this.loadOptions.decodeFileName(r2);
            }
            var n2 = this.findExtraFieldUnicodeComment();
            if (null !== n2)
              this.fileCommentStr = n2;
            else {
              var i2 = s.transformTo(e2, this.fileComment);
              this.fileCommentStr = this.loadOptions.decodeFileName(i2);
            }
          }
        }, findExtraFieldUnicodePath: function() {
          var e2 = this.extraFields[28789];
          if (e2) {
            var t2 = n(e2.value);
            return 1 !== t2.readInt(1) ? null : a(this.fileName) !== t2.readInt(4) ? null : o.utf8decode(t2.readData(e2.length - 5));
          }
          return null;
        }, findExtraFieldUnicodeComment: function() {
          var e2 = this.extraFields[25461];
          if (e2) {
            var t2 = n(e2.value);
            return 1 !== t2.readInt(1) ? null : a(this.fileComment) !== t2.readInt(4) ? null : o.utf8decode(t2.readData(e2.length - 5));
          }
          return null;
        } }, t.exports = l;
      }, { "./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 22, "./support": 30, "./utf8": 31, "./utils": 32 }], 35: [function(e, t, r) {
        "use strict";
        function n(e2, t2, r2) {
          this.name = e2, this.dir = r2.dir, this.date = r2.date, this.comment = r2.comment, this.unixPermissions = r2.unixPermissions, this.dosPermissions = r2.dosPermissions, this._data = t2, this._dataBinary = r2.binary, this.options = { compression: r2.compression, compressionOptions: r2.compressionOptions };
        }
        var s = e("./stream/StreamHelper"), i = e("./stream/DataWorker"), a = e("./utf8"), o = e("./compressedObject"), h = e("./stream/GenericWorker");
        n.prototype = { internalStream: function(e2) {
          var t2 = null, r2 = "string";
          try {
            if (!e2)
              throw new Error("No output type specified.");
            var n2 = "string" === (r2 = e2.toLowerCase()) || "text" === r2;
            "binarystring" !== r2 && "text" !== r2 || (r2 = "string"), t2 = this._decompressWorker();
            var i2 = !this._dataBinary;
            i2 && !n2 && (t2 = t2.pipe(new a.Utf8EncodeWorker())), !i2 && n2 && (t2 = t2.pipe(new a.Utf8DecodeWorker()));
          } catch (e3) {
            (t2 = new h("error")).error(e3);
          }
          return new s(t2, r2, "");
        }, async: function(e2, t2) {
          return this.internalStream(e2).accumulate(t2);
        }, nodeStream: function(e2, t2) {
          return this.internalStream(e2 || "nodebuffer").toNodejsStream(t2);
        }, _compressWorker: function(e2, t2) {
          if (this._data instanceof o && this._data.compression.magic === e2.magic)
            return this._data.getCompressedWorker();
          var r2 = this._decompressWorker();
          return this._dataBinary || (r2 = r2.pipe(new a.Utf8EncodeWorker())), o.createWorkerFrom(r2, e2, t2);
        }, _decompressWorker: function() {
          return this._data instanceof o ? this._data.getContentWorker() : this._data instanceof h ? this._data : new i(this._data);
        } };
        for (var u = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], l = function() {
          throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
        }, f = 0; f < u.length; f++)
          n.prototype[u[f]] = l;
        t.exports = n;
      }, { "./compressedObject": 2, "./stream/DataWorker": 27, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31 }], 36: [function(e, l, t) {
        (function(t2) {
          "use strict";
          var r, n, e2 = t2.MutationObserver || t2.WebKitMutationObserver;
          if (e2) {
            var i = 0, s = new e2(u), a = t2.document.createTextNode("");
            s.observe(a, { characterData: true }), r = function() {
              a.data = i = ++i % 2;
            };
          } else if (t2.setImmediate || void 0 === t2.MessageChannel)
            r = "document" in t2 && "onreadystatechange" in t2.document.createElement("script") ? function() {
              var e3 = t2.document.createElement("script");
              e3.onreadystatechange = function() {
                u(), e3.onreadystatechange = null, e3.parentNode.removeChild(e3), e3 = null;
              }, t2.document.documentElement.appendChild(e3);
            } : function() {
              setTimeout(u, 0);
            };
          else {
            var o = new t2.MessageChannel();
            o.port1.onmessage = u, r = function() {
              o.port2.postMessage(0);
            };
          }
          var h = [];
          function u() {
            var e3, t3;
            n = true;
            for (var r2 = h.length; r2; ) {
              for (t3 = h, h = [], e3 = -1; ++e3 < r2; )
                t3[e3]();
              r2 = h.length;
            }
            n = false;
          }
          l.exports = function(e3) {
            1 !== h.push(e3) || n || r();
          };
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, {}], 37: [function(e, t, r) {
        "use strict";
        var i = e("immediate");
        function u() {
        }
        var l = {}, s = ["REJECTED"], a = ["FULFILLED"], n = ["PENDING"];
        function o(e2) {
          if ("function" != typeof e2)
            throw new TypeError("resolver must be a function");
          this.state = n, this.queue = [], this.outcome = void 0, e2 !== u && d(this, e2);
        }
        function h(e2, t2, r2) {
          this.promise = e2, "function" == typeof t2 && (this.onFulfilled = t2, this.callFulfilled = this.otherCallFulfilled), "function" == typeof r2 && (this.onRejected = r2, this.callRejected = this.otherCallRejected);
        }
        function f(t2, r2, n2) {
          i(function() {
            var e2;
            try {
              e2 = r2(n2);
            } catch (e3) {
              return l.reject(t2, e3);
            }
            e2 === t2 ? l.reject(t2, new TypeError("Cannot resolve promise with itself")) : l.resolve(t2, e2);
          });
        }
        function c(e2) {
          var t2 = e2 && e2.then;
          if (e2 && ("object" == typeof e2 || "function" == typeof e2) && "function" == typeof t2)
            return function() {
              t2.apply(e2, arguments);
            };
        }
        function d(t2, e2) {
          var r2 = false;
          function n2(e3) {
            r2 || (r2 = true, l.reject(t2, e3));
          }
          function i2(e3) {
            r2 || (r2 = true, l.resolve(t2, e3));
          }
          var s2 = p(function() {
            e2(i2, n2);
          });
          "error" === s2.status && n2(s2.value);
        }
        function p(e2, t2) {
          var r2 = {};
          try {
            r2.value = e2(t2), r2.status = "success";
          } catch (e3) {
            r2.status = "error", r2.value = e3;
          }
          return r2;
        }
        (t.exports = o).prototype.finally = function(t2) {
          if ("function" != typeof t2)
            return this;
          var r2 = this.constructor;
          return this.then(function(e2) {
            return r2.resolve(t2()).then(function() {
              return e2;
            });
          }, function(e2) {
            return r2.resolve(t2()).then(function() {
              throw e2;
            });
          });
        }, o.prototype.catch = function(e2) {
          return this.then(null, e2);
        }, o.prototype.then = function(e2, t2) {
          if ("function" != typeof e2 && this.state === a || "function" != typeof t2 && this.state === s)
            return this;
          var r2 = new this.constructor(u);
          this.state !== n ? f(r2, this.state === a ? e2 : t2, this.outcome) : this.queue.push(new h(r2, e2, t2));
          return r2;
        }, h.prototype.callFulfilled = function(e2) {
          l.resolve(this.promise, e2);
        }, h.prototype.otherCallFulfilled = function(e2) {
          f(this.promise, this.onFulfilled, e2);
        }, h.prototype.callRejected = function(e2) {
          l.reject(this.promise, e2);
        }, h.prototype.otherCallRejected = function(e2) {
          f(this.promise, this.onRejected, e2);
        }, l.resolve = function(e2, t2) {
          var r2 = p(c, t2);
          if ("error" === r2.status)
            return l.reject(e2, r2.value);
          var n2 = r2.value;
          if (n2)
            d(e2, n2);
          else {
            e2.state = a, e2.outcome = t2;
            for (var i2 = -1, s2 = e2.queue.length; ++i2 < s2; )
              e2.queue[i2].callFulfilled(t2);
          }
          return e2;
        }, l.reject = function(e2, t2) {
          e2.state = s, e2.outcome = t2;
          for (var r2 = -1, n2 = e2.queue.length; ++r2 < n2; )
            e2.queue[r2].callRejected(t2);
          return e2;
        }, o.resolve = function(e2) {
          if (e2 instanceof this)
            return e2;
          return l.resolve(new this(u), e2);
        }, o.reject = function(e2) {
          var t2 = new this(u);
          return l.reject(t2, e2);
        }, o.all = function(e2) {
          var r2 = this;
          if ("[object Array]" !== Object.prototype.toString.call(e2))
            return this.reject(new TypeError("must be an array"));
          var n2 = e2.length, i2 = false;
          if (!n2)
            return this.resolve([]);
          var s2 = new Array(n2), a2 = 0, t2 = -1, o2 = new this(u);
          for (; ++t2 < n2; )
            h2(e2[t2], t2);
          return o2;
          function h2(e3, t3) {
            r2.resolve(e3).then(function(e4) {
              s2[t3] = e4, ++a2 !== n2 || i2 || (i2 = true, l.resolve(o2, s2));
            }, function(e4) {
              i2 || (i2 = true, l.reject(o2, e4));
            });
          }
        }, o.race = function(e2) {
          var t2 = this;
          if ("[object Array]" !== Object.prototype.toString.call(e2))
            return this.reject(new TypeError("must be an array"));
          var r2 = e2.length, n2 = false;
          if (!r2)
            return this.resolve([]);
          var i2 = -1, s2 = new this(u);
          for (; ++i2 < r2; )
            a2 = e2[i2], t2.resolve(a2).then(function(e3) {
              n2 || (n2 = true, l.resolve(s2, e3));
            }, function(e3) {
              n2 || (n2 = true, l.reject(s2, e3));
            });
          var a2;
          return s2;
        };
      }, { immediate: 36 }], 38: [function(e, t, r) {
        "use strict";
        var n = {};
        (0, e("./lib/utils/common").assign)(n, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")), t.exports = n;
      }, { "./lib/deflate": 39, "./lib/inflate": 40, "./lib/utils/common": 41, "./lib/zlib/constants": 44 }], 39: [function(e, t, r) {
        "use strict";
        var a = e("./zlib/deflate"), o = e("./utils/common"), h = e("./utils/strings"), i = e("./zlib/messages"), s = e("./zlib/zstream"), u = Object.prototype.toString, l = 0, f = -1, c = 0, d = 8;
        function p(e2) {
          if (!(this instanceof p))
            return new p(e2);
          this.options = o.assign({ level: f, method: d, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: c, to: "" }, e2 || {});
          var t2 = this.options;
          t2.raw && 0 < t2.windowBits ? t2.windowBits = -t2.windowBits : t2.gzip && 0 < t2.windowBits && t2.windowBits < 16 && (t2.windowBits += 16), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new s(), this.strm.avail_out = 0;
          var r2 = a.deflateInit2(this.strm, t2.level, t2.method, t2.windowBits, t2.memLevel, t2.strategy);
          if (r2 !== l)
            throw new Error(i[r2]);
          if (t2.header && a.deflateSetHeader(this.strm, t2.header), t2.dictionary) {
            var n2;
            if (n2 = "string" == typeof t2.dictionary ? h.string2buf(t2.dictionary) : "[object ArrayBuffer]" === u.call(t2.dictionary) ? new Uint8Array(t2.dictionary) : t2.dictionary, (r2 = a.deflateSetDictionary(this.strm, n2)) !== l)
              throw new Error(i[r2]);
            this._dict_set = true;
          }
        }
        function n(e2, t2) {
          var r2 = new p(t2);
          if (r2.push(e2, true), r2.err)
            throw r2.msg || i[r2.err];
          return r2.result;
        }
        p.prototype.push = function(e2, t2) {
          var r2, n2, i2 = this.strm, s2 = this.options.chunkSize;
          if (this.ended)
            return false;
          n2 = t2 === ~~t2 ? t2 : true === t2 ? 4 : 0, "string" == typeof e2 ? i2.input = h.string2buf(e2) : "[object ArrayBuffer]" === u.call(e2) ? i2.input = new Uint8Array(e2) : i2.input = e2, i2.next_in = 0, i2.avail_in = i2.input.length;
          do {
            if (0 === i2.avail_out && (i2.output = new o.Buf8(s2), i2.next_out = 0, i2.avail_out = s2), 1 !== (r2 = a.deflate(i2, n2)) && r2 !== l)
              return this.onEnd(r2), !(this.ended = true);
            0 !== i2.avail_out && (0 !== i2.avail_in || 4 !== n2 && 2 !== n2) || ("string" === this.options.to ? this.onData(h.buf2binstring(o.shrinkBuf(i2.output, i2.next_out))) : this.onData(o.shrinkBuf(i2.output, i2.next_out)));
          } while ((0 < i2.avail_in || 0 === i2.avail_out) && 1 !== r2);
          return 4 === n2 ? (r2 = a.deflateEnd(this.strm), this.onEnd(r2), this.ended = true, r2 === l) : 2 !== n2 || (this.onEnd(l), !(i2.avail_out = 0));
        }, p.prototype.onData = function(e2) {
          this.chunks.push(e2);
        }, p.prototype.onEnd = function(e2) {
          e2 === l && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = o.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
        }, r.Deflate = p, r.deflate = n, r.deflateRaw = function(e2, t2) {
          return (t2 = t2 || {}).raw = true, n(e2, t2);
        }, r.gzip = function(e2, t2) {
          return (t2 = t2 || {}).gzip = true, n(e2, t2);
        };
      }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/deflate": 46, "./zlib/messages": 51, "./zlib/zstream": 53 }], 40: [function(e, t, r) {
        "use strict";
        var c = e("./zlib/inflate"), d = e("./utils/common"), p = e("./utils/strings"), m = e("./zlib/constants"), n = e("./zlib/messages"), i = e("./zlib/zstream"), s = e("./zlib/gzheader"), _ = Object.prototype.toString;
        function a(e2) {
          if (!(this instanceof a))
            return new a(e2);
          this.options = d.assign({ chunkSize: 16384, windowBits: 0, to: "" }, e2 || {});
          var t2 = this.options;
          t2.raw && 0 <= t2.windowBits && t2.windowBits < 16 && (t2.windowBits = -t2.windowBits, 0 === t2.windowBits && (t2.windowBits = -15)), !(0 <= t2.windowBits && t2.windowBits < 16) || e2 && e2.windowBits || (t2.windowBits += 32), 15 < t2.windowBits && t2.windowBits < 48 && 0 == (15 & t2.windowBits) && (t2.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new i(), this.strm.avail_out = 0;
          var r2 = c.inflateInit2(this.strm, t2.windowBits);
          if (r2 !== m.Z_OK)
            throw new Error(n[r2]);
          this.header = new s(), c.inflateGetHeader(this.strm, this.header);
        }
        function o(e2, t2) {
          var r2 = new a(t2);
          if (r2.push(e2, true), r2.err)
            throw r2.msg || n[r2.err];
          return r2.result;
        }
        a.prototype.push = function(e2, t2) {
          var r2, n2, i2, s2, a2, o2, h = this.strm, u = this.options.chunkSize, l = this.options.dictionary, f = false;
          if (this.ended)
            return false;
          n2 = t2 === ~~t2 ? t2 : true === t2 ? m.Z_FINISH : m.Z_NO_FLUSH, "string" == typeof e2 ? h.input = p.binstring2buf(e2) : "[object ArrayBuffer]" === _.call(e2) ? h.input = new Uint8Array(e2) : h.input = e2, h.next_in = 0, h.avail_in = h.input.length;
          do {
            if (0 === h.avail_out && (h.output = new d.Buf8(u), h.next_out = 0, h.avail_out = u), (r2 = c.inflate(h, m.Z_NO_FLUSH)) === m.Z_NEED_DICT && l && (o2 = "string" == typeof l ? p.string2buf(l) : "[object ArrayBuffer]" === _.call(l) ? new Uint8Array(l) : l, r2 = c.inflateSetDictionary(this.strm, o2)), r2 === m.Z_BUF_ERROR && true === f && (r2 = m.Z_OK, f = false), r2 !== m.Z_STREAM_END && r2 !== m.Z_OK)
              return this.onEnd(r2), !(this.ended = true);
            h.next_out && (0 !== h.avail_out && r2 !== m.Z_STREAM_END && (0 !== h.avail_in || n2 !== m.Z_FINISH && n2 !== m.Z_SYNC_FLUSH) || ("string" === this.options.to ? (i2 = p.utf8border(h.output, h.next_out), s2 = h.next_out - i2, a2 = p.buf2string(h.output, i2), h.next_out = s2, h.avail_out = u - s2, s2 && d.arraySet(h.output, h.output, i2, s2, 0), this.onData(a2)) : this.onData(d.shrinkBuf(h.output, h.next_out)))), 0 === h.avail_in && 0 === h.avail_out && (f = true);
          } while ((0 < h.avail_in || 0 === h.avail_out) && r2 !== m.Z_STREAM_END);
          return r2 === m.Z_STREAM_END && (n2 = m.Z_FINISH), n2 === m.Z_FINISH ? (r2 = c.inflateEnd(this.strm), this.onEnd(r2), this.ended = true, r2 === m.Z_OK) : n2 !== m.Z_SYNC_FLUSH || (this.onEnd(m.Z_OK), !(h.avail_out = 0));
        }, a.prototype.onData = function(e2) {
          this.chunks.push(e2);
        }, a.prototype.onEnd = function(e2) {
          e2 === m.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = d.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
        }, r.Inflate = a, r.inflate = o, r.inflateRaw = function(e2, t2) {
          return (t2 = t2 || {}).raw = true, o(e2, t2);
        }, r.ungzip = o;
      }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/constants": 44, "./zlib/gzheader": 47, "./zlib/inflate": 49, "./zlib/messages": 51, "./zlib/zstream": 53 }], 41: [function(e, t, r) {
        "use strict";
        var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
        r.assign = function(e2) {
          for (var t2 = Array.prototype.slice.call(arguments, 1); t2.length; ) {
            var r2 = t2.shift();
            if (r2) {
              if ("object" != typeof r2)
                throw new TypeError(r2 + "must be non-object");
              for (var n2 in r2)
                r2.hasOwnProperty(n2) && (e2[n2] = r2[n2]);
            }
          }
          return e2;
        }, r.shrinkBuf = function(e2, t2) {
          return e2.length === t2 ? e2 : e2.subarray ? e2.subarray(0, t2) : (e2.length = t2, e2);
        };
        var i = { arraySet: function(e2, t2, r2, n2, i2) {
          if (t2.subarray && e2.subarray)
            e2.set(t2.subarray(r2, r2 + n2), i2);
          else
            for (var s2 = 0; s2 < n2; s2++)
              e2[i2 + s2] = t2[r2 + s2];
        }, flattenChunks: function(e2) {
          var t2, r2, n2, i2, s2, a;
          for (t2 = n2 = 0, r2 = e2.length; t2 < r2; t2++)
            n2 += e2[t2].length;
          for (a = new Uint8Array(n2), t2 = i2 = 0, r2 = e2.length; t2 < r2; t2++)
            s2 = e2[t2], a.set(s2, i2), i2 += s2.length;
          return a;
        } }, s = { arraySet: function(e2, t2, r2, n2, i2) {
          for (var s2 = 0; s2 < n2; s2++)
            e2[i2 + s2] = t2[r2 + s2];
        }, flattenChunks: function(e2) {
          return [].concat.apply([], e2);
        } };
        r.setTyped = function(e2) {
          e2 ? (r.Buf8 = Uint8Array, r.Buf16 = Uint16Array, r.Buf32 = Int32Array, r.assign(r, i)) : (r.Buf8 = Array, r.Buf16 = Array, r.Buf32 = Array, r.assign(r, s));
        }, r.setTyped(n);
      }, {}], 42: [function(e, t, r) {
        "use strict";
        var h = e("./common"), i = true, s = true;
        try {
          String.fromCharCode.apply(null, [0]);
        } catch (e2) {
          i = false;
        }
        try {
          String.fromCharCode.apply(null, new Uint8Array(1));
        } catch (e2) {
          s = false;
        }
        for (var u = new h.Buf8(256), n = 0; n < 256; n++)
          u[n] = 252 <= n ? 6 : 248 <= n ? 5 : 240 <= n ? 4 : 224 <= n ? 3 : 192 <= n ? 2 : 1;
        function l(e2, t2) {
          if (t2 < 65537 && (e2.subarray && s || !e2.subarray && i))
            return String.fromCharCode.apply(null, h.shrinkBuf(e2, t2));
          for (var r2 = "", n2 = 0; n2 < t2; n2++)
            r2 += String.fromCharCode(e2[n2]);
          return r2;
        }
        u[254] = u[254] = 1, r.string2buf = function(e2) {
          var t2, r2, n2, i2, s2, a = e2.length, o = 0;
          for (i2 = 0; i2 < a; i2++)
            55296 == (64512 & (r2 = e2.charCodeAt(i2))) && i2 + 1 < a && 56320 == (64512 & (n2 = e2.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), o += r2 < 128 ? 1 : r2 < 2048 ? 2 : r2 < 65536 ? 3 : 4;
          for (t2 = new h.Buf8(o), i2 = s2 = 0; s2 < o; i2++)
            55296 == (64512 & (r2 = e2.charCodeAt(i2))) && i2 + 1 < a && 56320 == (64512 & (n2 = e2.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), r2 < 128 ? t2[s2++] = r2 : (r2 < 2048 ? t2[s2++] = 192 | r2 >>> 6 : (r2 < 65536 ? t2[s2++] = 224 | r2 >>> 12 : (t2[s2++] = 240 | r2 >>> 18, t2[s2++] = 128 | r2 >>> 12 & 63), t2[s2++] = 128 | r2 >>> 6 & 63), t2[s2++] = 128 | 63 & r2);
          return t2;
        }, r.buf2binstring = function(e2) {
          return l(e2, e2.length);
        }, r.binstring2buf = function(e2) {
          for (var t2 = new h.Buf8(e2.length), r2 = 0, n2 = t2.length; r2 < n2; r2++)
            t2[r2] = e2.charCodeAt(r2);
          return t2;
        }, r.buf2string = function(e2, t2) {
          var r2, n2, i2, s2, a = t2 || e2.length, o = new Array(2 * a);
          for (r2 = n2 = 0; r2 < a; )
            if ((i2 = e2[r2++]) < 128)
              o[n2++] = i2;
            else if (4 < (s2 = u[i2]))
              o[n2++] = 65533, r2 += s2 - 1;
            else {
              for (i2 &= 2 === s2 ? 31 : 3 === s2 ? 15 : 7; 1 < s2 && r2 < a; )
                i2 = i2 << 6 | 63 & e2[r2++], s2--;
              1 < s2 ? o[n2++] = 65533 : i2 < 65536 ? o[n2++] = i2 : (i2 -= 65536, o[n2++] = 55296 | i2 >> 10 & 1023, o[n2++] = 56320 | 1023 & i2);
            }
          return l(o, n2);
        }, r.utf8border = function(e2, t2) {
          var r2;
          for ((t2 = t2 || e2.length) > e2.length && (t2 = e2.length), r2 = t2 - 1; 0 <= r2 && 128 == (192 & e2[r2]); )
            r2--;
          return r2 < 0 ? t2 : 0 === r2 ? t2 : r2 + u[e2[r2]] > t2 ? r2 : t2;
        };
      }, { "./common": 41 }], 43: [function(e, t, r) {
        "use strict";
        t.exports = function(e2, t2, r2, n) {
          for (var i = 65535 & e2 | 0, s = e2 >>> 16 & 65535 | 0, a = 0; 0 !== r2; ) {
            for (r2 -= a = 2e3 < r2 ? 2e3 : r2; s = s + (i = i + t2[n++] | 0) | 0, --a; )
              ;
            i %= 65521, s %= 65521;
          }
          return i | s << 16 | 0;
        };
      }, {}], 44: [function(e, t, r) {
        "use strict";
        t.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 };
      }, {}], 45: [function(e, t, r) {
        "use strict";
        var o = function() {
          for (var e2, t2 = [], r2 = 0; r2 < 256; r2++) {
            e2 = r2;
            for (var n = 0; n < 8; n++)
              e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
            t2[r2] = e2;
          }
          return t2;
        }();
        t.exports = function(e2, t2, r2, n) {
          var i = o, s = n + r2;
          e2 ^= -1;
          for (var a = n; a < s; a++)
            e2 = e2 >>> 8 ^ i[255 & (e2 ^ t2[a])];
          return -1 ^ e2;
        };
      }, {}], 46: [function(e, t, r) {
        "use strict";
        var h, c = e("../utils/common"), u = e("./trees"), d = e("./adler32"), p = e("./crc32"), n = e("./messages"), l = 0, f = 4, m = 0, _ = -2, g = -1, b = 4, i = 2, v = 8, y = 9, s = 286, a = 30, o = 19, w = 2 * s + 1, k = 15, x = 3, S = 258, z = S + x + 1, C = 42, E = 113, A = 1, I = 2, O = 3, B = 4;
        function R(e2, t2) {
          return e2.msg = n[t2], t2;
        }
        function T(e2) {
          return (e2 << 1) - (4 < e2 ? 9 : 0);
        }
        function D(e2) {
          for (var t2 = e2.length; 0 <= --t2; )
            e2[t2] = 0;
        }
        function F(e2) {
          var t2 = e2.state, r2 = t2.pending;
          r2 > e2.avail_out && (r2 = e2.avail_out), 0 !== r2 && (c.arraySet(e2.output, t2.pending_buf, t2.pending_out, r2, e2.next_out), e2.next_out += r2, t2.pending_out += r2, e2.total_out += r2, e2.avail_out -= r2, t2.pending -= r2, 0 === t2.pending && (t2.pending_out = 0));
        }
        function N(e2, t2) {
          u._tr_flush_block(e2, 0 <= e2.block_start ? e2.block_start : -1, e2.strstart - e2.block_start, t2), e2.block_start = e2.strstart, F(e2.strm);
        }
        function U(e2, t2) {
          e2.pending_buf[e2.pending++] = t2;
        }
        function P(e2, t2) {
          e2.pending_buf[e2.pending++] = t2 >>> 8 & 255, e2.pending_buf[e2.pending++] = 255 & t2;
        }
        function L(e2, t2) {
          var r2, n2, i2 = e2.max_chain_length, s2 = e2.strstart, a2 = e2.prev_length, o2 = e2.nice_match, h2 = e2.strstart > e2.w_size - z ? e2.strstart - (e2.w_size - z) : 0, u2 = e2.window, l2 = e2.w_mask, f2 = e2.prev, c2 = e2.strstart + S, d2 = u2[s2 + a2 - 1], p2 = u2[s2 + a2];
          e2.prev_length >= e2.good_match && (i2 >>= 2), o2 > e2.lookahead && (o2 = e2.lookahead);
          do {
            if (u2[(r2 = t2) + a2] === p2 && u2[r2 + a2 - 1] === d2 && u2[r2] === u2[s2] && u2[++r2] === u2[s2 + 1]) {
              s2 += 2, r2++;
              do {
              } while (u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && s2 < c2);
              if (n2 = S - (c2 - s2), s2 = c2 - S, a2 < n2) {
                if (e2.match_start = t2, o2 <= (a2 = n2))
                  break;
                d2 = u2[s2 + a2 - 1], p2 = u2[s2 + a2];
              }
            }
          } while ((t2 = f2[t2 & l2]) > h2 && 0 != --i2);
          return a2 <= e2.lookahead ? a2 : e2.lookahead;
        }
        function j(e2) {
          var t2, r2, n2, i2, s2, a2, o2, h2, u2, l2, f2 = e2.w_size;
          do {
            if (i2 = e2.window_size - e2.lookahead - e2.strstart, e2.strstart >= f2 + (f2 - z)) {
              for (c.arraySet(e2.window, e2.window, f2, f2, 0), e2.match_start -= f2, e2.strstart -= f2, e2.block_start -= f2, t2 = r2 = e2.hash_size; n2 = e2.head[--t2], e2.head[t2] = f2 <= n2 ? n2 - f2 : 0, --r2; )
                ;
              for (t2 = r2 = f2; n2 = e2.prev[--t2], e2.prev[t2] = f2 <= n2 ? n2 - f2 : 0, --r2; )
                ;
              i2 += f2;
            }
            if (0 === e2.strm.avail_in)
              break;
            if (a2 = e2.strm, o2 = e2.window, h2 = e2.strstart + e2.lookahead, u2 = i2, l2 = void 0, l2 = a2.avail_in, u2 < l2 && (l2 = u2), r2 = 0 === l2 ? 0 : (a2.avail_in -= l2, c.arraySet(o2, a2.input, a2.next_in, l2, h2), 1 === a2.state.wrap ? a2.adler = d(a2.adler, o2, l2, h2) : 2 === a2.state.wrap && (a2.adler = p(a2.adler, o2, l2, h2)), a2.next_in += l2, a2.total_in += l2, l2), e2.lookahead += r2, e2.lookahead + e2.insert >= x)
              for (s2 = e2.strstart - e2.insert, e2.ins_h = e2.window[s2], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s2 + 1]) & e2.hash_mask; e2.insert && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s2 + x - 1]) & e2.hash_mask, e2.prev[s2 & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = s2, s2++, e2.insert--, !(e2.lookahead + e2.insert < x)); )
                ;
          } while (e2.lookahead < z && 0 !== e2.strm.avail_in);
        }
        function Z(e2, t2) {
          for (var r2, n2; ; ) {
            if (e2.lookahead < z) {
              if (j(e2), e2.lookahead < z && t2 === l)
                return A;
              if (0 === e2.lookahead)
                break;
            }
            if (r2 = 0, e2.lookahead >= x && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), 0 !== r2 && e2.strstart - r2 <= e2.w_size - z && (e2.match_length = L(e2, r2)), e2.match_length >= x)
              if (n2 = u._tr_tally(e2, e2.strstart - e2.match_start, e2.match_length - x), e2.lookahead -= e2.match_length, e2.match_length <= e2.max_lazy_match && e2.lookahead >= x) {
                for (e2.match_length--; e2.strstart++, e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart, 0 != --e2.match_length; )
                  ;
                e2.strstart++;
              } else
                e2.strstart += e2.match_length, e2.match_length = 0, e2.ins_h = e2.window[e2.strstart], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + 1]) & e2.hash_mask;
            else
              n2 = u._tr_tally(e2, 0, e2.window[e2.strstart]), e2.lookahead--, e2.strstart++;
            if (n2 && (N(e2, false), 0 === e2.strm.avail_out))
              return A;
          }
          return e2.insert = e2.strstart < x - 1 ? e2.strstart : x - 1, t2 === f ? (N(e2, true), 0 === e2.strm.avail_out ? O : B) : e2.last_lit && (N(e2, false), 0 === e2.strm.avail_out) ? A : I;
        }
        function W(e2, t2) {
          for (var r2, n2, i2; ; ) {
            if (e2.lookahead < z) {
              if (j(e2), e2.lookahead < z && t2 === l)
                return A;
              if (0 === e2.lookahead)
                break;
            }
            if (r2 = 0, e2.lookahead >= x && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), e2.prev_length = e2.match_length, e2.prev_match = e2.match_start, e2.match_length = x - 1, 0 !== r2 && e2.prev_length < e2.max_lazy_match && e2.strstart - r2 <= e2.w_size - z && (e2.match_length = L(e2, r2), e2.match_length <= 5 && (1 === e2.strategy || e2.match_length === x && 4096 < e2.strstart - e2.match_start) && (e2.match_length = x - 1)), e2.prev_length >= x && e2.match_length <= e2.prev_length) {
              for (i2 = e2.strstart + e2.lookahead - x, n2 = u._tr_tally(e2, e2.strstart - 1 - e2.prev_match, e2.prev_length - x), e2.lookahead -= e2.prev_length - 1, e2.prev_length -= 2; ++e2.strstart <= i2 && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), 0 != --e2.prev_length; )
                ;
              if (e2.match_available = 0, e2.match_length = x - 1, e2.strstart++, n2 && (N(e2, false), 0 === e2.strm.avail_out))
                return A;
            } else if (e2.match_available) {
              if ((n2 = u._tr_tally(e2, 0, e2.window[e2.strstart - 1])) && N(e2, false), e2.strstart++, e2.lookahead--, 0 === e2.strm.avail_out)
                return A;
            } else
              e2.match_available = 1, e2.strstart++, e2.lookahead--;
          }
          return e2.match_available && (n2 = u._tr_tally(e2, 0, e2.window[e2.strstart - 1]), e2.match_available = 0), e2.insert = e2.strstart < x - 1 ? e2.strstart : x - 1, t2 === f ? (N(e2, true), 0 === e2.strm.avail_out ? O : B) : e2.last_lit && (N(e2, false), 0 === e2.strm.avail_out) ? A : I;
        }
        function M(e2, t2, r2, n2, i2) {
          this.good_length = e2, this.max_lazy = t2, this.nice_length = r2, this.max_chain = n2, this.func = i2;
        }
        function H() {
          this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = v, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new c.Buf16(2 * w), this.dyn_dtree = new c.Buf16(2 * (2 * a + 1)), this.bl_tree = new c.Buf16(2 * (2 * o + 1)), D(this.dyn_ltree), D(this.dyn_dtree), D(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new c.Buf16(k + 1), this.heap = new c.Buf16(2 * s + 1), D(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new c.Buf16(2 * s + 1), D(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
        }
        function G(e2) {
          var t2;
          return e2 && e2.state ? (e2.total_in = e2.total_out = 0, e2.data_type = i, (t2 = e2.state).pending = 0, t2.pending_out = 0, t2.wrap < 0 && (t2.wrap = -t2.wrap), t2.status = t2.wrap ? C : E, e2.adler = 2 === t2.wrap ? 0 : 1, t2.last_flush = l, u._tr_init(t2), m) : R(e2, _);
        }
        function K(e2) {
          var t2 = G(e2);
          return t2 === m && function(e3) {
            e3.window_size = 2 * e3.w_size, D(e3.head), e3.max_lazy_match = h[e3.level].max_lazy, e3.good_match = h[e3.level].good_length, e3.nice_match = h[e3.level].nice_length, e3.max_chain_length = h[e3.level].max_chain, e3.strstart = 0, e3.block_start = 0, e3.lookahead = 0, e3.insert = 0, e3.match_length = e3.prev_length = x - 1, e3.match_available = 0, e3.ins_h = 0;
          }(e2.state), t2;
        }
        function Y(e2, t2, r2, n2, i2, s2) {
          if (!e2)
            return _;
          var a2 = 1;
          if (t2 === g && (t2 = 6), n2 < 0 ? (a2 = 0, n2 = -n2) : 15 < n2 && (a2 = 2, n2 -= 16), i2 < 1 || y < i2 || r2 !== v || n2 < 8 || 15 < n2 || t2 < 0 || 9 < t2 || s2 < 0 || b < s2)
            return R(e2, _);
          8 === n2 && (n2 = 9);
          var o2 = new H();
          return (e2.state = o2).strm = e2, o2.wrap = a2, o2.gzhead = null, o2.w_bits = n2, o2.w_size = 1 << o2.w_bits, o2.w_mask = o2.w_size - 1, o2.hash_bits = i2 + 7, o2.hash_size = 1 << o2.hash_bits, o2.hash_mask = o2.hash_size - 1, o2.hash_shift = ~~((o2.hash_bits + x - 1) / x), o2.window = new c.Buf8(2 * o2.w_size), o2.head = new c.Buf16(o2.hash_size), o2.prev = new c.Buf16(o2.w_size), o2.lit_bufsize = 1 << i2 + 6, o2.pending_buf_size = 4 * o2.lit_bufsize, o2.pending_buf = new c.Buf8(o2.pending_buf_size), o2.d_buf = 1 * o2.lit_bufsize, o2.l_buf = 3 * o2.lit_bufsize, o2.level = t2, o2.strategy = s2, o2.method = r2, K(e2);
        }
        h = [new M(0, 0, 0, 0, function(e2, t2) {
          var r2 = 65535;
          for (r2 > e2.pending_buf_size - 5 && (r2 = e2.pending_buf_size - 5); ; ) {
            if (e2.lookahead <= 1) {
              if (j(e2), 0 === e2.lookahead && t2 === l)
                return A;
              if (0 === e2.lookahead)
                break;
            }
            e2.strstart += e2.lookahead, e2.lookahead = 0;
            var n2 = e2.block_start + r2;
            if ((0 === e2.strstart || e2.strstart >= n2) && (e2.lookahead = e2.strstart - n2, e2.strstart = n2, N(e2, false), 0 === e2.strm.avail_out))
              return A;
            if (e2.strstart - e2.block_start >= e2.w_size - z && (N(e2, false), 0 === e2.strm.avail_out))
              return A;
          }
          return e2.insert = 0, t2 === f ? (N(e2, true), 0 === e2.strm.avail_out ? O : B) : (e2.strstart > e2.block_start && (N(e2, false), e2.strm.avail_out), A);
        }), new M(4, 4, 8, 4, Z), new M(4, 5, 16, 8, Z), new M(4, 6, 32, 32, Z), new M(4, 4, 16, 16, W), new M(8, 16, 32, 32, W), new M(8, 16, 128, 128, W), new M(8, 32, 128, 256, W), new M(32, 128, 258, 1024, W), new M(32, 258, 258, 4096, W)], r.deflateInit = function(e2, t2) {
          return Y(e2, t2, v, 15, 8, 0);
        }, r.deflateInit2 = Y, r.deflateReset = K, r.deflateResetKeep = G, r.deflateSetHeader = function(e2, t2) {
          return e2 && e2.state ? 2 !== e2.state.wrap ? _ : (e2.state.gzhead = t2, m) : _;
        }, r.deflate = function(e2, t2) {
          var r2, n2, i2, s2;
          if (!e2 || !e2.state || 5 < t2 || t2 < 0)
            return e2 ? R(e2, _) : _;
          if (n2 = e2.state, !e2.output || !e2.input && 0 !== e2.avail_in || 666 === n2.status && t2 !== f)
            return R(e2, 0 === e2.avail_out ? -5 : _);
          if (n2.strm = e2, r2 = n2.last_flush, n2.last_flush = t2, n2.status === C)
            if (2 === n2.wrap)
              e2.adler = 0, U(n2, 31), U(n2, 139), U(n2, 8), n2.gzhead ? (U(n2, (n2.gzhead.text ? 1 : 0) + (n2.gzhead.hcrc ? 2 : 0) + (n2.gzhead.extra ? 4 : 0) + (n2.gzhead.name ? 8 : 0) + (n2.gzhead.comment ? 16 : 0)), U(n2, 255 & n2.gzhead.time), U(n2, n2.gzhead.time >> 8 & 255), U(n2, n2.gzhead.time >> 16 & 255), U(n2, n2.gzhead.time >> 24 & 255), U(n2, 9 === n2.level ? 2 : 2 <= n2.strategy || n2.level < 2 ? 4 : 0), U(n2, 255 & n2.gzhead.os), n2.gzhead.extra && n2.gzhead.extra.length && (U(n2, 255 & n2.gzhead.extra.length), U(n2, n2.gzhead.extra.length >> 8 & 255)), n2.gzhead.hcrc && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending, 0)), n2.gzindex = 0, n2.status = 69) : (U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 9 === n2.level ? 2 : 2 <= n2.strategy || n2.level < 2 ? 4 : 0), U(n2, 3), n2.status = E);
            else {
              var a2 = v + (n2.w_bits - 8 << 4) << 8;
              a2 |= (2 <= n2.strategy || n2.level < 2 ? 0 : n2.level < 6 ? 1 : 6 === n2.level ? 2 : 3) << 6, 0 !== n2.strstart && (a2 |= 32), a2 += 31 - a2 % 31, n2.status = E, P(n2, a2), 0 !== n2.strstart && (P(n2, e2.adler >>> 16), P(n2, 65535 & e2.adler)), e2.adler = 1;
            }
          if (69 === n2.status)
            if (n2.gzhead.extra) {
              for (i2 = n2.pending; n2.gzindex < (65535 & n2.gzhead.extra.length) && (n2.pending !== n2.pending_buf_size || (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending !== n2.pending_buf_size)); )
                U(n2, 255 & n2.gzhead.extra[n2.gzindex]), n2.gzindex++;
              n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), n2.gzindex === n2.gzhead.extra.length && (n2.gzindex = 0, n2.status = 73);
            } else
              n2.status = 73;
          if (73 === n2.status)
            if (n2.gzhead.name) {
              i2 = n2.pending;
              do {
                if (n2.pending === n2.pending_buf_size && (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending === n2.pending_buf_size)) {
                  s2 = 1;
                  break;
                }
                s2 = n2.gzindex < n2.gzhead.name.length ? 255 & n2.gzhead.name.charCodeAt(n2.gzindex++) : 0, U(n2, s2);
              } while (0 !== s2);
              n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), 0 === s2 && (n2.gzindex = 0, n2.status = 91);
            } else
              n2.status = 91;
          if (91 === n2.status)
            if (n2.gzhead.comment) {
              i2 = n2.pending;
              do {
                if (n2.pending === n2.pending_buf_size && (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending === n2.pending_buf_size)) {
                  s2 = 1;
                  break;
                }
                s2 = n2.gzindex < n2.gzhead.comment.length ? 255 & n2.gzhead.comment.charCodeAt(n2.gzindex++) : 0, U(n2, s2);
              } while (0 !== s2);
              n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), 0 === s2 && (n2.status = 103);
            } else
              n2.status = 103;
          if (103 === n2.status && (n2.gzhead.hcrc ? (n2.pending + 2 > n2.pending_buf_size && F(e2), n2.pending + 2 <= n2.pending_buf_size && (U(n2, 255 & e2.adler), U(n2, e2.adler >> 8 & 255), e2.adler = 0, n2.status = E)) : n2.status = E), 0 !== n2.pending) {
            if (F(e2), 0 === e2.avail_out)
              return n2.last_flush = -1, m;
          } else if (0 === e2.avail_in && T(t2) <= T(r2) && t2 !== f)
            return R(e2, -5);
          if (666 === n2.status && 0 !== e2.avail_in)
            return R(e2, -5);
          if (0 !== e2.avail_in || 0 !== n2.lookahead || t2 !== l && 666 !== n2.status) {
            var o2 = 2 === n2.strategy ? function(e3, t3) {
              for (var r3; ; ) {
                if (0 === e3.lookahead && (j(e3), 0 === e3.lookahead)) {
                  if (t3 === l)
                    return A;
                  break;
                }
                if (e3.match_length = 0, r3 = u._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++, r3 && (N(e3, false), 0 === e3.strm.avail_out))
                  return A;
              }
              return e3.insert = 0, t3 === f ? (N(e3, true), 0 === e3.strm.avail_out ? O : B) : e3.last_lit && (N(e3, false), 0 === e3.strm.avail_out) ? A : I;
            }(n2, t2) : 3 === n2.strategy ? function(e3, t3) {
              for (var r3, n3, i3, s3, a3 = e3.window; ; ) {
                if (e3.lookahead <= S) {
                  if (j(e3), e3.lookahead <= S && t3 === l)
                    return A;
                  if (0 === e3.lookahead)
                    break;
                }
                if (e3.match_length = 0, e3.lookahead >= x && 0 < e3.strstart && (n3 = a3[i3 = e3.strstart - 1]) === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3]) {
                  s3 = e3.strstart + S;
                  do {
                  } while (n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && i3 < s3);
                  e3.match_length = S - (s3 - i3), e3.match_length > e3.lookahead && (e3.match_length = e3.lookahead);
                }
                if (e3.match_length >= x ? (r3 = u._tr_tally(e3, 1, e3.match_length - x), e3.lookahead -= e3.match_length, e3.strstart += e3.match_length, e3.match_length = 0) : (r3 = u._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++), r3 && (N(e3, false), 0 === e3.strm.avail_out))
                  return A;
              }
              return e3.insert = 0, t3 === f ? (N(e3, true), 0 === e3.strm.avail_out ? O : B) : e3.last_lit && (N(e3, false), 0 === e3.strm.avail_out) ? A : I;
            }(n2, t2) : h[n2.level].func(n2, t2);
            if (o2 !== O && o2 !== B || (n2.status = 666), o2 === A || o2 === O)
              return 0 === e2.avail_out && (n2.last_flush = -1), m;
            if (o2 === I && (1 === t2 ? u._tr_align(n2) : 5 !== t2 && (u._tr_stored_block(n2, 0, 0, false), 3 === t2 && (D(n2.head), 0 === n2.lookahead && (n2.strstart = 0, n2.block_start = 0, n2.insert = 0))), F(e2), 0 === e2.avail_out))
              return n2.last_flush = -1, m;
          }
          return t2 !== f ? m : n2.wrap <= 0 ? 1 : (2 === n2.wrap ? (U(n2, 255 & e2.adler), U(n2, e2.adler >> 8 & 255), U(n2, e2.adler >> 16 & 255), U(n2, e2.adler >> 24 & 255), U(n2, 255 & e2.total_in), U(n2, e2.total_in >> 8 & 255), U(n2, e2.total_in >> 16 & 255), U(n2, e2.total_in >> 24 & 255)) : (P(n2, e2.adler >>> 16), P(n2, 65535 & e2.adler)), F(e2), 0 < n2.wrap && (n2.wrap = -n2.wrap), 0 !== n2.pending ? m : 1);
        }, r.deflateEnd = function(e2) {
          var t2;
          return e2 && e2.state ? (t2 = e2.state.status) !== C && 69 !== t2 && 73 !== t2 && 91 !== t2 && 103 !== t2 && t2 !== E && 666 !== t2 ? R(e2, _) : (e2.state = null, t2 === E ? R(e2, -3) : m) : _;
        }, r.deflateSetDictionary = function(e2, t2) {
          var r2, n2, i2, s2, a2, o2, h2, u2, l2 = t2.length;
          if (!e2 || !e2.state)
            return _;
          if (2 === (s2 = (r2 = e2.state).wrap) || 1 === s2 && r2.status !== C || r2.lookahead)
            return _;
          for (1 === s2 && (e2.adler = d(e2.adler, t2, l2, 0)), r2.wrap = 0, l2 >= r2.w_size && (0 === s2 && (D(r2.head), r2.strstart = 0, r2.block_start = 0, r2.insert = 0), u2 = new c.Buf8(r2.w_size), c.arraySet(u2, t2, l2 - r2.w_size, r2.w_size, 0), t2 = u2, l2 = r2.w_size), a2 = e2.avail_in, o2 = e2.next_in, h2 = e2.input, e2.avail_in = l2, e2.next_in = 0, e2.input = t2, j(r2); r2.lookahead >= x; ) {
            for (n2 = r2.strstart, i2 = r2.lookahead - (x - 1); r2.ins_h = (r2.ins_h << r2.hash_shift ^ r2.window[n2 + x - 1]) & r2.hash_mask, r2.prev[n2 & r2.w_mask] = r2.head[r2.ins_h], r2.head[r2.ins_h] = n2, n2++, --i2; )
              ;
            r2.strstart = n2, r2.lookahead = x - 1, j(r2);
          }
          return r2.strstart += r2.lookahead, r2.block_start = r2.strstart, r2.insert = r2.lookahead, r2.lookahead = 0, r2.match_length = r2.prev_length = x - 1, r2.match_available = 0, e2.next_in = o2, e2.input = h2, e2.avail_in = a2, r2.wrap = s2, m;
        }, r.deflateInfo = "pako deflate (from Nodeca project)";
      }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./messages": 51, "./trees": 52 }], 47: [function(e, t, r) {
        "use strict";
        t.exports = function() {
          this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
        };
      }, {}], 48: [function(e, t, r) {
        "use strict";
        t.exports = function(e2, t2) {
          var r2, n, i, s, a, o, h, u, l, f, c, d, p, m, _, g, b, v, y, w, k, x, S, z, C;
          r2 = e2.state, n = e2.next_in, z = e2.input, i = n + (e2.avail_in - 5), s = e2.next_out, C = e2.output, a = s - (t2 - e2.avail_out), o = s + (e2.avail_out - 257), h = r2.dmax, u = r2.wsize, l = r2.whave, f = r2.wnext, c = r2.window, d = r2.hold, p = r2.bits, m = r2.lencode, _ = r2.distcode, g = (1 << r2.lenbits) - 1, b = (1 << r2.distbits) - 1;
          e:
            do {
              p < 15 && (d += z[n++] << p, p += 8, d += z[n++] << p, p += 8), v = m[d & g];
              t:
                for (; ; ) {
                  if (d >>>= y = v >>> 24, p -= y, 0 === (y = v >>> 16 & 255))
                    C[s++] = 65535 & v;
                  else {
                    if (!(16 & y)) {
                      if (0 == (64 & y)) {
                        v = m[(65535 & v) + (d & (1 << y) - 1)];
                        continue t;
                      }
                      if (32 & y) {
                        r2.mode = 12;
                        break e;
                      }
                      e2.msg = "invalid literal/length code", r2.mode = 30;
                      break e;
                    }
                    w = 65535 & v, (y &= 15) && (p < y && (d += z[n++] << p, p += 8), w += d & (1 << y) - 1, d >>>= y, p -= y), p < 15 && (d += z[n++] << p, p += 8, d += z[n++] << p, p += 8), v = _[d & b];
                    r:
                      for (; ; ) {
                        if (d >>>= y = v >>> 24, p -= y, !(16 & (y = v >>> 16 & 255))) {
                          if (0 == (64 & y)) {
                            v = _[(65535 & v) + (d & (1 << y) - 1)];
                            continue r;
                          }
                          e2.msg = "invalid distance code", r2.mode = 30;
                          break e;
                        }
                        if (k = 65535 & v, p < (y &= 15) && (d += z[n++] << p, (p += 8) < y && (d += z[n++] << p, p += 8)), h < (k += d & (1 << y) - 1)) {
                          e2.msg = "invalid distance too far back", r2.mode = 30;
                          break e;
                        }
                        if (d >>>= y, p -= y, (y = s - a) < k) {
                          if (l < (y = k - y) && r2.sane) {
                            e2.msg = "invalid distance too far back", r2.mode = 30;
                            break e;
                          }
                          if (S = c, (x = 0) === f) {
                            if (x += u - y, y < w) {
                              for (w -= y; C[s++] = c[x++], --y; )
                                ;
                              x = s - k, S = C;
                            }
                          } else if (f < y) {
                            if (x += u + f - y, (y -= f) < w) {
                              for (w -= y; C[s++] = c[x++], --y; )
                                ;
                              if (x = 0, f < w) {
                                for (w -= y = f; C[s++] = c[x++], --y; )
                                  ;
                                x = s - k, S = C;
                              }
                            }
                          } else if (x += f - y, y < w) {
                            for (w -= y; C[s++] = c[x++], --y; )
                              ;
                            x = s - k, S = C;
                          }
                          for (; 2 < w; )
                            C[s++] = S[x++], C[s++] = S[x++], C[s++] = S[x++], w -= 3;
                          w && (C[s++] = S[x++], 1 < w && (C[s++] = S[x++]));
                        } else {
                          for (x = s - k; C[s++] = C[x++], C[s++] = C[x++], C[s++] = C[x++], 2 < (w -= 3); )
                            ;
                          w && (C[s++] = C[x++], 1 < w && (C[s++] = C[x++]));
                        }
                        break;
                      }
                  }
                  break;
                }
            } while (n < i && s < o);
          n -= w = p >> 3, d &= (1 << (p -= w << 3)) - 1, e2.next_in = n, e2.next_out = s, e2.avail_in = n < i ? i - n + 5 : 5 - (n - i), e2.avail_out = s < o ? o - s + 257 : 257 - (s - o), r2.hold = d, r2.bits = p;
        };
      }, {}], 49: [function(e, t, r) {
        "use strict";
        var I = e("../utils/common"), O = e("./adler32"), B = e("./crc32"), R = e("./inffast"), T = e("./inftrees"), D = 1, F = 2, N = 0, U = -2, P = 1, n = 852, i = 592;
        function L(e2) {
          return (e2 >>> 24 & 255) + (e2 >>> 8 & 65280) + ((65280 & e2) << 8) + ((255 & e2) << 24);
        }
        function s() {
          this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new I.Buf16(320), this.work = new I.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
        }
        function a(e2) {
          var t2;
          return e2 && e2.state ? (t2 = e2.state, e2.total_in = e2.total_out = t2.total = 0, e2.msg = "", t2.wrap && (e2.adler = 1 & t2.wrap), t2.mode = P, t2.last = 0, t2.havedict = 0, t2.dmax = 32768, t2.head = null, t2.hold = 0, t2.bits = 0, t2.lencode = t2.lendyn = new I.Buf32(n), t2.distcode = t2.distdyn = new I.Buf32(i), t2.sane = 1, t2.back = -1, N) : U;
        }
        function o(e2) {
          var t2;
          return e2 && e2.state ? ((t2 = e2.state).wsize = 0, t2.whave = 0, t2.wnext = 0, a(e2)) : U;
        }
        function h(e2, t2) {
          var r2, n2;
          return e2 && e2.state ? (n2 = e2.state, t2 < 0 ? (r2 = 0, t2 = -t2) : (r2 = 1 + (t2 >> 4), t2 < 48 && (t2 &= 15)), t2 && (t2 < 8 || 15 < t2) ? U : (null !== n2.window && n2.wbits !== t2 && (n2.window = null), n2.wrap = r2, n2.wbits = t2, o(e2))) : U;
        }
        function u(e2, t2) {
          var r2, n2;
          return e2 ? (n2 = new s(), (e2.state = n2).window = null, (r2 = h(e2, t2)) !== N && (e2.state = null), r2) : U;
        }
        var l, f, c = true;
        function j(e2) {
          if (c) {
            var t2;
            for (l = new I.Buf32(512), f = new I.Buf32(32), t2 = 0; t2 < 144; )
              e2.lens[t2++] = 8;
            for (; t2 < 256; )
              e2.lens[t2++] = 9;
            for (; t2 < 280; )
              e2.lens[t2++] = 7;
            for (; t2 < 288; )
              e2.lens[t2++] = 8;
            for (T(D, e2.lens, 0, 288, l, 0, e2.work, { bits: 9 }), t2 = 0; t2 < 32; )
              e2.lens[t2++] = 5;
            T(F, e2.lens, 0, 32, f, 0, e2.work, { bits: 5 }), c = false;
          }
          e2.lencode = l, e2.lenbits = 9, e2.distcode = f, e2.distbits = 5;
        }
        function Z(e2, t2, r2, n2) {
          var i2, s2 = e2.state;
          return null === s2.window && (s2.wsize = 1 << s2.wbits, s2.wnext = 0, s2.whave = 0, s2.window = new I.Buf8(s2.wsize)), n2 >= s2.wsize ? (I.arraySet(s2.window, t2, r2 - s2.wsize, s2.wsize, 0), s2.wnext = 0, s2.whave = s2.wsize) : (n2 < (i2 = s2.wsize - s2.wnext) && (i2 = n2), I.arraySet(s2.window, t2, r2 - n2, i2, s2.wnext), (n2 -= i2) ? (I.arraySet(s2.window, t2, r2 - n2, n2, 0), s2.wnext = n2, s2.whave = s2.wsize) : (s2.wnext += i2, s2.wnext === s2.wsize && (s2.wnext = 0), s2.whave < s2.wsize && (s2.whave += i2))), 0;
        }
        r.inflateReset = o, r.inflateReset2 = h, r.inflateResetKeep = a, r.inflateInit = function(e2) {
          return u(e2, 15);
        }, r.inflateInit2 = u, r.inflate = function(e2, t2) {
          var r2, n2, i2, s2, a2, o2, h2, u2, l2, f2, c2, d, p, m, _, g, b, v, y, w, k, x, S, z, C = 0, E = new I.Buf8(4), A = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
          if (!e2 || !e2.state || !e2.output || !e2.input && 0 !== e2.avail_in)
            return U;
          12 === (r2 = e2.state).mode && (r2.mode = 13), a2 = e2.next_out, i2 = e2.output, h2 = e2.avail_out, s2 = e2.next_in, n2 = e2.input, o2 = e2.avail_in, u2 = r2.hold, l2 = r2.bits, f2 = o2, c2 = h2, x = N;
          e:
            for (; ; )
              switch (r2.mode) {
                case P:
                  if (0 === r2.wrap) {
                    r2.mode = 13;
                    break;
                  }
                  for (; l2 < 16; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (2 & r2.wrap && 35615 === u2) {
                    E[r2.check = 0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0), l2 = u2 = 0, r2.mode = 2;
                    break;
                  }
                  if (r2.flags = 0, r2.head && (r2.head.done = false), !(1 & r2.wrap) || (((255 & u2) << 8) + (u2 >> 8)) % 31) {
                    e2.msg = "incorrect header check", r2.mode = 30;
                    break;
                  }
                  if (8 != (15 & u2)) {
                    e2.msg = "unknown compression method", r2.mode = 30;
                    break;
                  }
                  if (l2 -= 4, k = 8 + (15 & (u2 >>>= 4)), 0 === r2.wbits)
                    r2.wbits = k;
                  else if (k > r2.wbits) {
                    e2.msg = "invalid window size", r2.mode = 30;
                    break;
                  }
                  r2.dmax = 1 << k, e2.adler = r2.check = 1, r2.mode = 512 & u2 ? 10 : 12, l2 = u2 = 0;
                  break;
                case 2:
                  for (; l2 < 16; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (r2.flags = u2, 8 != (255 & r2.flags)) {
                    e2.msg = "unknown compression method", r2.mode = 30;
                    break;
                  }
                  if (57344 & r2.flags) {
                    e2.msg = "unknown header flags set", r2.mode = 30;
                    break;
                  }
                  r2.head && (r2.head.text = u2 >> 8 & 1), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0, r2.mode = 3;
                case 3:
                  for (; l2 < 32; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.head && (r2.head.time = u2), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, E[2] = u2 >>> 16 & 255, E[3] = u2 >>> 24 & 255, r2.check = B(r2.check, E, 4, 0)), l2 = u2 = 0, r2.mode = 4;
                case 4:
                  for (; l2 < 16; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.head && (r2.head.xflags = 255 & u2, r2.head.os = u2 >> 8), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0, r2.mode = 5;
                case 5:
                  if (1024 & r2.flags) {
                    for (; l2 < 16; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.length = u2, r2.head && (r2.head.extra_len = u2), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0;
                  } else
                    r2.head && (r2.head.extra = null);
                  r2.mode = 6;
                case 6:
                  if (1024 & r2.flags && (o2 < (d = r2.length) && (d = o2), d && (r2.head && (k = r2.head.extra_len - r2.length, r2.head.extra || (r2.head.extra = new Array(r2.head.extra_len)), I.arraySet(r2.head.extra, n2, s2, d, k)), 512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, r2.length -= d), r2.length))
                    break e;
                  r2.length = 0, r2.mode = 7;
                case 7:
                  if (2048 & r2.flags) {
                    if (0 === o2)
                      break e;
                    for (d = 0; k = n2[s2 + d++], r2.head && k && r2.length < 65536 && (r2.head.name += String.fromCharCode(k)), k && d < o2; )
                      ;
                    if (512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, k)
                      break e;
                  } else
                    r2.head && (r2.head.name = null);
                  r2.length = 0, r2.mode = 8;
                case 8:
                  if (4096 & r2.flags) {
                    if (0 === o2)
                      break e;
                    for (d = 0; k = n2[s2 + d++], r2.head && k && r2.length < 65536 && (r2.head.comment += String.fromCharCode(k)), k && d < o2; )
                      ;
                    if (512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, k)
                      break e;
                  } else
                    r2.head && (r2.head.comment = null);
                  r2.mode = 9;
                case 9:
                  if (512 & r2.flags) {
                    for (; l2 < 16; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    if (u2 !== (65535 & r2.check)) {
                      e2.msg = "header crc mismatch", r2.mode = 30;
                      break;
                    }
                    l2 = u2 = 0;
                  }
                  r2.head && (r2.head.hcrc = r2.flags >> 9 & 1, r2.head.done = true), e2.adler = r2.check = 0, r2.mode = 12;
                  break;
                case 10:
                  for (; l2 < 32; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  e2.adler = r2.check = L(u2), l2 = u2 = 0, r2.mode = 11;
                case 11:
                  if (0 === r2.havedict)
                    return e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, 2;
                  e2.adler = r2.check = 1, r2.mode = 12;
                case 12:
                  if (5 === t2 || 6 === t2)
                    break e;
                case 13:
                  if (r2.last) {
                    u2 >>>= 7 & l2, l2 -= 7 & l2, r2.mode = 27;
                    break;
                  }
                  for (; l2 < 3; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  switch (r2.last = 1 & u2, l2 -= 1, 3 & (u2 >>>= 1)) {
                    case 0:
                      r2.mode = 14;
                      break;
                    case 1:
                      if (j(r2), r2.mode = 20, 6 !== t2)
                        break;
                      u2 >>>= 2, l2 -= 2;
                      break e;
                    case 2:
                      r2.mode = 17;
                      break;
                    case 3:
                      e2.msg = "invalid block type", r2.mode = 30;
                  }
                  u2 >>>= 2, l2 -= 2;
                  break;
                case 14:
                  for (u2 >>>= 7 & l2, l2 -= 7 & l2; l2 < 32; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if ((65535 & u2) != (u2 >>> 16 ^ 65535)) {
                    e2.msg = "invalid stored block lengths", r2.mode = 30;
                    break;
                  }
                  if (r2.length = 65535 & u2, l2 = u2 = 0, r2.mode = 15, 6 === t2)
                    break e;
                case 15:
                  r2.mode = 16;
                case 16:
                  if (d = r2.length) {
                    if (o2 < d && (d = o2), h2 < d && (d = h2), 0 === d)
                      break e;
                    I.arraySet(i2, n2, s2, d, a2), o2 -= d, s2 += d, h2 -= d, a2 += d, r2.length -= d;
                    break;
                  }
                  r2.mode = 12;
                  break;
                case 17:
                  for (; l2 < 14; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (r2.nlen = 257 + (31 & u2), u2 >>>= 5, l2 -= 5, r2.ndist = 1 + (31 & u2), u2 >>>= 5, l2 -= 5, r2.ncode = 4 + (15 & u2), u2 >>>= 4, l2 -= 4, 286 < r2.nlen || 30 < r2.ndist) {
                    e2.msg = "too many length or distance symbols", r2.mode = 30;
                    break;
                  }
                  r2.have = 0, r2.mode = 18;
                case 18:
                  for (; r2.have < r2.ncode; ) {
                    for (; l2 < 3; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.lens[A[r2.have++]] = 7 & u2, u2 >>>= 3, l2 -= 3;
                  }
                  for (; r2.have < 19; )
                    r2.lens[A[r2.have++]] = 0;
                  if (r2.lencode = r2.lendyn, r2.lenbits = 7, S = { bits: r2.lenbits }, x = T(0, r2.lens, 0, 19, r2.lencode, 0, r2.work, S), r2.lenbits = S.bits, x) {
                    e2.msg = "invalid code lengths set", r2.mode = 30;
                    break;
                  }
                  r2.have = 0, r2.mode = 19;
                case 19:
                  for (; r2.have < r2.nlen + r2.ndist; ) {
                    for (; g = (C = r2.lencode[u2 & (1 << r2.lenbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    if (b < 16)
                      u2 >>>= _, l2 -= _, r2.lens[r2.have++] = b;
                    else {
                      if (16 === b) {
                        for (z = _ + 2; l2 < z; ) {
                          if (0 === o2)
                            break e;
                          o2--, u2 += n2[s2++] << l2, l2 += 8;
                        }
                        if (u2 >>>= _, l2 -= _, 0 === r2.have) {
                          e2.msg = "invalid bit length repeat", r2.mode = 30;
                          break;
                        }
                        k = r2.lens[r2.have - 1], d = 3 + (3 & u2), u2 >>>= 2, l2 -= 2;
                      } else if (17 === b) {
                        for (z = _ + 3; l2 < z; ) {
                          if (0 === o2)
                            break e;
                          o2--, u2 += n2[s2++] << l2, l2 += 8;
                        }
                        l2 -= _, k = 0, d = 3 + (7 & (u2 >>>= _)), u2 >>>= 3, l2 -= 3;
                      } else {
                        for (z = _ + 7; l2 < z; ) {
                          if (0 === o2)
                            break e;
                          o2--, u2 += n2[s2++] << l2, l2 += 8;
                        }
                        l2 -= _, k = 0, d = 11 + (127 & (u2 >>>= _)), u2 >>>= 7, l2 -= 7;
                      }
                      if (r2.have + d > r2.nlen + r2.ndist) {
                        e2.msg = "invalid bit length repeat", r2.mode = 30;
                        break;
                      }
                      for (; d--; )
                        r2.lens[r2.have++] = k;
                    }
                  }
                  if (30 === r2.mode)
                    break;
                  if (0 === r2.lens[256]) {
                    e2.msg = "invalid code -- missing end-of-block", r2.mode = 30;
                    break;
                  }
                  if (r2.lenbits = 9, S = { bits: r2.lenbits }, x = T(D, r2.lens, 0, r2.nlen, r2.lencode, 0, r2.work, S), r2.lenbits = S.bits, x) {
                    e2.msg = "invalid literal/lengths set", r2.mode = 30;
                    break;
                  }
                  if (r2.distbits = 6, r2.distcode = r2.distdyn, S = { bits: r2.distbits }, x = T(F, r2.lens, r2.nlen, r2.ndist, r2.distcode, 0, r2.work, S), r2.distbits = S.bits, x) {
                    e2.msg = "invalid distances set", r2.mode = 30;
                    break;
                  }
                  if (r2.mode = 20, 6 === t2)
                    break e;
                case 20:
                  r2.mode = 21;
                case 21:
                  if (6 <= o2 && 258 <= h2) {
                    e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, R(e2, c2), a2 = e2.next_out, i2 = e2.output, h2 = e2.avail_out, s2 = e2.next_in, n2 = e2.input, o2 = e2.avail_in, u2 = r2.hold, l2 = r2.bits, 12 === r2.mode && (r2.back = -1);
                    break;
                  }
                  for (r2.back = 0; g = (C = r2.lencode[u2 & (1 << r2.lenbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (g && 0 == (240 & g)) {
                    for (v = _, y = g, w = b; g = (C = r2.lencode[w + ((u2 & (1 << v + y) - 1) >> v)]) >>> 16 & 255, b = 65535 & C, !(v + (_ = C >>> 24) <= l2); ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    u2 >>>= v, l2 -= v, r2.back += v;
                  }
                  if (u2 >>>= _, l2 -= _, r2.back += _, r2.length = b, 0 === g) {
                    r2.mode = 26;
                    break;
                  }
                  if (32 & g) {
                    r2.back = -1, r2.mode = 12;
                    break;
                  }
                  if (64 & g) {
                    e2.msg = "invalid literal/length code", r2.mode = 30;
                    break;
                  }
                  r2.extra = 15 & g, r2.mode = 22;
                case 22:
                  if (r2.extra) {
                    for (z = r2.extra; l2 < z; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.length += u2 & (1 << r2.extra) - 1, u2 >>>= r2.extra, l2 -= r2.extra, r2.back += r2.extra;
                  }
                  r2.was = r2.length, r2.mode = 23;
                case 23:
                  for (; g = (C = r2.distcode[u2 & (1 << r2.distbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (0 == (240 & g)) {
                    for (v = _, y = g, w = b; g = (C = r2.distcode[w + ((u2 & (1 << v + y) - 1) >> v)]) >>> 16 & 255, b = 65535 & C, !(v + (_ = C >>> 24) <= l2); ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    u2 >>>= v, l2 -= v, r2.back += v;
                  }
                  if (u2 >>>= _, l2 -= _, r2.back += _, 64 & g) {
                    e2.msg = "invalid distance code", r2.mode = 30;
                    break;
                  }
                  r2.offset = b, r2.extra = 15 & g, r2.mode = 24;
                case 24:
                  if (r2.extra) {
                    for (z = r2.extra; l2 < z; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.offset += u2 & (1 << r2.extra) - 1, u2 >>>= r2.extra, l2 -= r2.extra, r2.back += r2.extra;
                  }
                  if (r2.offset > r2.dmax) {
                    e2.msg = "invalid distance too far back", r2.mode = 30;
                    break;
                  }
                  r2.mode = 25;
                case 25:
                  if (0 === h2)
                    break e;
                  if (d = c2 - h2, r2.offset > d) {
                    if ((d = r2.offset - d) > r2.whave && r2.sane) {
                      e2.msg = "invalid distance too far back", r2.mode = 30;
                      break;
                    }
                    p = d > r2.wnext ? (d -= r2.wnext, r2.wsize - d) : r2.wnext - d, d > r2.length && (d = r2.length), m = r2.window;
                  } else
                    m = i2, p = a2 - r2.offset, d = r2.length;
                  for (h2 < d && (d = h2), h2 -= d, r2.length -= d; i2[a2++] = m[p++], --d; )
                    ;
                  0 === r2.length && (r2.mode = 21);
                  break;
                case 26:
                  if (0 === h2)
                    break e;
                  i2[a2++] = r2.length, h2--, r2.mode = 21;
                  break;
                case 27:
                  if (r2.wrap) {
                    for (; l2 < 32; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 |= n2[s2++] << l2, l2 += 8;
                    }
                    if (c2 -= h2, e2.total_out += c2, r2.total += c2, c2 && (e2.adler = r2.check = r2.flags ? B(r2.check, i2, c2, a2 - c2) : O(r2.check, i2, c2, a2 - c2)), c2 = h2, (r2.flags ? u2 : L(u2)) !== r2.check) {
                      e2.msg = "incorrect data check", r2.mode = 30;
                      break;
                    }
                    l2 = u2 = 0;
                  }
                  r2.mode = 28;
                case 28:
                  if (r2.wrap && r2.flags) {
                    for (; l2 < 32; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    if (u2 !== (4294967295 & r2.total)) {
                      e2.msg = "incorrect length check", r2.mode = 30;
                      break;
                    }
                    l2 = u2 = 0;
                  }
                  r2.mode = 29;
                case 29:
                  x = 1;
                  break e;
                case 30:
                  x = -3;
                  break e;
                case 31:
                  return -4;
                case 32:
                default:
                  return U;
              }
          return e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, (r2.wsize || c2 !== e2.avail_out && r2.mode < 30 && (r2.mode < 27 || 4 !== t2)) && Z(e2, e2.output, e2.next_out, c2 - e2.avail_out) ? (r2.mode = 31, -4) : (f2 -= e2.avail_in, c2 -= e2.avail_out, e2.total_in += f2, e2.total_out += c2, r2.total += c2, r2.wrap && c2 && (e2.adler = r2.check = r2.flags ? B(r2.check, i2, c2, e2.next_out - c2) : O(r2.check, i2, c2, e2.next_out - c2)), e2.data_type = r2.bits + (r2.last ? 64 : 0) + (12 === r2.mode ? 128 : 0) + (20 === r2.mode || 15 === r2.mode ? 256 : 0), (0 == f2 && 0 === c2 || 4 === t2) && x === N && (x = -5), x);
        }, r.inflateEnd = function(e2) {
          if (!e2 || !e2.state)
            return U;
          var t2 = e2.state;
          return t2.window && (t2.window = null), e2.state = null, N;
        }, r.inflateGetHeader = function(e2, t2) {
          var r2;
          return e2 && e2.state ? 0 == (2 & (r2 = e2.state).wrap) ? U : ((r2.head = t2).done = false, N) : U;
        }, r.inflateSetDictionary = function(e2, t2) {
          var r2, n2 = t2.length;
          return e2 && e2.state ? 0 !== (r2 = e2.state).wrap && 11 !== r2.mode ? U : 11 === r2.mode && O(1, t2, n2, 0) !== r2.check ? -3 : Z(e2, t2, n2, n2) ? (r2.mode = 31, -4) : (r2.havedict = 1, N) : U;
        }, r.inflateInfo = "pako inflate (from Nodeca project)";
      }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./inffast": 48, "./inftrees": 50 }], 50: [function(e, t, r) {
        "use strict";
        var D = e("../utils/common"), F = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], N = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], U = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], P = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
        t.exports = function(e2, t2, r2, n, i, s, a, o) {
          var h, u, l, f, c, d, p, m, _, g = o.bits, b = 0, v = 0, y = 0, w = 0, k = 0, x = 0, S = 0, z = 0, C = 0, E = 0, A = null, I = 0, O = new D.Buf16(16), B = new D.Buf16(16), R = null, T = 0;
          for (b = 0; b <= 15; b++)
            O[b] = 0;
          for (v = 0; v < n; v++)
            O[t2[r2 + v]]++;
          for (k = g, w = 15; 1 <= w && 0 === O[w]; w--)
            ;
          if (w < k && (k = w), 0 === w)
            return i[s++] = 20971520, i[s++] = 20971520, o.bits = 1, 0;
          for (y = 1; y < w && 0 === O[y]; y++)
            ;
          for (k < y && (k = y), b = z = 1; b <= 15; b++)
            if (z <<= 1, (z -= O[b]) < 0)
              return -1;
          if (0 < z && (0 === e2 || 1 !== w))
            return -1;
          for (B[1] = 0, b = 1; b < 15; b++)
            B[b + 1] = B[b] + O[b];
          for (v = 0; v < n; v++)
            0 !== t2[r2 + v] && (a[B[t2[r2 + v]]++] = v);
          if (d = 0 === e2 ? (A = R = a, 19) : 1 === e2 ? (A = F, I -= 257, R = N, T -= 257, 256) : (A = U, R = P, -1), b = y, c = s, S = v = E = 0, l = -1, f = (C = 1 << (x = k)) - 1, 1 === e2 && 852 < C || 2 === e2 && 592 < C)
            return 1;
          for (; ; ) {
            for (p = b - S, _ = a[v] < d ? (m = 0, a[v]) : a[v] > d ? (m = R[T + a[v]], A[I + a[v]]) : (m = 96, 0), h = 1 << b - S, y = u = 1 << x; i[c + (E >> S) + (u -= h)] = p << 24 | m << 16 | _ | 0, 0 !== u; )
              ;
            for (h = 1 << b - 1; E & h; )
              h >>= 1;
            if (0 !== h ? (E &= h - 1, E += h) : E = 0, v++, 0 == --O[b]) {
              if (b === w)
                break;
              b = t2[r2 + a[v]];
            }
            if (k < b && (E & f) !== l) {
              for (0 === S && (S = k), c += y, z = 1 << (x = b - S); x + S < w && !((z -= O[x + S]) <= 0); )
                x++, z <<= 1;
              if (C += 1 << x, 1 === e2 && 852 < C || 2 === e2 && 592 < C)
                return 1;
              i[l = E & f] = k << 24 | x << 16 | c - s | 0;
            }
          }
          return 0 !== E && (i[c + E] = b - S << 24 | 64 << 16 | 0), o.bits = k, 0;
        };
      }, { "../utils/common": 41 }], 51: [function(e, t, r) {
        "use strict";
        t.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
      }, {}], 52: [function(e, t, r) {
        "use strict";
        var i = e("../utils/common"), o = 0, h = 1;
        function n(e2) {
          for (var t2 = e2.length; 0 <= --t2; )
            e2[t2] = 0;
        }
        var s = 0, a = 29, u = 256, l = u + 1 + a, f = 30, c = 19, _ = 2 * l + 1, g = 15, d = 16, p = 7, m = 256, b = 16, v = 17, y = 18, w = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], k = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], x = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], S = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], z = new Array(2 * (l + 2));
        n(z);
        var C = new Array(2 * f);
        n(C);
        var E = new Array(512);
        n(E);
        var A = new Array(256);
        n(A);
        var I = new Array(a);
        n(I);
        var O, B, R, T = new Array(f);
        function D(e2, t2, r2, n2, i2) {
          this.static_tree = e2, this.extra_bits = t2, this.extra_base = r2, this.elems = n2, this.max_length = i2, this.has_stree = e2 && e2.length;
        }
        function F(e2, t2) {
          this.dyn_tree = e2, this.max_code = 0, this.stat_desc = t2;
        }
        function N(e2) {
          return e2 < 256 ? E[e2] : E[256 + (e2 >>> 7)];
        }
        function U(e2, t2) {
          e2.pending_buf[e2.pending++] = 255 & t2, e2.pending_buf[e2.pending++] = t2 >>> 8 & 255;
        }
        function P(e2, t2, r2) {
          e2.bi_valid > d - r2 ? (e2.bi_buf |= t2 << e2.bi_valid & 65535, U(e2, e2.bi_buf), e2.bi_buf = t2 >> d - e2.bi_valid, e2.bi_valid += r2 - d) : (e2.bi_buf |= t2 << e2.bi_valid & 65535, e2.bi_valid += r2);
        }
        function L(e2, t2, r2) {
          P(e2, r2[2 * t2], r2[2 * t2 + 1]);
        }
        function j(e2, t2) {
          for (var r2 = 0; r2 |= 1 & e2, e2 >>>= 1, r2 <<= 1, 0 < --t2; )
            ;
          return r2 >>> 1;
        }
        function Z(e2, t2, r2) {
          var n2, i2, s2 = new Array(g + 1), a2 = 0;
          for (n2 = 1; n2 <= g; n2++)
            s2[n2] = a2 = a2 + r2[n2 - 1] << 1;
          for (i2 = 0; i2 <= t2; i2++) {
            var o2 = e2[2 * i2 + 1];
            0 !== o2 && (e2[2 * i2] = j(s2[o2]++, o2));
          }
        }
        function W(e2) {
          var t2;
          for (t2 = 0; t2 < l; t2++)
            e2.dyn_ltree[2 * t2] = 0;
          for (t2 = 0; t2 < f; t2++)
            e2.dyn_dtree[2 * t2] = 0;
          for (t2 = 0; t2 < c; t2++)
            e2.bl_tree[2 * t2] = 0;
          e2.dyn_ltree[2 * m] = 1, e2.opt_len = e2.static_len = 0, e2.last_lit = e2.matches = 0;
        }
        function M(e2) {
          8 < e2.bi_valid ? U(e2, e2.bi_buf) : 0 < e2.bi_valid && (e2.pending_buf[e2.pending++] = e2.bi_buf), e2.bi_buf = 0, e2.bi_valid = 0;
        }
        function H(e2, t2, r2, n2) {
          var i2 = 2 * t2, s2 = 2 * r2;
          return e2[i2] < e2[s2] || e2[i2] === e2[s2] && n2[t2] <= n2[r2];
        }
        function G(e2, t2, r2) {
          for (var n2 = e2.heap[r2], i2 = r2 << 1; i2 <= e2.heap_len && (i2 < e2.heap_len && H(t2, e2.heap[i2 + 1], e2.heap[i2], e2.depth) && i2++, !H(t2, n2, e2.heap[i2], e2.depth)); )
            e2.heap[r2] = e2.heap[i2], r2 = i2, i2 <<= 1;
          e2.heap[r2] = n2;
        }
        function K(e2, t2, r2) {
          var n2, i2, s2, a2, o2 = 0;
          if (0 !== e2.last_lit)
            for (; n2 = e2.pending_buf[e2.d_buf + 2 * o2] << 8 | e2.pending_buf[e2.d_buf + 2 * o2 + 1], i2 = e2.pending_buf[e2.l_buf + o2], o2++, 0 === n2 ? L(e2, i2, t2) : (L(e2, (s2 = A[i2]) + u + 1, t2), 0 !== (a2 = w[s2]) && P(e2, i2 -= I[s2], a2), L(e2, s2 = N(--n2), r2), 0 !== (a2 = k[s2]) && P(e2, n2 -= T[s2], a2)), o2 < e2.last_lit; )
              ;
          L(e2, m, t2);
        }
        function Y(e2, t2) {
          var r2, n2, i2, s2 = t2.dyn_tree, a2 = t2.stat_desc.static_tree, o2 = t2.stat_desc.has_stree, h2 = t2.stat_desc.elems, u2 = -1;
          for (e2.heap_len = 0, e2.heap_max = _, r2 = 0; r2 < h2; r2++)
            0 !== s2[2 * r2] ? (e2.heap[++e2.heap_len] = u2 = r2, e2.depth[r2] = 0) : s2[2 * r2 + 1] = 0;
          for (; e2.heap_len < 2; )
            s2[2 * (i2 = e2.heap[++e2.heap_len] = u2 < 2 ? ++u2 : 0)] = 1, e2.depth[i2] = 0, e2.opt_len--, o2 && (e2.static_len -= a2[2 * i2 + 1]);
          for (t2.max_code = u2, r2 = e2.heap_len >> 1; 1 <= r2; r2--)
            G(e2, s2, r2);
          for (i2 = h2; r2 = e2.heap[1], e2.heap[1] = e2.heap[e2.heap_len--], G(e2, s2, 1), n2 = e2.heap[1], e2.heap[--e2.heap_max] = r2, e2.heap[--e2.heap_max] = n2, s2[2 * i2] = s2[2 * r2] + s2[2 * n2], e2.depth[i2] = (e2.depth[r2] >= e2.depth[n2] ? e2.depth[r2] : e2.depth[n2]) + 1, s2[2 * r2 + 1] = s2[2 * n2 + 1] = i2, e2.heap[1] = i2++, G(e2, s2, 1), 2 <= e2.heap_len; )
            ;
          e2.heap[--e2.heap_max] = e2.heap[1], function(e3, t3) {
            var r3, n3, i3, s3, a3, o3, h3 = t3.dyn_tree, u3 = t3.max_code, l2 = t3.stat_desc.static_tree, f2 = t3.stat_desc.has_stree, c2 = t3.stat_desc.extra_bits, d2 = t3.stat_desc.extra_base, p2 = t3.stat_desc.max_length, m2 = 0;
            for (s3 = 0; s3 <= g; s3++)
              e3.bl_count[s3] = 0;
            for (h3[2 * e3.heap[e3.heap_max] + 1] = 0, r3 = e3.heap_max + 1; r3 < _; r3++)
              p2 < (s3 = h3[2 * h3[2 * (n3 = e3.heap[r3]) + 1] + 1] + 1) && (s3 = p2, m2++), h3[2 * n3 + 1] = s3, u3 < n3 || (e3.bl_count[s3]++, a3 = 0, d2 <= n3 && (a3 = c2[n3 - d2]), o3 = h3[2 * n3], e3.opt_len += o3 * (s3 + a3), f2 && (e3.static_len += o3 * (l2[2 * n3 + 1] + a3)));
            if (0 !== m2) {
              do {
                for (s3 = p2 - 1; 0 === e3.bl_count[s3]; )
                  s3--;
                e3.bl_count[s3]--, e3.bl_count[s3 + 1] += 2, e3.bl_count[p2]--, m2 -= 2;
              } while (0 < m2);
              for (s3 = p2; 0 !== s3; s3--)
                for (n3 = e3.bl_count[s3]; 0 !== n3; )
                  u3 < (i3 = e3.heap[--r3]) || (h3[2 * i3 + 1] !== s3 && (e3.opt_len += (s3 - h3[2 * i3 + 1]) * h3[2 * i3], h3[2 * i3 + 1] = s3), n3--);
            }
          }(e2, t2), Z(s2, u2, e2.bl_count);
        }
        function X(e2, t2, r2) {
          var n2, i2, s2 = -1, a2 = t2[1], o2 = 0, h2 = 7, u2 = 4;
          for (0 === a2 && (h2 = 138, u2 = 3), t2[2 * (r2 + 1) + 1] = 65535, n2 = 0; n2 <= r2; n2++)
            i2 = a2, a2 = t2[2 * (n2 + 1) + 1], ++o2 < h2 && i2 === a2 || (o2 < u2 ? e2.bl_tree[2 * i2] += o2 : 0 !== i2 ? (i2 !== s2 && e2.bl_tree[2 * i2]++, e2.bl_tree[2 * b]++) : o2 <= 10 ? e2.bl_tree[2 * v]++ : e2.bl_tree[2 * y]++, s2 = i2, u2 = (o2 = 0) === a2 ? (h2 = 138, 3) : i2 === a2 ? (h2 = 6, 3) : (h2 = 7, 4));
        }
        function V(e2, t2, r2) {
          var n2, i2, s2 = -1, a2 = t2[1], o2 = 0, h2 = 7, u2 = 4;
          for (0 === a2 && (h2 = 138, u2 = 3), n2 = 0; n2 <= r2; n2++)
            if (i2 = a2, a2 = t2[2 * (n2 + 1) + 1], !(++o2 < h2 && i2 === a2)) {
              if (o2 < u2)
                for (; L(e2, i2, e2.bl_tree), 0 != --o2; )
                  ;
              else
                0 !== i2 ? (i2 !== s2 && (L(e2, i2, e2.bl_tree), o2--), L(e2, b, e2.bl_tree), P(e2, o2 - 3, 2)) : o2 <= 10 ? (L(e2, v, e2.bl_tree), P(e2, o2 - 3, 3)) : (L(e2, y, e2.bl_tree), P(e2, o2 - 11, 7));
              s2 = i2, u2 = (o2 = 0) === a2 ? (h2 = 138, 3) : i2 === a2 ? (h2 = 6, 3) : (h2 = 7, 4);
            }
        }
        n(T);
        var q = false;
        function J(e2, t2, r2, n2) {
          P(e2, (s << 1) + (n2 ? 1 : 0), 3), function(e3, t3, r3, n3) {
            M(e3), n3 && (U(e3, r3), U(e3, ~r3)), i.arraySet(e3.pending_buf, e3.window, t3, r3, e3.pending), e3.pending += r3;
          }(e2, t2, r2, true);
        }
        r._tr_init = function(e2) {
          q || (function() {
            var e3, t2, r2, n2, i2, s2 = new Array(g + 1);
            for (n2 = r2 = 0; n2 < a - 1; n2++)
              for (I[n2] = r2, e3 = 0; e3 < 1 << w[n2]; e3++)
                A[r2++] = n2;
            for (A[r2 - 1] = n2, n2 = i2 = 0; n2 < 16; n2++)
              for (T[n2] = i2, e3 = 0; e3 < 1 << k[n2]; e3++)
                E[i2++] = n2;
            for (i2 >>= 7; n2 < f; n2++)
              for (T[n2] = i2 << 7, e3 = 0; e3 < 1 << k[n2] - 7; e3++)
                E[256 + i2++] = n2;
            for (t2 = 0; t2 <= g; t2++)
              s2[t2] = 0;
            for (e3 = 0; e3 <= 143; )
              z[2 * e3 + 1] = 8, e3++, s2[8]++;
            for (; e3 <= 255; )
              z[2 * e3 + 1] = 9, e3++, s2[9]++;
            for (; e3 <= 279; )
              z[2 * e3 + 1] = 7, e3++, s2[7]++;
            for (; e3 <= 287; )
              z[2 * e3 + 1] = 8, e3++, s2[8]++;
            for (Z(z, l + 1, s2), e3 = 0; e3 < f; e3++)
              C[2 * e3 + 1] = 5, C[2 * e3] = j(e3, 5);
            O = new D(z, w, u + 1, l, g), B = new D(C, k, 0, f, g), R = new D(new Array(0), x, 0, c, p);
          }(), q = true), e2.l_desc = new F(e2.dyn_ltree, O), e2.d_desc = new F(e2.dyn_dtree, B), e2.bl_desc = new F(e2.bl_tree, R), e2.bi_buf = 0, e2.bi_valid = 0, W(e2);
        }, r._tr_stored_block = J, r._tr_flush_block = function(e2, t2, r2, n2) {
          var i2, s2, a2 = 0;
          0 < e2.level ? (2 === e2.strm.data_type && (e2.strm.data_type = function(e3) {
            var t3, r3 = 4093624447;
            for (t3 = 0; t3 <= 31; t3++, r3 >>>= 1)
              if (1 & r3 && 0 !== e3.dyn_ltree[2 * t3])
                return o;
            if (0 !== e3.dyn_ltree[18] || 0 !== e3.dyn_ltree[20] || 0 !== e3.dyn_ltree[26])
              return h;
            for (t3 = 32; t3 < u; t3++)
              if (0 !== e3.dyn_ltree[2 * t3])
                return h;
            return o;
          }(e2)), Y(e2, e2.l_desc), Y(e2, e2.d_desc), a2 = function(e3) {
            var t3;
            for (X(e3, e3.dyn_ltree, e3.l_desc.max_code), X(e3, e3.dyn_dtree, e3.d_desc.max_code), Y(e3, e3.bl_desc), t3 = c - 1; 3 <= t3 && 0 === e3.bl_tree[2 * S[t3] + 1]; t3--)
              ;
            return e3.opt_len += 3 * (t3 + 1) + 5 + 5 + 4, t3;
          }(e2), i2 = e2.opt_len + 3 + 7 >>> 3, (s2 = e2.static_len + 3 + 7 >>> 3) <= i2 && (i2 = s2)) : i2 = s2 = r2 + 5, r2 + 4 <= i2 && -1 !== t2 ? J(e2, t2, r2, n2) : 4 === e2.strategy || s2 === i2 ? (P(e2, 2 + (n2 ? 1 : 0), 3), K(e2, z, C)) : (P(e2, 4 + (n2 ? 1 : 0), 3), function(e3, t3, r3, n3) {
            var i3;
            for (P(e3, t3 - 257, 5), P(e3, r3 - 1, 5), P(e3, n3 - 4, 4), i3 = 0; i3 < n3; i3++)
              P(e3, e3.bl_tree[2 * S[i3] + 1], 3);
            V(e3, e3.dyn_ltree, t3 - 1), V(e3, e3.dyn_dtree, r3 - 1);
          }(e2, e2.l_desc.max_code + 1, e2.d_desc.max_code + 1, a2 + 1), K(e2, e2.dyn_ltree, e2.dyn_dtree)), W(e2), n2 && M(e2);
        }, r._tr_tally = function(e2, t2, r2) {
          return e2.pending_buf[e2.d_buf + 2 * e2.last_lit] = t2 >>> 8 & 255, e2.pending_buf[e2.d_buf + 2 * e2.last_lit + 1] = 255 & t2, e2.pending_buf[e2.l_buf + e2.last_lit] = 255 & r2, e2.last_lit++, 0 === t2 ? e2.dyn_ltree[2 * r2]++ : (e2.matches++, t2--, e2.dyn_ltree[2 * (A[r2] + u + 1)]++, e2.dyn_dtree[2 * N(t2)]++), e2.last_lit === e2.lit_bufsize - 1;
        }, r._tr_align = function(e2) {
          P(e2, 2, 3), L(e2, m, z), function(e3) {
            16 === e3.bi_valid ? (U(e3, e3.bi_buf), e3.bi_buf = 0, e3.bi_valid = 0) : 8 <= e3.bi_valid && (e3.pending_buf[e3.pending++] = 255 & e3.bi_buf, e3.bi_buf >>= 8, e3.bi_valid -= 8);
          }(e2);
        };
      }, { "../utils/common": 41 }], 53: [function(e, t, r) {
        "use strict";
        t.exports = function() {
          this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
        };
      }, {}], 54: [function(e, t, r) {
        (function(e2) {
          !function(r2, n) {
            "use strict";
            if (!r2.setImmediate) {
              var i, s, t2, a, o = 1, h = {}, u = false, l = r2.document, e3 = Object.getPrototypeOf && Object.getPrototypeOf(r2);
              e3 = e3 && e3.setTimeout ? e3 : r2, i = "[object process]" === {}.toString.call(r2.process) ? function(e4) {
                process.nextTick(function() {
                  c(e4);
                });
              } : function() {
                if (r2.postMessage && !r2.importScripts) {
                  var e4 = true, t3 = r2.onmessage;
                  return r2.onmessage = function() {
                    e4 = false;
                  }, r2.postMessage("", "*"), r2.onmessage = t3, e4;
                }
              }() ? (a = "setImmediate$" + Math.random() + "$", r2.addEventListener ? r2.addEventListener("message", d, false) : r2.attachEvent("onmessage", d), function(e4) {
                r2.postMessage(a + e4, "*");
              }) : r2.MessageChannel ? ((t2 = new MessageChannel()).port1.onmessage = function(e4) {
                c(e4.data);
              }, function(e4) {
                t2.port2.postMessage(e4);
              }) : l && "onreadystatechange" in l.createElement("script") ? (s = l.documentElement, function(e4) {
                var t3 = l.createElement("script");
                t3.onreadystatechange = function() {
                  c(e4), t3.onreadystatechange = null, s.removeChild(t3), t3 = null;
                }, s.appendChild(t3);
              }) : function(e4) {
                setTimeout(c, 0, e4);
              }, e3.setImmediate = function(e4) {
                "function" != typeof e4 && (e4 = new Function("" + e4));
                for (var t3 = new Array(arguments.length - 1), r3 = 0; r3 < t3.length; r3++)
                  t3[r3] = arguments[r3 + 1];
                var n2 = { callback: e4, args: t3 };
                return h[o] = n2, i(o), o++;
              }, e3.clearImmediate = f;
            }
            function f(e4) {
              delete h[e4];
            }
            function c(e4) {
              if (u)
                setTimeout(c, 0, e4);
              else {
                var t3 = h[e4];
                if (t3) {
                  u = true;
                  try {
                    !function(e5) {
                      var t4 = e5.callback, r3 = e5.args;
                      switch (r3.length) {
                        case 0:
                          t4();
                          break;
                        case 1:
                          t4(r3[0]);
                          break;
                        case 2:
                          t4(r3[0], r3[1]);
                          break;
                        case 3:
                          t4(r3[0], r3[1], r3[2]);
                          break;
                        default:
                          t4.apply(n, r3);
                      }
                    }(t3);
                  } finally {
                    f(e4), u = false;
                  }
                }
              }
            }
            function d(e4) {
              e4.source === r2 && "string" == typeof e4.data && 0 === e4.data.indexOf(a) && c(+e4.data.slice(a.length));
            }
          }("undefined" == typeof self ? void 0 === e2 ? this : e2 : self);
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, {}] }, {}, [10])(10);
    });
  }
});

// src/logger.ts
var LogLevel, Logger;
var init_logger = __esm({
  "src/logger.ts"() {
    "use strict";
    LogLevel = /* @__PURE__ */ ((LogLevel2) => {
      LogLevel2[LogLevel2["INFO"] = 0] = "INFO";
      LogLevel2[LogLevel2["WARN"] = 1] = "WARN";
      LogLevel2[LogLevel2["ERROR"] = 2] = "ERROR";
      return LogLevel2;
    })(LogLevel || {});
    Logger = class {
      logToConsole(level, message, details) {
        console.log(`[Nexus AI Chat Importer] [${LogLevel[level]}] ${message}`);
      }
      info(message, details) {
        console.log(`[Nexus AI Chat Importer] [INFO] ${message}`);
      }
      warn(message, details) {
        console.warn(`[Nexus AI Chat Importer] [WARN] ${message}`);
      }
      error(message, details) {
        console.error(`[Nexus AI Chat Importer] [ERROR] ${message}`);
      }
    };
  }
});

// src/utils.ts
var utils_exports = {};
__export(utils_exports, {
  addPrefix: () => addPrefix,
  checkConversationLink: () => checkConversationLink,
  createDatePrefix: () => createDatePrefix,
  doesFilePathExist: () => doesFilePathExist,
  ensureFolderExists: () => ensureFolderExists,
  formatTimestamp: () => formatTimestamp,
  formatTitle: () => formatTitle,
  generateConversationFileName: () => generateConversationFileName,
  generateFileName: () => generateFileName,
  generateSafeAlias: () => generateSafeAlias,
  generateUniqueFileName: () => generateUniqueFileName,
  generateYearMonthFolder: () => generateYearMonthFolder,
  getFileHash: () => getFileHash,
  isCustomError: () => isCustomError,
  isNexusRelated: () => isNexusRelated,
  isValidMessage: () => isValidMessage,
  old_getConversationId: () => old_getConversationId
});
function formatTimestamp(unixTime, format) {
  const date = (0, import_obsidian8.moment)(unixTime * 1e3);
  switch (format) {
    case "prefix":
      return date.format("YYYYMMDD");
    case "date":
      return date.format("L");
    case "time":
      return date.format("LTS");
  }
}
function generateYearMonthFolder(unixTime) {
  const date = new Date(unixTime * 1e3);
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  return `${year}/${month}`;
}
function formatTitle(title) {
  return title.trim() || "Untitled";
}
function generateFileName(title) {
  let fileName = formatTitle(title).normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[<>:"\/\\|?*\n\r]+/g, "").replace(/\.{2,}/g, ".").trim();
  fileName = fileName.replace(/^[^\w\d\s]+/, "");
  fileName = fileName.replace(/\s+/g, " ").trim();
  if (!fileName || fileName.length === 0) {
    fileName = "Untitled";
  }
  if (fileName.startsWith(".")) {
    fileName = fileName.substring(1);
  }
  if (!fileName || fileName.length === 0) {
    fileName = "Untitled";
  }
  return fileName;
}
function addPrefix(filename, timeStamp, dateFormat) {
  const timeStampStr = formatTimestamp(timeStamp, dateFormat);
  if (timeStampStr) {
    filename = `${timeStampStr} - ${filename}`;
  }
  return filename;
}
function createDatePrefix(timeStamp, dateFormat) {
  const date = new Date(timeStamp * 1e3);
  let prefix = "";
  if (dateFormat === "YYYY-MM-DD") {
    prefix = date.toISOString().split("T")[0];
  } else if (dateFormat === "YYYYMMDD") {
    prefix = date.toISOString().split("T")[0].replace(/-/g, "");
  }
  return prefix;
}
async function generateUniqueFileName(filePath, vaultAdapter) {
  let uniqueFileName = filePath;
  const baseName = filePath.replace(/\.md$/, "");
  let counter = 1;
  while (await vaultAdapter.exists(uniqueFileName)) {
    uniqueFileName = `${baseName} (${counter++}).md`;
  }
  return uniqueFileName;
}
async function doesFilePathExist(filePath, vault) {
  const file = vault.getAbstractFileByPath(filePath);
  return file !== null;
}
async function getFileHash(file) {
  const buffer = await file.arrayBuffer();
  const hashBuffer = await crypto.subtle.digest("SHA-256", buffer);
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  return hashArray.map((b) => b.toString(16).padStart(2, "0")).join("");
}
function generateConversationFileName(chatTitle, createTime, addDatePrefix, dateFormat) {
  const date = new Date(createTime * 1e3);
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  let fileName = generateFileName(chatTitle);
  if (addDatePrefix) {
    const day = String(date.getDate()).padStart(2, "0");
    let prefix = "";
    if (dateFormat === "YYYY-MM-DD") {
      prefix = `${year}-${month}-${day}`;
    } else if (dateFormat === "YYYYMMDD") {
      prefix = `${year}${month}${day}`;
    }
    fileName = `${prefix} - ${fileName}`;
  }
  return fileName;
}
function generateSafeAlias(title) {
  if (!title || typeof title !== "string") {
    return "Untitled";
  }
  let cleanName = title.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[<>\/\\|?*\n\r]+/g, "").replace(/\.{2,}/g, ".").trim();
  cleanName = cleanName.replace(/^[^\w\d\s"']+/, "");
  cleanName = cleanName.replace(/\s+/g, " ").trim();
  if (!cleanName || cleanName.length === 0) {
    cleanName = "Untitled";
  }
  if (cleanName.startsWith(".")) {
    cleanName = cleanName.substring(1);
  }
  if (!cleanName || cleanName.length === 0) {
    cleanName = "Untitled";
  }
  const needsQuotes = /^(true|false|null|yes|no|on|off|\d+|\d*\.\d+)$/i.test(cleanName) || cleanName.includes('"') || cleanName.startsWith("#") || cleanName.startsWith("&") || cleanName.startsWith("*") || cleanName.startsWith("!") || cleanName.startsWith("|") || cleanName.startsWith(">") || cleanName.startsWith("%") || cleanName.startsWith("@") || cleanName.startsWith("`");
  if (needsQuotes) {
    return `'${cleanName.replace(/'/g, "''")}'`;
  }
  return cleanName;
}
function isValidMessage(message) {
  return message && typeof message === "object" && message.content && typeof message.content === "object" && Array.isArray(message.content.parts) && message.content.parts.length > 0 && message.content.parts.some(
    (part) => {
      if (typeof part === "string" && part.trim() !== "") {
        return true;
      }
      if (typeof part === "object" && part !== null) {
        if (part.content_type === "audio_transcription" && part.text && part.text.trim() !== "") {
          return true;
        }
        if (part.content_type === "text" && part.text && part.text.trim() !== "") {
          return true;
        }
        if (part.content_type === "multimodal_text" && part.text && part.text.trim() !== "") {
          return true;
        }
      }
      return false;
    }
  );
}
function isCustomError(error) {
  return error && typeof error.message === "string";
}
async function ensureFolderExists(folderPath, vault) {
  const folders = folderPath.split("/").filter((p) => p.length);
  let currentPath = "";
  for (const folder of folders) {
    currentPath += folder + "/";
    const currentFolder = vault.getAbstractFileByPath(currentPath);
    if (!currentFolder) {
      try {
        await vault.createFolder(currentPath);
      } catch (error) {
        if (error.message !== "Folder already exists.") {
          logger.error(
            `Failed to create folder: ${currentPath}`,
            error.message
          );
          return {
            success: false,
            error: `Failed to create folder: ${currentPath}. Reason: ${error.message}`
          };
        }
      }
    }
  }
  return { success: true };
}
async function checkConversationLink(conversationId, provider = "chatgpt") {
  let url;
  switch (provider) {
    case "chatgpt":
      url = `https://chatgpt.com/c/${conversationId}`;
      break;
    case "claude":
      url = `https://claude.ai/chat/${conversationId}`;
      break;
    default:
      logger.error(`Unknown provider for link checking: ${provider}`);
      return false;
  }
  try {
    const response = await (0, import_obsidian9.requestUrl)({
      url,
      method: "HEAD"
    });
    return response.status >= 200 && response.status < 300;
  } catch (error) {
    logger.error(`Error fetching ${url}:`, error);
    return false;
  }
}
function old_getConversationId(app) {
  var _a;
  const activeFile = app.workspace.getActiveFile();
  if (activeFile) {
    const frontmatter = (_a = app.metadataCache.getFileCache(activeFile)) == null ? void 0 : _a.frontmatter;
    return frontmatter == null ? void 0 : frontmatter.conversation_id;
  }
  return void 0;
}
function isNexusRelated(file, app) {
  var _a;
  const frontmatter = (_a = app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
  return (frontmatter == null ? void 0 : frontmatter.nexus) === "nexus-ai-chat-importer";
}
var import_obsidian8, import_obsidian9, logger;
var init_utils = __esm({
  "src/utils.ts"() {
    "use strict";
    import_obsidian8 = require("obsidian");
    init_logger();
    import_obsidian9 = require("obsidian");
    logger = new Logger();
  }
});

// src/dialogs.ts
function displayModal(app, title, paragraphs, note) {
  const modal = new import_obsidian10.Modal(app);
  modal.contentEl.addClass("nexus-ai-chat-importer-modal");
  const titleEl = modal.contentEl.createEl("h2", {
    text: title,
    cls: "modal-title"
  });
  const contentContainer = modal.contentEl.createDiv({ cls: "modal-content" });
  paragraphs.forEach((paragraph, paragraphIndex) => {
    const paragraphWithSpacing = paragraph + "\n\n";
    const paragraphDiv = contentContainer.createDiv({ cls: "modal-paragraph" });
    const sections = paragraphWithSpacing.split("\n\n").filter((section) => section.trim() !== "");
    sections.forEach((section, sectionIndex) => {
      const sectionDiv = paragraphDiv.createDiv({ cls: "modal-section" });
      const lines = section.split("\n").filter((line) => line.trim() !== "");
      lines.forEach((line) => {
        const lineDiv = sectionDiv.createDiv({ cls: "modal-line" });
        let htmlContent = line.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="external-link" target="_blank">$1</a>').replace(/\*\*([^*]+)\*\*/g, "<strong>$1</strong>").replace(/\*([^*]+)\*/g, "<em>$1</em>");
        if (line.trim().endsWith(":") && line.trim().length < 30) {
          lineDiv.innerHTML = `<strong class="section-header">${htmlContent}</strong>`;
        } else if (line.trim().startsWith("\u2022") || line.trim().startsWith("-")) {
          lineDiv.innerHTML = htmlContent;
          lineDiv.addClass("modal-list-item");
        } else {
          lineDiv.innerHTML = htmlContent;
        }
      });
      if (sectionIndex < sections.length - 1) {
        paragraphDiv.createDiv({ cls: "modal-section-break" });
      }
    });
  });
  if (note) {
    contentContainer.createDiv({ cls: "modal-major-break" });
    const noteDiv = contentContainer.createDiv({ cls: "modal-note" });
    let noteContent = note.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="external-link" target="_blank">$1</a>').replace(/\*\*([^*]+)\*\*/g, "<strong>$1</strong>").replace(/\*([^*]+)\*/g, "<em>$1</em>");
    noteDiv.innerHTML = noteContent;
  }
  return modal;
}
function addButtons(modal, type, resolve, customLabels) {
  const buttonContainer = modal.contentEl.createDiv({ cls: "modal-button-container" });
  if (type === "information") {
    const buttonLabel = (customLabels == null ? void 0 : customLabels.button1) || "Understood";
    const button = buttonContainer.createEl("button", {
      text: buttonLabel,
      cls: "mod-cta"
      // Obsidian's primary button class
    });
    button.addEventListener("click", () => {
      modal.close();
      resolve(true);
    });
  } else {
    const noLabel = (customLabels == null ? void 0 : customLabels.button2) || "No";
    const yesLabel = (customLabels == null ? void 0 : customLabels.button1) || "Yes";
    const noButton = buttonContainer.createEl("button", {
      text: noLabel,
      cls: "mod-muted"
      // Obsidian's secondary button class
    });
    noButton.addEventListener("click", () => {
      modal.close();
      resolve(false);
    });
    const yesButton = buttonContainer.createEl("button", {
      text: yesLabel,
      cls: "mod-cta"
      // Obsidian's primary button class
    });
    yesButton.addEventListener("click", () => {
      modal.close();
      resolve(true);
    });
  }
}
async function showDialog(app, type, title, paragraphs, note, customLabels) {
  return new Promise((resolve) => {
    const modal = displayModal(app, title, paragraphs, note);
    addButtons(modal, type, resolve, customLabels);
    modal.open();
  });
}
var import_obsidian10;
var init_dialogs = __esm({
  "src/dialogs.ts"() {
    "use strict";
    import_obsidian10 = require("obsidian");
  }
});

// src/upgrade/utils/version-utils.ts
var VersionUtils;
var init_version_utils = __esm({
  "src/upgrade/utils/version-utils.ts"() {
    "use strict";
    VersionUtils = class {
      /**
       * Parse version string into components
       */
      static parseVersion(version) {
        const parts = version.split(".").map(Number);
        return {
          major: parts[0] || 0,
          minor: parts[1] || 0,
          patch: parts[2] || 0,
          original: version
        };
      }
      /**
       * Compare two versions
       * Returns: -1 (v1 < v2), 0 (v1 = v2), 1 (v1 > v2)
       */
      static compareVersions(version1, version2) {
        const v1 = this.parseVersion(version1);
        const v2 = this.parseVersion(version2);
        if (v1.major !== v2.major)
          return v1.major - v2.major;
        if (v1.minor !== v2.minor)
          return v1.minor - v2.minor;
        return v1.patch - v2.patch;
      }
      /**
       * Check if version is in range [min, max]
       */
      static isInRange(version, minVersion, maxVersion) {
        const isAboveMin = this.compareVersions(version, minVersion) >= 0;
        if (!maxVersion)
          return isAboveMin;
        const isBelowMax = this.compareVersions(version, maxVersion) <= 0;
        return isAboveMin && isBelowMax;
      }
      /**
       * Check if migration should run based on version range
       */
      static shouldRunMigration(fromVersion, toVersion, migrationFromVersion, migrationToVersion) {
        const userFrom = this.parseVersion(fromVersion);
        const userTo = this.parseVersion(toVersion);
        const migrationFrom = this.parseVersion(migrationFromVersion);
        const migrationTo = migrationToVersion ? this.parseVersion(migrationToVersion) : userTo;
        const wasInRange = this.compareVersions(fromVersion, migrationFromVersion) >= 0;
        const isUpgradingTo = this.compareVersions(toVersion, migrationTo.original) >= 0;
        return wasInRange && isUpgradingTo;
      }
      /**
       * Get all versions between two versions (for sequential migrations)
       */
      static getVersionsInRange(fromVersion, toVersion, availableVersions) {
        return availableVersions.filter(
          (v) => this.compareVersions(v, fromVersion) > 0 && this.compareVersions(v, toVersion) <= 0
        ).sort((a, b) => this.compareVersions(a, b));
      }
      /**
       * Format version for display
       */
      static formatVersion(version) {
        const parsed = this.parseVersion(version);
        return `v${parsed.major}.${parsed.minor}.${parsed.patch}`;
      }
    };
  }
});

// src/upgrade/upgrade-interface.ts
var logger2, UpgradeOperation, VersionUpgrade;
var init_upgrade_interface = __esm({
  "src/upgrade/upgrade-interface.ts"() {
    "use strict";
    init_version_utils();
    init_dialogs();
    init_logger();
    logger2 = new Logger();
    UpgradeOperation = class {
      /**
       * Check if operation can run (prerequisites)
       */
      async canRun(context) {
        return true;
      }
      /**
       * Verify operation completed successfully
       */
      async verify(context) {
        return true;
      }
    };
    VersionUpgrade = class {
      /**
       * Check if this upgrade should run for the version range
       */
      shouldRun(fromVersion, toVersion) {
        return VersionUtils.compareVersions(toVersion, this.version) >= 0 && VersionUtils.compareVersions(fromVersion, this.version) < 0;
      }
      /**
       * Execute all automatic operations
       */
      async executeAutomaticOperations(context) {
        const results = [];
        let allSuccess = true;
        for (const operation of this.automaticOperations) {
          try {
            if (await this.isOperationCompleted(operation.id, context)) {
              results.push({
                operationId: operation.id,
                result: { success: true, message: "Already completed" }
              });
              continue;
            }
            if (!await operation.canRun(context)) {
              results.push({
                operationId: operation.id,
                result: { success: false, message: "Prerequisites not met" }
              });
              allSuccess = false;
              continue;
            }
            const result = await operation.execute(context);
            results.push({ operationId: operation.id, result });
            if (result.success) {
              await this.markOperationCompleted(operation.id, context);
            } else {
              allSuccess = false;
            }
          } catch (error) {
            const errorResult = {
              success: false,
              message: `Operation failed: ${error}`,
              details: { error: String(error) }
            };
            results.push({ operationId: operation.id, result: errorResult });
            allSuccess = false;
          }
        }
        return { success: allSuccess, results };
      }
      /**
       * Show manual operations dialog and execute selected ones
       */
      async showManualOperationsDialog(context) {
        const availableOperations = [];
        for (const operation of this.manualOperations) {
          if (!await this.isOperationCompleted(operation.id, context) && await operation.canRun(context)) {
            availableOperations.push(operation);
          }
        }
        if (availableOperations.length === 0) {
          return { success: true, results: [] };
        }
        const paragraphs = [
          `**Version ${this.version} Manual Operations**`,
          "The following optional operations are available:",
          "",
          ...availableOperations.map((op) => `\u2022 **${op.name}**: ${op.description}`)
        ];
        const shouldExecute = await showDialog(
          context.plugin.app,
          "confirmation",
          `Optional Operations - v${this.version}`,
          paragraphs,
          "These operations are optional and can be run later from Settings \u2192 Migrations",
          { button1: "Run All Now", button2: "Skip (Run Later)" }
        );
        const results = [];
        if (shouldExecute) {
          for (const operation of availableOperations) {
            try {
              const result = await operation.execute(context);
              results.push({ operationId: operation.id, result });
              if (result.success) {
                await this.markOperationCompleted(operation.id, context);
              }
            } catch (error) {
              const errorResult = {
                success: false,
                message: `Operation failed: ${error}`,
                details: { error: String(error) }
              };
              results.push({ operationId: operation.id, result: errorResult });
            }
          }
        }
        return {
          success: results.every((r) => r.result.success),
          results
        };
      }
      /**
       * Get manual operations status for settings UI
       */
      async getManualOperationsStatus(context) {
        const status = [];
        for (const operation of this.manualOperations) {
          const completed = await this.isOperationCompleted(operation.id, context);
          const canRun = !completed && await operation.canRun(context);
          status.push({
            operation,
            completed,
            canRun
          });
        }
        return status;
      }
      /**
       * Execute single manual operation (from settings)
       */
      async executeManualOperation(operationId, context) {
        const operation = this.manualOperations.find((op) => op.id === operationId);
        if (!operation) {
          return { success: false, message: "Operation not found" };
        }
        if (await this.isOperationCompleted(operation.id, context)) {
          return { success: true, message: "Already completed" };
        }
        if (!await operation.canRun(context)) {
          return { success: false, message: "Prerequisites not met" };
        }
        try {
          const result = await operation.execute(context);
          if (result.success) {
            await this.markOperationCompleted(operation.id, context);
          }
          return result;
        } catch (error) {
          return {
            success: false,
            message: `Operation failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Check if operation was completed using structured upgrade history
       */
      async isOperationCompleted(operationId, context) {
        var _a, _b, _c;
        const data = await context.plugin.loadData();
        const operationKey = `operation_${this.version.replace(/\./g, "_")}_${operationId}`;
        return ((_c = (_b = (_a = data == null ? void 0 : data.upgradeHistory) == null ? void 0 : _a.completedOperations) == null ? void 0 : _b[operationKey]) == null ? void 0 : _c.completed) || false;
      }
      /**
       * Mark operation as completed using structured upgrade history
       */
      async markOperationCompleted(operationId, context) {
        const data = await context.plugin.loadData() || {};
        if (!data.upgradeHistory) {
          data.upgradeHistory = {
            completedUpgrades: {},
            completedOperations: {}
          };
        }
        const operationKey = `operation_${this.version.replace(/\./g, "_")}_${operationId}`;
        data.upgradeHistory.completedOperations[operationKey] = {
          operationId,
          version: this.version,
          date: new Date().toISOString(),
          completed: true
        };
        await context.plugin.saveData(data);
        logger2.info(`Marked operation ${operationId} (v${this.version}) as completed`);
      }
    };
  }
});

// src/upgrade/versions/upgrade-1.1.0.ts
var upgrade_1_1_0_exports = {};
__export(upgrade_1_1_0_exports, {
  Upgrade110: () => Upgrade110
});
var DeleteCatalogOperation, CleanMetadataOperation, Upgrade110;
var init_upgrade_1_1_0 = __esm({
  "src/upgrade/versions/upgrade-1.1.0.ts"() {
    "use strict";
    init_upgrade_interface();
    DeleteCatalogOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "delete-catalog";
        this.name = "Delete Old Catalog";
        this.description = "Remove legacy conversation catalog data";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const data = await context.plugin.loadData();
          const catalog = data == null ? void 0 : data.conversationCatalog;
          const hasData = catalog && typeof catalog === "object" && Object.keys(catalog).length > 0;
          console.debug(`[NEXUS-DEBUG] DeleteCatalog.canRun: catalog exists=${!!catalog}, hasData=${hasData}`);
          if (catalog) {
            console.debug(`[NEXUS-DEBUG] DeleteCatalog.canRun: catalog size=${Object.keys(catalog).length}`);
          }
          return hasData;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] DeleteCatalog.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] DeleteCatalog.execute starting`);
          const data = await context.plugin.loadData();
          const catalog = (data == null ? void 0 : data.conversationCatalog) || {};
          const catalogSize = Object.keys(catalog).length;
          if (catalogSize === 0) {
            console.debug(`[NEXUS-DEBUG] DeleteCatalog: No catalog to delete`);
            return {
              success: true,
              message: "No legacy catalog found to delete"
            };
          }
          const existingImportedArchives = data == null ? void 0 : data.importedArchives;
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: Preserving importedArchives:`, existingImportedArchives);
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: importedArchives type:`, typeof existingImportedArchives);
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: importedArchives keys:`, existingImportedArchives ? Object.keys(existingImportedArchives).length : 0);
          const cleanedData = {
            settings: data.settings || context.plugin.settings,
            // CRITICAL FIX: Force preservation of importedArchives
            importedArchives: existingImportedArchives || {},
            upgradeHistory: data.upgradeHistory || {
              completedUpgrades: {},
              completedOperations: {}
            },
            // Remove conversationCatalog - key change
            catalogDeletionDate: new Date().toISOString(),
            catalogDeletionStats: { entriesDeleted: catalogSize }
          };
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: cleanedData.importedArchives keys:`, Object.keys(cleanedData.importedArchives).length);
          await context.plugin.saveData(cleanedData);
          const verifyData = await context.plugin.loadData();
          const verifyArchives = (verifyData == null ? void 0 : verifyData.importedArchives) || {};
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: After save, importedArchives keys:`, Object.keys(verifyArchives).length);
          if (Object.keys(verifyArchives).length === 0 && Object.keys(existingImportedArchives || {}).length > 0) {
            console.error(`[NEXUS-DEBUG] DeleteCatalog: CRITICAL - importedArchives were lost during save!`);
            return {
              success: false,
              message: `Critical error: importedArchives were lost during migration`,
              details: {
                beforeCount: Object.keys(existingImportedArchives || {}).length,
                afterCount: Object.keys(verifyArchives).length
              }
            };
          }
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: Successfully deleted ${catalogSize} entries and preserved ${Object.keys(verifyArchives).length} imported archives`);
          return {
            success: true,
            message: `Legacy catalog deleted: ${catalogSize} entries removed, ${Object.keys(verifyArchives).length} imported archives preserved`,
            details: { entriesDeleted: catalogSize, archivesPreserved: Object.keys(verifyArchives).length }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] DeleteCatalog.execute failed:`, error);
          return {
            success: false,
            message: `Failed to delete legacy catalog: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(context) {
        try {
          const data = await context.plugin.loadData();
          const hasNoCatalog = !(data == null ? void 0 : data.conversationCatalog);
          const hasImportedArchives = (data == null ? void 0 : data.importedArchives) && Object.keys(data.importedArchives).length > 0;
          console.debug(`[NEXUS-DEBUG] DeleteCatalog.verify: hasNoCatalog=${hasNoCatalog}, hasImportedArchives=${hasImportedArchives}`);
          return hasNoCatalog;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] DeleteCatalog.verify failed:`, error);
          return false;
        }
      }
    };
    CleanMetadataOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "clean-metadata";
        this.name = "Clean & Version Metadata";
        this.description = "Remove unnecessary metadata and add plugin version to conversation notes";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          const canRun = conversationFiles.length > 0;
          console.debug(`[NEXUS-DEBUG] CleanMetadata.canRun: found ${conversationFiles.length} conversation files, canRun=${canRun}`);
          return canRun;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] CleanMetadata.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] CleanMetadata.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          if (conversationFiles.length === 0) {
            console.debug(`[NEXUS-DEBUG] CleanMetadata: No conversation files to clean`);
            return {
              success: true,
              message: "No conversation files found to clean",
              details: { processed: 0, cleaned: 0, errors: 0 }
            };
          }
          console.debug(`[NEXUS-DEBUG] CleanMetadata: Processing ${conversationFiles.length} conversation files`);
          let processed = 0;
          let cleaned = 0;
          let errors = 0;
          const batchSize = 10;
          for (let i = 0; i < conversationFiles.length; i += batchSize) {
            const batch = conversationFiles.slice(i, i + batchSize);
            for (const file of batch) {
              processed++;
              try {
                const content = await context.plugin.app.vault.read(file);
                const cleanedContent = this.cleanFrontmatterRobust(content, context.toVersion, file.basename);
                if (content !== cleanedContent) {
                  await context.plugin.app.vault.modify(file, cleanedContent);
                  cleaned++;
                }
              } catch (error) {
                errors++;
                console.error(`[NEXUS-DEBUG] Error cleaning metadata for ${file.path}:`, error);
              }
            }
            if (i + batchSize < conversationFiles.length) {
              await new Promise((resolve) => setTimeout(resolve, 10));
            }
          }
          console.debug(`[NEXUS-DEBUG] CleanMetadata: Completed - processed:${processed}, cleaned:${cleaned}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Metadata cleanup completed: ${cleaned} files cleaned, ${errors} errors`,
            details: { processed, cleaned, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] CleanMetadata.execute failed:`, error);
          return {
            success: false,
            message: `Metadata cleanup failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Clean frontmatter with robust parsing and safe alias generation
       */
      cleanFrontmatterRobust(content, pluginVersion, fileName) {
        const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
        if (!frontmatterMatch) {
          if (content.includes("nexus:") || content.includes("conversation_id:")) {
            console.warn(`[NEXUS-DEBUG] File ${fileName} appears to be Nexus but has malformed frontmatter`);
          }
          return content;
        }
        const frontmatterContent = frontmatterMatch[1];
        const restOfContent = content.substring(frontmatterMatch[0].length);
        const frontmatterData = {};
        const lines = frontmatterContent.split("\n");
        for (const line of lines) {
          const colonIndex = line.indexOf(":");
          if (colonIndex > 0) {
            const key = line.substring(0, colonIndex).trim();
            let value = line.substring(colonIndex + 1).trim();
            if (value.startsWith('"') && value.endsWith('"') || value.startsWith("'") && value.endsWith("'")) {
              value = value.slice(1, -1);
            }
            frontmatterData[key] = value;
          }
        }
        const nexusId = "nexus-ai-chat-importer";
        if (frontmatterData.nexus !== nexusId) {
          return content;
        }
        const safeAlias = this.generateSafeAlias(fileName);
        const newFrontmatter = [];
        newFrontmatter.push(`nexus: ${nexusId}`);
        newFrontmatter.push(`plugin_version: "1.0.x"`);
        if (frontmatterData.provider) {
          newFrontmatter.push(`provider: ${frontmatterData.provider}`);
        }
        newFrontmatter.push(`aliases: ${safeAlias}`);
        if (frontmatterData.conversation_id) {
          newFrontmatter.push(`conversation_id: ${frontmatterData.conversation_id}`);
        }
        if (frontmatterData.create_time) {
          newFrontmatter.push(`create_time: ${frontmatterData.create_time}`);
        }
        if (frontmatterData.update_time) {
          newFrontmatter.push(`update_time: ${frontmatterData.update_time}`);
        }
        const cleanedFrontmatter = newFrontmatter.join("\n");
        return `---
${cleanedFrontmatter}
---${restOfContent}`;
      }
      /**
       * Generate safe alias from filename (reuse the robust filename logic)
       */
      generateSafeAlias(fileName) {
        let cleanName = fileName.replace(/^\d{8}\s*-\s*/, "").replace(/^\d{4}-\d{2}-\d{2}\s*-\s*/, "");
        cleanName = cleanName.replace(/\.md$/, "");
        cleanName = cleanName.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[<>:"\/\\|?*\n\r]+/g, "").replace(/\.{2,}/g, ".").trim();
        cleanName = cleanName.replace(/^[^\w\d\s]+/, "");
        cleanName = cleanName.replace(/\s+/g, " ").trim();
        if (!cleanName || cleanName.length === 0) {
          cleanName = "Untitled";
        }
        if (cleanName.startsWith(".")) {
          cleanName = cleanName.substring(1);
        }
        if (!cleanName || cleanName.length === 0) {
          cleanName = "Untitled";
        }
        return cleanName;
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          }).slice(0, 5);
          for (const file of conversationFiles) {
            try {
              const content = await context.plugin.app.vault.read(file);
              const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
              if (!frontmatterMatch)
                continue;
              const frontmatterContent = frontmatterMatch[1];
              if (!frontmatterContent.includes("plugin_version:")) {
                console.debug(`[NEXUS-DEBUG] CleanMetadata.verify: Missing plugin_version in ${file.path}`);
                return false;
              }
              const forbiddenFields = [
                "conversation_template_id:",
                "gizmo_id:",
                "gizmo_type:",
                "default_model_slug:",
                "is_archived:",
                "is_starred:",
                "current_node:",
                "memory_scope:"
              ];
              const hasUnwantedFields = forbiddenFields.some(
                (field) => frontmatterContent.includes(field)
              );
              if (hasUnwantedFields) {
                console.debug(`[NEXUS-DEBUG] CleanMetadata.verify: Found unwanted fields in ${file.path}`);
                return false;
              }
            } catch (error) {
              console.error(`[NEXUS-DEBUG] CleanMetadata.verify error for ${file.path}:`, error);
              return false;
            }
          }
          console.debug(`[NEXUS-DEBUG] CleanMetadata.verify: Passed verification`);
          return true;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] CleanMetadata.verify failed:`, error);
          return false;
        }
      }
    };
    Upgrade110 = class extends VersionUpgrade {
      constructor() {
        super(...arguments);
        this.version = "1.1.0";
        this.automaticOperations = [
          new DeleteCatalogOperation(),
          new CleanMetadataOperation()
        ];
        this.manualOperations = [
          // No manual operations for 1.1.0 - all operations are automatic
          // Future versions can add manual operations here for truly optional tasks
        ];
      }
    };
  }
});

// src/upgrade/versions/upgrade-1.2.0.ts
var upgrade_1_2_0_exports = {};
__export(upgrade_1_2_0_exports, {
  NexusUpgradeModal: () => NexusUpgradeModal,
  Upgrade120: () => Upgrade120
});
var import_obsidian16, ConvertToCalloutsOperation, MoveReportsToProviderOperation, UpdateReportLinksOperation, MoveYearFoldersOperation, NexusUpgradeModal, OfferReimportOperation, Upgrade120;
var init_upgrade_1_2_0 = __esm({
  "src/upgrade/versions/upgrade-1.2.0.ts"() {
    "use strict";
    init_upgrade_interface();
    import_obsidian16 = require("obsidian");
    ConvertToCalloutsOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "convert-to-callouts";
        this.name = "Convert to Modern Callouts";
        this.description = "Transform old indentations (>, >>) to beautiful Nexus callouts";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          for (const file of conversationFiles.slice(0, 10)) {
            try {
              const content = await context.plugin.app.vault.read(file);
              if (this.hasOldIndentationFormat(content)) {
                return true;
              }
            } catch (error) {
              console.error(`Error checking file ${file.path}:`, error);
            }
          }
          return false;
        } catch (error) {
          console.error(`ConvertToCallouts.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] ConvertToCallouts.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          let processed = 0;
          let converted = 0;
          let errors = 0;
          console.debug(`[NEXUS-DEBUG] ConvertToCallouts: Processing ${conversationFiles.length} files`);
          const batchSize = 10;
          for (let i = 0; i < conversationFiles.length; i += batchSize) {
            const batch = conversationFiles.slice(i, i + batchSize);
            for (const file of batch) {
              processed++;
              try {
                const content = await context.plugin.app.vault.read(file);
                if (!this.hasOldIndentationFormat(content)) {
                  continue;
                }
                const convertedContent = this.convertIndentationsToCallouts(content);
                if (content !== convertedContent) {
                  const finalContent = this.updatePluginVersion(convertedContent, "1.2.0");
                  await context.plugin.app.vault.modify(file, finalContent);
                  converted++;
                }
              } catch (error) {
                errors++;
                console.error(`[NEXUS-DEBUG] Error converting ${file.path}:`, error);
              }
            }
            if (i + batchSize < conversationFiles.length) {
              await new Promise((resolve) => setTimeout(resolve, 10));
            }
          }
          console.debug(`[NEXUS-DEBUG] ConvertToCallouts: Completed - processed:${processed}, converted:${converted}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Callout conversion completed: ${converted} files converted, ${errors} errors`,
            details: { processed, converted, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] ConvertToCallouts.execute failed:`, error);
          return {
            success: false,
            message: `Callout conversion failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Check if content has old indentation format (v1.1.0)
       */
      hasOldIndentationFormat(content) {
        const oldPatterns = [
          /^### User, on .* at .*;\n>/m,
          // User messages with indentation
          /^#### Assistant, on .* at .*;\n>>/m,
          // Assistant messages with indentation
          /<div class="nexus-attachment-box">/,
          // Old attachment divs
          /<div class="nexus-artifact-box">/,
          // Old artifact divs
          />\[!note\]  \*\*Attachment:\*\*/
          // Old note callouts for attachments
        ];
        return oldPatterns.some((pattern) => pattern.test(content));
      }
      /**
       * Convert old indentations to modern callouts
       */
      convertIndentationsToCallouts(content) {
        let converted = content;
        converted = converted.replace(
          /^### User, on (.*?) at (.*?);\n((?:> .*(?:\n|$))*)/gm,
          (match, date, time, quotedContent) => {
            const cleanContent = quotedContent.replace(/^> /gm, "> ");
            return `>[!nexus_user] **User** - ${date} at ${time}
${cleanContent}`;
          }
        );
        converted = converted.replace(
          /^#### Assistant, on (.*?) at (.*?);\n((?:>> .*(?:\n|$))*)/gm,
          (match, date, time, quotedContent) => {
            const cleanContent = quotedContent.replace(/^>> /gm, "> ");
            return `>[!nexus_agent] **Assistant** - ${date} at ${time}
${cleanContent}`;
          }
        );
        converted = converted.replace(
          /<div class="nexus-attachment-box">\s*\n\s*\*\* Attachment:\*\* ([^(]+)\(([^)]+)\)([\s\S]*?)<\/div>/g,
          (match, fileName, fileType, content2) => {
            const cleanFileName = fileName.trim();
            let cleanContent = content2.trim();
            if (cleanContent.includes("**Content:**")) {
              cleanContent = cleanContent.replace(/\*\*Content:\*\*/g, "").trim();
            }
            if (cleanContent.includes("**Status:**")) {
              cleanContent = cleanContent.replace(/\*\*Status:\*\*/g, "").trim();
            }
            cleanContent = cleanContent.replace(/\n/g, "\n> ").trim();
            if (cleanContent && !cleanContent.startsWith(">")) {
              cleanContent = "> " + cleanContent;
            }
            return `>[!nexus_attachment] **${cleanFileName}** (${fileType})
${cleanContent}`;
          }
        );
        converted = converted.replace(
          /<div class="nexus-artifact-box">\s*([\s\S]*?)\s*<\/div>/g,
          (match, content2) => {
            let cleanContent = content2.trim();
            const titleMatch = cleanContent.match(/\*\*([^*]+)\*\*/);
            const title = titleMatch ? titleMatch[1] : "Artifact";
            cleanContent = cleanContent.replace(/\*\*[^*]+\*\*/g, "").trim();
            cleanContent = cleanContent.replace(/\n/g, "\n> ").trim();
            if (cleanContent && !cleanContent.startsWith(">")) {
              cleanContent = "> " + cleanContent;
            }
            return `>[!nexus_artifact] **${title}**
${cleanContent}`;
          }
        );
        converted = converted.replace(
          />\[!note\]  \*\*Attachment:\*\* ([^(]+)\(([^)]+)\)(.*?)(?=\n\n|\n>|\n<!--|\n---|$)/gs,
          (match, fileName, fileType, content2) => {
            const cleanFileName = fileName.trim();
            let cleanContent = content2.trim();
            cleanContent = cleanContent.replace(/\n/g, "\n> ").trim();
            if (cleanContent && !cleanContent.startsWith(">")) {
              cleanContent = "> " + cleanContent;
            }
            return `>[!nexus_attachment] **${cleanFileName}** (${fileType})
${cleanContent}`;
          }
        );
        return converted;
      }
      /**
       * Update plugin_version in frontmatter
       */
      updatePluginVersion(content, version) {
        return content.replace(
          /^plugin_version: ".*?"$/m,
          `plugin_version: "${version}"`
        );
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          }).slice(0, 5);
          for (const file of conversationFiles) {
            try {
              const content = await context.plugin.app.vault.read(file);
              if (this.hasOldIndentationFormat(content)) {
                console.debug(`[NEXUS-DEBUG] ConvertToCallouts.verify: Still has old format in ${file.path}`);
                return false;
              }
              if (!content.includes('plugin_version: "1.2.0"')) {
                console.debug(`[NEXUS-DEBUG] ConvertToCallouts.verify: Missing v1.2.0 in ${file.path}`);
                return false;
              }
            } catch (error) {
              console.error(`Error verifying file ${file.path}:`, error);
              return false;
            }
          }
          return true;
        } catch (error) {
          console.error(`ConvertToCallouts.verify failed:`, error);
          return false;
        }
      }
    };
    MoveReportsToProviderOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "move-reports-to-provider";
        this.name = "Organize Reports by Provider";
        this.description = "Move reports from root Reports/ folder to Reports/chatgpt/";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const reportFolder = context.plugin.settings.reportFolder;
          const reportFiles = context.plugin.app.vault.getMarkdownFiles().filter((f) => {
            if (!f.path.startsWith(reportFolder + "/"))
              return false;
            const relativePath = f.path.substring(reportFolder.length + 1);
            if (relativePath.includes("/"))
              return false;
            return f.name.includes("import report") || f.name.includes("import_");
          });
          console.debug(`[NEXUS-DEBUG] MoveReportsToProviderOperation.canRun: found ${reportFiles.length} reports in root folder`);
          return reportFiles.length > 0;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] MoveReportsToProviderOperation.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          const reportFolder = context.plugin.settings.reportFolder;
          let processed = 0;
          let moved = 0;
          let errors = 0;
          const reportFiles = context.plugin.app.vault.getMarkdownFiles().filter((f) => {
            if (!f.path.startsWith(reportFolder + "/"))
              return false;
            const relativePath = f.path.substring(reportFolder.length + 1);
            if (relativePath.includes("/"))
              return false;
            return f.name.includes("import report") || f.name.includes("import_");
          });
          const chatgptReportFolder = `${reportFolder}/chatgpt`;
          try {
            await context.plugin.app.vault.adapter.mkdir(chatgptReportFolder);
          } catch (e) {
          }
          for (const file of reportFiles) {
            try {
              processed++;
              const newPath = `${chatgptReportFolder}/${file.name}`;
              if (await context.plugin.app.vault.adapter.exists(newPath)) {
                console.debug(`[NEXUS-DEBUG] Target already exists, skipping: ${newPath}`);
                continue;
              }
              await context.plugin.app.vault.adapter.rename(file.path, newPath);
              moved++;
              console.debug(`[NEXUS-DEBUG] Moved report: ${file.path} \u2192 ${newPath}`);
            } catch (error) {
              errors++;
              console.error(`[NEXUS-DEBUG] Error moving report ${file.path}:`, error);
            }
          }
          console.debug(`[NEXUS-DEBUG] MoveReportsToProviderOperation: processed=${processed}, moved=${moved}, errors=${errors}`);
          return {
            success: errors === 0,
            message: `Reports organized: ${moved} files moved to provider structure, ${errors} errors`,
            details: { processed, moved, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] MoveReportsToProviderOperation.execute failed:`, error);
          return {
            success: false,
            message: `Report organization failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(_context) {
        return true;
      }
    };
    UpdateReportLinksOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "update-report-links";
        this.name = "Update Report Links";
        this.description = "Insert 'chatgpt/' before year in report links inside reports";
        this.type = "automatic";
      }
      async canRun(_context) {
        return true;
      }
      escapeRegExp(str) {
        return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      }
      async execute(context) {
        try {
          const reportFolder = context.plugin.settings.reportFolder;
          const archiveFolder = context.plugin.settings.archiveFolder;
          const escapedArchive = this.escapeRegExp(archiveFolder);
          let processed = 0;
          let updated = 0;
          let errors = 0;
          const reportPrefixChatgpt = `${reportFolder}/chatgpt/`;
          const reportPrefixRoot = `${reportFolder}/`;
          const reportFiles = context.plugin.app.vault.getMarkdownFiles().filter((f) => {
            if (f.path.startsWith(reportPrefixChatgpt))
              return true;
            if (f.path.startsWith(reportPrefixRoot)) {
              const relativePath = f.path.substring(reportPrefixRoot.length);
              if (!relativePath.includes("/") && (f.name.includes("import report") || f.name.includes("import_"))) {
                return true;
              }
            }
            return false;
          });
          const linkPattern = new RegExp(`(\\[\\[${escapedArchive}/)(\\d{4}/\\d{2}/)`, "g");
          for (const file of reportFiles) {
            try {
              processed++;
              const content = await context.plugin.app.vault.read(file);
              const replaced = content.replace(linkPattern, "$1chatgpt/$2");
              if (replaced !== content) {
                await context.plugin.app.vault.modify(file, replaced);
                updated++;
              }
            } catch (e) {
              errors++;
              console.error(`[NEXUS-DEBUG] UpdateReportLinksOperation error in ${file.path}:`, e);
            }
          }
          console.debug(`[NEXUS-DEBUG] UpdateReportLinksOperation: processed=${processed}, updated=${updated}, errors=${errors}`);
          return {
            success: errors === 0,
            message: `Report links updated: ${updated} files changed, ${errors} errors`,
            details: { processed, updated, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] UpdateReportLinksOperation.execute failed:`, error);
          return {
            success: false,
            message: `Report link update failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(_context) {
        return true;
      }
    };
    MoveYearFoldersOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "move-year-folders";
        this.name = "Organize Conversations by Provider";
        this.description = "Move year folders to chatgpt provider structure";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const yearFolders = await this.findYearFolders(context, archiveFolder);
          return yearFolders.length > 0;
        } catch (error) {
          console.error(`MoveYearFolders.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] MoveYearFolders.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          let movedFolders = 0;
          let errors = 0;
          const yearFolders = await this.findYearFolders(context, archiveFolder);
          for (const yearFolder of yearFolders) {
            try {
              const chatgptFolder = `${archiveFolder}/chatgpt`;
              await context.plugin.app.vault.adapter.mkdir(chatgptFolder);
              const newPath = `${chatgptFolder}/${yearFolder}`;
              const oldPath = `${archiveFolder}/${yearFolder}`;
              await context.plugin.app.vault.adapter.rename(oldPath, newPath);
              movedFolders++;
              console.debug(`[NEXUS-DEBUG] Moved ${yearFolder} to chatgpt/${yearFolder}`);
            } catch (error) {
              errors++;
              console.error(`[NEXUS-DEBUG] Error moving year folder ${yearFolder}:`, error);
            }
          }
          console.debug(`[NEXUS-DEBUG] MoveYearFolders: Completed - moved:${movedFolders}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Conversation organization completed: ${movedFolders} year folders moved to chatgpt structure, ${errors} errors`,
            details: { movedFolders, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] MoveYearFolders.execute failed:`, error);
          return {
            success: false,
            message: `Conversation organization failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const remainingYearFolders = await this.findYearFolders(context, archiveFolder);
          if (remainingYearFolders.length > 0) {
            console.debug(`[NEXUS-DEBUG] MoveYearFolders.verify: Still ${remainingYearFolders.length} year folders in old structure`);
            return false;
          }
          return true;
        } catch (error) {
          console.error(`MoveYearFolders.verify failed:`, error);
          return false;
        }
      }
      /**
       * Find year folders (YYYY) directly in archive folder
       */
      async findYearFolders(context, archiveFolder) {
        try {
          const folders = await context.plugin.app.vault.adapter.list(archiveFolder);
          return folders.folders.filter((folder) => {
            const folderName = folder.split("/").pop() || "";
            return /^\d{4}$/.test(folderName) && folderName !== "chatgpt";
          }).map((folder) => folder.split("/").pop() || "");
        } catch (error) {
          return [];
        }
      }
    };
    NexusUpgradeModal = class extends import_obsidian16.Modal {
      constructor(app, plugin, version, resolve) {
        super(app);
        this.plugin = plugin;
        this.version = version;
        this.resolve = resolve;
      }
      onOpen() {
        var _a;
        const { containerEl, titleEl } = this;
        containerEl.classList.add("nexus-upgrade-modal");
        titleEl.setText(`\u{1F680} Nexus AI Chat Importer ${this.version}`);
        (_a = this.modalEl.querySelector(".modal-close-button")) == null ? void 0 : _a.remove();
        this.createForm();
      }
      async onClose() {
        this.contentEl.empty();
      }
      async createForm() {
        let message = `\u{1F389} **Upgrade to v1.2.0**

Your conversations will be reorganized with provider structure and modern callouts. All links in your reports will be updated. 

**\u{1F4A1} To get ALL v1.2.0 features:** Reimport your original ChatGPT ZIP files.

---

## \u2615 Support My Work

[![Support me on Ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/nexusplugins)`;
        try {
          const response = await fetch("https://api.github.com/repos/Superkikim/nexus-ai-chat-importer/releases/tags/v1.2.0");
          if (response.ok) {
            const release = await response.json();
            if (release.body) {
              message = release.body;
            }
          }
        } catch (error) {
          console.debug("[NEXUS-DEBUG] Could not fetch release notes from GitHub, using fallback");
        }
        await import_obsidian16.MarkdownRenderer.render(
          this.app,
          message,
          this.contentEl,
          "",
          this.plugin
        );
        this.contentEl.createEl("div", { cls: "nexus-upgrade-buttons" }, (el) => {
          el.style.textAlign = "right";
          el.style.marginTop = "20px";
          el.style.paddingTop = "15px";
          el.style.borderTop = "1px solid var(--background-modifier-border)";
          const btnOk = el.createEl("button", {
            text: "Proceed",
            cls: "nexus-btn-primary"
          });
          btnOk.onclick = () => {
            this.close();
            this.resolve("ok");
          };
        });
      }
    };
    OfferReimportOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "offer-reimport";
        this.name = "Full Feature Reimport";
        this.description = "Optionally reimport conversations to get all v1.2.0 features (attachments, chronological order, etc.)";
        this.type = "manual";
      }
      async canRun(_context) {
        return true;
      }
      async execute(_context) {
        try {
          return {
            success: true,
            message: "Upgrade information provided to user",
            details: { action: "info_displayed" }
          };
        } catch (error) {
          console.error(`OfferReimport.execute failed:`, error);
          return {
            success: false,
            message: `Failed to complete reimport operation: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(_context) {
        return true;
      }
    };
    Upgrade120 = class extends VersionUpgrade {
      constructor() {
        super(...arguments);
        this.version = "1.2.0";
        this.automaticOperations = [
          new MoveYearFoldersOperation(),
          new MoveReportsToProviderOperation(),
          new UpdateReportLinksOperation(),
          new ConvertToCalloutsOperation()
        ];
        this.manualOperations = [
          new OfferReimportOperation()
        ];
      }
    };
  }
});

// src/upgrade/versions/upgrade-1.3.0.ts
var upgrade_1_3_0_exports = {};
__export(upgrade_1_3_0_exports, {
  Upgrade130: () => Upgrade130
});
var FixTimestampPrecisionOperation, Upgrade130;
var init_upgrade_1_3_0 = __esm({
  "src/upgrade/versions/upgrade-1.3.0.ts"() {
    "use strict";
    init_upgrade_interface();
    FixTimestampPrecisionOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "fix-timestamp-precision";
        this.name = "Fix Timestamp Precision";
        this.description = "Add seconds (:00) to all existing create_time and update_time frontmatter entries to resolve comparison issues";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          for (const file of conversationFiles.slice(0, 10)) {
            try {
              const content = await context.plugin.app.vault.read(file);
              if (this.hasTimestampsWithoutSeconds(content)) {
                return true;
              }
            } catch (error) {
              console.error(`Error checking file ${file.path}:`, error);
            }
          }
          return false;
        } catch (error) {
          console.error(`FixTimestampPrecision.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] FixTimestampPrecision.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          let processed = 0;
          let fixed = 0;
          let errors = 0;
          console.debug(`[NEXUS-DEBUG] FixTimestampPrecision: Processing ${conversationFiles.length} files`);
          const batchSize = 10;
          for (let i = 0; i < conversationFiles.length; i += batchSize) {
            const batch = conversationFiles.slice(i, i + batchSize);
            for (const file of batch) {
              processed++;
              try {
                const content = await context.plugin.app.vault.read(file);
                if (!this.hasTimestampsWithoutSeconds(content)) {
                  continue;
                }
                const fixedContent = this.fixTimestampPrecision(content);
                if (content !== fixedContent) {
                  const finalContent = this.updatePluginVersion(fixedContent, "1.3.0");
                  await context.plugin.app.vault.modify(file, finalContent);
                  fixed++;
                }
              } catch (error) {
                errors++;
                console.error(`[NEXUS-DEBUG] Error fixing timestamps in ${file.path}:`, error);
              }
            }
            if (i + batchSize < conversationFiles.length) {
              await new Promise((resolve) => setTimeout(resolve, 10));
            }
          }
          console.debug(`[NEXUS-DEBUG] FixTimestampPrecision: Completed - processed:${processed}, fixed:${fixed}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Timestamp precision fix completed: ${fixed} files updated, ${errors} errors`,
            details: { processed, fixed, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] FixTimestampPrecision.execute failed:`, error);
          return {
            success: false,
            message: `Timestamp precision fix failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Check if content has timestamps without seconds (US format only)
       * Pattern: create_time: MM/DD/YYYY at H:MM AM/PM (missing :SS)
       */
      hasTimestampsWithoutSeconds(content) {
        const lines = content.split("\n");
        for (const line of lines) {
          if (line.match(/^(create|update)_time:/)) {
            if (line.match(/\d{1,2}:\d{2}\s+(AM|PM)$/)) {
              if (!line.match(/\d{1,2}:\d{2}:\d{2}\s+(AM|PM)$/)) {
                return true;
              }
            }
          }
        }
        return false;
      }
      /**
       * Fix timestamp precision by adding :00 seconds to timestamps without seconds
       */
      fixTimestampPrecision(content) {
        return content.replace(
          /^((?:create|update)_time: .+?\s+)(\d{1,2}:\d{2})(\s+(?:AM|PM))$/gm,
          (match, prefix, time, suffix) => {
            const timeParts = time.split(":");
            if (timeParts.length === 2) {
              return `${prefix}${time}:00${suffix}`;
            }
            return match;
          }
        );
      }
      /**
       * Update plugin_version in frontmatter
       */
      updatePluginVersion(content, version) {
        return content.replace(
          /^plugin_version: ".*?"$/m,
          `plugin_version: "${version}"`
        );
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          }).slice(0, 5);
          for (const file of conversationFiles) {
            try {
              const content = await context.plugin.app.vault.read(file);
              if (this.hasTimestampsWithoutSeconds(content)) {
                console.debug(`[NEXUS-DEBUG] FixTimestampPrecision.verify: Still has timestamps without seconds in ${file.path}`);
                return false;
              }
              if (!content.includes('plugin_version: "1.3.0"')) {
                console.debug(`[NEXUS-DEBUG] FixTimestampPrecision.verify: Missing v1.3.0 in ${file.path}`);
                return false;
              }
            } catch (error) {
              console.error(`Error verifying file ${file.path}:`, error);
              return false;
            }
          }
          return true;
        } catch (error) {
          console.error(`FixTimestampPrecision.verify failed:`, error);
          return false;
        }
      }
    };
    Upgrade130 = class extends VersionUpgrade {
      constructor() {
        super(...arguments);
        this.version = "1.3.0";
        this.automaticOperations = [
          new FixTimestampPrecisionOperation()
        ];
        this.manualOperations = [
          // No manual operations for this version
        ];
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NexusAiChatImporterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian21 = require("obsidian");

// src/config/constants.ts
var DEFAULT_SETTINGS = {
  archiveFolder: "Nexus/Conversations",
  // Default only for first install; preserved if user already set
  addDatePrefix: false,
  dateFormat: "YYYY-MM-DD",
  hasShownUpgradeNotice: false,
  hasCompletedUpgrade: false,
  // Version tracking - will be set from manifest in main.ts
  currentVersion: "0.0.0",
  previousVersion: "0.0.0",
  // Attachment defaults
  importAttachments: true,
  attachmentFolder: "Nexus_attachments",
  // Default only for first install; preserved if user already set
  reportFolder: "",
  // Will be computed as <archiveFolder>/Reports on load
  skipMissingAttachments: false,
  showAttachmentDetails: true,
  // Conversation selection defaults
  defaultImportMode: "all",
  rememberLastImportMode: false,
  conversationPageSize: 20,
  autoSelectAllOnOpen: false
};
var GITHUB = {
  RAW_BASE: "https://raw.githubusercontent.com/Superkikim/nexus-ai-chat-importer",
  REPO_BASE: "https://github.com/Superkikim/nexus-ai-chat-importer"
};

// src/ui/settings-tab.ts
var import_obsidian5 = require("obsidian");

// src/ui/settings/conversation-settings-section.ts
var import_obsidian = require("obsidian");

// src/ui/settings/base-settings-section.ts
var BaseSettingsSection = class {
  constructor(plugin) {
    this.plugin = plugin;
    /**
     * Section order (lower = higher up)
     */
    this.order = 100;
  }
  /**
   * Set redraw callback from main settings tab
   */
  setRedrawCallback(callback) {
    this.redrawCallback = callback;
  }
  /**
   * Trigger redraw of entire settings tab
   */
  redraw() {
    if (this.redrawCallback) {
      this.redrawCallback();
    }
  }
};

// src/ui/settings/conversation-settings-section.ts
var ConversationSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Conversation Settings";
    this.order = 10;
  }
  render(containerEl) {
    new import_obsidian.Setting(containerEl).setName("Conversations folder").setDesc("Choose a folder to store AI chat conversations and import reports").addText(
      (text) => text.setPlaceholder("Enter folder name").setValue(this.plugin.settings.archiveFolder).onChange(async (value) => {
        this.plugin.settings.archiveFolder = value;
        this.plugin.settings.reportFolder = `${value}/Reports`;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Add date prefix to filenames").setDesc("Add creation date as a prefix to conversation filenames").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.addDatePrefix).onChange(async (value) => {
        this.plugin.settings.addDatePrefix = value;
        await this.plugin.saveSettings();
        this.redraw();
      })
    );
    if (this.plugin.settings.addDatePrefix) {
      new import_obsidian.Setting(containerEl).setName("Date format").setDesc("Choose the format for the date prefix").addDropdown(
        (dropdown) => dropdown.addOption("YYYY-MM-DD", "YYYY-MM-DD").addOption("YYYYMMDD", "YYYYMMDD").setValue(this.plugin.settings.dateFormat).onChange(async (value) => {
          if (value === "YYYY-MM-DD" || value === "YYYYMMDD") {
            this.plugin.settings.dateFormat = value;
            await this.plugin.saveSettings();
          }
        })
      );
    }
  }
};

// src/ui/settings/conversation-selection-settings-section.ts
var import_obsidian2 = require("obsidian");
var ConversationSelectionSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Conversation Selection Settings";
    this.order = 15;
  }
  // Between conversation (10) and attachment (20) settings
  render(containerEl) {
    new import_obsidian2.Setting(containerEl).setName("Default import mode").setDesc("Choose the default behavior when importing conversations").addDropdown(
      (dropdown) => dropdown.addOption("all", "Import All Conversations").addOption("selective", "Select Specific Conversations").setValue(this.plugin.settings.defaultImportMode).onChange(async (value) => {
        if (value === "all" || value === "selective") {
          this.plugin.settings.defaultImportMode = value;
          await this.plugin.saveSettings();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Remember last import mode").setDesc("Remember the last selected import mode and use it as default for future imports").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.rememberLastImportMode).onChange(async (value) => {
        this.plugin.settings.rememberLastImportMode = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Conversations per page").setDesc("Number of conversations to display per page in the selection dialog").addDropdown(
      (dropdown) => dropdown.addOption("10", "10 conversations").addOption("20", "20 conversations").addOption("50", "50 conversations").addOption("100", "100 conversations").setValue(this.plugin.settings.conversationPageSize.toString()).onChange(async (value) => {
        const pageSize = parseInt(value);
        if ([10, 20, 50, 100].includes(pageSize)) {
          this.plugin.settings.conversationPageSize = pageSize;
          await this.plugin.saveSettings();
        }
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Auto-select all conversations").setDesc("Automatically select all conversations when opening the selection dialog").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoSelectAllOnOpen).onChange(async (value) => {
        this.plugin.settings.autoSelectAllOnOpen = value;
        await this.plugin.saveSettings();
      })
    );
    this.renderInfoSection(containerEl);
  }
  renderInfoSection(containerEl) {
    const infoContainer = containerEl.createDiv({ cls: "setting-item-description" });
    infoContainer.style.marginTop = "20px";
    infoContainer.style.padding = "15px";
    infoContainer.style.backgroundColor = "var(--background-secondary)";
    infoContainer.style.borderRadius = "8px";
    infoContainer.style.border = "1px solid var(--background-modifier-border)";
    const infoTitle = infoContainer.createEl("h4", { text: "About Conversation Selection" });
    infoTitle.style.marginTop = "0";
    infoTitle.style.marginBottom = "10px";
    infoTitle.style.color = "var(--text-accent)";
    const infoText = infoContainer.createDiv();
    infoText.innerHTML = `
            <p style="margin: 0 0 10px 0; color: var(--text-normal);">
                The conversation selection feature allows you to preview and choose specific conversations 
                to import from your ChatGPT or Claude export files, rather than importing all conversations.
            </p>
            <p style="margin: 0 0 10px 0; color: var(--text-normal);">
                <strong>Import All:</strong> Imports all conversations from the ZIP file (faster, existing behavior).
            </p>
            <p style="margin: 0; color: var(--text-normal);">
                <strong>Select Specific:</strong> Shows a preview of all conversations with metadata 
                (title, dates, message count) and allows you to choose which ones to import.
            </p>
        `;
  }
};

// src/ui/settings/attachment-settings-section.ts
var import_obsidian3 = require("obsidian");
var AttachmentSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Attachment Settings";
    this.order = 20;
  }
  render(containerEl) {
    new import_obsidian3.Setting(containerEl).setName("Import attachments").setDesc("Save attachment files to disk and link them in conversations (uses 'best effort' strategy)").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.importAttachments).onChange(async (value) => {
        this.plugin.settings.importAttachments = value;
        await this.plugin.saveSettings();
        this.redraw();
      })
    );
    if (this.plugin.settings.importAttachments) {
      this.renderAttachmentOptions(containerEl);
      this.renderAttachmentInfo(containerEl);
    }
  }
  renderAttachmentOptions(containerEl) {
    new import_obsidian3.Setting(containerEl).setName("Attachment folder").setDesc("Choose a folder to store attachment files").addText(
      (text) => text.setPlaceholder("Enter attachment folder path").setValue(this.plugin.settings.attachmentFolder).onChange(async (value) => {
        this.plugin.settings.attachmentFolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Handle missing attachments").setDesc("When attachments are missing from exports, create informative notes instead of skipping them").addToggle(
      (toggle) => toggle.setValue(!this.plugin.settings.skipMissingAttachments).onChange(async (value) => {
        this.plugin.settings.skipMissingAttachments = !value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Show attachment details in reports").setDesc("Include detailed attachment processing statistics in import reports").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showAttachmentDetails).onChange(async (value) => {
        this.plugin.settings.showAttachmentDetails = value;
        await this.plugin.saveSettings();
      })
    );
  }
  renderAttachmentInfo(containerEl) {
    const noteEl = containerEl.createDiv({ cls: "setting-item-description" });
    noteEl.style.marginTop = "15px";
    noteEl.style.padding = "15px";
    noteEl.style.backgroundColor = "var(--background-secondary)";
    noteEl.style.borderRadius = "8px";
    noteEl.style.border = "1px solid var(--background-modifier-border)";
    noteEl.createEl("h4", { text: "\u{1F4CE} About Attachment Handling", cls: "setting-item-name" });
    const infoList = noteEl.createEl("ul");
    infoList.style.marginTop = "10px";
    infoList.style.paddingLeft = "20px";
    infoList.createEl("li").innerHTML = "<strong>Best Effort Strategy:</strong> Files found in exports are extracted and linked; missing files get informative notes.";
    infoList.createEl("li").innerHTML = "<strong>Platform Differences:</strong> ChatGPT exports may not include all attachments, especially from older conversations.";
    infoList.createEl("li").innerHTML = "<strong>Simple Organization:</strong> Files organized as <code>attachments/provider/category/</code> (e.g., <code>attachments/chatgpt/images/</code>).";
    infoList.createEl("li").innerHTML = "<strong>Sync Tip:</strong> Consider excluding the attachment folder from sync to avoid uploading large files.";
    const tipEl = noteEl.createDiv();
    tipEl.style.marginTop = "10px";
    tipEl.style.fontStyle = "italic";
    tipEl.innerHTML = "\u{1F4A1} <strong>Tip:</strong> Enable 'Show attachment details' to see exactly which files were found, missing, or failed during import.";
  }
};

// src/ui/settings/migrations-settings-section.ts
var import_obsidian4 = require("obsidian");
var MigrationsSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Migrations";
    this.order = 30;
  }
  async render(containerEl) {
    const migrationsDesc = containerEl.createDiv({ cls: "setting-item-description" });
    migrationsDesc.style.marginBottom = "20px";
    migrationsDesc.innerHTML = `
            <p><strong>Manual Operations:</strong> Optional upgrade operations that can be run when convenient.</p>
            <p>Automatic operations (like removing old data) run automatically during upgrade and are not shown here.</p>
        `;
    try {
      const upgradeManager = this.plugin.getUpgradeManager();
      if (!(upgradeManager == null ? void 0 : upgradeManager.getManualOperationsForSettings)) {
        this.showNoMigrationsMessage(containerEl);
        return;
      }
      const operationsData = await this.getOperationsWithPersistentStatus(upgradeManager);
      if (operationsData.length === 0) {
        this.showNoMigrationsMessage(containerEl);
        return;
      }
      for (const versionData of operationsData) {
        await this.renderVersionOperations(containerEl, versionData, upgradeManager);
      }
    } catch (error) {
      console.error("[NEXUS-DEBUG] Error loading migrations:", error);
      this.showErrorMessage(containerEl, error);
    }
  }
  /**
   * Get operations status with persistent flags from plugin data
   */
  async getOperationsWithPersistentStatus(upgradeManager) {
    var _a, _b, _c;
    const operationsData = await upgradeManager.getManualOperationsForSettings();
    const pluginData = await this.plugin.loadData();
    for (const versionData of operationsData) {
      for (const operation of versionData.operations) {
        const operationKey = `operation_${versionData.version.replace(/\./g, "_")}_${operation.id}`;
        const isCompleted = ((_c = (_b = (_a = pluginData == null ? void 0 : pluginData.upgradeHistory) == null ? void 0 : _a.completedOperations) == null ? void 0 : _b[operationKey]) == null ? void 0 : _c.completed) || false;
        operation.completed = isCompleted;
        operation.canRun = !isCompleted && operation.canRun;
      }
    }
    return operationsData;
  }
  async renderVersionOperations(containerEl, versionData, upgradeManager) {
    const versionHeader = containerEl.createEl("h3", {
      text: `Version ${versionData.version}`,
      cls: "migrations-version-header"
    });
    versionHeader.style.marginTop = "25px";
    versionHeader.style.marginBottom = "15px";
    versionHeader.style.color = "var(--text-accent)";
    for (const operation of versionData.operations) {
      await this.renderOperation(containerEl, operation, versionData.version, upgradeManager);
    }
  }
  async renderOperation(containerEl, operation, version, upgradeManager) {
    new import_obsidian4.Setting(containerEl).setName(operation.name).setDesc(operation.description + (operation.completed ? " \u2705 Completed" : "")).addButton((button) => {
      if (operation.completed) {
        button.setButtonText("\u2705 Completed").setDisabled(true).setTooltip("This operation has been completed");
        button.buttonEl.addClass("mod-muted");
      } else if (!operation.canRun) {
        button.setButtonText("Cannot Run").setDisabled(true).setTooltip("Prerequisites not met for this operation");
      } else {
        button.setButtonText("Run").setTooltip(`Execute ${operation.name}`).onClick(async () => {
          await this.executeOperation(button, operation, version, upgradeManager);
        });
        button.buttonEl.addClass("mod-cta");
      }
    });
  }
  async executeOperation(buttonEl, operation, version, upgradeManager) {
    const originalText = buttonEl.buttonEl.textContent;
    buttonEl.setButtonText("Running...").setDisabled(true);
    try {
      console.debug(`[NEXUS-DEBUG] Executing manual operation: ${operation.id} (v${version})`);
      const result = await upgradeManager.executeManualOperation(version, operation.id);
      console.debug(`[NEXUS-DEBUG] Operation result:`, result);
      if (result.success) {
        buttonEl.setButtonText("\u2705 Completed");
        buttonEl.setTooltip("This operation has been completed");
        const buttonElement = buttonEl.buttonEl || buttonEl;
        if (buttonElement && buttonElement.removeClass) {
          buttonElement.removeClass("mod-cta");
          buttonElement.addClass("mod-muted");
        }
        operation.completed = true;
        operation.canRun = false;
      } else {
        buttonEl.setButtonText(originalText).setDisabled(false);
        this.showOperationResult(
          buttonEl.buttonEl.closest(".setting-item"),
          result.message,
          "error"
        );
      }
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Operation execution failed:`, error);
      buttonEl.setButtonText(originalText).setDisabled(false);
      this.showOperationResult(
        buttonEl.buttonEl.closest(".setting-item"),
        `Operation failed: ${error}`,
        "error"
      );
    }
  }
  showOperationResult(settingEl, message, type) {
    if (!settingEl)
      return;
    const existingMsg = settingEl.querySelector(".operation-result");
    if (existingMsg)
      existingMsg.remove();
    const resultEl = document.createElement("div");
    resultEl.className = "operation-result";
    resultEl.textContent = message;
    resultEl.style.cssText = `
            margin-top: 8px;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.9em;
            background: ${type === "success" ? "var(--background-modifier-success)" : "var(--background-modifier-error)"};
            color: ${type === "success" ? "var(--text-success)" : "var(--text-error)"};
            border: 1px solid ${type === "success" ? "var(--text-success)" : "var(--text-error)"};
        `;
    settingEl.appendChild(resultEl);
    setTimeout(() => {
      if (resultEl.parentNode) {
        resultEl.remove();
      }
    }, 5e3);
  }
  showNoMigrationsMessage(containerEl) {
    const noMigrationsEl = containerEl.createDiv({ cls: "setting-item-description" });
    noMigrationsEl.style.marginTop = "15px";
    noMigrationsEl.style.padding = "15px";
    noMigrationsEl.style.backgroundColor = "var(--background-secondary)";
    noMigrationsEl.style.borderRadius = "8px";
    noMigrationsEl.style.textAlign = "center";
    noMigrationsEl.innerHTML = `
            <p style="margin: 0; color: var(--text-muted);">
                <strong>No manual operations available</strong><br>
                All upgrade operations have been completed automatically.
            </p>
        `;
  }
  showErrorMessage(containerEl, error) {
    const errorEl = containerEl.createDiv({ cls: "setting-item-description" });
    errorEl.style.marginTop = "15px";
    errorEl.style.padding = "15px";
    errorEl.style.backgroundColor = "var(--background-modifier-error)";
    errorEl.style.color = "var(--text-error)";
    errorEl.style.borderRadius = "8px";
    errorEl.innerHTML = `
            <p style="margin: 0;">
                <strong>Error loading migrations:</strong><br>
                ${error.message || error}
            </p>
        `;
  }
};

// src/ui/settings-tab.ts
var NexusAiChatImporterPluginSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
    this.sections = [];
    this.initializeSections();
  }
  initializeSections() {
    this.sections = [
      new ConversationSettingsSection(this.plugin),
      new ConversationSelectionSettingsSection(this.plugin),
      new AttachmentSettingsSection(this.plugin),
      new MigrationsSettingsSection(this.plugin)
    ].sort((a, b) => a.order - b.order);
    this.sections.forEach((section) => {
      section.setRedrawCallback(() => this.display());
    });
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    this.renderSections(containerEl);
  }
  async renderSections(containerEl) {
    for (const section of this.sections) {
      if (section.title) {
        containerEl.createEl("h2", { text: section.title });
      }
      await section.render(containerEl);
    }
  }
};

// src/commands/command-registry.ts
var import_obsidian6 = require("obsidian");
var CommandRegistry = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  registerCommands() {
    this.plugin.addCommand({
      id: "nexus-ai-chat-importer-select-zip",
      name: "Import AI conversations",
      callback: () => {
        this.plugin.showProviderSelectionDialog();
      }
    });
  }
  showResetConfirmation() {
    const modal = new import_obsidian6.Modal(this.plugin.app);
    modal.contentEl.createEl("p", {
      text: "This will reset all import catalogs. This action cannot be undone."
    });
    const buttonDiv = modal.contentEl.createEl("div", {
      cls: "modal-button-container"
    });
    buttonDiv.createEl("button", { text: "Cancel" }).addEventListener("click", () => modal.close());
    buttonDiv.createEl("button", { text: "Reset", cls: "mod-warning" }).addEventListener("click", () => {
      this.plugin.resetCatalogs();
      modal.close();
    });
    modal.open();
  }
};

// src/events/event-handlers.ts
var import_obsidian7 = require("obsidian");
var EventHandlers = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  registerEvents() {
    this.plugin.registerEvent(
      this.plugin.app.vault.on("delete", async (file) => {
        if (file instanceof import_obsidian7.TFile) {
          await this.plugin.getFileService().handleConversationFileDeletion(file);
        }
      })
    );
  }
  cleanup() {
  }
};

// src/services/import-service.ts
var import_obsidian14 = require("obsidian");
var import_jszip = __toESM(require_jszip_min());
init_utils();
init_dialogs();

// src/models/import-report.ts
var ImportReport = class {
  constructor() {
    this.created = [];
    this.updated = [];
    this.skipped = [];
    this.failed = [];
    this.globalErrors = [];
    this.summary = "";
    this.providerSpecificColumnHeader = "Attachments";
  }
  setProviderSpecificColumnHeader(header) {
    this.providerSpecificColumnHeader = header;
  }
  addSummary(zipFileName, counters) {
    const totalAttachments = this.getTotalAttachmentStats();
    const attachmentSummary = totalAttachments.total > 0 ? `
- **Attachments**: ${totalAttachments.found}/${totalAttachments.total} extracted (${totalAttachments.missing} missing, ${totalAttachments.failed} failed)` : "";
    this.summary = `## Summary
- **ZIP File**: ${zipFileName}
- **Created**: ${this.created.length} new conversations
- **Updated**: ${this.updated.length} conversations with ${counters.totalNonEmptyMessagesAdded} new messages
- **Skipped**: ${this.skipped.length} conversations (no changes)
- **Failed**: ${this.failed.length} conversations
- **Errors**: ${this.globalErrors.length} global errors${attachmentSummary}`;
  }
  getTotalAttachmentStats() {
    const total = { total: 0, found: 0, missing: 0, failed: 0 };
    [...this.created, ...this.updated].forEach((entry) => {
      if (entry.attachmentStats) {
        total.total += entry.attachmentStats.total;
        total.found += entry.attachmentStats.found;
        total.missing += entry.attachmentStats.missing;
        total.failed += entry.attachmentStats.failed;
      }
    });
    return total;
  }
  addCreated(title, filePath, createDate, updateDate, messageCount, attachmentStats, providerSpecificCount) {
    this.created.push({ title, filePath, createDate, updateDate, messageCount, attachmentStats, providerSpecificCount });
  }
  addUpdated(title, filePath, createDate, updateDate, newMessageCount, attachmentStats, providerSpecificCount) {
    this.updated.push({ title, filePath, createDate, updateDate, newMessageCount, attachmentStats, providerSpecificCount });
  }
  addSkipped(title, filePath, createDate, updateDate, messageCount, reason, attachmentStats, providerSpecificCount) {
    this.skipped.push({ title, filePath, createDate, updateDate, messageCount, reason, attachmentStats, providerSpecificCount });
  }
  addFailed(title, filePath, createDate, updateDate, errorMessage) {
    this.failed.push({ title, filePath, createDate, updateDate, errorMessage });
  }
  addError(message, details) {
    this.globalErrors.push({ message, details });
  }
  generateReportContent() {
    let content = "# Nexus AI Chat Importer Report\n\n";
    if (this.summary) {
      content += this.summary + "\n\n";
    }
    if (this.created.length > 0) {
      content += this.generateCreatedTable();
    }
    if (this.updated.length > 0) {
      content += this.generateUpdatedTable();
    }
    if (this.failed.length > 0) {
      content += this.generateFailedTable();
    }
    if (this.globalErrors.length > 0) {
      content += this.generateErrorTable();
    }
    return content;
  }
  generateCreatedTable() {
    let table = `## \u2728 Created Notes

`;
    table += `| | Title | Created | Messages | ${this.providerSpecificColumnHeader} |
`;
    table += "|:---:|:---|:---:|:---:|:---:|\n";
    this.created.forEach((entry) => {
      const sanitizedTitle = entry.title.replace(/\n/g, " ").trim();
      const titleLink = `[[${entry.filePath}\\|${sanitizedTitle}]]`;
      const providerSpecificValue = entry.providerSpecificCount || 0;
      const providerSpecificDisplay = providerSpecificValue > 0 ? `\u2705 ${providerSpecificValue}` : providerSpecificValue;
      table += `| \u2728 | ${titleLink} | ${entry.createDate} | ${entry.messageCount || 0} | ${providerSpecificDisplay} |
`;
    });
    return table + "\n\n";
  }
  generateUpdatedTable() {
    let table = `## \u{1F504} Updated Notes

`;
    table += `| | Title | Updated | New Messages | New ${this.providerSpecificColumnHeader} |
`;
    table += "|:---:|:---|:---:|:---:|:---:|\n";
    this.updated.forEach((entry) => {
      const sanitizedTitle = entry.title.replace(/\n/g, " ").trim();
      const titleLink = `[[${entry.filePath}\\|${sanitizedTitle}]]`;
      const providerSpecificValue = entry.providerSpecificCount || 0;
      const providerSpecificDisplay = providerSpecificValue > 0 ? `\u2705 ${providerSpecificValue}` : providerSpecificValue;
      table += `| \u{1F504} | ${titleLink} | ${entry.updateDate} | ${entry.newMessageCount || 0} | ${providerSpecificDisplay} |
`;
    });
    return table + "\n\n";
  }
  generateFailedTable() {
    let table = `## \u{1F6AB} Failed Imports

`;
    table += "| | Title | Date | Error |\n";
    table += "|:---:|:---|:---:|:---|\n";
    this.failed.forEach((entry) => {
      const sanitizedTitle = entry.title.replace(/\n/g, " ").trim();
      table += `| \u{1F6AB} | ${sanitizedTitle} | ${entry.createDate} | ${entry.errorMessage || "Unknown error"} |
`;
    });
    return table + "\n\n";
  }
  generateErrorTable() {
    let table = `## \u26A0\uFE0F Global Errors

`;
    table += "| | Error | Details |\n";
    table += "|:---:|:---|:---|\n";
    this.globalErrors.forEach((entry) => {
      table += `| \u26A0\uFE0F | ${entry.message} | ${entry.details} |
`;
    });
    return table + "\n\n";
  }
  formatAttachmentStatus(stats) {
    if (!stats || stats.total === 0) {
      return "0";
    }
    const { total, found, missing, failed } = stats;
    if (found === total) {
      return `\u2705 ${found}`;
    } else if (found === 0) {
      return `\u274C 0/${total}`;
    } else {
      return `\u26A0\uFE0F ${found}/${total}`;
    }
  }
  hasErrors() {
    return this.failed.length > 0 || this.globalErrors.length > 0;
  }
  getCreatedCount() {
    return this.created.length;
  }
  getUpdatedCount() {
    return this.updated.length;
  }
  getSkippedCount() {
    return this.skipped.length;
  }
};

// src/services/conversation-processor.ts
var import_obsidian12 = require("obsidian");

// src/formatters/message-formatter.ts
init_utils();
var _MessageFormatter = class {
  constructor(logger4) {
    this.logger = logger4;
  }
  formatMessages(messages) {
    return messages.filter((message) => message !== void 0).map((message) => this.formatMessage(message)).filter((formattedMessage) => formattedMessage !== "").join("\n\n");
  }
  formatMessage(message) {
    if (!message) {
      this.logger.error("Message is null or undefined:", message);
      return "";
    }
    const messageTime = formatTimestamp(message.timestamp, "date") + " at " + formatTimestamp(message.timestamp, "time");
    const authorName = message.role === "user" ? "User" : "Assistant";
    const calloutType = message.role === "user" ? _MessageFormatter.CALLOUTS.USER : _MessageFormatter.CALLOUTS.AGENT;
    let messageContent = `>[!${calloutType}] **${authorName}** - ${messageTime}
`;
    if (message.content) {
      messageContent += `> ${message.content.split("\n").join("\n> ")}`;
    } else {
      messageContent += `> [No content found]`;
    }
    if (message.attachments && message.attachments.length > 0) {
      messageContent += "\n\n" + this.formatAttachments(message.attachments);
    }
    messageContent += `
<!-- UID: ${message.id} -->
`;
    if (message.role === "assistant") {
      messageContent += "\n---\n";
    }
    return messageContent + "\n\n";
  }
  formatAttachments(attachments) {
    return attachments.map((attachment) => {
      return this.formatSingleAttachment(attachment);
    }).join("\n\n");
  }
  /**
   * Format single attachment with Nexus callout styling
   */
  formatSingleAttachment(attachment) {
    var _a, _b, _c;
    if (attachment.extractedContent && attachment.extractedContent.includes("nexus_attachment")) {
      return attachment.extractedContent;
    }
    let content = `>[!${_MessageFormatter.CALLOUTS.ATTACHMENT}] `;
    if ((_a = attachment.status) == null ? void 0 : _a.found) {
      content += `**${attachment.fileName}**`;
    } else {
      content += `**${attachment.fileName}** *(missing)*`;
    }
    if (attachment.fileType) {
      content += ` (${attachment.fileType})`;
    }
    if (attachment.fileSize) {
      content += ` - ${this.formatFileSize(attachment.fileSize)}`;
    }
    content += "\n";
    if (((_b = attachment.status) == null ? void 0 : _b.found) && attachment.url) {
      if (!attachment.url.startsWith("sandbox://")) {
        if (this.isImageFile(attachment)) {
          content += `> ![[${attachment.url}]]`;
        } else {
          content += `> [[${attachment.url}]]`;
        }
      } else {
        content += `> \u26A0\uFE0F File not available in archive. Visit the original conversation to access it`;
      }
    } else if (attachment.status && !attachment.status.found) {
      content += `> \u26A0\uFE0F ${this.getStatusMessage(attachment.status.reason)}`;
      if (attachment.status.note) {
        content += `
> **Note:** ${attachment.status.note}`;
      }
      if (attachment.status.reason === "missing_from_export") {
        const conversationUrl = ((_c = attachment.url) == null ? void 0 : _c.includes("chatgpt.com")) ? attachment.url : "https://chatgpt.com/";
        content += `
> [Open original conversation](${conversationUrl})`;
      }
    } else if (attachment.extractedContent && this.isDalleImage(attachment)) {
      content += `> ${this.isImageFile(attachment) ? "![[" + attachment.url + "]]" : "[[" + attachment.url + "]]"}`;
    } else if (attachment.extractedContent) {
      content += `> ${attachment.extractedContent}`;
    } else if (attachment.content && !attachment.extractedContent) {
      content += `> ${attachment.content}`;
    }
    let dallePrompt = "";
    if (attachment.extractedContent && this.isDalleImage(attachment)) {
      dallePrompt = `

>[!${_MessageFormatter.CALLOUTS.PROMPT}] **DALL-E Prompt**
> \`\`\`
> ${attachment.extractedContent}
> \`\`\``;
    }
    return content + dallePrompt;
  }
  /**
   * Check if attachment is a DALL-E generated image
   */
  isDalleImage(attachment) {
    return attachment.fileName.startsWith("dalle_") && attachment.fileName.includes("_") && attachment.fileType === "image/png";
  }
  /**
   * Get user-friendly status message
   */
  getStatusMessage(reason) {
    switch (reason) {
      case "missing_from_export":
        return "Not included in export";
      case "extraction_failed":
        return "Extraction failed";
      case "corrupted":
        return "File appears corrupted";
      case "unsupported_format":
        return "Unsupported file format";
      default:
        return "Processing issue";
    }
  }
  /**
   * Check if attachment is an image file for embedding
   */
  isImageFile(attachment) {
    var _a;
    if ((_a = attachment.fileType) == null ? void 0 : _a.startsWith("image/")) {
      return true;
    }
    const fileName = attachment.fileName.toLowerCase();
    const imageExtensions = [".png", ".jpg", ".jpeg", ".gif", ".webp", ".svg", ".bmp", ".tiff"];
    return imageExtensions.some((ext) => fileName.endsWith(ext));
  }
  formatFileSize(bytes) {
    const sizes = ["Bytes", "KB", "MB", "GB"];
    if (bytes === 0)
      return "0 Bytes";
    const i = Math.floor(Math.log(bytes) / Math.log(1024));
    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + " " + sizes[i];
  }
};
var MessageFormatter = _MessageFormatter;
// Nexus custom callouts with icons
MessageFormatter.CALLOUTS = {
  USER: "nexus_user",
  //  User messages
  AGENT: "nexus_agent",
  //  Assistant/Agent messages
  ATTACHMENT: "nexus_attachment",
  //  Attachments
  ARTIFACT: "nexus_artifact",
  //  Claude artifacts
  PROMPT: "nexus_prompt"
  //  System prompts
};

// src/formatters/note-formatter.ts
init_utils();

// src/types/standard.ts
var URL_GENERATORS = {
  chatgpt: {
    generateChatUrl: (id) => `https://chat.openai.com/c/${id}`
  },
  claude: {
    generateChatUrl: (id) => `https://claude.ai/chat/${id}`
  }
};

// src/formatters/note-formatter.ts
var NoteFormatter = class {
  constructor(logger4, pluginId, pluginVersion) {
    this.logger = logger4;
    this.pluginId = pluginId;
    this.pluginVersion = pluginVersion;
    this.messageFormatter = new MessageFormatter(logger4);
  }
  generateMarkdownContent(conversation) {
    const safeTitle = generateSafeAlias(conversation.title);
    const createTimeStr = `${formatTimestamp(conversation.createTime, "date")} at ${formatTimestamp(conversation.createTime, "time")}`;
    const updateTimeStr = `${formatTimestamp(conversation.updateTime, "date")} at ${formatTimestamp(conversation.updateTime, "time")}`;
    let content = this.generateHeader(safeTitle, conversation.id, createTimeStr, updateTimeStr, conversation);
    content += this.generateMessagesContent(conversation);
    return content;
  }
  generateHeader(title, conversationId, createTimeStr, updateTimeStr, conversation) {
    let chatUrl = conversation.chatUrl;
    if (!chatUrl && URL_GENERATORS[conversation.provider]) {
      chatUrl = URL_GENERATORS[conversation.provider].generateChatUrl(conversationId);
    }
    let frontmatter = `---
nexus: ${this.pluginId}
plugin_version: "${this.pluginVersion}"
provider: ${conversation.provider}
aliases: ${title}
conversation_id: ${conversationId}
create_time: ${createTimeStr}
update_time: ${updateTimeStr}
---

`;
    let header = `# Title: ${conversation.title}

`;
    header += `Created: ${createTimeStr}
`;
    header += `Last Updated: ${updateTimeStr}
`;
    if (chatUrl) {
      header += `Chat URL: ${chatUrl}
`;
    }
    header += "\n\n";
    return frontmatter + header;
  }
  generateMessagesContent(conversation) {
    return this.messageFormatter.formatMessages(conversation.messages);
  }
};

// src/services/file-service.ts
var import_obsidian11 = require("obsidian");
var FileService = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async writeToFile(filePath, content) {
    try {
      const file = this.plugin.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian11.TFile) {
        await this.plugin.app.vault.modify(file, content);
      } else if (file instanceof import_obsidian11.TFolder) {
        throw new Error(`Cannot write to '${filePath}'; it is a folder.`);
      } else {
        await this.plugin.app.vault.create(filePath, content);
      }
    } catch (error) {
      this.plugin.logger.error(`Error creating or modifying file '${filePath}'`, error.message);
      throw error;
    }
  }
  async handleConversationFileDeletion(file) {
    var _a;
    try {
      const frontmatter = (_a = this.plugin.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
      if (!(frontmatter == null ? void 0 : frontmatter.conversation_id) || (frontmatter == null ? void 0 : frontmatter.nexus) !== this.plugin.manifest.id) {
        return;
      }
      const storage = this.plugin.getStorageService();
      const catalog = storage.getConversationCatalog();
      for (const [id, record] of Object.entries(catalog)) {
        if (record.conversationId === frontmatter.conversation_id) {
          storage.deleteFromConversationCatalog(id);
          await this.plugin.saveSettings();
          break;
        }
      }
    } catch (error) {
      this.plugin.logger.error("Error handling conversation file deletion:", error);
    }
  }
  /**
   * Get file extension from filename (provider-agnostic utility)
   */
  getFileExtension(fileName) {
    const lastDot = fileName.lastIndexOf(".");
    return lastDot === -1 ? "" : fileName.substring(lastDot + 1).toLowerCase();
  }
  // TODO: Future enhancement - delete conversation attachments
  // async deleteConversationAttachments(conversationId: string): Promise<void> {
  //     // Implementation for deleting attachments when conversation is deleted
  // }
};

// src/services/conversation-processor.ts
init_utils();
var ConversationProcessor = class {
  constructor(plugin, providerRegistry) {
    this.plugin = plugin;
    this.counters = {
      totalExistingConversations: 0,
      totalNewConversationsToImport: 0,
      totalExistingConversationsToUpdate: 0,
      totalNewConversationsSuccessfullyImported: 0,
      totalConversationsActuallyUpdated: 0,
      totalConversationsProcessed: 0,
      totalNonEmptyMessagesToImport: 0,
      totalNonEmptyMessagesToAdd: 0,
      totalNonEmptyMessagesAdded: 0
    };
    this.currentProvider = "unknown";
    this.messageFormatter = new MessageFormatter(plugin.logger);
    this.fileService = new FileService(plugin);
    this.noteFormatter = new NoteFormatter(plugin.logger, plugin.manifest.id, plugin.manifest.version);
    this.providerRegistry = providerRegistry;
  }
  /**
   * Process raw conversations (provider agnostic entry point)
   */
  async processRawConversations(rawConversations, importReport, zip, isReprocess = false, forcedProvider, progressCallback) {
    const provider = forcedProvider || this.providerRegistry.detectProvider(rawConversations);
    if (provider === "unknown") {
      const errorMsg = forcedProvider ? `Forced provider '${forcedProvider}' is not available or registered` : `Could not detect conversation provider from data structure`;
      importReport.addError("Unknown provider", errorMsg);
      return importReport;
    }
    return this.processConversationsWithProvider(provider, rawConversations, importReport, zip, isReprocess, progressCallback);
  }
  /**
   * Get provider name for current processing session
   */
  getCurrentProvider() {
    return this.currentProvider || "unknown";
  }
  /**
   * Process conversations using the detected provider
   */
  async processConversationsWithProvider(provider, rawConversations, importReport, zip, isReprocess = false, progressCallback) {
    this.currentProvider = provider;
    const adapter = this.providerRegistry.getAdapter(provider);
    if (!adapter) {
      importReport.addError("Provider adapter not found", `No adapter found for provider: ${provider}`);
      return importReport;
    }
    const storage = this.plugin.getStorageService();
    const existingConversationsMap = await storage.scanExistingConversations();
    this.counters.totalExistingConversations = existingConversationsMap.size;
    let processedCount = 0;
    for (const chat of rawConversations) {
      await this.processSingleChat(adapter, chat, existingConversationsMap, importReport, zip, isReprocess);
      processedCount++;
      progressCallback == null ? void 0 : progressCallback({
        phase: "processing",
        title: "Processing conversations...",
        detail: `Processing conversation ${processedCount} of ${rawConversations.length}`,
        current: processedCount,
        total: rawConversations.length
      });
    }
    return importReport;
  }
  async processSingleChat(adapter, chat, existingConversations, importReport, zip, isReprocess = false) {
    try {
      const chatId = adapter.getId(chat);
      const existingEntry = existingConversations.get(chatId);
      if (existingEntry) {
        await this.handleExistingChat(adapter, chat, existingEntry, importReport, zip, isReprocess);
      } else {
        const filePath = await this.generateFilePathForChat(adapter, chat);
        await this.handleNewChat(adapter, chat, filePath, importReport, zip);
      }
      this.counters.totalConversationsProcessed++;
    } catch (error) {
      const errorMessage = error.message || "Unknown error occurred";
      const chatTitle = adapter.getTitle(chat) || "Untitled";
      importReport.addError(`Error processing chat: ${chatTitle}`, errorMessage);
    }
  }
  async handleExistingChat(adapter, chat, existingRecord, importReport, zip, isReprocess = false) {
    const chatTitle = adapter.getTitle(chat);
    const createTime = adapter.getCreateTime(chat);
    const updateTime = adapter.getUpdateTime(chat);
    const totalMessageCount = await this.countMessages(adapter, chat);
    const fileExists = await this.plugin.app.vault.adapter.exists(existingRecord.path);
    if (!fileExists) {
      await this.handleNewChat(adapter, chat, existingRecord.path, importReport, zip);
      return;
    }
    if (isReprocess) {
      this.plugin.logger.info(`Reprocessing conversation: ${chatTitle}`);
      this.counters.totalExistingConversationsToUpdate++;
      await this.updateExistingNote(adapter, chat, existingRecord.path, totalMessageCount, importReport, zip, true);
      return;
    }
    if (existingRecord.updateTime >= updateTime) {
      importReport.addSkipped(
        chatTitle,
        existingRecord.path,
        formatTimestamp(createTime, "date"),
        formatTimestamp(updateTime, "date"),
        totalMessageCount,
        "No Updates"
      );
    } else {
      this.counters.totalExistingConversationsToUpdate++;
      await this.updateExistingNote(adapter, chat, existingRecord.path, totalMessageCount, importReport, zip);
    }
  }
  async handleNewChat(adapter, chat, filePath, importReport, zip) {
    this.counters.totalNewConversationsToImport++;
    await this.createNewNote(adapter, chat, filePath, importReport, zip);
  }
  /**
   * Count messages in a chat using provider-specific logic
   */
  async countMessages(adapter, chat) {
    var _a;
    try {
      const standardConversation = await adapter.convertChat(chat);
      return ((_a = standardConversation.messages) == null ? void 0 : _a.length) || 0;
    } catch (error) {
      if (chat.mapping) {
        return Object.values(chat.mapping).filter((msg) => isValidMessage(msg.message)).length;
      } else if (chat.messages) {
        return Array.isArray(chat.messages) ? chat.messages.length : 0;
      }
      return 0;
    }
  }
  /**
   * Get provider-specific count (artifacts for Claude, attachments for ChatGPT)
   */
  getProviderSpecificCount(adapter, chat) {
    try {
      const strategy = adapter.getReportNamingStrategy();
      if (strategy && strategy.getProviderSpecificColumn) {
        const columnInfo = strategy.getProviderSpecificColumn();
        return columnInfo.getValue(adapter, chat);
      }
    } catch (error) {
    }
    return 0;
  }
  async updateExistingNote(adapter, chat, filePath, totalMessageCount, importReport, zip, forceUpdate = false) {
    try {
      const file = this.plugin.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian12.TFile) {
        let content = await this.plugin.app.vault.read(file);
        const originalContent = content;
        const chatUpdateTime = adapter.getUpdateTime(chat);
        const chatCreateTime = adapter.getCreateTime(chat);
        const chatTitle = adapter.getTitle(chat);
        content = this.updateMetadata(content, chatUpdateTime);
        const existingMessageIds = this.extractMessageUIDsFromNote(content);
        const newMessages = adapter.getNewMessages(chat, existingMessageIds);
        let attachmentStats = void 0;
        if (forceUpdate) {
          let standardConversation = await adapter.convertChat(chat);
          if (zip && this.plugin.settings.importAttachments && adapter.processMessageAttachments) {
            standardConversation.messages = await adapter.processMessageAttachments(
              standardConversation.messages,
              adapter.getId(chat),
              zip
            );
            attachmentStats = this.calculateAttachmentStats(standardConversation.messages);
          }
          const newContent = this.noteFormatter.generateMarkdownContent(standardConversation);
          await this.fileService.writeToFile(filePath, newContent);
          importReport.addUpdated(
            chatTitle,
            filePath,
            `${formatTimestamp(chatCreateTime, "date")} ${formatTimestamp(chatCreateTime, "time")}`,
            `${formatTimestamp(chatUpdateTime, "date")} ${formatTimestamp(chatUpdateTime, "time")}`,
            totalMessageCount,
            attachmentStats
          );
          this.counters.totalConversationsActuallyUpdated++;
          return;
        }
        if (newMessages.length > 0) {
          let standardMessages = await adapter.convertMessages(newMessages, adapter.getId(chat));
          if (zip && this.plugin.settings.importAttachments && adapter.processMessageAttachments) {
            standardMessages = await adapter.processMessageAttachments(
              standardMessages,
              adapter.getId(chat),
              zip
            );
          }
          attachmentStats = this.calculateAttachmentStats(standardMessages);
          content += "\n\n" + this.messageFormatter.formatMessages(standardMessages);
          this.counters.totalConversationsActuallyUpdated++;
          this.counters.totalNonEmptyMessagesAdded += newMessages.length;
        }
        if (content !== originalContent) {
          await this.fileService.writeToFile(filePath, content);
          importReport.addUpdated(
            chatTitle,
            filePath,
            `${formatTimestamp(chatCreateTime, "date")} ${formatTimestamp(chatCreateTime, "time")}`,
            `${formatTimestamp(chatUpdateTime, "date")} ${formatTimestamp(chatUpdateTime, "time")}`,
            newMessages.length,
            attachmentStats
          );
        } else {
          importReport.addSkipped(
            chatTitle,
            filePath,
            `${formatTimestamp(chatCreateTime, "date")} ${formatTimestamp(chatCreateTime, "time")}`,
            `${formatTimestamp(chatUpdateTime, "date")} ${formatTimestamp(chatUpdateTime, "time")}`,
            totalMessageCount,
            "No changes needed"
          );
        }
      }
    } catch (error) {
      this.plugin.logger.error("Error updating note", error.message);
    }
  }
  async createNewNote(adapter, chat, filePath, importReport, zip) {
    try {
      const folderPath = filePath.substring(0, filePath.lastIndexOf("/"));
      const folderResult = await ensureFolderExists(folderPath, this.plugin.app.vault);
      if (!folderResult.success) {
        throw new Error(folderResult.error || "Failed to ensure folder exists.");
      }
      let standardConversation = await adapter.convertChat(chat);
      let attachmentStats = { total: 0, found: 0, missing: 0, failed: 0 };
      if (zip && this.plugin.settings.importAttachments && adapter.processMessageAttachments) {
        standardConversation.messages = await adapter.processMessageAttachments(
          standardConversation.messages,
          adapter.getId(chat),
          zip
        );
        attachmentStats = this.calculateAttachmentStats(standardConversation.messages);
      }
      const content = this.noteFormatter.generateMarkdownContent(standardConversation);
      await this.fileService.writeToFile(filePath, content);
      const messageCount = await this.countMessages(adapter, chat);
      const createTime = adapter.getCreateTime(chat);
      const updateTime = adapter.getUpdateTime(chat);
      const chatTitle = adapter.getTitle(chat);
      const providerSpecificCount = this.getProviderSpecificCount(adapter, chat);
      importReport.addCreated(
        chatTitle,
        filePath,
        `${formatTimestamp(createTime, "date")} ${formatTimestamp(createTime, "time")}`,
        `${formatTimestamp(updateTime, "date")} ${formatTimestamp(updateTime, "time")}`,
        messageCount,
        attachmentStats,
        providerSpecificCount
      );
      this.counters.totalNewConversationsSuccessfullyImported++;
      this.counters.totalNonEmptyMessagesToImport += messageCount;
    } catch (error) {
      this.plugin.logger.error("Error creating new note", error.message);
      const createTime = adapter.getCreateTime(chat);
      const updateTime = adapter.getUpdateTime(chat);
      const chatTitle = adapter.getTitle(chat);
      importReport.addFailed(
        chatTitle,
        filePath,
        formatTimestamp(createTime, "date") + " " + formatTimestamp(createTime, "time"),
        formatTimestamp(updateTime, "date") + " " + formatTimestamp(updateTime, "time"),
        error.message
      );
      throw error;
    }
  }
  updateMetadata(content, updateTime) {
    const updateTimeStr = `${formatTimestamp(updateTime, "date")} at ${formatTimestamp(updateTime, "time")}`;
    content = content.replace(/^update_time: .*$/m, `update_time: ${updateTimeStr}`);
    content = content.replace(/^Last Updated: .*$/m, `Last Updated: ${updateTimeStr}`);
    return content;
  }
  extractMessageUIDsFromNote(content) {
    const uidRegex = /<!-- UID: (.*?) -->/g;
    const uids = [];
    let match;
    while ((match = uidRegex.exec(content)) !== null) {
      uids.push(match[1]);
    }
    return uids;
  }
  async generateFilePathForChat(adapter, chat) {
    const createTime = adapter.getCreateTime(chat);
    const chatTitle = adapter.getTitle(chat);
    const providerName = adapter.getProviderName();
    const date = new Date(createTime * 1e3);
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, "0");
    const folderPath = `${this.plugin.settings.archiveFolder}/${providerName}/${year}/${month}`;
    const folderResult = await ensureFolderExists(folderPath, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(folderResult.error || "Failed to ensure folder exists.");
    }
    let fileName = generateConversationFileName(
      chatTitle,
      createTime,
      this.plugin.settings.addDatePrefix,
      this.plugin.settings.dateFormat
    ) + ".md";
    let filePath = `${folderPath}/${fileName}`;
    if (await doesFilePathExist(filePath, this.plugin.app.vault)) {
      filePath = await generateUniqueFileName(filePath, this.plugin.app.vault.adapter);
    }
    return filePath;
  }
  getCounters() {
    return this.counters;
  }
  /**
   * Calculate attachment statistics from processed messages
   */
  calculateAttachmentStats(messages) {
    var _a, _b, _c;
    const stats = { total: 0, found: 0, missing: 0, failed: 0 };
    for (const message of messages) {
      if (message.attachments) {
        for (const attachment of message.attachments) {
          stats.total++;
          if ((_a = attachment.status) == null ? void 0 : _a.found) {
            stats.found++;
          } else if (((_b = attachment.status) == null ? void 0 : _b.reason) === "missing_from_export") {
            stats.missing++;
          } else if (((_c = attachment.status) == null ? void 0 : _c.reason) === "extraction_failed") {
            stats.failed++;
          }
        }
      }
    }
    return stats;
  }
};

// src/models/errors.ts
var NexusAiChatImporterError = class extends Error {
  constructor(message, details) {
    super(message);
    this.details = details;
    this.name = "NexusAiChatImporterError";
  }
};

// src/providers/provider-adapter.ts
var DefaultProviderRegistry = class {
  constructor() {
    this.adapters = {};
  }
  register(providerName, adapter) {
    this.adapters[providerName] = adapter;
  }
  getAdapter(provider) {
    return this.adapters[provider];
  }
  detectProvider(rawConversations) {
    for (const [name, adapter] of Object.entries(this.adapters)) {
      try {
        if (adapter.detect(rawConversations))
          return name;
      } catch (_) {
      }
    }
    return "unknown";
  }
};

// src/providers/chatgpt/chatgpt-converter.ts
init_utils();
var ChatGPTConverter = class {
  /**
   * Convert ChatGPT Chat to StandardConversation
   */
  static convertChat(chat) {
    const messages = this.extractMessagesFromMapping(chat);
    return {
      id: chat.id || "",
      title: chat.title || "Untitled",
      provider: "chatgpt",
      createTime: chat.create_time || 0,
      updateTime: chat.update_time || 0,
      messages,
      metadata: {
        conversation_template_id: chat.conversation_template_id,
        gizmo_id: chat.gizmo_id,
        gizmo_type: chat.gizmo_type,
        default_model_slug: chat.default_model_slug,
        is_archived: chat.is_archived,
        is_starred: chat.is_starred,
        current_node: chat.current_node,
        memory_scope: chat.memory_scope
      }
    };
  }
  /**
   * Convert array of ChatGPT ChatMessages to StandardMessages
   */
  static convertMessages(chatMessages, conversationId) {
    return chatMessages.filter((msg) => isValidMessage(msg)).map((msg) => this.convertMessage(msg, conversationId));
  }
  /**
   * Convert single ChatGPT ChatMessage to StandardMessage
   */
  static convertMessage(chatMessage, conversationId) {
    var _a;
    const contentResult = this.extractContent(chatMessage, conversationId);
    return {
      id: chatMessage.id || "",
      role: ((_a = chatMessage.author) == null ? void 0 : _a.role) === "user" ? "user" : "assistant",
      content: contentResult.content,
      timestamp: chatMessage.create_time || 0,
      attachments: contentResult.attachments || []
    };
  }
  /**
   * Extract messages from ChatGPT mapping structure with DALL-E prompt association
   */
  static extractMessagesFromMapping(chat) {
    var _a, _b, _c, _d;
    const messages = [];
    const dallePrompts = /* @__PURE__ */ new Map();
    const conversationId = chat.id;
    const mappingValues = Object.values(chat.mapping);
    for (const messageObj of mappingValues) {
      const message = messageObj == null ? void 0 : messageObj.message;
      if (!message || ((_a = message.author) == null ? void 0 : _a.role) !== "assistant")
        continue;
      if (this.isDallePromptMessage(message)) {
        const prompt = this.extractPromptFromJson(message);
        if (prompt) {
          const children = messageObj.children || [];
          for (const childId of children) {
            const childObj = chat.mapping[childId];
            if (((_c = (_b = childObj == null ? void 0 : childObj.message) == null ? void 0 : _b.author) == null ? void 0 : _c.role) === "tool" && this.hasRealDalleImage(childObj.message)) {
              dallePrompts.set(childId, prompt);
              break;
            }
          }
        }
      }
    }
    for (const messageObj of mappingValues) {
      const message = messageObj == null ? void 0 : messageObj.message;
      if (!message)
        continue;
      if (((_d = message.author) == null ? void 0 : _d.role) === "tool" && this.hasRealDalleImage(message)) {
        const prompt = dallePrompts.get(messageObj.id || "");
        const dalleMessage = this.createDalleAssistantMessage(message, prompt);
        if (dalleMessage) {
          messages.push(dalleMessage);
        }
      } else if (this.shouldIncludeMessage(message)) {
        messages.push(this.convertMessage(message, conversationId));
      }
    }
    if (messages.length <= 1)
      return messages;
    return messages.sort((a, b) => {
      if (a.timestamp !== b.timestamp) {
        return a.timestamp - b.timestamp;
      }
      return a.id.localeCompare(b.id);
    });
  }
  /**
   * Check if message is a DALL-E JSON prompt message
   */
  static isDallePromptMessage(message) {
    var _a, _b;
    if (((_a = message.author) == null ? void 0 : _a.role) !== "assistant")
      return false;
    if (((_b = message.content) == null ? void 0 : _b.parts) && Array.isArray(message.content.parts) && message.content.parts.length === 1 && typeof message.content.parts[0] === "string") {
      const content = message.content.parts[0].trim();
      return content.startsWith("{") && content.includes('"prompt"');
    }
    return false;
  }
  /**
   * Extract prompt from DALL-E JSON message
   */
  static extractPromptFromJson(message) {
    var _a;
    try {
      if (((_a = message.content) == null ? void 0 : _a.parts) && message.content.parts[0]) {
        const jsonStr = message.content.parts[0];
        const parsed = JSON.parse(jsonStr);
        return parsed.prompt || null;
      }
    } catch (error) {
    }
    return null;
  }
  /**
   * Determine if a message should be included in the conversation - ENHANCED VERSION
   */
  static shouldIncludeMessage(message) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
    if (!message || !message.author) {
      return false;
    }
    if (message.author.role === "system") {
      return false;
    }
    if (message.author.role === "tool") {
      return false;
    }
    if (((_a = message.metadata) == null ? void 0 : _a.is_visually_hidden_from_conversation) === true) {
      return false;
    }
    if (((_b = message.metadata) == null ? void 0 : _b.is_user_system_message) === true) {
      return false;
    }
    if (((_c = message.content) == null ? void 0 : _c.content_type) === "user_editable_context") {
      return false;
    }
    if (message.author.role === "assistant") {
      if (((_d = message.content) == null ? void 0 : _d.parts) && Array.isArray(message.content.parts) && message.content.parts.every(
        (part) => typeof part === "string" && part.trim() === ""
      )) {
        return false;
      }
      if (this.isDallePromptMessage(message)) {
        return false;
      }
      if (((_e = message.content) == null ? void 0 : _e.content_type) === "code") {
        return false;
      }
      if (((_f = message.content) == null ? void 0 : _f.content_type) === "system_error") {
        return false;
      }
      if (((_g = message.content) == null ? void 0 : _g.content_type) === "execution_output") {
        return false;
      }
      if (((_h = message.content) == null ? void 0 : _h.content_type) === "multimodal_text") {
        if (((_i = message.content) == null ? void 0 : _i.parts) && Array.isArray(message.content.parts)) {
          const hasTextContent = message.content.parts.some((part) => {
            if (typeof part === "string" && part.trim() !== "") {
              return true;
            }
            if (typeof part === "object" && part !== null && "text" in part) {
              return typeof part.text === "string" && part.text.trim() !== "";
            }
            return false;
          });
          if (!hasTextContent) {
            return false;
          }
        }
      }
    }
    if (message.author.role === "user") {
      const excludedContentTypes = [
        "user_editable_context"
        // Already covered above but double-check
      ];
      if (((_j = message.content) == null ? void 0 : _j.content_type) && excludedContentTypes.includes(message.content.content_type)) {
        return false;
      }
    }
    return isValidMessage(message);
  }
  /**
   * Check if message contains REAL DALL-E image (not user upload)
   */
  static hasRealDalleImage(message) {
    var _a;
    if (!((_a = message.content) == null ? void 0 : _a.parts) || !Array.isArray(message.content.parts)) {
      return false;
    }
    return message.content.parts.some((part) => {
      var _a2;
      if (typeof part !== "object" || part === null)
        return false;
      const contentPart = part;
      return contentPart.content_type === "image_asset_pointer" && contentPart.asset_pointer && ((_a2 = contentPart.metadata) == null ? void 0 : _a2.dalle) && contentPart.metadata.dalle !== null;
    });
  }
  /**
   * Create Assistant (DALL-E) message from tool message with associated prompt
   */
  static createDalleAssistantMessage(toolMessage, associatedPrompt) {
    var _a, _b;
    if (!((_a = toolMessage.content) == null ? void 0 : _a.parts) || !Array.isArray(toolMessage.content.parts)) {
      return null;
    }
    const attachments = [];
    for (const part of toolMessage.content.parts) {
      if (typeof part === "object" && part !== null) {
        const contentPart = part;
        if (contentPart.content_type === "image_asset_pointer" && contentPart.asset_pointer && ((_b = contentPart.metadata) == null ? void 0 : _b.dalle) && contentPart.metadata.dalle !== null) {
          let fileId = contentPart.asset_pointer;
          if (fileId.includes("://")) {
            fileId = fileId.split("://")[1];
          }
          const genId = contentPart.metadata.dalle.gen_id || "unknown";
          const width = contentPart.width || 1024;
          const height = contentPart.height || 1024;
          const fileName = `dalle_${genId}_${width}x${height}.png`;
          const dalleAttachment = {
            fileName,
            fileSize: contentPart.size_bytes,
            fileType: "image/png",
            fileId,
            // Use associated prompt from JSON message, fallback to metadata
            extractedContent: associatedPrompt || contentPart.metadata.dalle.prompt
          };
          attachments.push(dalleAttachment);
        }
      }
    }
    if (attachments.length === 0) {
      return null;
    }
    return {
      id: toolMessage.id || "",
      role: "assistant",
      content: "Image g\xE9n\xE9r\xE9e par DALL-E",
      timestamp: toolMessage.create_time || 0,
      attachments
    };
  }
  /**
   * Extract content and attachments from ChatGPT message parts
   */
  static extractContent(chatMessage, conversationId) {
    var _a;
    if (!((_a = chatMessage.content) == null ? void 0 : _a.parts) || !Array.isArray(chatMessage.content.parts)) {
      return { content: "" };
    }
    const contentParts = [];
    const attachments = [];
    for (const part of chatMessage.content.parts) {
      let textContent = "";
      if (typeof part === "string" && part.trim() !== "") {
        if (part.trim().startsWith("{") && part.trim().endsWith("}")) {
          try {
            const parsed = JSON.parse(part);
            if (parsed.type && parsed.content && typeof parsed.content === "string") {
              const codeType = parsed.type;
              const codeContent = parsed.content;
              if (codeContent.trim() !== "") {
                const language = codeType.includes("/") ? codeType.split("/")[1] : codeType;
                textContent = `\`\`\`${language}
${codeContent}
\`\`\``;
              }
            } else {
              textContent = part;
            }
          } catch (e) {
            textContent = part;
          }
        } else {
          textContent = part;
        }
      } else if (typeof part === "object" && part !== null) {
        if ("type" in part && "content" in part && typeof part.content === "string") {
          const codeType = part.type;
          const codeContent = part.content;
          if (codeContent.trim() !== "") {
            const language = codeType.includes("/") ? codeType.split("/")[1] : codeType;
            textContent = `\`\`\`${language}
${codeContent}
\`\`\``;
          }
        } else if ("content_type" in part && "text" in part && typeof part.text === "string") {
          if (part.content_type === "audio_transcription" && part.text.trim() !== "") {
            textContent = part.text;
          } else if (part.content_type === "text" && part.text.trim() !== "") {
            textContent = part.text;
          } else if (part.content_type === "multimodal_text" && part.text.trim() !== "") {
            textContent = part.text;
          }
        } else if ("content_type" in part && part.content_type === "image_asset_pointer" && "asset_pointer" in part) {
          const attachment = this.extractImageAttachment(part, conversationId);
          if (attachment) {
            attachments.push(attachment);
          }
        }
      }
      if (textContent) {
        textContent = this.cleanChatGPTArtifacts(textContent, conversationId);
        if (textContent.trim() !== "") {
          contentParts.push(textContent);
        }
      }
    }
    const finalContent = contentParts.join("\n");
    if (chatMessage.attachments) {
      for (const att of chatMessage.attachments) {
        attachments.push({
          fileName: att.file_name,
          fileType: att.file_type || "application/octet-stream",
          fileSize: att.file_size,
          extractedContent: att.extracted_content
        });
      }
    }
    return {
      content: finalContent,
      attachments: attachments.length > 0 ? attachments : void 0
    };
  }
  /**
   * Extract image attachment from content part
   */
  static extractImageAttachment(part, conversationId) {
    var _a;
    if (!part.asset_pointer)
      return null;
    let fileId = part.asset_pointer;
    if (fileId.includes("://")) {
      fileId = fileId.split("://")[1];
    }
    let fileName = `image_${fileId}`;
    if (part.width && part.height) {
      fileName = `image_${fileId}_${part.width}x${part.height}`;
    }
    const fileType = ((_a = part.metadata) == null ? void 0 : _a.mime_type) || "image/png";
    const extension = fileType.split("/")[1] || "png";
    fileName += `.${extension}`;
    return {
      fileName,
      fileType,
      fileSize: part.size_bytes,
      fileId
    };
  }
  /**
   * Clean ChatGPT artifacts, citations, and control characters - SMART LINKING
   */
  static cleanChatGPTArtifacts(text, conversationId) {
    if (!text || typeof text !== "string")
      return "";
    const chatUrl = conversationId ? `https://chat.openai.com/c/${conversationId}` : "https://chat.openai.com";
    let cleanText = text;
    for (const { pattern, replacement } of this.CLEANUP_PATTERNS) {
      cleanText = cleanText.replace(pattern, replacement(chatUrl));
    }
    return cleanText.trim();
  }
};
// Pre-compiled regex patterns for performance
ChatGPTConverter.CLEANUP_PATTERNS = [
  // SMART: Replace sandbox links with actual links to original conversation
  { pattern: / \[([^\]]+)\]\(sandbox:\/[^)]+\)/g, replacement: (chatUrl) => `\u{1F4C4} [$1](${chatUrl}) *(visit original conversation to download)*` },
  { pattern: / ([^-\n]+) - File not available in archive/g, replacement: (chatUrl) => `\u{1F4C4} [$1](${chatUrl}) *(visit original conversation to download)*` },
  { pattern: /\[([^\]]+)\]\(sandbox:\/[^)]+\)/g, replacement: (chatUrl) => `[$1](${chatUrl}) *(visit original conversation to download)*` },
  { pattern: /([^-\n]+) - File not available in archive\. Visit the original conversation to access it/g, replacement: (chatUrl) => `[$1](${chatUrl}) *(visit original conversation to download)*` },
  // Remove patterns (static replacements)
  { pattern: /cite[a-zA-Z0-9_\-]+/g, replacement: () => "" },
  { pattern: /link[a-zA-Z0-9_\-]+/g, replacement: () => "" },
  { pattern: /turn\d+search\d+/g, replacement: () => "" },
  { pattern: /[\uE000-\uF8FF]/g, replacement: () => "" },
  // Unicode control characters
  { pattern: / {2,}/g, replacement: () => " " },
  // Multiple spaces
  { pattern: /\n{3,}/g, replacement: () => "\n\n" }
  // Multiple newlines
];

// src/providers/chatgpt/chatgpt-attachment-extractor.ts
init_utils();
var ChatGPTAttachmentExtractor = class {
  // Cache for ZIP file lookups
  constructor(plugin, logger4) {
    this.plugin = plugin;
    this.logger = logger4;
    this.zipFileCache = /* @__PURE__ */ new Map();
  }
  /**
   * Extract and save ChatGPT attachments using "best effort" strategy
   * - If file exists in ZIP: extract and link
   * - If file missing: create informative note
   */
  async extractAttachments(zip, conversationId, attachments) {
    if (!this.plugin.settings.importAttachments || attachments.length === 0) {
      return attachments.map((att) => ({ ...att, status: { processed: false, found: false } }));
    }
    const processedAttachments = [];
    for (const attachment of attachments) {
      try {
        const result = await this.processAttachmentBestEffort(zip, conversationId, attachment);
        processedAttachments.push(result);
      } catch (error) {
        const errorMessage = error instanceof Error ? error.message : String(error);
        this.logger.error(`Failed to process ChatGPT attachment: ${attachment.fileName}`, errorMessage);
        processedAttachments.push({
          ...attachment,
          status: {
            processed: false,
            found: false,
            reason: "extraction_failed",
            note: `Processing failed: ${errorMessage}`
          }
        });
      }
    }
    return processedAttachments;
  }
  /**
   * Process single attachment with best effort strategy
   */
  async processAttachmentBestEffort(zip, conversationId, attachment) {
    const zipFile = await this.findChatGPTFileById(zip, attachment);
    if (!zipFile) {
      return {
        ...attachment,
        status: {
          processed: true,
          found: false,
          reason: "missing_from_export",
          note: "This file was referenced in the conversation but not included in the ChatGPT export. This can happen with older conversations or certain file types."
        }
      };
    }
    try {
      const extractResult = await this.extractSingleAttachment(zip, conversationId, attachment, zipFile);
      if (extractResult) {
        return {
          ...attachment,
          fileName: extractResult.finalFileName,
          // Update with actual extracted filename
          fileType: extractResult.actualFileType,
          // Update with detected file type
          url: extractResult.localPath,
          status: {
            processed: true,
            found: true,
            localPath: extractResult.localPath
          }
        };
      } else {
        return {
          ...attachment,
          status: {
            processed: true,
            found: false,
            reason: "extraction_failed",
            note: "File was found in export but could not be extracted to disk."
          }
        };
      }
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      this.logger.error(`Error extracting ChatGPT attachment: ${attachment.fileName}`, errorMessage);
      return {
        ...attachment,
        status: {
          processed: true,
          found: true,
          // File exists but extraction failed
          reason: "extraction_failed",
          note: `Extraction failed: ${errorMessage}`
        }
      };
    }
  }
  /**
   * Extract single attachment to disk with conflict resolution and format detection
   */
  async extractSingleAttachment(zip, conversationId, attachment, zipFile) {
    const fileContent = await zipFile.async("uint8array");
    const formatInfo = this.detectFileFormat(fileContent);
    let finalFileName = attachment.fileName;
    if (zipFile.name.endsWith(".dat") && formatInfo.extension) {
      const baseName = attachment.fileName.replace(/\.(dat|png|jpg|jpeg|gif|webp)$/i, "");
      finalFileName = `${baseName}.${formatInfo.extension}`;
    }
    let targetPath = this.generateLocalPath(conversationId, {
      ...attachment,
      fileName: finalFileName,
      fileType: formatInfo.mimeType || attachment.fileType
    });
    const folderPath = targetPath.substring(0, targetPath.lastIndexOf("/"));
    const folderResult = await ensureFolderExists(folderPath, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create ChatGPT attachment folder: ${folderResult.error}`);
    }
    targetPath = await this.resolveFileConflict(targetPath);
    await this.plugin.app.vault.adapter.writeBinary(targetPath, fileContent);
    return {
      localPath: targetPath,
      finalFileName,
      actualFileType: formatInfo.mimeType || attachment.fileType || "application/octet-stream"
    };
  }
  /**
   * Detect file format from magic bytes (especially for .dat files)
   */
  detectFileFormat(fileContent) {
    if (fileContent.length < 4) {
      this.logger.warn("File too small for format detection");
      return { extension: null, mimeType: null };
    }
    const header = Array.from(fileContent.slice(0, 12)).map((b) => b.toString(16).padStart(2, "0")).join("");
    if (header.startsWith("89504e47")) {
      return { extension: "png", mimeType: "image/png" };
    }
    if (header.startsWith("ffd8ff")) {
      return { extension: "jpg", mimeType: "image/jpeg" };
    }
    if (header.startsWith("47494638")) {
      return { extension: "gif", mimeType: "image/gif" };
    }
    if (header.startsWith("52494646") && header.substring(16, 24) === "57454250") {
      return { extension: "webp", mimeType: "image/webp" };
    }
    if (header.startsWith("52494646")) {
      return { extension: "webp", mimeType: "image/webp" };
    }
    return { extension: null, mimeType: null };
  }
  /**
   * Resolve file conflicts by adding numeric suffix
   */
  async resolveFileConflict(originalPath) {
    let finalPath = originalPath;
    let counter = 1;
    while (await this.plugin.app.vault.adapter.exists(finalPath)) {
      const lastDot = originalPath.lastIndexOf(".");
      if (lastDot === -1) {
        finalPath = `${originalPath}_${counter}`;
      } else {
        const nameWithoutExt = originalPath.substring(0, lastDot);
        const extension = originalPath.substring(lastDot);
        finalPath = `${nameWithoutExt}_${counter}${extension}`;
      }
      counter++;
    }
    return finalPath;
  }
  /**
   * Find file in ZIP - ENHANCED WITH COMPREHENSIVE SEARCH + CACHING
   */
  async findChatGPTFileById(zip, attachment) {
    if (!attachment.fileId) {
      this.logger.warn("No fileId provided for attachment:", attachment.fileName);
      return null;
    }
    const cacheKey = `${attachment.fileId}_${attachment.fileName}`;
    if (this.zipFileCache.has(cacheKey)) {
      return this.zipFileCache.get(cacheKey);
    }
    let zipFile = zip.file(attachment.fileName);
    if (zipFile) {
      this.zipFileCache.set(cacheKey, zipFile);
      return zipFile;
    }
    const foundFile = await this.searchZipByFileId(zip, attachment.fileId);
    this.zipFileCache.set(cacheKey, foundFile);
    return foundFile;
  }
  /**
   * Search entire ZIP for file by exact ID
   */
  async searchZipByFileId(zip, fileId) {
    for (const [path, file] of Object.entries(zip.files)) {
      if (file.dir)
        continue;
      if (path.includes(fileId)) {
        return file;
      }
    }
    return null;
  }
  /**
   * Generate local path for ChatGPT attachment using attachmentFolder setting
   */
  generateLocalPath(conversationId, attachment) {
    const category = this.categorizeFile(attachment);
    const safeFileName = this.sanitizeFileName(attachment.fileName);
    return `${this.plugin.settings.attachmentFolder}/chatgpt/${category}/${safeFileName}`;
  }
  /**
   * Categorize file based on MIME type or extension
   */
  categorizeFile(attachment) {
    if (attachment.fileType) {
      if (attachment.fileType.startsWith("image/"))
        return "images";
      if (attachment.fileType.startsWith("audio/"))
        return "audio";
      if (attachment.fileType.startsWith("video/"))
        return "video";
      if (attachment.fileType === "application/pdf")
        return "documents";
      if (attachment.fileType.includes("text/") || attachment.fileType.includes("markdown"))
        return "documents";
    }
    const ext = this.plugin.getFileService().getFileExtension(attachment.fileName);
    const audioExts = ["wav", "mp3", "ogg", "m4a", "flac"];
    const imageExts = ["png", "jpg", "jpeg", "gif", "webp", "svg"];
    const docExts = ["pdf", "doc", "docx", "txt", "md", "rtf"];
    const videoExts = ["mp4", "avi", "mov", "mkv"];
    if (audioExts.includes(ext))
      return "audio";
    if (imageExts.includes(ext))
      return "images";
    if (docExts.includes(ext))
      return "documents";
    if (videoExts.includes(ext))
      return "video";
    return "files";
  }
  /**
   * Sanitize filename and handle potential conflicts
   */
  sanitizeFileName(fileName) {
    let cleanName = fileName.replace(/[<>:"\/\\|?*]/g, "_").replace(/\s+/g, "_").trim();
    return cleanName;
  }
  /**
   * Clear ZIP file cache (call between different ZIP files)
   */
  clearCache() {
    this.zipFileCache.clear();
  }
  /**
   * Get attachment processing statistics
   */
  getStatistics(attachments) {
    return {
      total: attachments.length,
      found: attachments.filter((a) => {
        var _a, _b;
        return ((_a = a.status) == null ? void 0 : _a.found) && ((_b = a.status) == null ? void 0 : _b.processed);
      }).length,
      missing: attachments.filter((a) => {
        var _a, _b;
        return !((_a = a.status) == null ? void 0 : _a.found) && ((_b = a.status) == null ? void 0 : _b.reason) === "missing_from_export";
      }).length,
      failed: attachments.filter((a) => {
        var _a;
        return ((_a = a.status) == null ? void 0 : _a.reason) === "extraction_failed";
      }).length
    };
  }
};

// src/providers/chatgpt/chatgpt-report-naming.ts
var ChatGPTReportNamingStrategy = class {
  /**
   * Extract date prefix from ChatGPT ZIP filename
   * Examples:
   * - "3b00abafb9222a9580aa7cbb198166ed0c61634222cce9571bb079a2886aeed5-2025-04-25-14-40-42-ff19c2fd898d44d9bc5945ee80c199ca.zip"
   * - "chatgpt-export-2025-04-25.zip"
   * - "conversations-2025-04-25-14-40-42.zip"
   */
  extractReportPrefix(zipFileName) {
    const now = new Date();
    const importYear = now.getFullYear();
    const importMonth = String(now.getMonth() + 1).padStart(2, "0");
    const importDay = String(now.getDate()).padStart(2, "0");
    const importDate = `${importYear}.${importMonth}.${importDay}`;
    const dateRegex = /(\d{4})-(\d{2})-(\d{2})/;
    const match = zipFileName.match(dateRegex);
    let archiveDate;
    if (match) {
      const [, year, month, day] = match;
      archiveDate = `${year}.${month}.${day}`;
    } else {
      archiveDate = importDate;
    }
    return `imported-${importDate}-archive-${archiveDate}`;
  }
  /**
   * Get ChatGPT provider name
   */
  getProviderName() {
    return "chatgpt";
  }
  getProviderSpecificColumn() {
    return {
      header: "Attachments",
      getValue: (adapter, chat) => {
        let attachmentCount = 0;
        if (chat.mapping) {
          Object.values(chat.mapping).forEach((node) => {
            var _a, _b;
            if ((_b = (_a = node.message) == null ? void 0 : _a.metadata) == null ? void 0 : _b.attachments) {
              attachmentCount += node.message.metadata.attachments.length;
            }
          });
        }
        return attachmentCount;
      }
    };
  }
};

// src/providers/chatgpt/chatgpt-adapter.ts
init_utils();
var ChatGPTAdapter = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.attachmentExtractor = new ChatGPTAttachmentExtractor(plugin, plugin.logger);
    this.reportNamingStrategy = new ChatGPTReportNamingStrategy();
  }
  detect(rawConversations) {
    if (rawConversations.length === 0)
      return false;
    const sample = rawConversations[0];
    return !!(sample.mapping && sample.create_time && sample.update_time && sample.title);
  }
  getId(chat) {
    return chat.id || "";
  }
  getTitle(chat) {
    return chat.title || "Untitled";
  }
  getCreateTime(chat) {
    return chat.create_time || 0;
  }
  getUpdateTime(chat) {
    return chat.update_time || 0;
  }
  convertChat(chat) {
    return ChatGPTConverter.convertChat(chat);
  }
  convertMessages(messages, conversationId) {
    return ChatGPTConverter.convertMessages(messages, conversationId);
  }
  getProviderName() {
    return "chatgpt";
  }
  getNewMessages(chat, existingMessageIds) {
    var _a;
    const newMessages = [];
    for (const messageObj of Object.values(chat.mapping)) {
      if ((messageObj == null ? void 0 : messageObj.id) && !existingMessageIds.includes(messageObj.id)) {
        const message = messageObj.message;
        if (!message)
          continue;
        if (((_a = message.author) == null ? void 0 : _a.role) === "tool" && this.hasRealDalleImage(message)) {
          const dalleMessage = this.createDalleAssistantMessage(message);
          if (dalleMessage) {
            newMessages.push(dalleMessage);
          }
        } else if (this.shouldIncludeMessage(message)) {
          newMessages.push(message);
        }
      }
    }
    return newMessages;
  }
  async processMessageAttachments(messages, conversationId, zip) {
    const processedMessages = [];
    for (const message of messages) {
      if (message.attachments && message.attachments.length > 0) {
        const processedAttachments = await this.attachmentExtractor.extractAttachments(
          zip,
          conversationId,
          message.attachments
        );
        processedMessages.push({
          ...message,
          attachments: processedAttachments
        });
      } else {
        processedMessages.push(message);
      }
    }
    return processedMessages;
  }
  getReportNamingStrategy() {
    return this.reportNamingStrategy;
  }
  getProviderName() {
    return "chatgpt";
  }
  /**
   * Check if message contains REAL DALL-E image (not user upload)
   */
  hasRealDalleImage(message) {
    var _a;
    if (!((_a = message.content) == null ? void 0 : _a.parts) || !Array.isArray(message.content.parts)) {
      return false;
    }
    return message.content.parts.some((part) => {
      var _a2;
      if (typeof part !== "object" || part === null)
        return false;
      return part.content_type === "image_asset_pointer" && part.asset_pointer && ((_a2 = part.metadata) == null ? void 0 : _a2.dalle) && part.metadata.dalle !== null;
    });
  }
  /**
   * Create Assistant (DALL-E) message from tool message
   */
  createDalleAssistantMessage(toolMessage) {
    var _a, _b;
    if (!((_a = toolMessage.content) == null ? void 0 : _a.parts) || !Array.isArray(toolMessage.content.parts)) {
      return null;
    }
    const attachments = [];
    for (const part of toolMessage.content.parts) {
      if (typeof part === "object" && part !== null) {
        if (part.content_type === "image_asset_pointer" && part.asset_pointer && ((_b = part.metadata) == null ? void 0 : _b.dalle) && part.metadata.dalle !== null) {
          let fileId = part.asset_pointer;
          if (fileId.includes("://")) {
            fileId = fileId.split("://")[1];
          }
          const genId = part.metadata.dalle.gen_id || "unknown";
          const width = part.width || 1024;
          const height = part.height || 1024;
          const fileName = `dalle_${genId}_${width}x${height}.png`;
          const dalleAttachment = {
            fileName,
            fileSize: part.size_bytes,
            fileType: "image/png",
            fileId,
            extractedContent: part.metadata.dalle.prompt
          };
          attachments.push(dalleAttachment);
        }
      }
    }
    if (attachments.length === 0) {
      return null;
    }
    return {
      id: toolMessage.id || "",
      author: { role: "assistant" },
      content: {
        parts: ["Image g\xE9n\xE9r\xE9e par DALL-E"],
        content_type: "text"
      },
      create_time: toolMessage.create_time || 0,
      attachments
    };
  }
  /**
   * Determine if a message should be included - same logic as ChatGPTConverter
   */
  shouldIncludeMessage(message) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    if (!message || !message.author) {
      return false;
    }
    if (message.author.role === "system") {
      return false;
    }
    if (message.author.role === "tool") {
      return false;
    }
    if (((_a = message.metadata) == null ? void 0 : _a.is_visually_hidden_from_conversation) === true) {
      return false;
    }
    if (((_b = message.metadata) == null ? void 0 : _b.is_user_system_message) === true) {
      return false;
    }
    if (((_c = message.content) == null ? void 0 : _c.content_type) === "user_editable_context") {
      return false;
    }
    if (message.author.role === "assistant") {
      if (((_d = message.content) == null ? void 0 : _d.parts) && Array.isArray(message.content.parts) && message.content.parts.every(
        (part) => typeof part === "string" && part.trim() === ""
      )) {
        return false;
      }
      if (((_e = message.content) == null ? void 0 : _e.parts) && Array.isArray(message.content.parts) && message.content.parts.length === 1 && typeof message.content.parts[0] === "string") {
        const content = message.content.parts[0].trim();
        if (content.startsWith("{") && content.includes('"prompt"')) {
          return false;
        }
      }
      const excludedContentTypes = ["code", "system_error", "execution_output"];
      if (((_f = message.content) == null ? void 0 : _f.content_type) && excludedContentTypes.includes(message.content.content_type)) {
        return false;
      }
      if (((_g = message.content) == null ? void 0 : _g.content_type) === "multimodal_text") {
        if (((_h = message.content) == null ? void 0 : _h.parts) && Array.isArray(message.content.parts)) {
          const hasTextContent = message.content.parts.some((part) => {
            if (typeof part === "string" && part.trim() !== "") {
              return true;
            }
            if (typeof part === "object" && part !== null && "text" in part) {
              return typeof part.text === "string" && part.text.trim() !== "";
            }
            return false;
          });
          if (!hasTextContent) {
            return false;
          }
        }
      }
    }
    if (message.author.role === "user") {
      const excludedContentTypes = ["user_editable_context"];
      if (((_i = message.content) == null ? void 0 : _i.content_type) && excludedContentTypes.includes(message.content.content_type)) {
        return false;
      }
    }
    return isValidMessage(message);
  }
};

// src/providers/claude/claude-converter.ts
init_utils();
var ClaudeConverter = class {
  static setPlugin(plugin) {
    this.plugin = plugin;
  }
  static async convertChat(chat) {
    const createTime = chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0;
    const messages = await this.convertMessages(chat.chat_messages, chat.uuid, chat.name, createTime);
    return {
      id: chat.uuid,
      title: chat.name || "Untitled",
      createTime: chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0,
      updateTime: chat.updated_at ? Math.floor(new Date(chat.updated_at).getTime() / 1e3) : 0,
      messages,
      provider: "claude",
      chatUrl: `https://claude.ai/chat/${chat.uuid}`,
      metadata: {
        model: chat.model || "claude-3",
        summary: chat.summary || "",
        is_starred: chat.is_starred,
        current_leaf_message_uuid: chat.current_leaf_message_uuid,
        project_uuid: chat.project_uuid
      }
    };
  }
  static async convertMessages(messages, conversationId, conversationTitle, conversationCreateTime) {
    const standardMessages = [];
    if (!messages || messages.length === 0) {
      return standardMessages;
    }
    const allArtifacts = [];
    for (let msgIndex = 0; msgIndex < messages.length; msgIndex++) {
      const message = messages[msgIndex];
      if (message.content) {
        for (let blockIndex = 0; blockIndex < message.content.length; blockIndex++) {
          const block = message.content[blockIndex];
          if (block.type === "tool_use" && block.name === "artifacts" && block.input) {
            const command = block.input.command || "create";
            const versionUuid = block.input.version_uuid;
            if (command !== "view" && versionUuid) {
              allArtifacts.push({
                artifact: block.input,
                messageIndex: msgIndex,
                blockIndex
              });
            }
          }
        }
      }
    }
    const artifactVersionMap = await this.processAllArtifacts(allArtifacts, conversationId, conversationTitle, conversationCreateTime);
    for (const message of messages) {
      if (!this.shouldIncludeMessage(message)) {
        continue;
      }
      const { text, attachments } = await this.processContentBlocksForDisplay(
        message.content,
        artifactVersionMap,
        conversationId,
        conversationTitle,
        conversationCreateTime
      );
      const fileAttachments = this.processFileAttachments(message.files);
      const standardMessage = {
        id: message.uuid,
        role: message.sender === "human" ? "user" : "assistant",
        content: text || message.text || "",
        timestamp: Math.floor(new Date(message.created_at).getTime() / 1e3),
        attachments: [...attachments, ...fileAttachments]
      };
      standardMessages.push(standardMessage);
    }
    return this.sortMessagesByTimestamp(standardMessages);
  }
  static shouldIncludeMessage(message) {
    if (message.sender === "human" || message.sender === "assistant") {
      if (!message.text && (!message.content || message.content.length === 0)) {
        return false;
      }
      return true;
    }
    return false;
  }
  /**
   * Sort messages by timestamp with UUID as secondary sort for chronological order
   */
  static sortMessagesByTimestamp(messages) {
    if (messages.length <= 1)
      return messages;
    return messages.sort((a, b) => {
      if (a.timestamp !== b.timestamp) {
        return a.timestamp - b.timestamp;
      }
      return a.id.localeCompare(b.id);
    });
  }
  /**
   * Process ALL artifacts from entire conversation and create files
   */
  static async processAllArtifacts(allArtifacts, conversationId, conversationTitle, conversationCreateTime) {
    const artifactVersionMap = /* @__PURE__ */ new Map();
    const versionCounters = /* @__PURE__ */ new Map();
    const artifactContents = /* @__PURE__ */ new Map();
    const artifactLanguages = /* @__PURE__ */ new Map();
    console.log(`Claude converter: Processing ${allArtifacts.length} artifacts from entire conversation`);
    for (const { artifact } of allArtifacts) {
      const artifactId = artifact.id || "unknown";
      const command = artifact.command || "create";
      const currentVersion = (versionCounters.get(artifactId) || 0) + 1;
      versionCounters.set(artifactId, currentVersion);
      let finalContent = "";
      if (command === "create" || command === "rewrite") {
        finalContent = artifact.content || "";
        artifactContents.set(artifactId, finalContent);
        const detectedLanguage = this.detectLanguageFromContent(finalContent, artifact.type);
        artifactLanguages.set(artifactId, detectedLanguage);
      } else if (command === "update") {
        const previousContent = artifactContents.get(artifactId) || "";
        if (artifact.old_str && artifact.new_str) {
          finalContent = previousContent.replace(artifact.old_str, artifact.new_str);
        } else if (artifact.content && artifact.content.length > 0) {
          finalContent = artifact.content;
        } else {
          finalContent = previousContent;
        }
        artifactContents.set(artifactId, finalContent);
      }
      try {
        const storedLanguage = artifactLanguages.get(artifactId);
        const languageToUse = storedLanguage || this.detectLanguageFromContent(finalContent, artifact.type);
        await this.saveSingleArtifactVersionWithContent(
          artifactId,
          artifact,
          currentVersion,
          finalContent,
          conversationId,
          conversationTitle,
          conversationCreateTime,
          languageToUse
        );
        artifactVersionMap.set(artifact.version_uuid, {
          versionNumber: currentVersion,
          title: artifact.title || artifactId
        });
      } catch (error) {
        console.error(`Failed to save ${artifactId} v${currentVersion}:`, error);
      }
    }
    return artifactVersionMap;
  }
  /**
   * Process content blocks for display (with artifact links)
   */
  static async processContentBlocksForDisplay(contentBlocks, artifactVersionMap, conversationId, conversationTitle, conversationCreateTime) {
    const textParts = [];
    const attachments = [];
    if (!contentBlocks || contentBlocks.length === 0) {
      return { text: "", attachments: [] };
    }
    for (const block of contentBlocks) {
      switch (block.type) {
        case "text":
          if (block.text) {
            textParts.push(block.text);
          }
          break;
        case "thinking":
          break;
        case "tool_use":
          if (block.name === "artifacts" && block.input) {
            const command = block.input.command || "create";
            const versionUuid = block.input.version_uuid;
            if (command === "view") {
              break;
            }
            if (versionUuid && artifactVersionMap.has(versionUuid)) {
              const versionInfo = artifactVersionMap.get(versionUuid);
              const artifactId = block.input.id || "unknown";
              const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
              const versionFile = `${conversationFolder}/${artifactId}_v${versionInfo.versionNumber}`;
              const specificLink = `>[!${this.CALLOUTS.ARTIFACT}] **${versionInfo.title}** v${versionInfo.versionNumber}
> \u{1F3A8} [[${versionFile}|View Artifact]]`;
              textParts.push(specificLink);
            }
          } else if (block.name === "web_search") {
            break;
          } else if (block.name && block.input) {
            const code = block.input.code || JSON.stringify(block.input, null, 2);
            textParts.push(`**[Tool: ${block.name}]**
\`\`\`
${code}
\`\`\``);
          }
          break;
        case "tool_result":
          break;
      }
    }
    return {
      text: textParts.join("\n\n"),
      attachments
    };
  }
  static async processContentBlocks(contentBlocks, conversationId, conversationTitle, conversationCreateTime, versionCounters, artifactSummaries) {
    const textParts = [];
    const attachments = [];
    const artifactVersionsMap = /* @__PURE__ */ new Map();
    if (!contentBlocks || contentBlocks.length === 0) {
      return { text: "", attachments: [] };
    }
    for (const block of contentBlocks) {
      if (block.type === "tool_use" && block.name === "artifacts" && block.input) {
        const artifactId = block.input.id || "unknown";
        const content = block.input.content || "";
        const command = block.input.command || "create";
        const versionUuid = block.input.version_uuid;
        if (command === "update" && content.length === 0 || command === "view") {
          continue;
        }
        const isSignificant = command === "create" || command === "rewrite" || command === "update" && content.length > 100;
        if (isSignificant && versionUuid) {
          console.log(`Claude converter: Found significant artifact version - ID: ${artifactId}, Command: ${command}, Content length: ${content.length}, UUID: ${versionUuid}`);
          if (!artifactVersionsMap.has(artifactId)) {
            artifactVersionsMap.set(artifactId, []);
          }
          artifactVersionsMap.get(artifactId).push(block.input);
        } else {
          console.log(`Claude converter: Skipped artifact - ID: ${artifactId}, Command: ${command}, Content length: ${content.length}, Significant: ${isSignificant}, Has UUID: ${!!versionUuid}`);
        }
      }
    }
    if (!versionCounters)
      versionCounters = /* @__PURE__ */ new Map();
    if (!artifactSummaries)
      artifactSummaries = /* @__PURE__ */ new Map();
    const artifactContents = /* @__PURE__ */ new Map();
    for (const block of contentBlocks) {
      switch (block.type) {
        case "text":
          if (block.text) {
            textParts.push(block.text);
          }
          break;
        case "thinking":
          break;
        case "tool_use":
          if (block.name === "repl" || block.name === "str_replace_editor" || block.name === "bash") {
            break;
          }
          if (block.name === "artifacts" && block.input) {
            const artifactId = block.input.id || "unknown";
            const command = block.input.command || "create";
            const versionUuid = block.input.version_uuid;
            if (command === "view") {
              break;
            }
            if (versionUuid) {
              const currentVersion = (versionCounters.get(artifactId) || 0) + 1;
              versionCounters.set(artifactId, currentVersion);
              let finalContent = "";
              if (command === "create" || command === "rewrite") {
                finalContent = block.input.content || "";
                artifactContents.set(artifactId, finalContent);
              } else if (command === "update") {
                const previousContent = artifactContents.get(artifactId) || "";
                if (block.input.old_str && block.input.new_str) {
                  finalContent = previousContent.replace(block.input.old_str, block.input.new_str);
                } else if (block.input.content && block.input.content.length > 0) {
                  finalContent = block.input.content;
                } else {
                  finalContent = previousContent;
                }
                artifactContents.set(artifactId, finalContent);
              }
              console.log(`Processing ${artifactId} v${currentVersion} (${command}, ${finalContent.length} chars)`);
              try {
                await this.saveSingleArtifactVersionWithContent(
                  artifactId,
                  block.input,
                  currentVersion,
                  finalContent,
                  conversationId,
                  conversationTitle,
                  conversationCreateTime
                );
                const title = block.input.title || artifactId;
                const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
                const versionFile = `${conversationFolder}/${artifactId}_v${currentVersion}`;
                const specificLink = `>[!${this.CALLOUTS.ARTIFACT}] **${title}** v${currentVersion}
> \u{1F3A8} [[${versionFile}|View Artifact]]`;
                textParts.push(specificLink);
              } catch (error) {
                console.error(`Failed to save ${artifactId} v${currentVersion}:`, error);
                textParts.push(`>[!${this.CALLOUTS.ARTIFACT}] **${block.input.title || artifactId}** v${currentVersion}
> \u274C Error saving artifact`);
              }
            }
          } else if (block.name === "web_search") {
            break;
          } else if (block.name && block.input) {
            const code = block.input.code || JSON.stringify(block.input, null, 2);
            textParts.push(`**[Tool: ${block.name}]**
\`\`\`
${code}
\`\`\``);
          }
          break;
        case "tool_result":
          break;
      }
    }
    return {
      text: textParts.join("\n\n"),
      attachments
    };
  }
  static processFileAttachments(files) {
    const attachments = [];
    if (!files || files.length === 0) {
      return attachments;
    }
    for (const file of files) {
      if (file && file.file_name) {
        attachments.push({
          fileName: file.file_name,
          fileSize: 0,
          // Size not provided in Claude export
          fileType: this.getFileTypeFromName(file.file_name),
          fileId: file.file_name,
          // Use filename as ID
          extractedContent: ""
        });
      }
    }
    return attachments;
  }
  static getFileTypeFromName(fileName) {
    var _a;
    const extension = (_a = fileName.split(".").pop()) == null ? void 0 : _a.toLowerCase();
    switch (extension) {
      case "png":
      case "jpg":
      case "jpeg":
      case "gif":
      case "webp":
        return `image/${extension}`;
      case "pdf":
        return "application/pdf";
      case "txt":
        return "text/plain";
      case "md":
        return "text/markdown";
      case "json":
        return "application/json";
      default:
        return "application/octet-stream";
    }
  }
  /**
   * Save a single artifact version with computed content
   */
  static async saveSingleArtifactVersionWithContent(artifactId, artifactData, versionNumber, finalContent, conversationId, conversationTitle, conversationCreateTime, forcedLanguage) {
    if (!this.plugin) {
      throw new Error("Plugin not available");
    }
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const folderResult = await ensureFolderExists2(conversationFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create artifacts folder: ${folderResult.error}`);
    }
    const safeArtifactId = artifactId.replace(/[\/\\:*?"<>|]/g, "_");
    const fileName = `${safeArtifactId}_v${versionNumber}.md`;
    const filePath = `${conversationFolder}/${fileName}`;
    const shouldSkip = await this.shouldSkipArtifactVersion(filePath, artifactData.version_uuid);
    if (shouldSkip) {
      return;
    }
    await this.saveIndividualArtifactVersion(
      artifactData,
      filePath,
      versionNumber,
      finalContent,
      conversationId,
      conversationTitle,
      conversationCreateTime,
      forcedLanguage
    );
  }
  /**
   * Create artifact summary for conversation
   */
  static createArtifactSummary(artifactId, info, conversationId) {
    const title = info.title || artifactId;
    const totalVersions = info.totalVersions || 1;
    const latestVersion = info.latestVersion || 1;
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const latestFile = `${conversationFolder}/${artifactId}_v${latestVersion}`;
    let summary = `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${title}**`;
    if (totalVersions > 1) {
      summary += ` (${totalVersions} versions)`;
    }
    summary += `

\u{1F4CE} **[[${latestFile}|View Latest Version]]**`;
    if (totalVersions > 1) {
      summary += ` | **[[${conversationFolder}/|All Versions]]**`;
    }
    summary += `</div>`;
    return summary;
  }
  /**
   * Format artifact summary for conversation display
   */
  static formatArtifactSummary(firstVersion, savedVersions, latestVersion, conversationFolder) {
    const title = (firstVersion == null ? void 0 : firstVersion.title) || "Untitled Artifact";
    const versionCount = savedVersions.length;
    if (!latestVersion) {
      console.error("Claude converter: No latest version available for artifact summary");
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${title}** (Error: No accessible version)</div>`;
    }
    let formattedContent = `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${title}**`;
    if (versionCount > 1) {
      formattedContent += ` (${versionCount} versions)`;
    }
    const latestVersionLink = latestVersion.replace(/\.md$/, "");
    formattedContent += `

\u{1F4CE} **[[${latestVersionLink}|View Latest Version]]**`;
    if (versionCount > 1) {
      formattedContent += ` | **[[${conversationFolder}/|All Versions]]**`;
    }
    formattedContent += `</div>`;
    return formattedContent;
  }
  /**
   * Save a single artifact version with specific content
   */
  static async saveIndividualArtifactVersion(artifactInput, filePath, versionNumber, versionContent, conversationId, conversationTitle, conversationCreateTime, forcedLanguage) {
    const title = artifactInput.title || "Untitled Artifact";
    let language = artifactInput.language || "text";
    const command = artifactInput.command || "create";
    const artifactId = artifactInput.id || "unknown";
    const versionUuid = artifactInput.version_uuid;
    if (forcedLanguage) {
      language = forcedLanguage;
    } else if ((language.toLowerCase() === "text" || !language || language === "undefined") && versionContent) {
      const detectedLanguage = this.detectLanguageFromContent(versionContent, artifactInput.type);
      if (detectedLanguage !== "text") {
        language = detectedLanguage;
      }
    }
    let conversationLink = "";
    if (conversationId && conversationTitle && conversationCreateTime) {
      const createDate = new Date(conversationCreateTime * 1e3);
      const year = createDate.getFullYear();
      const month = String(createDate.getMonth() + 1).padStart(2, "0");
      const { generateConversationFileName: generateConversationFileName2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
      const fileName = generateConversationFileName2(
        conversationTitle,
        conversationCreateTime,
        this.plugin.settings.addDatePrefix,
        this.plugin.settings.dateFormat
      );
      const conversationPath = `${this.plugin.settings.archiveFolder}/claude/${year}/${month}/${fileName}`;
      conversationLink = `[[${conversationPath}|${conversationTitle}]]`;
    }
    const safeArtifactTitle = generateSafeAlias(title);
    const safeArtifactAlias = generateSafeAlias(`${artifactId}_v${versionNumber}`);
    let markdownContent = `---
nexus: nexus-ai-chat-importer
plugin_version: ${this.plugin.manifest.version}
provider: claude
artifact_id: ${artifactId}
version_uuid: ${versionUuid}
version_number: ${versionNumber}
command: ${command}
conversation_id: ${conversationId || "unknown"}
format: ${language}
aliases: [${safeArtifactTitle}, ${safeArtifactAlias}]
---

# ${title} (Version ${versionNumber})

**Type:** Claude Artifact
**Language:** ${language}`;
    if (artifactInput.language !== language) {
      markdownContent += ` (detected from content, original: ${artifactInput.language})`;
    }
    markdownContent += `
**Command:** ${command}
**Version:** ${versionNumber}
**ID:** ${artifactId}
**UUID:** ${versionUuid}`;
    if (conversationLink) {
      markdownContent += `
**Conversation:** ${conversationLink}`;
    }
    markdownContent += `

## Content

`;
    if (language.toLowerCase() === "markdown") {
      markdownContent += versionContent;
    } else {
      markdownContent += `\`\`\`${language}
${versionContent}
\`\`\``;
    }
    try {
      await this.plugin.app.vault.create(filePath, markdownContent);
    } catch (error) {
      console.error(`Failed to create artifact file ${filePath}:`, error);
      throw error;
    }
  }
  /**
   * Check if we should skip saving this artifact version (already exists)
   */
  static async shouldSkipArtifactVersion(filePath, versionUuid) {
    try {
      const existingFile = this.plugin.app.vault.getAbstractFileByPath(filePath);
      if (!existingFile) {
        return false;
      }
      const existingContent = await this.plugin.app.vault.read(existingFile);
      if (existingContent.includes(`version_uuid: ${versionUuid}`)) {
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  /**
   * Determine if we should replace the current artifact with a new one
   * Priority: create > rewrite > update (with content) > view
   */
  static shouldReplaceArtifact(current, candidate) {
    const currentCommand = current.command || "create";
    const candidateCommand = candidate.command || "create";
    const currentContent = (current.content || "").length;
    const candidateContent = (candidate.content || "").length;
    const commandPriority = {
      "create": 4,
      "rewrite": 3,
      "update": 2,
      "view": 1
    };
    const currentPriority = commandPriority[currentCommand] || 1;
    const candidatePriority = commandPriority[candidateCommand] || 1;
    if (candidatePriority > currentPriority) {
      return true;
    }
    if (candidatePriority === currentPriority) {
      return candidateContent > currentContent;
    }
    return false;
  }
  /**
   * Auto-detect language from content and artifact type
   */
  static detectLanguageFromContent(content, artifactType) {
    if (!content || content.trim().length === 0)
      return "text";
    if (artifactType) {
      if (artifactType.includes("react") || artifactType.includes("jsx"))
        return "jsx";
      if (artifactType.includes("vue"))
        return "vue";
      if (artifactType.includes("svelte"))
        return "svelte";
      if (artifactType.includes("html"))
        return "html";
      if (artifactType.includes("css"))
        return "css";
      if (artifactType.includes("json"))
        return "json";
      if (artifactType.includes("xml"))
        return "xml";
      if (artifactType.includes("svg"))
        return "xml";
    }
    const trimmedContent = content.trim();
    if (trimmedContent.startsWith("<?php"))
      return "php";
    if (trimmedContent.startsWith("#!/bin/bash") || trimmedContent.startsWith("#!/bin/sh"))
      return "bash";
    if (trimmedContent.startsWith("<!DOCTYPE html") || trimmedContent.includes("<html"))
      return "html";
    if (trimmedContent.includes("import React") || trimmedContent.includes('from "react"') || trimmedContent.includes("useState") || trimmedContent.includes("useEffect") || trimmedContent.includes("className=") || trimmedContent.includes("jsx")) {
      return "jsx";
    }
    if (trimmedContent.startsWith("{") && trimmedContent.endsWith("}")) {
      try {
        JSON.parse(trimmedContent);
        return "json";
      } catch (e) {
      }
    }
    if (trimmedContent.startsWith("<svg") || trimmedContent.includes("xmlns")) {
      return "xml";
    }
    if (trimmedContent.includes("# ") || trimmedContent.includes("## ") || trimmedContent.includes("**") || trimmedContent.includes("```")) {
      return "markdown";
    }
    if (trimmedContent.includes("def ") || trimmedContent.includes("import ") || trimmedContent.includes("from ") || trimmedContent.includes("class ")) {
      return "python";
    }
    if (trimmedContent.includes("function ") || trimmedContent.includes("const ") || trimmedContent.includes("let ") || trimmedContent.includes("var ") || trimmedContent.includes("=>")) {
      return "javascript";
    }
    if (trimmedContent.includes("{") && trimmedContent.includes(":") && trimmedContent.includes(";") && trimmedContent.includes("}")) {
      return "css";
    }
    if (trimmedContent.toUpperCase().includes("SELECT ") || trimmedContent.toUpperCase().includes("INSERT ") || trimmedContent.toUpperCase().includes("UPDATE ") || trimmedContent.toUpperCase().includes("CREATE TABLE")) {
      return "sql";
    }
    return "text";
  }
  /**
   * Get file extension from language
   */
  static getExtensionFromLanguage(language) {
    switch (language.toLowerCase()) {
      case "python":
        return "py";
      case "javascript":
        return "js";
      case "typescript":
        return "ts";
      case "html":
        return "html";
      case "css":
        return "css";
      case "markdown":
        return "md";
      case "json":
        return "json";
      case "yaml":
        return "yml";
      case "xml":
        return "xml";
      case "sql":
        return "sql";
      case "bash":
        return "sh";
      case "shell":
        return "sh";
      case "php":
        return "php";
      default:
        return "txt";
    }
  }
  /**
   * Count unique artifacts in a conversation (by artifact ID, not versions)
   */
  static countArtifacts(chat) {
    var _a;
    const uniqueArtifacts = /* @__PURE__ */ new Set();
    for (const message of chat.chat_messages) {
      if (message.content) {
        for (const block of message.content) {
          if (block.type === "tool_use" && block.name === "artifacts" && ((_a = block.input) == null ? void 0 : _a.id)) {
            uniqueArtifacts.add(block.input.id);
          }
        }
      }
    }
    return uniqueArtifacts.size;
  }
};
// Nexus custom callouts with icons
ClaudeConverter.CALLOUTS = {
  USER: "nexus_user",
  //  User messages
  AGENT: "nexus_agent",
  //  Assistant/Agent messages
  ATTACHMENT: "nexus_attachment",
  //  Attachments
  ARTIFACT: "nexus_artifact",
  //  Claude artifacts
  PROMPT: "nexus_prompt"
  //  System prompts
};

// src/providers/claude/claude-attachment-extractor.ts
var ClaudeAttachmentExtractor = class {
  constructor(plugin, logger4) {
    this.plugin = plugin;
    this.logger = logger4;
  }
  /**
   * Extract attachments from Claude ZIP archive
   * NOTE: Claude exports typically do NOT include the actual files, only references
   * This method handles the "files not found" case gracefully
   */
  async extractAttachments(zip, conversationId, attachments) {
    if (!this.plugin.settings.importAttachments || attachments.length === 0) {
      return attachments.map((att) => ({
        ...att,
        extractedContent: `File: ${att.fileName} (attachment import disabled)`
      }));
    }
    const processedAttachments = [];
    for (const attachment of attachments) {
      try {
        const processedAttachment = await this.processAttachment(zip, conversationId, attachment);
        processedAttachments.push(processedAttachment);
      } catch (error) {
        this.logger.error(`Failed to process Claude attachment ${attachment.fileName}:`, error);
        processedAttachments.push({
          ...attachment,
          extractedContent: `\u274C **File: ${attachment.fileName}**

Error processing attachment: ${error instanceof Error ? error.message : "Unknown error"}`
        });
      }
    }
    return processedAttachments;
  }
  /**
   * Process a single Claude attachment
   * Claude exports typically don't include files, so we create informative placeholders
   */
  async processAttachment(zip, conversationId, attachment) {
    const fileName = attachment.fileName;
    const zipFile = this.findFileInZip(zip, fileName);
    if (!zipFile) {
      return this.createFileNotFoundPlaceholder(attachment, conversationId);
    }
    if (this.isImageFile(fileName)) {
      return await this.processImageAttachment(zipFile, attachment, conversationId);
    } else if (this.isTextFile(fileName)) {
      return await this.processTextAttachment(zipFile, attachment);
    } else {
      return await this.processBinaryAttachment(zipFile, attachment, conversationId);
    }
  }
  /**
   * Create simple placeholder for missing files (normal for Claude)
   */
  createFileNotFoundPlaceholder(attachment, conversationId) {
    const fileName = attachment.fileName;
    const conversationUrl = `https://claude.ai/chat/${conversationId}`;
    const fileType = this.getFileTypeFromExtension(fileName);
    const placeholder = `>[!nexus_attachment] **${fileName}** (${fileType})
> \u26A0\uFE0F Not included in archive. [Open original conversation](${conversationUrl})`;
    return {
      ...attachment,
      extractedContent: placeholder
    };
  }
  /**
   * Get file type from extension
   */
  getFileTypeFromExtension(fileName) {
    var _a;
    const extension = (_a = fileName.split(".").pop()) == null ? void 0 : _a.toLowerCase();
    switch (extension) {
      case "png":
      case "jpg":
      case "jpeg":
      case "gif":
      case "webp":
        return `image/${extension}`;
      case "pdf":
        return "application/pdf";
      case "txt":
        return "text/plain";
      case "md":
        return "text/markdown";
      case "json":
        return "application/json";
      default:
        return "application/octet-stream";
    }
  }
  /**
   * Find a file in the ZIP archive
   * Claude files might be in root or in subdirectories
   */
  findFileInZip(zip, fileName) {
    let file = zip.file(fileName);
    if (file)
      return file;
    const commonPaths = ["attachments/", "files/", "uploads/"];
    for (const path of commonPaths) {
      file = zip.file(path + fileName);
      if (file)
        return file;
    }
    const allFiles = Object.keys(zip.files);
    for (const filePath of allFiles) {
      if (filePath.endsWith(fileName) || filePath.includes(fileName)) {
        return zip.file(filePath);
      }
    }
    return null;
  }
  /**
   * Process image attachment
   */
  async processImageAttachment(zipFile, attachment, conversationId) {
    try {
      const imageData = await zipFile.async("base64");
      const fileName = this.generateUniqueFileName(attachment.fileName, conversationId);
      if (this.plugin.settings.importAttachments) {
        const filePath = await this.saveAttachmentToVault(fileName, imageData, true, "images");
        return {
          ...attachment,
          fileName,
          extractedContent: `![${attachment.fileName}](${filePath})`
        };
      } else {
        return {
          ...attachment,
          extractedContent: `Image: ${attachment.fileName} (not imported - attachment import disabled)`
        };
      }
    } catch (error) {
      this.logger.error(`Error processing Claude image ${attachment.fileName}:`, error);
      return {
        ...attachment,
        extractedContent: `Error processing image: ${error instanceof Error ? error.message : "Unknown error"}`
      };
    }
  }
  /**
   * Process text attachment
   */
  async processTextAttachment(zipFile, attachment) {
    try {
      const textContent = await zipFile.async("string");
      return {
        ...attachment,
        extractedContent: `\`\`\`
${textContent}
\`\`\``
      };
    } catch (error) {
      this.logger.error(`Error processing Claude text file ${attachment.fileName}:`, error);
      return {
        ...attachment,
        extractedContent: `Error reading text file: ${error instanceof Error ? error.message : "Unknown error"}`
      };
    }
  }
  /**
   * Process binary attachment
   */
  async processBinaryAttachment(zipFile, attachment, conversationId) {
    try {
      if (this.plugin.settings.importAttachments) {
        const binaryData = await zipFile.async("base64");
        const fileName = this.generateUniqueFileName(attachment.fileName, conversationId);
        const filePath = await this.saveAttachmentToVault(fileName, binaryData, true, "documents");
        return {
          ...attachment,
          fileName,
          extractedContent: `[${attachment.fileName}](${filePath})`
        };
      } else {
        return {
          ...attachment,
          extractedContent: `File: ${attachment.fileName} (not imported - attachment import disabled)`
        };
      }
    } catch (error) {
      this.logger.error(`Error processing Claude binary file ${attachment.fileName}:`, error);
      return {
        ...attachment,
        extractedContent: `Error processing file: ${error instanceof Error ? error.message : "Unknown error"}`
      };
    }
  }
  /**
   * Check if file is an image
   */
  isImageFile(fileName) {
    const imageExtensions = [".png", ".jpg", ".jpeg", ".gif", ".webp", ".svg", ".bmp"];
    return imageExtensions.some((ext) => fileName.toLowerCase().endsWith(ext));
  }
  /**
   * Check if file is a text file
   */
  isTextFile(fileName) {
    const textExtensions = [".txt", ".md", ".json", ".csv", ".xml", ".html", ".css", ".js", ".ts", ".py", ".java", ".cpp", ".c", ".h"];
    return textExtensions.some((ext) => fileName.toLowerCase().endsWith(ext));
  }
  /**
   * Generate unique filename to avoid conflicts
   */
  generateUniqueFileName(originalFileName, conversationId) {
    const timestamp = Date.now();
    const shortConversationId = conversationId.substring(0, 8);
    const extension = originalFileName.includes(".") ? originalFileName.split(".").pop() : "";
    const baseName = originalFileName.replace(/\.[^/.]+$/, "");
    return extension ? `claude_${shortConversationId}_${timestamp}_${baseName}.${extension}` : `claude_${shortConversationId}_${timestamp}_${baseName}`;
  }
  /**
   * Save attachment to vault using attachmentFolder setting
   */
  async saveAttachmentToVault(fileName, data, isBase64, category = "files") {
    const attachmentFolder = `${this.plugin.settings.attachmentFolder}/claude/${category}`;
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const folderResult = await ensureFolderExists2(attachmentFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create Claude attachment folder: ${folderResult.error}`);
    }
    const filePath = `${attachmentFolder}/${fileName}`;
    if (isBase64) {
      const binaryString = atob(data);
      const bytes = new Uint8Array(binaryString.length);
      for (let i = 0; i < binaryString.length; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }
      await this.plugin.app.vault.createBinary(filePath, bytes.buffer);
    } else {
      await this.plugin.app.vault.create(filePath, data);
    }
    return filePath;
  }
};

// src/providers/claude/claude-report-naming.ts
var ClaudeReportNamingStrategy = class {
  getProviderName() {
    return "claude";
  }
  extractReportPrefix(zipFileName) {
    const now = new Date();
    const importYear = now.getFullYear();
    const importMonth = String(now.getMonth() + 1).padStart(2, "0");
    const importDay = String(now.getDate()).padStart(2, "0");
    const importDate = `${importYear}.${importMonth}.${importDay}`;
    const claudeBatchPattern = /data-(\d{4})-(\d{2})-(\d{2})-\d{2}-\d{2}-\d{2}-batch-\d{4}/;
    const batchMatch = zipFileName.match(claudeBatchPattern);
    if (batchMatch) {
      const [, year, month, day] = batchMatch;
      const archiveDate = `${year}.${month}.${day}`;
      return `imported-${importDate}-archive-${archiveDate}`;
    }
    const legacyPattern = /(\d{4})-(\d{2})-(\d{2})/;
    const legacyMatch = zipFileName.match(legacyPattern);
    if (legacyMatch) {
      const [, year, month, day] = legacyMatch;
      const archiveDate = `${year}.${month}.${day}`;
      return `imported-${importDate}-archive-${archiveDate}`;
    }
    return `imported-${importDate}-archive-${importDate}`;
  }
  getProviderSpecificColumn() {
    return {
      header: "Artifacts",
      getValue: (adapter, chat) => adapter.countArtifacts ? adapter.countArtifacts(chat) : 0
    };
  }
};

// src/providers/claude/claude-adapter.ts
var ClaudeAdapter = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.attachmentExtractor = new ClaudeAttachmentExtractor(plugin, plugin.logger);
    this.reportNamingStrategy = new ClaudeReportNamingStrategy();
  }
  detect(rawConversations) {
    if (rawConversations.length === 0)
      return false;
    const sample = rawConversations[0];
    return !!(sample.uuid && "name" in sample && sample.chat_messages && Array.isArray(sample.chat_messages) && sample.created_at && sample.updated_at && sample.account);
  }
  getId(chat) {
    return chat.uuid || "";
  }
  getTitle(chat) {
    return chat.name || "Untitled";
  }
  getCreateTime(chat) {
    return chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0;
  }
  getUpdateTime(chat) {
    return chat.updated_at ? Math.floor(new Date(chat.updated_at).getTime() / 1e3) : 0;
  }
  async convertChat(chat) {
    ClaudeConverter.setPlugin(this.plugin);
    return await ClaudeConverter.convertChat(chat);
  }
  async convertMessages(messages, conversationId, conversationTitle, conversationCreateTime) {
    ClaudeConverter.setPlugin(this.plugin);
    return await ClaudeConverter.convertMessages(messages, conversationId, conversationTitle, conversationCreateTime);
  }
  getProviderName() {
    return "claude";
  }
  getNewMessages(chat, existingMessageIds) {
    const newMessages = [];
    for (const message of chat.chat_messages) {
      if (message.uuid && !existingMessageIds.includes(message.uuid)) {
        if (this.shouldIncludeMessage(message)) {
          newMessages.push(message);
        }
      }
    }
    return newMessages;
  }
  async processMessageAttachments(messages, conversationId, zip) {
    const processedMessages = [];
    for (const message of messages) {
      if (message.attachments && message.attachments.length > 0) {
        const processedAttachments = await this.attachmentExtractor.extractAttachments(
          zip,
          conversationId,
          message.attachments
        );
        processedMessages.push({
          ...message,
          attachments: processedAttachments
        });
      } else {
        processedMessages.push(message);
      }
    }
    return processedMessages;
  }
  getReportNamingStrategy() {
    return this.reportNamingStrategy;
  }
  getProviderName() {
    return "claude";
  }
  countArtifacts(chat) {
    return ClaudeConverter.countArtifacts(chat);
  }
  shouldIncludeMessage(message) {
    if (message.sender === "human" || message.sender === "assistant") {
      if (!message.text && (!message.content || message.content.length === 0)) {
        return false;
      }
      return true;
    }
    return false;
  }
};

// src/providers/provider-registry.ts
function createProviderRegistry(plugin) {
  const registry = new DefaultProviderRegistry();
  registry.register("chatgpt", new ChatGPTAdapter(plugin));
  registry.register("claude", new ClaudeAdapter(plugin));
  return registry;
}

// src/ui/import-progress-modal.ts
var import_obsidian13 = require("obsidian");
var ImportProgressModal = class extends import_obsidian13.Modal {
  constructor(app, fileName) {
    super(app);
    this.totalConversations = 0;
    this.currentConversation = 0;
    this.isSelectiveImport = false;
    this.selectedCount = 0;
    this.totalAvailable = 0;
    this.isComplete = false;
    this.fileName = fileName;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("nexus-import-progress-modal");
    this.modalTitleEl = contentEl.createEl("h2", {
      text: `Importing ${this.fileName}`,
      cls: "modal-title"
    });
    const contentContainer = contentEl.createDiv({ cls: "modal-content" });
    this.phaseEl = contentContainer.createEl("div", { cls: "import-phase" });
    this.phaseEl.style.cssText = `
            text-align: center;
            margin: 10px 0;
            font-weight: 600;
            color: var(--text-accent);
            font-size: 1.1em;
        `;
    this.importModeEl = contentContainer.createEl("div", { cls: "import-mode" });
    this.importModeEl.style.cssText = `
            text-align: center;
            margin: 5px 0 10px 0;
            font-weight: 500;
            color: var(--text-accent);
            font-size: 0.85em;
            padding: 4px 8px;
            background: var(--background-secondary);
            border-radius: 4px;
            display: none;
        `;
    this.conversationCountEl = contentContainer.createEl("div", { cls: "conversation-counter" });
    this.conversationCountEl.style.cssText = `
            text-align: center;
            margin: 5px 0 15px 0;
            font-weight: 500;
            color: var(--text-normal);
            font-size: 0.9em;
        `;
    const progressContainer = contentContainer.createDiv({ cls: "progress-container" });
    progressContainer.style.cssText = `
            background: var(--background-secondary);
            border-radius: 8px;
            padding: 4px;
            margin: 20px 0;
            border: 1px solid var(--background-modifier-border);
        `;
    this.progressBarEl = progressContainer.createDiv({ cls: "progress-bar" });
    this.progressBarEl.style.cssText = `
            height: 20px;
            background: linear-gradient(90deg, var(--interactive-accent), var(--interactive-accent-hover));
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        `;
    this.statusEl = contentContainer.createEl("div", { cls: "status-text" });
    this.statusEl.style.cssText = `
            text-align: center;
            margin: 10px 0;
            font-weight: 500;
            color: var(--text-normal);
        `;
    this.detailEl = contentContainer.createEl("div", { cls: "detail-text" });
    this.detailEl.style.cssText = `
            text-align: center;
            margin: 5px 0;
            font-size: 0.85em;
            color: var(--text-muted);
            min-height: 1.2em;
        `;
    this.updateProgress({
      phase: "validation",
      title: "Preparing import...",
      detail: "Validating ZIP file structure"
    });
  }
  /**
   * Update progress with step information
   */
  updateProgress(step) {
    const phaseLabels = {
      "validation": "\u{1F50D} Validation",
      "scanning": "\u{1F4CB} Scanning",
      "processing": "\u2699\uFE0F Processing",
      "writing": "\u{1F4BE} Writing",
      "complete": "\u2705 Complete",
      "error": "\u274C Error"
    };
    this.phaseEl.textContent = phaseLabels[step.phase] || step.phase;
    if (step.total !== void 0) {
      this.totalConversations = step.total;
    }
    if (step.current !== void 0) {
      this.currentConversation = step.current;
    }
    if (this.totalConversations > 0) {
      if (this.isSelectiveImport) {
        this.conversationCountEl.textContent = `${this.currentConversation}/${this.totalConversations} selected conversations`;
      } else {
        this.conversationCountEl.textContent = `${this.currentConversation}/${this.totalConversations} conversations`;
      }
    } else {
      this.conversationCountEl.textContent = "";
    }
    let percentage = 0;
    if (step.percentage !== void 0) {
      percentage = step.percentage;
    } else if (this.totalConversations > 0 && step.phase === "processing") {
      percentage = Math.round(this.currentConversation / this.totalConversations * 100);
    } else {
      const phaseProgress = {
        "validation": 10,
        "scanning": 20,
        "processing": 80,
        "writing": 95,
        "complete": 100,
        "error": 0
      };
      percentage = phaseProgress[step.phase] || 0;
    }
    percentage = Math.min(100, Math.max(0, percentage));
    this.progressBarEl.style.width = `${percentage}%`;
    this.statusEl.textContent = step.title;
    this.detailEl.textContent = step.detail || "";
    if (step.phase === "complete") {
      this.showComplete(step.title);
    } else if (step.phase === "error") {
      this.showError(step.title);
    }
  }
  /**
   * Show completion state
   */
  showComplete(message = "Import completed successfully") {
    this.isComplete = true;
    this.progressBarEl.style.width = "100%";
    this.progressBarEl.style.background = "var(--text-success)";
    this.statusEl.textContent = message;
    this.detailEl.textContent = "You can close this dialog";
    this.closeAfterDelay(3e3);
  }
  /**
   * Show error state
   */
  showError(message = "An error occurred during import") {
    this.progressBarEl.style.background = "var(--text-error)";
    this.statusEl.textContent = message;
    this.detailEl.textContent = "Check the console for more details";
  }
  /**
   * Close after delay
   */
  closeAfterDelay(delay = 2e3) {
    setTimeout(() => {
      if (this.isComplete) {
        this.close();
      }
    }, delay);
  }
  /**
   * Set selective import mode
   */
  setSelectiveImportMode(selectedCount, totalAvailable) {
    this.isSelectiveImport = true;
    this.selectedCount = selectedCount;
    this.totalAvailable = totalAvailable;
    this.importModeEl.style.display = "block";
    this.importModeEl.textContent = `\u{1F4CB} Selective Import: ${selectedCount} of ${totalAvailable} conversations`;
  }
  /**
   * Get progress callback function
   */
  getProgressCallback() {
    return (step) => {
      this.updateProgress(step);
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/services/import-service.ts
var ImportService = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.importReport = new ImportReport();
    this.providerRegistry = createProviderRegistry(plugin);
    this.conversationProcessor = new ConversationProcessor(plugin, this.providerRegistry);
  }
  async selectZipFile() {
    const input = document.createElement("input");
    input.type = "file";
    input.accept = ".zip";
    input.multiple = true;
    input.onchange = async (e) => {
      const files = Array.from(e.target.files || []);
      if (files.length > 0) {
        const sortedFiles = this.sortFilesByTimestamp(files);
        for (const file of sortedFiles) {
          await this.handleZipFile(file);
        }
      }
    };
    input.click();
  }
  sortFilesByTimestamp(files) {
    return files.sort((a, b) => {
      const timestampRegex = /(\d{4}-\d{2}-\d{2}-\d{2}-\d{2}-\d{2})/;
      const getTimestamp = (filename) => {
        const match = filename.match(timestampRegex);
        if (!match) {
          this.plugin.logger.warn(`No timestamp found in filename: ${filename}`);
          return "0";
        }
        return match[1];
      };
      return getTimestamp(a.name).localeCompare(getTimestamp(b.name));
    });
  }
  async handleZipFile(file, forcedProvider, selectedConversationIds) {
    this.importReport = new ImportReport();
    const storage = this.plugin.getStorageService();
    const progressModal = new ImportProgressModal(this.plugin.app, file.name);
    const progressCallback = progressModal.getProgressCallback();
    progressModal.open();
    if (selectedConversationIds && selectedConversationIds.length > 0) {
    }
    try {
      progressCallback({
        phase: "validation",
        title: "Validating file...",
        detail: "Checking file hash and import history"
      });
      const fileHash = await getFileHash(file);
      const foundByHash = storage.isArchiveImported(fileHash);
      const foundByName = storage.isArchiveImported(file.name);
      const isReprocess = foundByHash || foundByName;
      if (isReprocess) {
        progressModal.close();
        const shouldReimport = await showDialog(
          this.plugin.app,
          "confirmation",
          "Already processed",
          [
            `File ${file.name} has already been imported.`,
            `Do you want to reprocess it?`,
            `**Note:** This will recreate notes from before v1.1.0 to add attachment support.`
          ],
          void 0,
          { button1: "Let's do this", button2: "Forget it" }
        );
        if (!shouldReimport) {
          new import_obsidian14.Notice("Import cancelled.");
          return;
        }
        progressModal.open();
      }
      progressCallback({
        phase: "validation",
        title: "Validating ZIP structure...",
        detail: "Checking file format and contents"
      });
      const zip = await this.validateZipFile(file, forcedProvider);
      await this.processConversations(zip, file, isReprocess, forcedProvider, progressCallback, selectedConversationIds, progressModal);
      storage.addImportedArchive(fileHash, file.name);
      await this.plugin.saveSettings();
      progressCallback({
        phase: "complete",
        title: "Import completed successfully!",
        detail: `Processed ${this.conversationProcessor.getCounters().totalNewConversationsToImport + this.conversationProcessor.getCounters().totalExistingConversationsToUpdate} conversations`
      });
    } catch (error) {
      const message = error instanceof NexusAiChatImporterError ? error.message : error instanceof Error ? error.message : "An unknown error occurred";
      this.plugin.logger.error("Error handling zip file", { message });
      progressCallback({
        phase: "error",
        title: "Import failed",
        detail: message
      });
      setTimeout(() => progressModal.close(), 5e3);
    } finally {
      await this.writeImportReport(file.name);
      if (!progressModal.isComplete) {
        new import_obsidian14.Notice(
          this.importReport.hasErrors() ? "An error occurred during import. Please check the log file for details." : "Import completed. Log file created in the archive folder."
        );
      }
    }
  }
  async validateZipFile(file, forcedProvider) {
    try {
      const zip = new import_jszip.default();
      const content = await zip.loadAsync(file);
      const fileNames = Object.keys(content.files);
      if (forcedProvider) {
        if (!fileNames.includes("conversations.json")) {
          throw new NexusAiChatImporterError(
            "Invalid ZIP structure",
            `Missing required file: conversations.json for ${forcedProvider} provider.`
          );
        }
      } else {
        const hasConversationsJson = fileNames.includes("conversations.json");
        const hasUsersJson = fileNames.includes("users.json");
        const hasProjectsJson = fileNames.includes("projects.json");
        const isChatGPTFormat = hasConversationsJson && !hasUsersJson && !hasProjectsJson;
        const isClaudeFormat = hasConversationsJson && hasUsersJson;
        if (!isChatGPTFormat && !isClaudeFormat) {
          throw new NexusAiChatImporterError(
            "Invalid ZIP structure",
            "This ZIP file doesn't match any supported chat export format. Expected either ChatGPT format (conversations.json) or Claude format (conversations.json + users.json)."
          );
        }
      }
      return zip;
    } catch (error) {
      if (error instanceof NexusAiChatImporterError) {
        throw error;
      } else {
        throw new NexusAiChatImporterError(
          "Error validating zip file",
          error.message
        );
      }
    }
  }
  async processConversations(zip, file, isReprocess, forcedProvider, progressCallback, selectedConversationIds, progressModal) {
    try {
      progressCallback == null ? void 0 : progressCallback({
        phase: "scanning",
        title: "Extracting conversations...",
        detail: "Reading conversation data from ZIP file"
      });
      let rawConversations = await this.extractRawConversationsFromZip(zip);
      if (selectedConversationIds && selectedConversationIds.length > 0) {
        const originalCount = rawConversations.length;
        rawConversations = this.filterConversationsByIds(rawConversations, selectedConversationIds, forcedProvider);
        if (progressModal) {
          progressModal.setSelectiveImportMode(rawConversations.length, originalCount);
        }
        progressCallback == null ? void 0 : progressCallback({
          phase: "scanning",
          title: "Filtering conversations...",
          detail: `Selected ${rawConversations.length} of ${originalCount} conversations for import`,
          total: rawConversations.length
        });
      }
      progressCallback == null ? void 0 : progressCallback({
        phase: "scanning",
        title: "Scanning existing conversations...",
        detail: "Checking vault for existing conversations",
        total: rawConversations.length
      });
      if (forcedProvider) {
        this.validateProviderMatch(rawConversations, forcedProvider);
      }
      progressCallback == null ? void 0 : progressCallback({
        phase: "processing",
        title: "Processing conversations...",
        detail: "Converting and importing conversations",
        current: 0,
        total: rawConversations.length
      });
      const report = await this.conversationProcessor.processRawConversations(
        rawConversations,
        this.importReport,
        zip,
        isReprocess,
        forcedProvider,
        progressCallback
      );
      this.importReport = report;
      this.importReport.addSummary(
        file.name,
        this.conversationProcessor.getCounters()
      );
      progressCallback == null ? void 0 : progressCallback({
        phase: "writing",
        title: "Finalizing import...",
        detail: "Saving settings and generating report"
      });
    } catch (error) {
      if (error instanceof NexusAiChatImporterError) {
        this.plugin.logger.error("Error processing conversations", error.message);
      } else if (typeof error === "object" && error instanceof Error) {
        this.plugin.logger.error("General error processing conversations", error.message);
      } else {
        this.plugin.logger.error("Unknown error processing conversations", "An unknown error occurred");
      }
    }
  }
  /**
   * Extract raw conversation data without knowing provider specifics
   */
  async extractRawConversationsFromZip(zip) {
    const conversationsFile = zip.file("conversations.json");
    if (!conversationsFile) {
      throw new NexusAiChatImporterError(
        "Missing conversations.json",
        "The ZIP file does not contain a conversations.json file"
      );
    }
    const conversationsJson = await conversationsFile.async("string");
    const parsedData = JSON.parse(conversationsJson);
    if (Array.isArray(parsedData)) {
      return parsedData;
    } else if (parsedData.conversations && Array.isArray(parsedData.conversations)) {
      return parsedData.conversations;
    } else {
      throw new NexusAiChatImporterError(
        "Invalid conversations.json structure",
        "The conversations.json file does not contain a valid conversation array"
      );
    }
  }
  /**
   * Filter conversations by selected IDs
   */
  filterConversationsByIds(rawConversations, selectedIds, forcedProvider) {
    const selectedIdsSet = new Set(selectedIds);
    return rawConversations.filter((conversation) => {
      let conversationId;
      if (forcedProvider === "claude" || conversation.uuid && conversation.name) {
        conversationId = conversation.uuid || "";
      } else {
        conversationId = conversation.id || "";
      }
      return selectedIdsSet.has(conversationId);
    });
  }
  /**
   * Validate that the forced provider matches the actual content structure
   */
  validateProviderMatch(rawConversations, forcedProvider) {
    if (rawConversations.length === 0)
      return;
    const firstConversation = rawConversations[0];
    const isChatGPT = firstConversation.mapping !== void 0;
    const isClaude = firstConversation.chat_messages !== void 0 || firstConversation.name !== void 0 || firstConversation.summary !== void 0;
    if (forcedProvider === "chatgpt" && !isChatGPT) {
      throw new NexusAiChatImporterError(
        "Provider Mismatch",
        "You selected ChatGPT but this archive appears to be from Claude. The structure doesn't match ChatGPT exports."
      );
    }
    if (forcedProvider === "claude" && !isClaude) {
      throw new NexusAiChatImporterError(
        "Provider Mismatch",
        "You selected Claude but this archive appears to be from ChatGPT. The structure doesn't match Claude exports."
      );
    }
  }
  async writeImportReport(zipFileName) {
    const reportWriter = new ReportWriter(this.plugin, this.providerRegistry);
    const currentProvider = this.conversationProcessor.getCurrentProvider();
    await reportWriter.writeReport(this.importReport, zipFileName, currentProvider);
  }
};
var ReportWriter = class {
  constructor(plugin, providerRegistry) {
    this.plugin = plugin;
    this.providerRegistry = providerRegistry;
  }
  async writeReport(report, zipFileName, provider) {
    const { ensureFolderExists: ensureFolderExists2, formatTimestamp: formatTimestamp2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const reportInfo = this.getReportGenerationInfo(zipFileName, provider);
    const adapter = this.providerRegistry.getAdapter(provider);
    if (adapter) {
      const strategy = adapter.getReportNamingStrategy();
      const columnInfo = strategy.getProviderSpecificColumn();
      report.setProviderSpecificColumnHeader(columnInfo.header);
    }
    const folderResult = await ensureFolderExists2(reportInfo.folderPath, this.plugin.app.vault);
    if (!folderResult.success) {
      this.plugin.logger.error(`Failed to create or access log folder: ${reportInfo.folderPath}`, folderResult.error);
      new import_obsidian14.Notice("Failed to create log file. Check console for details.");
      return;
    }
    let logFilePath = `${reportInfo.folderPath}/${reportInfo.baseFileName}`;
    let counter = 2;
    while (await this.plugin.app.vault.adapter.exists(logFilePath)) {
      const baseName = reportInfo.baseFileName.replace(" - import report.md", "");
      logFilePath = `${reportInfo.folderPath}/${baseName}-${counter} - import report.md`;
      counter++;
    }
    const currentDate = `${formatTimestamp2(Date.now() / 1e3, "date")} ${formatTimestamp2(Date.now() / 1e3, "time")}`;
    const archiveDate = this.extractArchiveDateFromFilename(zipFileName);
    const logContent = `---
importdate: ${currentDate}
archivedate: ${archiveDate}
zipFile: ${zipFileName}
provider: ${provider}
totalSuccessfulImports: ${report.getCreatedCount()}
totalUpdatedImports: ${report.getUpdatedCount()}
totalSkippedImports: ${report.getSkippedCount()}
---

${report.generateReportContent()}
`;
    try {
      await this.plugin.app.vault.create(logFilePath, logContent);
    } catch (error) {
      this.plugin.logger.error(`Failed to write import log`, error.message);
      new import_obsidian14.Notice("Failed to create log file. Check console for details.");
    }
  }
  getReportGenerationInfo(zipFileName, provider) {
    const reportFolder = this.plugin.settings.reportFolder;
    const adapter = this.providerRegistry.getAdapter(provider);
    if (adapter) {
      const strategy = adapter.getReportNamingStrategy();
      const reportPrefix = strategy.extractReportPrefix(zipFileName);
      return {
        folderPath: `${reportFolder}/${strategy.getProviderName()}`,
        baseFileName: `${reportPrefix} - import report.md`
      };
    }
    const now = new Date();
    const importDate = `${now.getFullYear()}.${String(now.getMonth() + 1).padStart(2, "0")}.${String(now.getDate()).padStart(2, "0")}`;
    const archiveDate = this.extractArchiveDateFromFilename(zipFileName);
    const fallbackPrefix = `imported-${importDate}-archive-${archiveDate}`;
    return {
      folderPath: `${reportFolder}`,
      baseFileName: `${fallbackPrefix} - import report.md`
    };
  }
  extractArchiveDateFromFilename(zipFileName) {
    const dateRegex = /(\d{4})-(\d{2})-(\d{2})/;
    const match = zipFileName.match(dateRegex);
    if (match) {
      const [, year, month, day] = match;
      return `${year}.${month}.${day}`;
    }
    const now = new Date();
    return `${now.getFullYear()}.${String(now.getMonth() + 1).padStart(2, "0")}.${String(now.getDate()).padStart(2, "0")}`;
  }
};

// src/services/storage-service.ts
var StorageService = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.importedArchives = {};
    this.isDirty = false;
    this.saveTimeout = null;
  }
  async loadData() {
    try {
      const data = await this.plugin.loadData();
      this.importedArchives = (data == null ? void 0 : data.importedArchives) || {};
      this.isDirty = false;
      if (data == null ? void 0 : data.conversationCatalog) {
        const catalogSize = Object.keys(data.conversationCatalog).length;
        this.plugin.logger.info("Legacy conversation catalog detected - will be migrated in upgrade process");
      }
      this.plugin.logger.info("Storage data loaded successfully");
    } catch (error) {
      this.plugin.logger.error("loadData failed:", error);
      throw error;
    }
  }
  async saveData(data) {
    try {
      await this.plugin.saveData(data);
      this.isDirty = false;
    } catch (error) {
      this.plugin.logger.error("saveData failed:", error);
    }
  }
  debouncedSave() {
    if (this.saveTimeout) {
      clearTimeout(this.saveTimeout);
    }
    this.saveTimeout = window.setTimeout(async () => {
      if (this.isDirty) {
        await this.plugin.saveSettings();
      }
    }, 1e3);
  }
  // ========================================
  // ARCHIVE TRACKING - HYBRID DETECTION (1.0.x + 1.1.0)
  // ========================================
  getImportedArchives() {
    return this.importedArchives;
  }
  /**
   * HYBRID detection: Works with both 1.0.x (filename as key) and 1.1.0 (hash as key)
   * FIXED: Handle both old format (string values) and new format (object values)
   */
  isArchiveImported(key) {
    if (this.importedArchives[key]) {
      return true;
    }
    return Object.values(this.importedArchives).some((archive) => {
      if (typeof archive === "object" && archive !== null && archive.fileName) {
        return archive.fileName === key;
      }
      return false;
    });
  }
  addImportedArchive(fileHash, fileName) {
    this.importedArchives[fileHash] = {
      fileName,
      date: new Date().toISOString()
    };
    this.isDirty = true;
    this.debouncedSave();
  }
  // ========================================
  // NEW: VAULT-BASED CONVERSATION DISCOVERY (HYBRID)
  // ========================================
  /**
   * Scan vault for existing Nexus conversations using HYBRID approach:
   * 1. Wait for cache to be clean (fast)
   * 2. Use metadataCache (optimal performance)  
   * 3. Fallback to manual parsing for problematic files
   */
  async scanExistingConversations() {
    const startTime = Date.now();
    await this.waitForCacheClean(1e3);
    const conversations = /* @__PURE__ */ new Map();
    const archiveFolder = this.plugin.settings.archiveFolder;
    const allFiles = this.plugin.app.vault.getMarkdownFiles();
    const conversationFiles = allFiles.filter((file) => {
      if (!file.path.startsWith(archiveFolder))
        return false;
      const relativePath = file.path.substring(archiveFolder.length + 1);
      if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
        return false;
      }
      return true;
    });
    let processed = 0;
    let foundViaCache = 0;
    let foundViaManual = 0;
    let errors = 0;
    const batchSize = 100;
    for (let i = 0; i < conversationFiles.length; i += batchSize) {
      const batch = conversationFiles.slice(i, i + batchSize);
      for (const file of batch) {
        processed++;
        try {
          let entry = await this.parseWithCache(file);
          if (entry) {
            conversations.set(entry.conversationId, entry);
            foundViaCache++;
            continue;
          }
          entry = await this.parseConversationFileManually(file);
          if (entry) {
            conversations.set(entry.conversationId, entry);
            foundViaManual++;
          }
        } catch (error) {
          errors++;
          console.warn(`Error parsing conversation file ${file.path}:`, error);
        }
      }
      if (i + batchSize < conversationFiles.length) {
        await new Promise((resolve) => setTimeout(resolve, 1));
      }
    }
    const duration = Date.now() - startTime;
    const total = foundViaCache + foundViaManual;
    this.plugin.logger.info(`Scanned vault: found ${total} conversations in ${duration}ms`);
    return conversations;
  }
  /**
   * Wait for metadata cache to be clean with timeout
   */
  async waitForCacheClean(maxWaitMs = 1e3) {
    const startTime = Date.now();
    const metadataCache = this.plugin.app.metadataCache;
    while (!metadataCache.isCacheClean()) {
      if (Date.now() - startTime > maxWaitMs) {
        break;
      }
      await new Promise((resolve) => setTimeout(resolve, 10));
    }
  }
  /**
   * Parse conversation using metadataCache (fast but potentially unreliable)
   */
  async parseWithCache(file) {
    var _a;
    try {
      const frontmatter = (_a = this.plugin.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
      if (!(frontmatter == null ? void 0 : frontmatter.nexus) || frontmatter.nexus !== this.plugin.manifest.id) {
        return null;
      }
      if (!frontmatter.conversation_id) {
        return null;
      }
      const createTime = this.parseTimeString(frontmatter.create_time);
      const updateTime = this.parseTimeString(frontmatter.update_time);
      return {
        conversationId: frontmatter.conversation_id,
        provider: frontmatter.provider || "unknown",
        path: file.path,
        updateTime,
        create_time: createTime,
        update_time: updateTime
      };
    } catch (error) {
      return null;
    }
  }
  /**
   * Parse single conversation file manually (robust fallback)
   */
  async parseConversationFileManually(file) {
    try {
      const content = await this.plugin.app.vault.read(file);
      const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
      if (!frontmatterMatch) {
        return null;
      }
      const frontmatterContent = frontmatterMatch[1];
      const frontmatterData = {};
      const lines = frontmatterContent.split("\n");
      for (const line of lines) {
        const colonIndex = line.indexOf(":");
        if (colonIndex > 0) {
          const key = line.substring(0, colonIndex).trim();
          let value = line.substring(colonIndex + 1).trim();
          if (value.startsWith('"') && value.endsWith('"') || value.startsWith("'") && value.endsWith("'")) {
            value = value.slice(1, -1);
          }
          frontmatterData[key] = value;
        }
      }
      const nexusId = this.plugin.manifest.id;
      if (frontmatterData.nexus !== nexusId) {
        return null;
      }
      if (!frontmatterData.conversation_id) {
        return null;
      }
      const createTime = this.parseTimeString(frontmatterData.create_time);
      const updateTime = this.parseTimeString(frontmatterData.update_time);
      return {
        conversationId: frontmatterData.conversation_id,
        provider: frontmatterData.provider || "unknown",
        path: file.path,
        updateTime,
        create_time: createTime,
        update_time: updateTime
      };
    } catch (error) {
      console.error(`Error manually parsing ${file.path}:`, error);
      return null;
    }
  }
  /**
   * Parse time string from frontmatter (handle multiple formats)
   * Supports both old format (without seconds) and new format (with seconds)
   * Uses moment.js with explicit US format to ensure consistency with formatting
   * Examples:
   * - Old: "01/15/2024 at 2:30 PM"
   * - New: "01/15/2024 at 2:30:00 PM"
   */
  parseTimeString(timeStr) {
    if (!timeStr)
      return 0;
    try {
      const { moment: moment2 } = require("obsidian");
      let date = moment2(timeStr, "MM/DD/YYYY [at] h:mm:ss A", true);
      if (!date.isValid()) {
        date = moment2(timeStr, "MM/DD/YYYY [at] h:mm A", true);
      }
      if (!date.isValid()) {
        console.warn(`Could not parse date: ${timeStr}`);
        return 0;
      }
      return date.unix();
    } catch (error) {
      console.warn(`Date parsing error for "${timeStr}":`, error);
      return 0;
    }
  }
  /**
   * Fast check if a specific conversation exists
   */
  async conversationExists(conversationId) {
    const conversations = await this.scanExistingConversations();
    return conversations.has(conversationId);
  }
  /**
   * Get conversation entry by ID (single lookup)
   */
  async getConversationById(conversationId) {
    const conversations = await this.scanExistingConversations();
    return conversations.get(conversationId) || null;
  }
  /**
   * Get conversations by provider (for reporting/stats)
   */
  async getConversationsByProvider(provider) {
    const allConversations = await this.scanExistingConversations();
    return Array.from(allConversations.values()).filter((entry) => entry.provider === provider);
  }
  // ========================================
  // LEGACY SUPPORT & CLEANUP
  // ========================================
  async resetCatalogs() {
    try {
      this.importedArchives = {};
      this.isDirty = false;
      if (this.saveTimeout) {
        clearTimeout(this.saveTimeout);
        this.saveTimeout = null;
      }
      await this.plugin.saveData({
        settings: this.plugin.settings
        // Note: No conversation catalog to reset - it's now vault-based
      });
      this.plugin.logger.info("Reset archive catalog (conversation tracking is now vault-based)");
    } catch (error) {
      this.plugin.logger.error("resetCatalogs failed:", error);
    }
  }
  // Statistics for debugging
  getStats() {
    return {
      totalArchives: Object.keys(this.importedArchives).length,
      isDirty: this.isDirty,
      hasPendingSave: this.saveTimeout !== null,
      catalogMethod: "vault-based-hybrid",
      trackingMethod: "hybrid-hash-filename"
    };
  }
  async forceSave() {
    if (this.saveTimeout) {
      clearTimeout(this.saveTimeout);
      this.saveTimeout = null;
    }
    if (this.isDirty) {
      await this.plugin.saveSettings();
    }
  }
  // ========================================
  // DEPRECATED METHODS (For Compatibility)
  // ========================================
  /**
   * @deprecated Use scanExistingConversations() instead
   */
  getConversationCatalog() {
    this.plugin.logger.warn("getConversationCatalog() is deprecated - use scanExistingConversations()");
    return {};
  }
  /**
   * @deprecated Conversations are now tracked via vault frontmatter
   */
  updateConversationCatalog(id, entry) {
    this.plugin.logger.warn("updateConversationCatalog() is deprecated - conversations tracked via frontmatter");
  }
  /**
   * @deprecated Conversations are now tracked via vault frontmatter  
   */
  deleteFromConversationCatalog(id) {
    this.plugin.logger.warn("deleteFromConversationCatalog() is deprecated - files tracked via vault");
  }
};

// src/upgrade/incremental-upgrade-manager.ts
var import_obsidian17 = require("obsidian");
init_version_utils();
init_dialogs();
init_logger();

// src/upgrade/utils/multi-operation-progress-modal.ts
var import_obsidian15 = require("obsidian");
var MultiOperationProgressModal = class extends import_obsidian15.Modal {
  constructor(app, title, operations) {
    super(app);
    this.canClose = false;
    this.title = title;
    this.operations = [...operations];
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("nexus-ai-chat-importer-modal");
    contentEl.addClass("multi-operation-progress-modal");
    this.modalTitleEl = contentEl.createEl("h2", {
      text: this.title,
      cls: "modal-title"
    });
    const contentContainer = contentEl.createDiv({ cls: "modal-content" });
    this.operationsContainer = contentContainer.createDiv({ cls: "operations-container" });
    this.operationsContainer.style.cssText = `
            margin: 20px 0;
            max-height: 300px;
            overflow-y: auto;
        `;
    this.overallProgressEl = contentContainer.createDiv({ cls: "overall-progress" });
    this.overallProgressEl.style.cssText = `
            margin-top: 20px;
            padding: 15px;
            background: var(--background-secondary);
            border-radius: 8px;
            border: 1px solid var(--background-modifier-border);
            text-align: center;
            font-weight: 500;
        `;
    this.renderOperations();
    this.updateOverallProgress();
    this.modalEl.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !this.canClose) {
        e.preventDefault();
        e.stopPropagation();
      }
    });
  }
  /**
   * Update operation status
   */
  updateOperation(operationId, updates) {
    const operation = this.operations.find((op) => op.id === operationId);
    if (operation) {
      Object.assign(operation, updates);
      this.renderOperations();
      this.updateOverallProgress();
    }
  }
  /**
   * Mark all operations as complete and allow closing
   */
  markComplete(message = "All operations completed successfully") {
    this.canClose = true;
    this.overallProgressEl.textContent = message;
    this.overallProgressEl.style.color = "var(--text-success)";
    if (!this.closeButtonEl) {
      const buttonContainer = this.contentEl.createDiv({ cls: "modal-button-container" });
      this.closeButtonEl = buttonContainer.createEl("button", {
        text: "Complete",
        cls: "mod-cta"
      });
      this.closeButtonEl.addEventListener("click", () => this.close());
    }
  }
  /**
   * Show error state
   */
  showError(message) {
    this.canClose = true;
    this.overallProgressEl.textContent = message;
    this.overallProgressEl.style.color = "var(--text-error)";
    if (!this.closeButtonEl) {
      const buttonContainer = this.contentEl.createDiv({ cls: "modal-button-container" });
      this.closeButtonEl = buttonContainer.createEl("button", {
        text: "Close",
        cls: "mod-warning"
      });
      this.closeButtonEl.addEventListener("click", () => this.close());
    }
  }
  /**
   * Render all operations
   */
  renderOperations() {
    this.operationsContainer.empty();
    for (const operation of this.operations) {
      const operationEl = this.operationsContainer.createDiv({ cls: "operation-item" });
      operationEl.style.cssText = `
                display: flex;
                align-items: center;
                margin: 10px 0;
                padding: 10px;
                background: var(--background-primary);
                border-radius: 6px;
                border: 1px solid var(--background-modifier-border);
            `;
      const iconEl = operationEl.createDiv({ cls: "operation-icon" });
      iconEl.style.cssText = `
                width: 20px;
                height: 20px;
                margin-right: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 14px;
            `;
      switch (operation.status) {
        case "pending":
          iconEl.textContent = "\u25CB";
          iconEl.style.color = "var(--text-muted)";
          break;
        case "running":
          iconEl.textContent = "\u26A0";
          iconEl.style.color = "var(--text-accent)";
          break;
        case "completed":
          iconEl.textContent = "\u2713";
          iconEl.style.color = "var(--text-success)";
          break;
        case "failed":
          iconEl.textContent = "\u2717";
          iconEl.style.color = "var(--text-error)";
          break;
      }
      const contentEl = operationEl.createDiv({ cls: "operation-content" });
      contentEl.style.cssText = `flex: 1; min-width: 0;`;
      const nameEl = contentEl.createDiv({ cls: "operation-name" });
      nameEl.textContent = operation.name;
      nameEl.style.cssText = `
                font-weight: 500;
                margin-bottom: 5px;
                color: var(--text-normal);
            `;
      if (operation.status === "running" || operation.progress !== void 0 && operation.progress > 0) {
        const progressContainer = contentEl.createDiv({ cls: "progress-container" });
        progressContainer.style.cssText = `
                    background: var(--background-secondary);
                    border-radius: 4px;
                    height: 8px;
                    margin: 5px 0;
                    overflow: hidden;
                `;
        const progressBar = progressContainer.createDiv({ cls: "progress-bar" });
        const progress = operation.progress || 0;
        progressBar.style.cssText = `
                    background: var(--interactive-accent);
                    height: 100%;
                    width: ${progress}%;
                    transition: width 0.3s ease;
                `;
      }
      if (operation.currentDetail) {
        const detailEl = contentEl.createDiv({ cls: "operation-detail" });
        detailEl.textContent = this.truncateDetail(operation.currentDetail);
        detailEl.style.cssText = `
                    font-size: 0.9em;
                    color: var(--text-muted);
                    font-style: italic;
                    margin-top: 3px;
                `;
      }
      if (operation.status === "failed" && operation.error) {
        const errorEl = contentEl.createDiv({ cls: "operation-error" });
        errorEl.textContent = operation.error;
        errorEl.style.cssText = `
                    font-size: 0.9em;
                    color: var(--text-error);
                    margin-top: 3px;
                `;
      }
    }
  }
  /**
   * Update overall progress display
   */
  updateOverallProgress() {
    const completed = this.operations.filter((op) => op.status === "completed").length;
    const failed = this.operations.filter((op) => op.status === "failed").length;
    const total = this.operations.length;
    if (failed > 0) {
      this.overallProgressEl.textContent = `Progress: ${completed}/${total} operations (${failed} failed)`;
      this.overallProgressEl.style.color = "var(--text-error)";
    } else if (completed === total) {
      this.overallProgressEl.textContent = `All ${total} operations completed successfully`;
      this.overallProgressEl.style.color = "var(--text-success)";
    } else {
      this.overallProgressEl.textContent = `Progress: ${completed}/${total} operations`;
      this.overallProgressEl.style.color = "var(--text-normal)";
    }
  }
  /**
   * Truncate detail text to fit in modal
   */
  truncateDetail(detail) {
    const maxLength = 50;
    if (detail.length <= maxLength)
      return detail;
    return "..." + detail.slice(-maxLength + 3);
  }
  /**
   * Override close to respect canClose flag
   */
  close() {
    if (this.canClose) {
      super.close();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/upgrade/incremental-upgrade-manager.ts
var logger3 = new Logger();
var IncrementalUpgradeManager = class {
  constructor(plugin) {
    this.availableUpgrades = [];
    this.plugin = plugin;
    this.registerUpgrades();
  }
  /**
   * Register all available version upgrades
   */
  registerUpgrades() {
    const { Upgrade110: Upgrade1102 } = (init_upgrade_1_1_0(), __toCommonJS(upgrade_1_1_0_exports));
    const { Upgrade120: Upgrade1202 } = (init_upgrade_1_2_0(), __toCommonJS(upgrade_1_2_0_exports));
    const { Upgrade130: Upgrade1302 } = (init_upgrade_1_3_0(), __toCommonJS(upgrade_1_3_0_exports));
    this.availableUpgrades = [
      new Upgrade1102(),
      new Upgrade1202(),
      new Upgrade1302()
      // Future: new Upgrade131(), new Upgrade140(), etc.
    ];
    this.availableUpgrades.sort((a, b) => {
      return VersionUtils.compareVersions(a.version, b.version);
    });
    logger3.info(`Registered ${this.availableUpgrades.length} version upgrades`);
  }
  /**
   * Main incremental upgrade check and execution
   */
  async checkAndPerformUpgrade() {
    var _a, _b, _c;
    try {
      const currentVersion = this.plugin.manifest.version;
      const previousVersion = this.plugin.settings.previousVersion;
      console.debug(`[NEXUS-DEBUG] Incremental upgrade check: ${previousVersion} \u2192 ${currentVersion}`);
      if (previousVersion === currentVersion) {
        console.debug(`[NEXUS-DEBUG] No version change - SKIPPING ALL`);
        logger3.info(`No version change (${currentVersion}), skipping upgrade checks`);
        return null;
      }
      const data = await this.plugin.loadData();
      const versionKey = currentVersion.replace(/\./g, "_");
      const hasCompletedThisUpgrade = (_c = (_b = (_a = data == null ? void 0 : data.upgradeHistory) == null ? void 0 : _a.completedUpgrades) == null ? void 0 : _b[versionKey]) == null ? void 0 : _c.completed;
      console.debug(`[NEXUS-DEBUG] Upgrade history check for '${versionKey}': ${hasCompletedThisUpgrade}`);
      if (hasCompletedThisUpgrade) {
        console.debug(`[NEXUS-DEBUG] Upgrade already completed - SKIPPING ALL`);
        logger3.info(`Already completed upgrade to ${currentVersion}, skipping`);
        return null;
      }
      const isFreshInstall = await this.detectFreshInstall();
      console.debug(`[NEXUS-DEBUG] Fresh install detection: ${isFreshInstall}`);
      if (isFreshInstall) {
        console.debug(`[NEXUS-DEBUG] Fresh install detected - marking as complete without upgrades`);
        await this.markUpgradeComplete(currentVersion);
        logger3.info(`Fresh installation detected - marked as up-to-date v${currentVersion}`);
        return {
          success: true,
          upgradesExecuted: 0,
          upgradesSkipped: 0,
          upgradesFailed: 0,
          results: []
        };
      }
      const upgradeChain = this.getUpgradeChain(previousVersion, currentVersion);
      console.debug(`[NEXUS-DEBUG] Upgrade chain:`, upgradeChain.map((u) => u.version));
      if (upgradeChain.length === 0) {
        console.debug(`[NEXUS-DEBUG] No upgrades needed - marking complete`);
        await this.markUpgradeComplete(currentVersion);
        await this.showUpgradeDialog(currentVersion, previousVersion, []);
        return {
          success: true,
          upgradesExecuted: 0,
          upgradesSkipped: 0,
          upgradesFailed: 0,
          results: []
        };
      }
      console.debug(`[NEXUS-DEBUG] Need to execute ${upgradeChain.length} upgrades - showing dialog first`);
      await this.showUpgradeDialog(currentVersion, previousVersion, upgradeChain);
      console.debug(`[NEXUS-DEBUG] Executing upgrades with modal...`);
      const result = await this.executeUpgradeChainWithModal(upgradeChain, previousVersion, currentVersion);
      console.debug(`[NEXUS-DEBUG] Upgrade process completed - marking overall upgrade complete`);
      await this.markUpgradeComplete(currentVersion);
      return result;
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Incremental upgrade FAILED:`, error);
      logger3.error("Error during incremental upgrade:", error);
      new import_obsidian17.Notice("Upgrade failed - see console for details");
      return {
        success: false,
        upgradesExecuted: 0,
        upgradesSkipped: 0,
        upgradesFailed: 1,
        results: []
      };
    }
  }
  /**
   * Detect if this is a fresh installation with no existing data
   */
  async detectFreshInstall() {
    try {
      const data = await this.plugin.loadData();
      const hasLegacyData = !!((data == null ? void 0 : data.conversationCatalog) && Object.keys(data.conversationCatalog).length > 0);
      const hasImportedArchives = !!((data == null ? void 0 : data.importedArchives) && Object.keys(data.importedArchives).length > 0);
      const archiveFolder = this.plugin.settings.archiveFolder;
      const allFiles = this.plugin.app.vault.getMarkdownFiles();
      const existingConversations = allFiles.filter((file) => {
        var _a;
        if (!file.path.startsWith(archiveFolder))
          return false;
        const relativePath = file.path.substring(archiveFolder.length + 1);
        if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
          return false;
        }
        const frontmatter = (_a = this.plugin.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
        return (frontmatter == null ? void 0 : frontmatter.nexus) === this.plugin.manifest.id;
      });
      const hasExistingConversations = existingConversations.length > 0;
      const isFreshInstall = !hasLegacyData && !hasImportedArchives && !hasExistingConversations;
      console.debug(`[NEXUS-DEBUG] Fresh install detection:`, {
        hasLegacyData,
        hasImportedArchives,
        hasExistingConversations,
        isFreshInstall
      });
      return isFreshInstall;
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Error detecting fresh install:`, error);
      return false;
    }
  }
  /**
   * Get chain of upgrades to execute incrementally
   */
  getUpgradeChain(fromVersion, toVersion) {
    return this.availableUpgrades.filter(
      (upgrade) => upgrade.shouldRun(fromVersion, toVersion)
    );
  }
  /**
   * Execute upgrade chain with modal progress tracking
   */
  async executeUpgradeChainWithModal(upgradeChain, fromVersion, toVersion) {
    const allOperations = [];
    for (const upgrade of upgradeChain) {
      for (const operation of upgrade.automaticOperations) {
        allOperations.push({
          id: `${upgrade.version}_${operation.id}`,
          name: operation.name,
          status: "pending"
        });
      }
    }
    const progressModal = new MultiOperationProgressModal(
      this.plugin.app,
      `Upgrading to v${toVersion}`,
      allOperations
    );
    progressModal.open();
    const results = [];
    let upgradesExecuted = 0;
    let upgradesSkipped = 0;
    let upgradesFailed = 0;
    try {
      for (const upgrade of upgradeChain) {
        console.debug(`[NEXUS-DEBUG] Executing upgrade ${upgrade.version}...`);
        const context = await this.createUpgradeContext(upgrade, fromVersion, toVersion);
        const automaticResults = await this.executeOperationsWithProgress(
          upgrade.automaticOperations,
          context,
          upgrade.version,
          progressModal
        );
        console.debug(`[NEXUS-DEBUG] Automatic operations for ${upgrade.version}:`, automaticResults);
        const manualResults = { success: true, results: [] };
        results.push({
          version: upgrade.version,
          automaticResults,
          manualResults
        });
        upgradesExecuted++;
      }
      const overallSuccess = true;
      progressModal.markComplete(`All operations completed successfully!`);
      new import_obsidian17.Notice(`Upgrade completed: ${upgradesExecuted} versions processed successfully`);
      return {
        success: overallSuccess,
        upgradesExecuted,
        upgradesSkipped,
        upgradesFailed,
        results
      };
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Modal upgrade execution failed:`, error);
      progressModal.showError(`Upgrade failed: ${error}`);
      throw error;
    }
  }
  /**
   * Execute operations with progress updates to modal
   */
  async executeOperationsWithProgress(operations, context, version, progressModal) {
    const results = [];
    let criticalFailures = 0;
    for (const operation of operations) {
      const modalOperationId = `${version}_${operation.id}`;
      try {
        if (await this.isOperationCompleted(operation.id, version)) {
          progressModal.updateOperation(modalOperationId, {
            status: "completed",
            progress: 100
          });
          results.push({
            operationId: operation.id,
            result: { success: true, message: "Already completed" }
          });
          continue;
        }
        progressModal.updateOperation(modalOperationId, {
          status: "running",
          progress: 0
        });
        if (!await operation.canRun(context)) {
          progressModal.updateOperation(modalOperationId, {
            status: "completed",
            progress: 100,
            currentDetail: "Nothing to process"
          });
          results.push({
            operationId: operation.id,
            result: { success: true, message: "Prerequisites not met - nothing to process" }
          });
          continue;
        }
        const result = await this.executeOperationWithProgress(
          operation,
          context,
          modalOperationId,
          progressModal
        );
        results.push({ operationId: operation.id, result });
        if (result.success) {
          await this.markOperationCompleted(operation.id, version);
          progressModal.updateOperation(modalOperationId, {
            status: "completed",
            progress: 100
          });
        } else {
          const isCritical = this.isCriticalFailure(result);
          if (isCritical) {
            criticalFailures++;
            progressModal.updateOperation(modalOperationId, {
              status: "failed",
              error: result.message
            });
          } else {
            progressModal.updateOperation(modalOperationId, {
              status: "completed",
              progress: 100,
              currentDetail: "Completed with warnings"
            });
          }
        }
      } catch (error) {
        const errorResult = {
          success: false,
          message: `Operation failed: ${error}`,
          details: { error: String(error) }
        };
        results.push({ operationId: operation.id, result: errorResult });
        progressModal.updateOperation(modalOperationId, {
          status: "failed",
          error: String(error)
        });
        criticalFailures++;
      }
    }
    return { success: criticalFailures === 0, results };
  }
  /**
   * Determine if an operation failure is critical
   */
  isCriticalFailure(result) {
    return false;
  }
  /**
   * Execute single operation with progress callbacks
   */
  async executeOperationWithProgress(operation, context, modalOperationId, progressModal) {
    var _a;
    const result = await operation.execute(context);
    const steps = 5;
    for (let i = 1; i <= steps; i++) {
      progressModal.updateOperation(modalOperationId, {
        status: "running",
        progress: i / steps * 100,
        currentDetail: ((_a = result.details) == null ? void 0 : _a.processed) ? `Processing... ${i}/${steps}` : void 0
      });
      await new Promise((resolve) => setTimeout(resolve, 100));
    }
    return result;
  }
  /**
   * Create upgrade context
   */
  async createUpgradeContext(upgrade, fromVersion, toVersion) {
    const pluginData = await this.plugin.loadData();
    return {
      plugin: this.plugin,
      fromVersion,
      toVersion,
      pluginData
    };
  }
  /**
   * Mark overall upgrade as complete
   */
  async markUpgradeComplete(version) {
    const data = await this.plugin.loadData() || {};
    if (!data.upgradeHistory) {
      data.upgradeHistory = {
        completedUpgrades: {},
        completedOperations: {}
      };
    }
    const versionKey = version.replace(/\./g, "_");
    data.upgradeHistory.completedUpgrades[versionKey] = {
      version,
      date: new Date().toISOString(),
      completed: true
    };
    data.lastVersion = version;
    data.hasCompletedUpgrade = true;
    data.upgradeDate = new Date().toISOString();
    if (VersionUtils.compareVersions(version, "1.1.0") >= 0) {
      data.versionTrackingEnabled = true;
    }
    await this.plugin.saveData(data);
    logger3.info(`Marked overall upgrade to ${version} as complete`);
  }
  /**
   * Show upgrade dialog - INFORMATION ONLY (no cancel)
   */
  async showUpgradeDialog(currentVersion, lastVersion, upgradeChain) {
    try {
      const overview = await this.fetchReleaseOverview(currentVersion);
      const baseMessage = overview || `Nexus AI Chat Importer has been upgraded to version ${currentVersion}.`;
      const paragraphs = [];
      paragraphs.push(baseMessage);
      paragraphs.push(this.getDocLinks(currentVersion));
      if (upgradeChain.length > 0) {
        paragraphs.push("");
        paragraphs.push("**Upgrade Operations Required**");
        paragraphs.push("The following operations will be performed automatically:");
        paragraphs.push("");
        const operationsList = [];
        for (const upgrade of upgradeChain) {
          for (const operation of upgrade.automaticOperations) {
            operationsList.push(`\u2022 **${operation.name}**: ${operation.description}`);
          }
        }
        paragraphs.push(operationsList.join("\n"));
      } else {
        paragraphs.push("");
        paragraphs.push("All systems are up to date. No operations required.");
      }
      if (upgradeChain.length > 0) {
        const isV120Upgrade = upgradeChain.some((upgrade) => upgrade.version === "1.2.0");
        if (isV120Upgrade) {
          const { NexusUpgradeModal: NexusUpgradeModal2 } = (init_upgrade_1_2_0(), __toCommonJS(upgrade_1_2_0_exports));
          await new Promise((resolve) => {
            new NexusUpgradeModal2(this.plugin.app, this.plugin, "1.2.0", resolve).open();
          });
        } else {
          await showDialog(
            this.plugin.app,
            "information",
            `Upgrade to ${VersionUtils.formatVersion(currentVersion)}`,
            paragraphs,
            this.shouldShowUpgradeWarning(lastVersion) ? this.getUpgradeWarning() : void 0,
            { button1: "Proceed with Upgrade" }
          );
        }
      } else {
        await showDialog(
          this.plugin.app,
          "information",
          `Upgrade to ${VersionUtils.formatVersion(currentVersion)}`,
          paragraphs,
          this.shouldShowUpgradeWarning(lastVersion) ? this.getUpgradeWarning() : void 0,
          { button1: "Got it!" }
          //  Juste informatif
        );
      }
    } catch (error) {
      logger3.error("Error showing upgrade dialog:", error);
      new import_obsidian17.Notice(`Upgraded to Nexus AI Chat Importer v${currentVersion}`);
    }
  }
  /**
   * Check if operation was completed using new upgrade history structure
   */
  async isOperationCompleted(operationId, version) {
    var _a, _b, _c;
    const data = await this.plugin.loadData();
    const operationKey = `operation_${version.replace(/\./g, "_")}_${operationId}`;
    return ((_c = (_b = (_a = data == null ? void 0 : data.upgradeHistory) == null ? void 0 : _a.completedOperations) == null ? void 0 : _b[operationKey]) == null ? void 0 : _c.completed) || false;
  }
  /**
   * Mark operation as completed using structured upgrade history
   */
  async markOperationCompleted(operationId, version) {
    const data = await this.plugin.loadData() || {};
    if (!data.upgradeHistory) {
      data.upgradeHistory = {
        completedUpgrades: {},
        completedOperations: {}
      };
    }
    const operationKey = `operation_${version.replace(/\./g, "_")}_${operationId}`;
    data.upgradeHistory.completedOperations[operationKey] = {
      operationId,
      version,
      date: new Date().toISOString(),
      completed: true
    };
    await this.plugin.saveData(data);
    logger3.info(`Marked operation ${operationId} (v${version}) as completed`);
  }
  /**
   * Get documentation links
   */
  getDocLinks(version) {
    return `**Resources:**
\u2022 [Full Release Notes](${GITHUB.REPO_BASE}/blob/${version}/RELEASE_NOTES.md)
\u2022 [Documentation](${GITHUB.REPO_BASE}/blob/${version}/README.md)`;
  }
  /**
   * Check if should show upgrade warning for very old versions
   */
  shouldShowUpgradeWarning(lastVersion) {
    return VersionUtils.compareVersions(lastVersion, "1.0.2") < 0;
  }
  /**
   * Get upgrade warning for very old versions
   */
  getUpgradeWarning() {
    return `\u26A0\uFE0F **Important for users upgrading from versions prior to v1.0.2:**

Version 1.0.2 introduced new metadata parameters required for certain features. For optimal performance and feature compatibility, it's recommended to delete old data and re-import conversations with this new version.`;
  }
  /**
   * Fetch release overview from GitHub
   */
  async fetchReleaseOverview(version) {
    try {
      const { requestUrl: requestUrl2 } = require("obsidian");
      const response = await requestUrl2({
        url: `${GITHUB.RAW_BASE}/${version}/RELEASE_NOTES.md`,
        method: "GET"
      });
      const overviewRegex = /## Overview\s+(.*?)(?=##|$)/s;
      const match = response.text.match(overviewRegex);
      return match ? match[1].trim() : null;
    } catch (error) {
      logger3.warn("Could not fetch release overview:", error);
      return null;
    }
  }
  /**
   * Get manual operations status for settings UI
   */
  async getManualOperationsForSettings() {
    const results = [];
    for (const upgrade of this.availableUpgrades) {
      const context = await this.createUpgradeContext(upgrade, "0.0.0", this.plugin.manifest.version);
      const operationsStatus = await upgrade.getManualOperationsStatus(context);
      if (operationsStatus.length > 0) {
        results.push({
          version: upgrade.version,
          operations: operationsStatus.map((status) => ({
            id: status.operation.id,
            name: status.operation.name,
            description: status.operation.description,
            completed: status.completed,
            canRun: status.canRun
          }))
        });
      }
    }
    return results;
  }
  /**
   * Execute single manual operation from settings
   */
  async executeManualOperation(version, operationId) {
    const upgrade = this.availableUpgrades.find((u) => u.version === version);
    if (!upgrade) {
      return { success: false, message: "Upgrade version not found" };
    }
    const context = await this.createUpgradeContext(upgrade, "0.0.0", this.plugin.manifest.version);
    const result = await upgrade.executeManualOperation(operationId, context);
    return {
      success: result.success,
      message: result.message
    };
  }
};

// src/main.ts
init_logger();

// src/dialogs/provider-selection-dialog.ts
var import_obsidian18 = require("obsidian");
var ProviderSelectionDialog = class extends import_obsidian18.Modal {
  constructor(app, providerRegistry, onProviderSelected) {
    super(app);
    this.selectedProvider = null;
    this.onProviderSelected = onProviderSelected;
    this.providers = this.getAvailableProviders(providerRegistry);
  }
  getAvailableProviders(registry) {
    const providers = [];
    if (registry.getAdapter("chatgpt")) {
      providers.push({
        id: "chatgpt",
        name: "ChatGPT",
        description: "OpenAI ChatGPT conversation exports",
        fileFormats: ["conversations.json only"]
      });
    }
    if (registry.getAdapter("claude")) {
      providers.push({
        id: "claude",
        name: "Claude",
        description: "Anthropic Claude conversation exports",
        fileFormats: ["conversations.json + users.json", "projects.json (optional)"]
      });
    }
    return providers;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Select Archive Provider" });
    this.providers.forEach((provider) => {
      new import_obsidian18.Setting(contentEl).setName(provider.name).setDesc(this.createProviderDescription(provider)).addButton((button) => {
        button.setButtonText("Select").setCta().onClick(() => {
          this.selectedProvider = provider.id;
          this.close();
          this.onProviderSelected(provider.id);
        });
      });
    });
    const buttonContainer = contentEl.createDiv();
    buttonContainer.style.textAlign = "center";
    buttonContainer.style.marginTop = "20px";
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.style.marginRight = "10px";
    cancelButton.onclick = () => this.close();
  }
  createProviderDescription(provider) {
    return provider.description;
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/dialogs/enhanced-file-selection-dialog.ts
var import_obsidian19 = require("obsidian");
var EnhancedFileSelectionDialog = class extends import_obsidian19.Modal {
  constructor(app, provider, onFileSelectionComplete, plugin) {
    super(app);
    this.plugin = plugin;
    this.selectedFiles = [];
    this.importMode = "all";
    this.dragCounter = 0;
    this.lastImportMode = null;
    this.provider = provider;
    this.onFileSelectionComplete = onFileSelectionComplete;
    this.setInitialImportMode();
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("nexus-file-selection-dialog");
    const title = contentEl.createEl("h2", {
      text: `Import ${this.provider.charAt(0).toUpperCase() + this.provider.slice(1)} Conversations`
    });
    title.style.marginBottom = "20px";
    this.createImportModeSection(contentEl);
    this.createFileSelectionArea(contentEl);
    this.createFilePreviewArea(contentEl);
    this.createActionButtons(contentEl);
    this.addCustomStyles();
  }
  createImportModeSection(container) {
    const section = container.createDiv("import-mode-section");
    section.style.marginBottom = "25px";
    section.style.padding = "15px";
    section.style.border = "1px solid var(--background-modifier-border)";
    section.style.borderRadius = "8px";
    const sectionTitle = section.createEl("h3", { text: "Import Mode" });
    sectionTitle.style.marginTop = "0";
    sectionTitle.style.marginBottom = "15px";
    const allOption = section.createDiv("import-option");
    allOption.style.marginBottom = "10px";
    const allRadio = allOption.createEl("input", { type: "radio" });
    allRadio.name = "importMode";
    allRadio.value = "all";
    allRadio.checked = this.importMode === "all";
    allRadio.id = "import-all";
    allRadio.addEventListener("change", () => {
      this.importMode = "all";
      this.updateImportModeDescription();
    });
    const allLabel = allOption.createEl("label");
    allLabel.htmlFor = "import-all";
    allLabel.style.marginLeft = "8px";
    allLabel.style.fontWeight = "500";
    allLabel.textContent = "Import All Conversations";
    const allDesc = allOption.createDiv();
    allDesc.style.marginLeft = "24px";
    allDesc.style.fontSize = "0.9em";
    allDesc.style.color = "var(--text-muted)";
    allDesc.textContent = "Import all conversations from the selected files (faster)";
    const selectOption = section.createDiv("import-option");
    const selectRadio = selectOption.createEl("input", { type: "radio" });
    selectRadio.name = "importMode";
    selectRadio.value = "selective";
    selectRadio.checked = this.importMode === "selective";
    selectRadio.id = "import-selective";
    selectRadio.addEventListener("change", () => {
      this.importMode = "selective";
      this.updateImportModeDescription();
    });
    const selectLabel = selectOption.createEl("label");
    selectLabel.htmlFor = "import-selective";
    selectLabel.style.marginLeft = "8px";
    selectLabel.style.fontWeight = "500";
    selectLabel.textContent = "Select Specific Conversations";
    const selectDesc = selectOption.createDiv();
    selectDesc.style.marginLeft = "24px";
    selectDesc.style.fontSize = "0.9em";
    selectDesc.style.color = "var(--text-muted)";
    selectDesc.textContent = "Preview and choose which conversations to import";
  }
  createFileSelectionArea(container) {
    const section = container.createDiv("file-selection-section");
    section.style.marginBottom = "20px";
    const sectionTitle = section.createEl("h3", { text: "Select Files" });
    sectionTitle.style.marginBottom = "15px";
    const dropZone = section.createDiv("drop-zone");
    dropZone.style.border = "2px dashed var(--background-modifier-border)";
    dropZone.style.borderRadius = "8px";
    dropZone.style.padding = "40px 20px";
    dropZone.style.textAlign = "center";
    dropZone.style.cursor = "pointer";
    dropZone.style.transition = "all 0.2s ease";
    const dropIcon = dropZone.createEl("div");
    dropIcon.style.fontSize = "48px";
    dropIcon.style.marginBottom = "15px";
    dropIcon.textContent = "\u{1F4C1}";
    const dropText = dropZone.createEl("div");
    dropText.style.fontSize = "16px";
    dropText.style.marginBottom = "10px";
    dropText.textContent = "Drop ZIP files here or click to browse";
    const dropSubtext = dropZone.createEl("div");
    dropSubtext.style.fontSize = "14px";
    dropSubtext.style.color = "var(--text-muted)";
    dropSubtext.textContent = "Supports multiple file selection";
    const fileInput = section.createEl("input", { type: "file" });
    fileInput.accept = ".zip";
    fileInput.multiple = true;
    fileInput.style.display = "none";
    dropZone.addEventListener("click", () => fileInput.click());
    fileInput.addEventListener("change", (e) => this.handleFileSelection(e));
    dropZone.addEventListener("dragover", (e) => this.handleDragOver(e, dropZone));
    dropZone.addEventListener("dragenter", (e) => this.handleDragEnter(e, dropZone));
    dropZone.addEventListener("dragleave", (e) => this.handleDragLeave(e, dropZone));
    dropZone.addEventListener("drop", (e) => this.handleDrop(e, dropZone));
  }
  createFilePreviewArea(container) {
    const section = container.createDiv("file-preview-section");
    section.id = "file-preview-section";
    section.style.marginBottom = "20px";
    section.style.display = "none";
    const sectionTitle = section.createEl("h3", { text: "Selected Files" });
    sectionTitle.style.marginBottom = "15px";
    const fileList = section.createDiv("file-list");
    fileList.id = "file-list";
  }
  createActionButtons(container) {
    const buttonContainer = container.createDiv("action-buttons");
    buttonContainer.style.display = "flex";
    buttonContainer.style.justifyContent = "flex-end";
    buttonContainer.style.gap = "10px";
    buttonContainer.style.marginTop = "20px";
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.style.padding = "8px 16px";
    cancelButton.addEventListener("click", () => this.close());
    const importButton = buttonContainer.createEl("button", { text: "Continue" });
    importButton.id = "import-button";
    importButton.style.padding = "8px 16px";
    importButton.classList.add("mod-cta");
    importButton.disabled = true;
    importButton.addEventListener("click", () => this.handleImport());
  }
  handleFileSelection(event) {
    const input = event.target;
    if (input.files) {
      this.selectedFiles = Array.from(input.files);
      this.updateFilePreview();
      this.updateImportButton();
    }
  }
  handleDragOver(event, dropZone) {
    event.preventDefault();
    dropZone.style.borderColor = "var(--interactive-accent)";
    dropZone.style.backgroundColor = "var(--background-modifier-hover)";
  }
  handleDragEnter(event, dropZone) {
    event.preventDefault();
    this.dragCounter++;
  }
  handleDragLeave(event, dropZone) {
    event.preventDefault();
    this.dragCounter--;
    if (this.dragCounter === 0) {
      dropZone.style.borderColor = "var(--background-modifier-border)";
      dropZone.style.backgroundColor = "transparent";
    }
  }
  handleDrop(event, dropZone) {
    var _a;
    event.preventDefault();
    this.dragCounter = 0;
    dropZone.style.borderColor = "var(--background-modifier-border)";
    dropZone.style.backgroundColor = "transparent";
    if ((_a = event.dataTransfer) == null ? void 0 : _a.files) {
      const files = Array.from(event.dataTransfer.files).filter(
        (file) => file.name.toLowerCase().endsWith(".zip")
      );
      if (files.length > 0) {
        this.selectedFiles = files;
        this.updateFilePreview();
        this.updateImportButton();
      }
    }
  }
  updateFilePreview() {
    const previewSection = this.contentEl.querySelector("#file-preview-section");
    const fileList = this.contentEl.querySelector("#file-list");
    if (this.selectedFiles.length > 0) {
      previewSection.style.display = "block";
      fileList.empty();
      this.selectedFiles.forEach((file, index) => {
        const fileItem = fileList.createDiv("file-item");
        fileItem.style.display = "flex";
        fileItem.style.justifyContent = "space-between";
        fileItem.style.alignItems = "center";
        fileItem.style.padding = "8px 12px";
        fileItem.style.border = "1px solid var(--background-modifier-border)";
        fileItem.style.borderRadius = "4px";
        fileItem.style.marginBottom = "8px";
        const fileInfo = fileItem.createDiv();
        fileInfo.style.display = "flex";
        fileInfo.style.flexDirection = "column";
        const fileName = fileInfo.createEl("span");
        fileName.textContent = file.name;
        fileName.style.fontWeight = "500";
        const fileSize = fileInfo.createEl("span");
        fileSize.textContent = this.formatFileSize(file.size);
        fileSize.style.fontSize = "0.9em";
        fileSize.style.color = "var(--text-muted)";
        const removeButton = fileItem.createEl("button", { text: "Remove" });
        removeButton.style.padding = "4px 8px";
        removeButton.style.fontSize = "0.9em";
        removeButton.addEventListener("click", () => this.removeFile(index));
      });
    } else {
      previewSection.style.display = "none";
    }
  }
  removeFile(index) {
    this.selectedFiles.splice(index, 1);
    this.updateFilePreview();
    this.updateImportButton();
  }
  updateImportButton() {
    const importButton = this.contentEl.querySelector("#import-button");
    importButton.disabled = this.selectedFiles.length === 0;
  }
  updateImportModeDescription() {
  }
  async handleImport() {
    var _a, _b;
    if (this.selectedFiles.length > 0) {
      if ((_b = (_a = this.plugin) == null ? void 0 : _a.settings) == null ? void 0 : _b.rememberLastImportMode) {
        this.plugin.settings.defaultImportMode = this.importMode;
        await this.plugin.saveSettings();
      }
      const result = {
        files: this.selectedFiles,
        mode: this.importMode,
        provider: this.provider
      };
      this.close();
      this.onFileSelectionComplete(result);
    }
  }
  setInitialImportMode() {
    var _a;
    if (!((_a = this.plugin) == null ? void 0 : _a.settings)) {
      this.importMode = "all";
      return;
    }
    if (this.plugin.settings.rememberLastImportMode && this.lastImportMode) {
      this.importMode = this.lastImportMode;
    } else {
      this.importMode = this.plugin.settings.defaultImportMode || "all";
    }
  }
  formatFileSize(bytes) {
    if (bytes === 0)
      return "0 Bytes";
    const k = 1024;
    const sizes = ["Bytes", "KB", "MB", "GB"];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + " " + sizes[i];
  }
  addCustomStyles() {
    const style = document.createElement("style");
    style.textContent = `
            .nexus-file-selection-dialog .modal-content {
                max-width: 600px;
            }
            .nexus-file-selection-dialog .drop-zone:hover {
                border-color: var(--interactive-accent);
                background-color: var(--background-modifier-hover);
            }
        `;
    document.head.appendChild(style);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/dialogs/conversation-selection-dialog.ts
var import_obsidian20 = require("obsidian");
var ConversationSelectionDialog = class extends import_obsidian20.Modal {
  // Information about analysis and filtering
  constructor(app, conversations, onSelectionComplete, plugin, analysisInfo) {
    var _a, _b;
    super(app);
    this.onSelectionComplete = onSelectionComplete;
    this.plugin = plugin;
    this.analysisInfo = analysisInfo;
    const pageSize = ((_a = plugin == null ? void 0 : plugin.settings) == null ? void 0 : _a.conversationPageSize) || 20;
    this.state = {
      allConversations: conversations,
      filteredConversations: conversations,
      selectedIds: /* @__PURE__ */ new Set(),
      pagination: {
        pageSize,
        currentPage: 1,
        totalPages: Math.ceil(conversations.length / pageSize),
        totalItems: conversations.length
      },
      sort: {
        field: "updateTime",
        direction: "desc"
      },
      filter: {
        existenceStatus: "all"
        // Default to show all conversations
      },
      isLoading: false
    };
    if ((_b = plugin == null ? void 0 : plugin.settings) == null ? void 0 : _b.autoSelectAllOnOpen) {
      conversations.forEach((conv) => {
        this.state.selectedIds.add(conv.id);
      });
    }
    this.applyFiltersAndSort();
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("nexus-conversation-selection-dialog");
    const title = contentEl.createEl("h2", { text: "Select Conversations to Import" });
    title.style.marginBottom = "20px";
    this.createSummarySection(contentEl);
    this.createControlsSection(contentEl);
    this.createBulkActionsSection(contentEl);
    this.createConversationListSection(contentEl);
    this.createPaginationSection(contentEl);
    this.createActionButtons(contentEl);
    this.addCustomStyles();
    this.renderConversationList();
    this.updateSummary();
    this.updatePagination();
  }
  createSummarySection(container) {
    const section = container.createDiv("summary-section");
    section.style.marginBottom = "20px";
    section.style.padding = "15px";
    section.style.backgroundColor = "var(--background-secondary)";
    section.style.borderRadius = "8px";
    const summary = section.createDiv();
    summary.id = "conversation-summary";
  }
  createControlsSection(container) {
    const section = container.createDiv("controls-section");
    section.style.marginBottom = "20px";
    section.style.display = "flex";
    section.style.gap = "15px";
    section.style.alignItems = "center";
    section.style.flexWrap = "wrap";
    const searchContainer = section.createDiv();
    searchContainer.style.flex = "1";
    searchContainer.style.minWidth = "200px";
    const searchInput = searchContainer.createEl("input", { type: "text" });
    searchInput.placeholder = "Search conversations...";
    searchInput.style.width = "100%";
    searchInput.style.padding = "8px 12px";
    searchInput.style.border = "1px solid var(--background-modifier-border)";
    searchInput.style.borderRadius = "4px";
    searchInput.addEventListener("input", (e) => {
      const target = e.target;
      this.state.filter.searchTerm = target.value;
      this.applyFiltersAndSort();
      this.renderConversationList();
      this.updateSummary();
      this.updatePagination();
    });
    const sortContainer = section.createDiv();
    const sortSelect = sortContainer.createEl("select");
    sortSelect.style.padding = "8px 12px";
    sortSelect.style.border = "1px solid var(--background-modifier-border)";
    sortSelect.style.borderRadius = "4px";
    sortSelect.style.fontSize = "14px";
    sortSelect.style.lineHeight = "1.4";
    sortSelect.style.minHeight = "36px";
    sortSelect.style.backgroundColor = "var(--background-primary)";
    sortSelect.style.color = "var(--text-normal)";
    const sortOptions = [
      { value: "updateTime-desc", text: "Last Updated (Newest)" },
      { value: "updateTime-asc", text: "Last Updated (Oldest)" },
      { value: "createTime-desc", text: "Created (Newest)" },
      { value: "createTime-asc", text: "Created (Oldest)" },
      { value: "title-asc", text: "Title (A-Z)" },
      { value: "title-desc", text: "Title (Z-A)" },
      { value: "messageCount-desc", text: "Message Count (High)" },
      { value: "messageCount-asc", text: "Message Count (Low)" }
    ];
    sortOptions.forEach((option) => {
      const optionEl = sortSelect.createEl("option");
      optionEl.value = option.value;
      optionEl.textContent = option.text;
    });
    sortSelect.value = `${this.state.sort.field}-${this.state.sort.direction}`;
    sortSelect.addEventListener("change", (e) => {
      const target = e.target;
      const [field, direction] = target.value.split("-");
      this.state.sort = {
        field,
        direction
      };
      this.applyFiltersAndSort();
      this.renderConversationList();
    });
    const statusContainer = section.createDiv();
    statusContainer.style.marginTop = "10px";
    const statusLabel = statusContainer.createEl("label");
    statusLabel.textContent = "Filter by status: ";
    statusLabel.style.marginRight = "8px";
    statusLabel.style.fontSize = "14px";
    const statusSelect = statusContainer.createEl("select");
    statusSelect.style.padding = "8px 12px";
    statusSelect.style.border = "1px solid var(--background-modifier-border)";
    statusSelect.style.borderRadius = "4px";
    statusSelect.style.fontSize = "14px";
    statusSelect.style.backgroundColor = "var(--background-primary)";
    statusSelect.style.color = "var(--text-normal)";
    const statusOptions = [
      { value: "all", text: "All Conversations" },
      { value: "new", text: "New (Not in vault)" },
      { value: "updated", text: "Updated (Newer than vault)" },
      { value: "unchanged", text: "Unchanged (Same as vault)" }
    ];
    statusOptions.forEach((option) => {
      const optionEl = statusSelect.createEl("option");
      optionEl.value = option.value;
      optionEl.textContent = option.text;
    });
    statusSelect.value = this.state.filter.existenceStatus || "all";
    statusSelect.addEventListener("change", (e) => {
      const target = e.target;
      this.state.filter.existenceStatus = target.value;
      this.applyFiltersAndSort();
      this.renderConversationList();
      this.updateSummary();
      this.updatePagination();
    });
  }
  createBulkActionsSection(container) {
    const section = container.createDiv("bulk-actions-section");
    section.style.marginBottom = "15px";
    section.style.display = "flex";
    section.style.gap = "10px";
    section.style.alignItems = "center";
    const selectAllBtn = section.createEl("button", { text: "Select All" });
    selectAllBtn.style.padding = "6px 12px";
    selectAllBtn.addEventListener("click", () => {
      this.state.filteredConversations.forEach((conv) => {
        this.state.selectedIds.add(conv.id);
      });
      this.renderConversationList();
      this.updateSummary();
    });
    const selectNoneBtn = section.createEl("button", { text: "Select None" });
    selectNoneBtn.style.padding = "6px 12px";
    selectNoneBtn.addEventListener("click", () => {
      this.state.selectedIds.clear();
      this.renderConversationList();
      this.updateSummary();
    });
    const quickFiltersContainer = section.createDiv();
    quickFiltersContainer.style.marginLeft = "20px";
    quickFiltersContainer.style.display = "flex";
    quickFiltersContainer.style.gap = "8px";
    const quickFilters = [
      { text: "New Only", status: "new" },
      { text: "Updated Only", status: "updated" },
      { text: "All", status: "all" }
    ];
    quickFilters.forEach((filter) => {
      const btn = quickFiltersContainer.createEl("button", { text: filter.text });
      btn.style.padding = "4px 8px";
      btn.style.fontSize = "0.9em";
      btn.style.border = "1px solid var(--background-modifier-border)";
      btn.style.borderRadius = "4px";
      btn.style.backgroundColor = "var(--background-primary)";
      btn.addEventListener("click", () => {
        this.state.filter.existenceStatus = filter.status;
        this.applyFiltersAndSort();
        this.renderConversationList();
        this.updateSummary();
        this.updatePagination();
        const statusSelect = this.contentEl.querySelector("select[value]");
        if (statusSelect) {
          statusSelect.value = filter.status;
        }
      });
    });
    const pageSizeContainer = section.createDiv();
    pageSizeContainer.style.marginLeft = "auto";
    pageSizeContainer.style.display = "flex";
    pageSizeContainer.style.alignItems = "center";
    pageSizeContainer.style.gap = "8px";
    const pageSizeLabel = pageSizeContainer.createEl("span");
    pageSizeLabel.textContent = "Show:";
    pageSizeLabel.style.fontSize = "0.9em";
    const pageSizeSelect = pageSizeContainer.createEl("select");
    pageSizeSelect.style.padding = "4px 8px";
    [10, 20, 50, 100].forEach((size) => {
      const option = pageSizeSelect.createEl("option");
      option.value = size.toString();
      option.textContent = size.toString();
      if (size === this.state.pagination.pageSize) {
        option.selected = true;
      }
    });
    pageSizeSelect.addEventListener("change", (e) => {
      const target = e.target;
      this.state.pagination.pageSize = parseInt(target.value);
      this.state.pagination.currentPage = 1;
      this.updatePagination();
      this.renderConversationList();
    });
  }
  createConversationListSection(container) {
    const section = container.createDiv("conversation-list-section");
    section.style.marginBottom = "20px";
    const tableContainer = section.createDiv("table-container");
    tableContainer.style.border = "1px solid var(--background-modifier-border)";
    tableContainer.style.borderRadius = "8px";
    tableContainer.style.overflow = "hidden";
    const table = tableContainer.createEl("table");
    table.id = "conversation-table";
    table.style.width = "100%";
    table.style.borderCollapse = "collapse";
    const thead = table.createEl("thead");
    const headerRow = thead.createEl("tr");
    headerRow.style.backgroundColor = "var(--background-secondary)";
    const headers = [
      { text: "", width: "40px" },
      // Checkbox
      { text: "Title", width: "auto" },
      { text: "Created", width: "120px" },
      { text: "Updated", width: "120px" },
      { text: "Messages", width: "80px" }
    ];
    headers.forEach((header) => {
      const th = headerRow.createEl("th");
      th.textContent = header.text;
      th.style.padding = "12px 8px";
      th.style.textAlign = "left";
      th.style.borderBottom = "1px solid var(--background-modifier-border)";
      if (header.width !== "auto") {
        th.style.width = header.width;
      }
    });
    const tbody = table.createEl("tbody");
    tbody.id = "conversation-table-body";
  }
  createPaginationSection(container) {
    const section = container.createDiv("pagination-section");
    section.id = "pagination-section";
    section.style.marginBottom = "20px";
    section.style.display = "flex";
    section.style.justifyContent = "space-between";
    section.style.alignItems = "center";
    const pageInfo = section.createDiv();
    pageInfo.id = "page-info";
    pageInfo.style.fontSize = "0.9em";
    pageInfo.style.color = "var(--text-muted)";
    const pageControls = section.createDiv();
    pageControls.id = "page-controls";
    pageControls.style.display = "flex";
    pageControls.style.gap = "8px";
  }
  createActionButtons(container) {
    const buttonContainer = container.createDiv("action-buttons");
    buttonContainer.style.display = "flex";
    buttonContainer.style.justifyContent = "flex-end";
    buttonContainer.style.gap = "10px";
    buttonContainer.style.marginTop = "20px";
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.style.padding = "8px 16px";
    cancelButton.addEventListener("click", () => this.close());
    const importButton = buttonContainer.createEl("button", { text: "Import Selected" });
    importButton.id = "import-selected-button";
    importButton.style.padding = "8px 16px";
    importButton.classList.add("mod-cta");
    importButton.addEventListener("click", () => this.handleImportSelected());
  }
  applyFiltersAndSort() {
    let filtered = [...this.state.allConversations];
    if (this.state.filter.searchTerm) {
      const searchTerm = this.state.filter.searchTerm.toLowerCase();
      filtered = filtered.filter(
        (conv) => conv.title.toLowerCase().includes(searchTerm)
      );
    }
    if (this.state.filter.existenceStatus && this.state.filter.existenceStatus !== "all") {
      filtered = filtered.filter(
        (conv) => conv.existenceStatus === this.state.filter.existenceStatus
      );
    }
    filtered.sort((a, b) => {
      const { field, direction } = this.state.sort;
      let aVal = a[field];
      let bVal = b[field];
      if (field === "title") {
        aVal = aVal.toLowerCase();
        bVal = bVal.toLowerCase();
      }
      if (aVal < bVal)
        return direction === "asc" ? -1 : 1;
      if (aVal > bVal)
        return direction === "asc" ? 1 : -1;
      return 0;
    });
    this.state.filteredConversations = filtered;
    this.updatePagination();
  }
  updatePagination() {
    const totalItems = this.state.filteredConversations.length;
    const totalPages = Math.ceil(totalItems / this.state.pagination.pageSize);
    this.state.pagination = {
      ...this.state.pagination,
      totalItems,
      totalPages,
      currentPage: Math.min(this.state.pagination.currentPage, totalPages || 1)
    };
  }
  renderConversationList() {
    const tbody = this.contentEl.querySelector("#conversation-table-body");
    if (!tbody)
      return;
    tbody.empty();
    const { currentPage, pageSize } = this.state.pagination;
    const startIndex = (currentPage - 1) * pageSize;
    const endIndex = startIndex + pageSize;
    const pageConversations = this.state.filteredConversations.slice(startIndex, endIndex);
    pageConversations.forEach((conversation) => {
      const row = tbody.createEl("tr");
      row.style.borderBottom = "1px solid var(--background-modifier-border)";
      const checkboxCell = row.createEl("td");
      checkboxCell.style.padding = "8px";
      checkboxCell.style.textAlign = "center";
      const checkbox = checkboxCell.createEl("input", { type: "checkbox" });
      checkbox.checked = this.state.selectedIds.has(conversation.id);
      checkbox.addEventListener("change", () => {
        if (checkbox.checked) {
          this.state.selectedIds.add(conversation.id);
        } else {
          this.state.selectedIds.delete(conversation.id);
        }
        this.updateSummary();
      });
      const titleCell = row.createEl("td");
      titleCell.style.padding = "8px";
      titleCell.style.fontWeight = "500";
      const statusIndicator = this.createStatusIndicator(conversation);
      if (statusIndicator) {
        titleCell.appendChild(statusIndicator);
        titleCell.appendChild(document.createTextNode(" "));
      }
      titleCell.appendChild(document.createTextNode(conversation.title));
      if (conversation.sourceFile) {
        const sourceInfo = titleCell.createEl("div");
        sourceInfo.style.fontSize = "0.8em";
        sourceInfo.style.color = "var(--text-muted)";
        sourceInfo.style.marginTop = "2px";
        sourceInfo.textContent = `From: ${conversation.sourceFile}`;
      }
      const createdCell = row.createEl("td");
      createdCell.style.padding = "8px";
      createdCell.style.fontSize = "0.9em";
      createdCell.textContent = this.formatDate(conversation.createTime);
      const updatedCell = row.createEl("td");
      updatedCell.style.padding = "8px";
      updatedCell.style.fontSize = "0.9em";
      updatedCell.textContent = this.formatDate(conversation.updateTime);
      const messagesCell = row.createEl("td");
      messagesCell.style.padding = "8px";
      messagesCell.style.textAlign = "center";
      messagesCell.textContent = conversation.messageCount.toString();
    });
    this.renderPaginationControls();
  }
  createStatusIndicator(conversation) {
    if (!conversation.existenceStatus || conversation.existenceStatus === "unknown") {
      return null;
    }
    const indicator = document.createElement("span");
    indicator.style.fontSize = "0.8em";
    indicator.style.padding = "2px 6px";
    indicator.style.borderRadius = "3px";
    indicator.style.fontWeight = "bold";
    indicator.style.marginRight = "4px";
    switch (conversation.existenceStatus) {
      case "new":
        indicator.textContent = "NEW";
        indicator.style.backgroundColor = "var(--color-green)";
        indicator.style.color = "white";
        indicator.title = "This conversation is not in your vault";
        break;
      case "updated":
        indicator.textContent = "UPDATED";
        indicator.style.backgroundColor = "var(--color-orange)";
        indicator.style.color = "white";
        indicator.title = `This conversation has newer content than your vault (${this.formatDate(conversation.existingUpdateTime || 0)} \u2192 ${this.formatDate(conversation.updateTime)})`;
        break;
      case "unchanged":
        indicator.textContent = "SAME";
        indicator.style.backgroundColor = "var(--background-modifier-border)";
        indicator.style.color = "var(--text-muted)";
        indicator.title = "This conversation is the same as in your vault";
        break;
    }
    return indicator;
  }
  renderPaginationControls() {
    const pageInfo = this.contentEl.querySelector("#page-info");
    const pageControls = this.contentEl.querySelector("#page-controls");
    if (!pageInfo || !pageControls)
      return;
    const { currentPage, totalPages, totalItems, pageSize } = this.state.pagination;
    const startItem = (currentPage - 1) * pageSize + 1;
    const endItem = Math.min(currentPage * pageSize, totalItems);
    pageInfo.textContent = `Showing ${startItem}-${endItem} of ${totalItems} conversations`;
    pageControls.empty();
    const prevBtn = pageControls.createEl("button", { text: "Previous" });
    prevBtn.disabled = currentPage <= 1;
    prevBtn.style.padding = "6px 12px";
    prevBtn.addEventListener("click", () => {
      if (currentPage > 1) {
        this.state.pagination.currentPage--;
        this.renderConversationList();
      }
    });
    const pageSpan = pageControls.createEl("span");
    pageSpan.textContent = `Page ${currentPage} of ${totalPages}`;
    pageSpan.style.padding = "6px 12px";
    const nextBtn = pageControls.createEl("button", { text: "Next" });
    nextBtn.disabled = currentPage >= totalPages;
    nextBtn.style.padding = "6px 12px";
    nextBtn.addEventListener("click", () => {
      if (currentPage < totalPages) {
        this.state.pagination.currentPage++;
        this.renderConversationList();
      }
    });
  }
  updateSummary() {
    const summary = this.contentEl.querySelector("#conversation-summary");
    if (!summary)
      return;
    const selectedCount = this.state.selectedIds.size;
    const totalCount = this.state.filteredConversations.length;
    const statusCounts = {
      new: 0,
      updated: 0,
      unchanged: 0,
      unknown: 0
    };
    this.state.filteredConversations.forEach((conv) => {
      const status = conv.existenceStatus || "unknown";
      statusCounts[status]++;
    });
    summary.innerHTML = this.buildComprehensiveSummary(selectedCount, totalCount, statusCounts);
    const importButton = this.contentEl.querySelector("#import-selected-button");
    if (importButton) {
      importButton.disabled = selectedCount === 0;
      importButton.textContent = selectedCount > 0 ? `Import ${selectedCount} Selected` : "Import Selected";
    }
  }
  buildComprehensiveSummary(selectedCount, totalCount, statusCounts) {
    const selectionInfo = `
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                <div style="font-size: 1.1em;">
                    <strong>${selectedCount}</strong> of <strong>${totalCount}</strong> conversations selected for import
                </div>
            </div>
        `;
    let analysisBreakdown = "";
    if (this.analysisInfo) {
      const info = this.analysisInfo;
      analysisBreakdown = `
                <div style="background-color: var(--background-modifier-border); padding: 12px; border-radius: 6px; margin-bottom: 8px;">
                    <div style="font-weight: 600; margin-bottom: 8px; color: var(--text-accent);">\u{1F4CA} Analysis Results</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; font-size: 0.9em;">
                        <div style="text-align: center; padding: 8px; background-color: var(--background-primary); border-radius: 4px;">
                            <div style="font-weight: 600; color: var(--color-green);">${info.conversationsNew}</div>
                            <div style="color: var(--text-muted); font-size: 0.8em;">New conversations</div>
                        </div>
                        <div style="text-align: center; padding: 8px; background-color: var(--background-primary); border-radius: 4px;">
                            <div style="font-weight: 600; color: var(--color-orange);">${info.conversationsUpdated}</div>
                            <div style="color: var(--text-muted); font-size: 0.8em;">Updated conversations</div>
                        </div>
                        <div style="text-align: center; padding: 8px; background-color: var(--background-primary); border-radius: 4px;">
                            <div style="font-weight: 600; color: var(--text-muted);">${info.conversationsIgnored}</div>
                            <div style="color: var(--text-muted); font-size: 0.8em;">Ignored (unchanged)</div>
                        </div>
                    </div>
                </div>
            `;
    }
    let deduplicationInfo = "";
    if (this.analysisInfo && this.analysisInfo.duplicatesRemoved > 0) {
      deduplicationInfo = `
                <div style="font-size: 0.85em; color: var(--text-muted); padding: 8px; background-color: var(--background-secondary); border-radius: 4px;">
                    \u{1F4CB} Found <strong>${this.analysisInfo.totalConversationsFound}</strong> conversations across files,
                    removed <strong>${this.analysisInfo.duplicatesRemoved}</strong> duplicates.
                    Showing only latest versions and conversations that need importing.
                </div>
            `;
    }
    return selectionInfo + analysisBreakdown + deduplicationInfo;
  }
  handleImportSelected() {
    const selectedIds = Array.from(this.state.selectedIds);
    if (selectedIds.length === 0) {
      return;
    }
    const result = {
      selectedIds,
      totalAvailable: this.state.allConversations.length,
      mode: "selective"
    };
    this.close();
    this.onSelectionComplete(result);
  }
  formatDate(timestamp) {
    if (!timestamp)
      return "Unknown";
    const date = new Date(timestamp * 1e3);
    return date.toLocaleDateString();
  }
  addCustomStyles() {
    const style = document.createElement("style");
    style.textContent = `
            .nexus-conversation-selection-dialog .modal-content {
                max-width: 900px;
                max-height: 80vh;
                overflow-y: auto;
            }
            .nexus-conversation-selection-dialog table {
                font-size: 0.9em;
            }
            .nexus-conversation-selection-dialog tr:hover {
                background-color: var(--background-modifier-hover);
            }
            .nexus-conversation-selection-dialog select {
                font-size: 14px;
                line-height: 1.4;
                height: auto;
                min-height: 36px;
                background-color: var(--background-primary);
                color: var(--text-normal);
                font-family: var(--font-interface);
            }
            .nexus-conversation-selection-dialog select option {
                padding: 4px 8px;
                line-height: 1.4;
            }
        `;
    document.head.appendChild(style);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/services/conversation-metadata-extractor.ts
init_utils();
var ConversationMetadataExtractor = class {
  constructor(providerRegistry) {
    this.providerRegistry = providerRegistry;
  }
  /**
   * Extract conversation metadata from ZIP file
   */
  async extractMetadataFromZip(zip, forcedProvider, sourceFileName, sourceFileIndex, existingConversations) {
    try {
      const rawConversations = await this.extractRawConversationsFromZip(zip);
      if (rawConversations.length === 0) {
        return [];
      }
      const provider = forcedProvider || this.providerRegistry.detectProvider(rawConversations);
      if (provider === "unknown") {
        throw new Error("Could not detect conversation provider from data structure");
      }
      const metadata = this.extractMetadataByProvider(rawConversations, provider);
      return metadata.map((conv) => {
        const enhanced = {
          ...conv,
          sourceFile: sourceFileName,
          sourceFileIndex
        };
        if (existingConversations) {
          const existing = existingConversations.get(conv.id);
          if (existing) {
            enhanced.existingUpdateTime = existing.updateTime;
            if (conv.updateTime > existing.updateTime) {
              enhanced.existenceStatus = "updated";
              enhanced.hasNewerContent = true;
            } else {
              enhanced.existenceStatus = "unchanged";
              enhanced.hasNewerContent = false;
            }
          } else {
            enhanced.existenceStatus = "new";
            enhanced.hasNewerContent = true;
          }
        } else {
          enhanced.existenceStatus = "unknown";
        }
        return enhanced;
      });
    } catch (error) {
      throw new Error(`Failed to extract conversation metadata: ${error instanceof Error ? error.message : String(error)}`);
    }
  }
  /**
   * Extract raw conversation data from ZIP (provider-agnostic)
   */
  async extractRawConversationsFromZip(zip) {
    const conversationsFile = zip.file("conversations.json");
    if (!conversationsFile) {
      throw new Error("Missing conversations.json file in ZIP archive");
    }
    const conversationsJson = await conversationsFile.async("string");
    const parsedData = JSON.parse(conversationsJson);
    if (Array.isArray(parsedData)) {
      return parsedData;
    } else if (parsedData.conversations && Array.isArray(parsedData.conversations)) {
      return parsedData.conversations;
    } else {
      throw new Error("Invalid conversations.json structure");
    }
  }
  /**
   * Extract metadata based on detected provider
   */
  extractMetadataByProvider(rawConversations, provider) {
    switch (provider) {
      case "chatgpt":
        return this.extractChatGPTMetadata(rawConversations);
      case "claude":
        return this.extractClaudeMetadata(rawConversations);
      default:
        throw new Error(`Unsupported provider: ${provider}`);
    }
  }
  /**
   * Extract metadata from ChatGPT conversations
   */
  extractChatGPTMetadata(conversations) {
    return conversations.map((chat) => ({
      id: chat.id || "",
      title: chat.title || "Untitled",
      createTime: chat.create_time || 0,
      updateTime: chat.update_time || 0,
      messageCount: this.countChatGPTMessages(chat),
      provider: "chatgpt",
      isStarred: chat.is_starred || false,
      isArchived: chat.is_archived || false
    }));
  }
  /**
   * Extract metadata from Claude conversations
   */
  extractClaudeMetadata(conversations) {
    return conversations.map((chat) => ({
      id: chat.uuid || "",
      title: chat.name || "Untitled",
      createTime: chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0,
      updateTime: chat.updated_at ? Math.floor(new Date(chat.updated_at).getTime() / 1e3) : 0,
      messageCount: this.countClaudeMessages(chat),
      provider: "claude",
      isStarred: chat.is_starred || false,
      isArchived: false
      // Claude doesn't have archived status
    }));
  }
  /**
   * Count messages in ChatGPT conversation (lightweight version)
   */
  countChatGPTMessages(chat) {
    if (!chat.mapping) {
      return 0;
    }
    let count = 0;
    for (const messageObj of Object.values(chat.mapping)) {
      const message = messageObj == null ? void 0 : messageObj.message;
      if (!message)
        continue;
      if (this.shouldIncludeChatGPTMessage(message)) {
        count++;
      }
    }
    return count;
  }
  /**
   * Count messages in Claude conversation (lightweight version)
   */
  countClaudeMessages(chat) {
    if (!chat.chat_messages || !Array.isArray(chat.chat_messages)) {
      return 0;
    }
    let count = 0;
    for (const message of chat.chat_messages) {
      if (this.shouldIncludeClaudeMessage(message)) {
        count++;
      }
    }
    return count;
  }
  /**
   * Lightweight version of ChatGPT message filtering
   */
  shouldIncludeChatGPTMessage(message) {
    var _a;
    if (!message || !message.author) {
      return false;
    }
    if (message.author.role === "system" || message.author.role === "tool") {
      return false;
    }
    if (((_a = message.metadata) == null ? void 0 : _a.is_visually_hidden_from_conversation) === true) {
      return false;
    }
    return isValidMessage(message);
  }
  /**
   * Lightweight version of Claude message filtering
   */
  shouldIncludeClaudeMessage(message) {
    if (!message || !message.uuid || !message.sender) {
      return false;
    }
    return message.sender === "human" || message.sender === "assistant";
  }
  /**
   * Extract metadata from multiple ZIP files (for multi-file selective import)
   * Follows the same logic as the working import process:
   * 1. Process files chronologically
   * 2. Build map of best versions per conversation ID
   * 3. Compare with vault and filter out unchanged conversations
   * 4. Only return NEW and UPDATED conversations for selection
   */
  async extractMetadataFromMultipleZips(files, forcedProvider, existingConversations) {
    const conversationMap = /* @__PURE__ */ new Map();
    const allConversationsFound = [];
    for (let i = 0; i < files.length; i++) {
      const file = files[i];
      try {
        const JSZip2 = (await Promise.resolve().then(() => __toESM(require_jszip_min()))).default;
        const zip = new JSZip2();
        const zipContent = await zip.loadAsync(file);
        const metadata = await this.extractMetadataFromZip(
          zipContent,
          forcedProvider,
          file.name,
          i,
          void 0
          // Don't compare with vault yet
        );
        allConversationsFound.push(...metadata);
        for (const conversation of metadata) {
          const existing = conversationMap.get(conversation.id);
          if (!existing) {
            conversationMap.set(conversation.id, conversation);
          } else {
            if (conversation.updateTime > existing.updateTime) {
              conversationMap.set(conversation.id, conversation);
            } else if (conversation.updateTime === existing.updateTime) {
              const currentFileIndex = conversation.sourceFileIndex || 0;
              const existingFileIndex = existing.sourceFileIndex || 0;
              if (currentFileIndex > existingFileIndex) {
                conversationMap.set(conversation.id, conversation);
              }
            }
          }
        }
      } catch (error) {
        console.error(`Error extracting metadata from ${file.name}:`, error);
      }
    }
    const filterResult = this.filterConversationsForSelection(
      Array.from(conversationMap.values()),
      existingConversations
    );
    const analysisInfo = {
      totalConversationsFound: allConversationsFound.length,
      uniqueConversationsKept: conversationMap.size,
      duplicatesRemoved: allConversationsFound.length - conversationMap.size,
      hasMultipleFiles: files.length > 1,
      conversationsNew: filterResult.newCount,
      conversationsUpdated: filterResult.updatedCount,
      conversationsIgnored: filterResult.ignoredCount
    };
    console.log(`Analysis: Found ${analysisInfo.totalConversationsFound} conversations across ${files.length} files. After deduplication: ${analysisInfo.uniqueConversationsKept} unique conversations. For selection: ${filterResult.conversations.length} conversations (${analysisInfo.conversationsNew} new, ${analysisInfo.conversationsUpdated} updated). Ignored: ${analysisInfo.conversationsIgnored} unchanged.`);
    return {
      conversations: filterResult.conversations,
      analysisInfo
    };
  }
  /**
   * @deprecated - Old deduplication methods, replaced by new chronological approach
   * Kept for compatibility but no longer used in the main flow
   */
  deduplicateConversations(conversations) {
    return conversations;
  }
  /**
   * Filter conversations for selection dialog (same logic as working import process)
   * Only returns NEW and UPDATED conversations - filters out UNCHANGED completely
   */
  filterConversationsForSelection(bestVersions, existingConversations) {
    const conversationsForSelection = [];
    let newCount = 0;
    let updatedCount = 0;
    let ignoredCount = 0;
    for (const conversation of bestVersions) {
      if (!existingConversations) {
        conversation.existenceStatus = "new";
        conversation.hasNewerContent = true;
        conversationsForSelection.push(conversation);
        newCount++;
        continue;
      }
      const vaultConversation = existingConversations.get(conversation.id);
      if (!vaultConversation) {
        console.log(`\u{1F50D} TIMESTAMP COMPARISON - NEW:`, {
          conversationId: conversation.id,
          title: conversation.title.substring(0, 50) + "...",
          zipUpdateTime: conversation.updateTime,
          vaultUpdateTime: "N/A (not in vault)",
          zipDate: new Date(conversation.updateTime * 1e3).toISOString(),
          provider: conversation.provider,
          messageCount: conversation.messageCount
        });
        conversation.existenceStatus = "new";
        conversation.hasNewerContent = true;
        conversationsForSelection.push(conversation);
        newCount++;
      } else {
        conversation.existingUpdateTime = vaultConversation.updateTime;
        if (conversation.updateTime > vaultConversation.updateTime) {
          console.log(`\u{1F50D} TIMESTAMP COMPARISON - UPDATED:`, {
            conversationId: conversation.id,
            title: conversation.title.substring(0, 50) + "...",
            zipUpdateTime: conversation.updateTime,
            vaultUpdateTime: vaultConversation.updateTime,
            difference: conversation.updateTime - vaultConversation.updateTime,
            zipDate: new Date(conversation.updateTime * 1e3).toISOString(),
            vaultDate: new Date(vaultConversation.updateTime * 1e3).toISOString(),
            provider: conversation.provider,
            messageCount: conversation.messageCount,
            vaultPath: vaultConversation.path
          });
          conversation.existenceStatus = "updated";
          conversation.hasNewerContent = true;
          conversationsForSelection.push(conversation);
          updatedCount++;
        } else {
          console.log(`\u{1F50D} TIMESTAMP COMPARISON - IGNORED:`, {
            conversationId: conversation.id,
            title: conversation.title.substring(0, 50) + "...",
            zipUpdateTime: conversation.updateTime,
            vaultUpdateTime: vaultConversation.updateTime,
            difference: conversation.updateTime - vaultConversation.updateTime,
            zipDate: new Date(conversation.updateTime * 1e3).toISOString(),
            vaultDate: new Date(vaultConversation.updateTime * 1e3).toISOString(),
            provider: conversation.provider,
            messageCount: conversation.messageCount,
            vaultPath: vaultConversation.path
          });
          ignoredCount++;
        }
      }
    }
    return {
      conversations: conversationsForSelection,
      newCount,
      updatedCount,
      ignoredCount
    };
  }
  /**
   * @deprecated - Old deduplication logic, replaced by new chronological approach
   */
  ensureCorrectExistenceStatus(keptConversation, currentConversation, existingConversation) {
    return keptConversation;
  }
  /**
   * Get total conversation count from ZIP without extracting all metadata
   */
  async getConversationCount(zip) {
    try {
      const rawConversations = await this.extractRawConversationsFromZip(zip);
      return rawConversations.length;
    } catch (error) {
      return 0;
    }
  }
};

// src/main.ts
var NexusAiChatImporterPlugin = class extends import_obsidian21.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.logger = new Logger();
    this.storageService = new StorageService(this);
    this.importService = new ImportService(this);
    this.fileService = new FileService(this);
    this.commandRegistry = new CommandRegistry(this);
    this.eventHandlers = new EventHandlers(this);
    this.upgradeManager = new IncrementalUpgradeManager(this);
  }
  async onload() {
    try {
      await this.loadSettings();
      this.addSettingTab(new NexusAiChatImporterPluginSettingTab(this.app, this));
      this.commandRegistry.registerCommands();
      this.eventHandlers.registerEvents();
      const ribbonIconEl = this.addRibbonIcon(
        "message-square-plus",
        "Nexus AI Chat Importer - Import new file",
        () => this.showProviderSelectionDialog()
      );
      ribbonIconEl.addClass("nexus-ai-chat-ribbon");
      await this.upgradeManager.checkAndPerformUpgrade();
    } catch (error) {
      this.logger.error("Plugin loading failed:", error);
      throw error;
    }
  }
  async onunload() {
    try {
      this.eventHandlers.cleanup();
      await this.saveSettings();
    } catch (error) {
      this.logger.error("Plugin unloading failed:", error);
    }
  }
  async loadSettings() {
    try {
      const data = await this.loadData();
      this.settings = Object.assign({}, DEFAULT_SETTINGS, (data == null ? void 0 : data.settings) || {});
      this.settings.reportFolder = `${this.settings.archiveFolder}/Reports`;
      const currentVersion = this.manifest.version;
      const storedCurrentVersion = this.settings.currentVersion;
      if (!storedCurrentVersion || storedCurrentVersion === "0.0.0") {
        const hasExistingConversations = await this.hasExistingNexusConversations();
        if (hasExistingConversations) {
          this.settings.previousVersion = "1.0.x";
          this.settings.currentVersion = currentVersion;
        } else {
          this.settings.previousVersion = currentVersion;
          this.settings.currentVersion = currentVersion;
        }
        await this.saveSettings();
      } else if (storedCurrentVersion !== currentVersion) {
        this.settings.previousVersion = storedCurrentVersion;
        this.settings.currentVersion = currentVersion;
        await this.saveSettings();
      }
      await this.storageService.loadData();
    } catch (error) {
      this.logger.error("loadSettings failed:", error);
      throw error;
    }
  }
  /**
   * Check if vault contains existing Nexus conversations
   */
  async hasExistingNexusConversations() {
    try {
      const files = this.app.vault.getMarkdownFiles();
      return files.some((file) => {
        var _a;
        const frontmatter = (_a = this.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
        return (frontmatter == null ? void 0 : frontmatter.nexus) === this.manifest.id;
      });
    } catch (error) {
      this.logger.warn("Error checking for existing conversations:", error);
      return false;
    }
  }
  async saveSettings() {
    try {
      const existingData = await this.loadData() || {};
      let finalImportedArchives = this.storageService.getImportedArchives();
      if (existingData.importedArchives && Object.keys(existingData.importedArchives).length > 0) {
        const existingArchives = existingData.importedArchives;
        const storageArchives = this.storageService.getImportedArchives();
        finalImportedArchives = {
          ...existingArchives,
          ...storageArchives
        };
      }
      const mergedData = {
        ...existingData,
        settings: this.settings,
        importedArchives: finalImportedArchives,
        upgradeHistory: existingData.upgradeHistory || {
          completedUpgrades: {},
          completedOperations: {}
        }
      };
      await this.storageService.saveData(mergedData);
    } catch (error) {
      this.logger.error("saveSettings failed:", error);
    }
  }
  async resetCatalogs() {
    try {
      await this.storageService.resetCatalogs();
      await this.loadSettings();
    } catch (error) {
      this.logger.error("resetCatalogs failed:", error);
    }
  }
  getStorageService() {
    return this.storageService;
  }
  getImportService() {
    return this.importService;
  }
  getFileService() {
    return this.fileService;
  }
  getUpgradeManager() {
    return this.upgradeManager;
  }
  /**
   * Show provider selection dialog and then file selection
   */
  showProviderSelectionDialog() {
    const providerRegistry = createProviderRegistry(this);
    new ProviderSelectionDialog(
      this.app,
      providerRegistry,
      (selectedProvider) => {
        this.showEnhancedFileSelectionDialog(selectedProvider);
      }
    ).open();
  }
  /**
   * Show enhanced file selection dialog with import mode choice
   */
  showEnhancedFileSelectionDialog(provider) {
    new EnhancedFileSelectionDialog(
      this.app,
      provider,
      (result) => {
        this.handleFileSelectionResult(result);
      },
      this
    ).open();
  }
  /**
   * Handle the result from enhanced file selection dialog
   */
  async handleFileSelectionResult(result) {
    const { files, mode, provider } = result;
    if (files.length === 0) {
      return;
    }
    const sortedFiles = this.sortFilesByTimestamp(files);
    if (mode === "all") {
      for (const file of sortedFiles) {
        await this.importService.handleZipFile(file, provider);
      }
    } else {
      await this.handleSelectiveImport(sortedFiles, provider);
    }
  }
  /**
   * Handle selective import workflow
   */
  async handleSelectiveImport(files, provider) {
    try {
      new import_obsidian21.Notice(`Analyzing conversations from ${files.length} file(s)...`);
      const providerRegistry = createProviderRegistry(this);
      const metadataExtractor = new ConversationMetadataExtractor(providerRegistry);
      const storage = this.getStorageService();
      const existingConversations = await storage.scanExistingConversations();
      const extractionResult = await metadataExtractor.extractMetadataFromMultipleZips(
        files,
        provider,
        existingConversations
      );
      if (extractionResult.conversations.length === 0) {
        new import_obsidian21.Notice("No conversations found in the selected files.");
        return;
      }
      new ConversationSelectionDialog(
        this.app,
        extractionResult.conversations,
        (result) => {
          this.handleConversationSelectionResult(result, files, provider);
        },
        this,
        extractionResult.analysisInfo
      ).open();
    } catch (error) {
      this.logger.error("Error in selective import:", error);
      new import_obsidian21.Notice(`Error analyzing conversations: ${error instanceof Error ? error.message : String(error)}`);
    }
  }
  /**
   * Handle the result from conversation selection dialog
   */
  async handleConversationSelectionResult(result, files, provider) {
    if (result.selectedIds.length === 0) {
      new import_obsidian21.Notice("No conversations selected for import.");
      return;
    }
    new import_obsidian21.Notice(`Importing ${result.selectedIds.length} selected conversations from ${files.length} file(s)...`);
    const conversationsByFile = await this.groupConversationsByFile(result, files);
    for (const file of files) {
      const conversationsForFile = conversationsByFile.get(file.name);
      if (conversationsForFile && conversationsForFile.length > 0) {
        await this.importService.handleZipFile(file, provider, conversationsForFile);
      }
    }
    new import_obsidian21.Notice(`Import completed. Imported ${result.selectedIds.length} of ${result.totalAvailable} conversations.`);
  }
  /**
   * Group selected conversations by their source file for multi-file import
   */
  async groupConversationsByFile(result, files) {
    const conversationsByFile = /* @__PURE__ */ new Map();
    try {
      const providerRegistry = createProviderRegistry(this);
      const metadataExtractor = new ConversationMetadataExtractor(providerRegistry);
      const storage = this.getStorageService();
      const existingConversations = await storage.scanExistingConversations();
      const extractionResult = await metadataExtractor.extractMetadataFromMultipleZips(
        files,
        void 0,
        // Let it auto-detect provider
        existingConversations
      );
      const selectedIdsSet = new Set(result.selectedIds);
      for (const conversation of extractionResult.conversations) {
        if (selectedIdsSet.has(conversation.id) && conversation.sourceFile) {
          const fileConversations = conversationsByFile.get(conversation.sourceFile) || [];
          fileConversations.push(conversation.id);
          conversationsByFile.set(conversation.sourceFile, fileConversations);
        }
      }
    } catch (error) {
      this.logger.error("Error grouping conversations by file:", error);
      conversationsByFile.set(files[0].name, result.selectedIds);
    }
    return conversationsByFile;
  }
  /**
   * Sort files by timestamp (same logic as ImportService)
   */
  sortFilesByTimestamp(files) {
    return files.sort((a, b) => {
      const timestampRegex = /(\d{4}-\d{2}-\d{2}-\d{2}-\d{2}-\d{2})/;
      const getTimestamp = (filename) => {
        const match = filename.match(timestampRegex);
        if (!match) {
          this.logger.warn(`No timestamp found in filename: ${filename}`);
          return "0";
        }
        return match[1];
      };
      return getTimestamp(a.name).localeCompare(getTimestamp(b.name));
    });
  }
};
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL2pzemlwL2Rpc3QvanN6aXAubWluLmpzIiwgIi4uL3NyYy9sb2dnZXIudHMiLCAiLi4vc3JjL3V0aWxzLnRzIiwgIi4uL3NyYy9kaWFsb2dzLnRzIiwgIi4uL3NyYy91cGdyYWRlL3V0aWxzL3ZlcnNpb24tdXRpbHMudHMiLCAiLi4vc3JjL3VwZ3JhZGUvdXBncmFkZS1pbnRlcmZhY2UudHMiLCAiLi4vc3JjL3VwZ3JhZGUvdmVyc2lvbnMvdXBncmFkZS0xLjEuMC50cyIsICIuLi9zcmMvdXBncmFkZS92ZXJzaW9ucy91cGdyYWRlLTEuMi4wLnRzIiwgIi4uL3NyYy91cGdyYWRlL3ZlcnNpb25zL3VwZ3JhZGUtMS4zLjAudHMiLCAiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL2NvbmZpZy9jb25zdGFudHMudHMiLCAiLi4vc3JjL3VpL3NldHRpbmdzLXRhYi50cyIsICIuLi9zcmMvdWkvc2V0dGluZ3MvY29udmVyc2F0aW9uLXNldHRpbmdzLXNlY3Rpb24udHMiLCAiLi4vc3JjL3VpL3NldHRpbmdzL2Jhc2Utc2V0dGluZ3Mtc2VjdGlvbi50cyIsICIuLi9zcmMvdWkvc2V0dGluZ3MvY29udmVyc2F0aW9uLXNlbGVjdGlvbi1zZXR0aW5ncy1zZWN0aW9uLnRzIiwgIi4uL3NyYy91aS9zZXR0aW5ncy9hdHRhY2htZW50LXNldHRpbmdzLXNlY3Rpb24udHMiLCAiLi4vc3JjL3VpL3NldHRpbmdzL21pZ3JhdGlvbnMtc2V0dGluZ3Mtc2VjdGlvbi50cyIsICIuLi9zcmMvY29tbWFuZHMvY29tbWFuZC1yZWdpc3RyeS50cyIsICIuLi9zcmMvZXZlbnRzL2V2ZW50LWhhbmRsZXJzLnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9pbXBvcnQtc2VydmljZS50cyIsICIuLi9zcmMvbW9kZWxzL2ltcG9ydC1yZXBvcnQudHMiLCAiLi4vc3JjL3NlcnZpY2VzL2NvbnZlcnNhdGlvbi1wcm9jZXNzb3IudHMiLCAiLi4vc3JjL2Zvcm1hdHRlcnMvbWVzc2FnZS1mb3JtYXR0ZXIudHMiLCAiLi4vc3JjL2Zvcm1hdHRlcnMvbm90ZS1mb3JtYXR0ZXIudHMiLCAiLi4vc3JjL3R5cGVzL3N0YW5kYXJkLnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9maWxlLXNlcnZpY2UudHMiLCAiLi4vc3JjL21vZGVscy9lcnJvcnMudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9wcm92aWRlci1hZGFwdGVyLnRzIiwgIi4uL3NyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LWNvbnZlcnRlci50cyIsICIuLi9zcmMvcHJvdmlkZXJzL2NoYXRncHQvY2hhdGdwdC1hdHRhY2htZW50LWV4dHJhY3Rvci50cyIsICIuLi9zcmMvcHJvdmlkZXJzL2NoYXRncHQvY2hhdGdwdC1yZXBvcnQtbmFtaW5nLnRzIiwgIi4uL3NyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LWFkYXB0ZXIudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9jbGF1ZGUvY2xhdWRlLWNvbnZlcnRlci50cyIsICIuLi9zcmMvcHJvdmlkZXJzL2NsYXVkZS9jbGF1ZGUtYXR0YWNobWVudC1leHRyYWN0b3IudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9jbGF1ZGUvY2xhdWRlLXJlcG9ydC1uYW1pbmcudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9jbGF1ZGUvY2xhdWRlLWFkYXB0ZXIudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9wcm92aWRlci1yZWdpc3RyeS50cyIsICIuLi9zcmMvdWkvaW1wb3J0LXByb2dyZXNzLW1vZGFsLnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9zdG9yYWdlLXNlcnZpY2UudHMiLCAiLi4vc3JjL3VwZ3JhZGUvaW5jcmVtZW50YWwtdXBncmFkZS1tYW5hZ2VyLnRzIiwgIi4uL3NyYy91cGdyYWRlL3V0aWxzL211bHRpLW9wZXJhdGlvbi1wcm9ncmVzcy1tb2RhbC50cyIsICIuLi9zcmMvZGlhbG9ncy9wcm92aWRlci1zZWxlY3Rpb24tZGlhbG9nLnRzIiwgIi4uL3NyYy9kaWFsb2dzL2VuaGFuY2VkLWZpbGUtc2VsZWN0aW9uLWRpYWxvZy50cyIsICIuLi9zcmMvZGlhbG9ncy9jb252ZXJzYXRpb24tc2VsZWN0aW9uLWRpYWxvZy50cyIsICIuLi9zcmMvc2VydmljZXMvY29udmVyc2F0aW9uLW1ldGFkYXRhLWV4dHJhY3Rvci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyohXG5cbkpTWmlwIHYzLjEwLjEgLSBBIEphdmFTY3JpcHQgY2xhc3MgZm9yIGdlbmVyYXRpbmcgYW5kIHJlYWRpbmcgemlwIGZpbGVzXG48aHR0cDovL3N0dWFydGsuY29tL2pzemlwPlxuXG4oYykgMjAwOS0yMDE2IFN0dWFydCBLbmlnaHRsZXkgPHN0dWFydCBbYXRdIHN0dWFydGsuY29tPlxuRHVhbCBsaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2Ugb3IgR1BMdjMuIFNlZSBodHRwczovL3Jhdy5naXRodWIuY29tL1N0dWsvanN6aXAvbWFpbi9MSUNFTlNFLm1hcmtkb3duLlxuXG5KU1ppcCB1c2VzIHRoZSBsaWJyYXJ5IHBha28gcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIDpcbmh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGFrby9ibG9iL21haW4vTElDRU5TRVxuKi9cblxuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXsoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzKS5KU1ppcD1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBzKGEsbyxoKXtmdW5jdGlvbiB1KHIsZSl7aWYoIW9bcl0pe2lmKCFhW3JdKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFlJiZ0KXJldHVybiB0KHIsITApO2lmKGwpcmV0dXJuIGwociwhMCk7dmFyIG49bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIityK1wiJ1wiKTt0aHJvdyBuLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsbn12YXIgaT1vW3JdPXtleHBvcnRzOnt9fTthW3JdWzBdLmNhbGwoaS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciB0PWFbcl1bMV1bZV07cmV0dXJuIHUodHx8ZSl9LGksaS5leHBvcnRzLHMsYSxvLGgpfXJldHVybiBvW3JdLmV4cG9ydHN9Zm9yKHZhciBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsZT0wO2U8aC5sZW5ndGg7ZSsrKXUoaFtlXSk7cmV0dXJuIHV9KHsxOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGQ9ZShcIi4vdXRpbHNcIiksYz1lKFwiLi9zdXBwb3J0XCIpLHA9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiO3IuZW5jb2RlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG4saSxzLGEsbyxoPVtdLHU9MCxsPWUubGVuZ3RoLGY9bCxjPVwic3RyaW5nXCIhPT1kLmdldFR5cGVPZihlKTt1PGUubGVuZ3RoOylmPWwtdSxuPWM/KHQ9ZVt1KytdLHI9dTxsP2VbdSsrXTowLHU8bD9lW3UrK106MCk6KHQ9ZS5jaGFyQ29kZUF0KHUrKykscj11PGw/ZS5jaGFyQ29kZUF0KHUrKyk6MCx1PGw/ZS5jaGFyQ29kZUF0KHUrKyk6MCksaT10Pj4yLHM9KDMmdCk8PDR8cj4+NCxhPTE8Zj8oMTUmcik8PDJ8bj4+Njo2NCxvPTI8Zj82MyZuOjY0LGgucHVzaChwLmNoYXJBdChpKStwLmNoYXJBdChzKStwLmNoYXJBdChhKStwLmNoYXJBdChvKSk7cmV0dXJuIGguam9pbihcIlwiKX0sci5kZWNvZGU9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGkscyxhLG89MCxoPTAsdT1cImRhdGE6XCI7aWYoZS5zdWJzdHIoMCx1Lmxlbmd0aCk9PT11KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IGlucHV0LCBpdCBsb29rcyBsaWtlIGEgZGF0YSB1cmwuXCIpO3ZhciBsLGY9MyooZT1lLnJlcGxhY2UoL1teQS1aYS16MC05Ky89XS9nLFwiXCIpKS5sZW5ndGgvNDtpZihlLmNoYXJBdChlLmxlbmd0aC0xKT09PXAuY2hhckF0KDY0KSYmZi0tLGUuY2hhckF0KGUubGVuZ3RoLTIpPT09cC5jaGFyQXQoNjQpJiZmLS0sZiUxIT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFzZTY0IGlucHV0LCBiYWQgY29udGVudCBsZW5ndGguXCIpO2ZvcihsPWMudWludDhhcnJheT9uZXcgVWludDhBcnJheSgwfGYpOm5ldyBBcnJheSgwfGYpO288ZS5sZW5ndGg7KXQ9cC5pbmRleE9mKGUuY2hhckF0KG8rKykpPDwyfChpPXAuaW5kZXhPZihlLmNoYXJBdChvKyspKSk+PjQscj0oMTUmaSk8PDR8KHM9cC5pbmRleE9mKGUuY2hhckF0KG8rKykpKT4+MixuPSgzJnMpPDw2fChhPXAuaW5kZXhPZihlLmNoYXJBdChvKyspKSksbFtoKytdPXQsNjQhPT1zJiYobFtoKytdPXIpLDY0IT09YSYmKGxbaCsrXT1uKTtyZXR1cm4gbH19LHtcIi4vc3VwcG9ydFwiOjMwLFwiLi91dGlsc1wiOjMyfV0sMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuL2V4dGVybmFsXCIpLGk9ZShcIi4vc3RyZWFtL0RhdGFXb3JrZXJcIikscz1lKFwiLi9zdHJlYW0vQ3JjMzJQcm9iZVwiKSxhPWUoXCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmVcIik7ZnVuY3Rpb24gbyhlLHQscixuLGkpe3RoaXMuY29tcHJlc3NlZFNpemU9ZSx0aGlzLnVuY29tcHJlc3NlZFNpemU9dCx0aGlzLmNyYzMyPXIsdGhpcy5jb21wcmVzc2lvbj1uLHRoaXMuY29tcHJlc3NlZENvbnRlbnQ9aX1vLnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciBlPW5ldyBpKG4uUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBhKFwiZGF0YV9sZW5ndGhcIikpLHQ9dGhpcztyZXR1cm4gZS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7aWYodGhpcy5zdHJlYW1JbmZvLmRhdGFfbGVuZ3RoIT09dC51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcihcIkJ1ZyA6IHVuY29tcHJlc3NlZCBkYXRhIHNpemUgbWlzbWF0Y2hcIil9KSxlfSxnZXRDb21wcmVzc2VkV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKG4uUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS53aXRoU3RyZWFtSW5mbyhcImNvbXByZXNzZWRTaXplXCIsdGhpcy5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oXCJ1bmNvbXByZXNzZWRTaXplXCIsdGhpcy51bmNvbXByZXNzZWRTaXplKS53aXRoU3RyZWFtSW5mbyhcImNyYzMyXCIsdGhpcy5jcmMzMikud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2lvblwiLHRoaXMuY29tcHJlc3Npb24pfX0sby5jcmVhdGVXb3JrZXJGcm9tPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5waXBlKG5ldyBzKS5waXBlKG5ldyBhKFwidW5jb21wcmVzc2VkU2l6ZVwiKSkucGlwZSh0LmNvbXByZXNzV29ya2VyKHIpKS5waXBlKG5ldyBhKFwiY29tcHJlc3NlZFNpemVcIikpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIix0KX0sdC5leHBvcnRzPW99LHtcIi4vZXh0ZXJuYWxcIjo2LFwiLi9zdHJlYW0vQ3JjMzJQcm9iZVwiOjI1LFwiLi9zdHJlYW0vRGF0YUxlbmd0aFByb2JlXCI6MjYsXCIuL3N0cmVhbS9EYXRhV29ya2VyXCI6Mjd9XSwzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIik7ci5TVE9SRT17bWFnaWM6XCJcXDBcXDBcIixjb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgbihcIlNUT1JFIGNvbXByZXNzaW9uXCIpfSx1bmNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKFwiU1RPUkUgZGVjb21wcmVzc2lvblwiKX19LHIuREVGTEFURT1lKFwiLi9mbGF0ZVwiKX0se1wiLi9mbGF0ZVwiOjcsXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6Mjh9XSw0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vdXRpbHNcIik7dmFyIG89ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxyPTA7cjwyNTY7cisrKXtlPXI7Zm9yKHZhciBuPTA7bjw4O24rKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbcl09ZX1yZXR1cm4gdH0oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09ZSYmZS5sZW5ndGg/XCJzdHJpbmdcIiE9PW4uZ2V0VHlwZU9mKGUpP2Z1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPW8scz1uK3I7ZV49LTE7Zm9yKHZhciBhPW47YTxzO2ErKyllPWU+Pj44XmlbMjU1JihlXnRbYV0pXTtyZXR1cm4tMV5lfSgwfHQsZSxlLmxlbmd0aCwwKTpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1vLHM9bityO2VePS0xO2Zvcih2YXIgYT1uO2E8czthKyspZT1lPj4+OF5pWzI1NSYoZV50LmNoYXJDb2RlQXQoYSkpXTtyZXR1cm4tMV5lfSgwfHQsZSxlLmxlbmd0aCwwKTowfX0se1wiLi91dGlsc1wiOjMyfV0sNTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuYmFzZTY0PSExLHIuYmluYXJ5PSExLHIuZGlyPSExLHIuY3JlYXRlRm9sZGVycz0hMCxyLmRhdGU9bnVsbCxyLmNvbXByZXNzaW9uPW51bGwsci5jb21wcmVzc2lvbk9wdGlvbnM9bnVsbCxyLmNvbW1lbnQ9bnVsbCxyLnVuaXhQZXJtaXNzaW9ucz1udWxsLHIuZG9zUGVybWlzc2lvbnM9bnVsbH0se31dLDY6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1udWxsO249XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2U/UHJvbWlzZTplKFwibGllXCIpLHQuZXhwb3J0cz17UHJvbWlzZTpufX0se2xpZTozN31dLDc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDMyQXJyYXksaT1lKFwicGFrb1wiKSxzPWUoXCIuL3V0aWxzXCIpLGE9ZShcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIiksbz1uP1widWludDhhcnJheVwiOlwiYXJyYXlcIjtmdW5jdGlvbiBoKGUsdCl7YS5jYWxsKHRoaXMsXCJGbGF0ZVdvcmtlci9cIitlKSx0aGlzLl9wYWtvPW51bGwsdGhpcy5fcGFrb0FjdGlvbj1lLHRoaXMuX3Bha29PcHRpb25zPXQsdGhpcy5tZXRhPXt9fXIubWFnaWM9XCJcXGJcXDBcIixzLmluaGVyaXRzKGgsYSksaC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe3RoaXMubWV0YT1lLm1ldGEsbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2gocy50cmFuc2Zvcm1UbyhvLGUuZGF0YSksITEpfSxoLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2EucHJvdG90eXBlLmZsdXNoLmNhbGwodGhpcyksbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2goW10sITApfSxoLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7YS5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuX3Bha289bnVsbH0saC5wcm90b3R5cGUuX2NyZWF0ZVBha289ZnVuY3Rpb24oKXt0aGlzLl9wYWtvPW5ldyBpW3RoaXMuX3Bha29BY3Rpb25dKHtyYXc6ITAsbGV2ZWw6dGhpcy5fcGFrb09wdGlvbnMubGV2ZWx8fC0xfSk7dmFyIHQ9dGhpczt0aGlzLl9wYWtvLm9uRGF0YT1mdW5jdGlvbihlKXt0LnB1c2goe2RhdGE6ZSxtZXRhOnQubWV0YX0pfX0sci5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGgoXCJEZWZsYXRlXCIsZSl9LHIudW5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgaChcIkluZmxhdGVcIix7fSl9fSx7XCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6MjgsXCIuL3V0aWxzXCI6MzIscGFrbzozOH1dLDg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBBKGUsdCl7dmFyIHIsbj1cIlwiO2ZvcihyPTA7cjx0O3IrKyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZlKSxlPj4+PTg7cmV0dXJuIG59ZnVuY3Rpb24gbihlLHQscixuLGkscyl7dmFyIGEsbyxoPWUuZmlsZSx1PWUuY29tcHJlc3Npb24sbD1zIT09Ty51dGY4ZW5jb2RlLGY9SS50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHMoaC5uYW1lKSksYz1JLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsTy51dGY4ZW5jb2RlKGgubmFtZSkpLGQ9aC5jb21tZW50LHA9SS50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHMoZCkpLG09SS50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLE8udXRmOGVuY29kZShkKSksXz1jLmxlbmd0aCE9PWgubmFtZS5sZW5ndGgsZz1tLmxlbmd0aCE9PWQubGVuZ3RoLGI9XCJcIix2PVwiXCIseT1cIlwiLHc9aC5kaXIsaz1oLmRhdGUseD17Y3JjMzI6MCxjb21wcmVzc2VkU2l6ZTowLHVuY29tcHJlc3NlZFNpemU6MH07dCYmIXJ8fCh4LmNyYzMyPWUuY3JjMzIseC5jb21wcmVzc2VkU2l6ZT1lLmNvbXByZXNzZWRTaXplLHgudW5jb21wcmVzc2VkU2l6ZT1lLnVuY29tcHJlc3NlZFNpemUpO3ZhciBTPTA7dCYmKFN8PTgpLGx8fCFfJiYhZ3x8KFN8PTIwNDgpO3ZhciB6PTAsQz0wO3cmJih6fD0xNiksXCJVTklYXCI9PT1pPyhDPTc5OCx6fD1mdW5jdGlvbihlLHQpe3ZhciByPWU7cmV0dXJuIGV8fChyPXQ/MTY4OTM6MzMyMDQpLCg2NTUzNSZyKTw8MTZ9KGgudW5peFBlcm1pc3Npb25zLHcpKTooQz0yMCx6fD1mdW5jdGlvbihlKXtyZXR1cm4gNjMmKGV8fDApfShoLmRvc1Blcm1pc3Npb25zKSksYT1rLmdldFVUQ0hvdXJzKCksYTw8PTYsYXw9ay5nZXRVVENNaW51dGVzKCksYTw8PTUsYXw9ay5nZXRVVENTZWNvbmRzKCkvMixvPWsuZ2V0VVRDRnVsbFllYXIoKS0xOTgwLG88PD00LG98PWsuZ2V0VVRDTW9udGgoKSsxLG88PD01LG98PWsuZ2V0VVRDRGF0ZSgpLF8mJih2PUEoMSwxKStBKEIoZiksNCkrYyxiKz1cInVwXCIrQSh2Lmxlbmd0aCwyKSt2KSxnJiYoeT1BKDEsMSkrQShCKHApLDQpK20sYis9XCJ1Y1wiK0EoeS5sZW5ndGgsMikreSk7dmFyIEU9XCJcIjtyZXR1cm4gRSs9XCJcXG5cXDBcIixFKz1BKFMsMiksRSs9dS5tYWdpYyxFKz1BKGEsMiksRSs9QShvLDIpLEUrPUEoeC5jcmMzMiw0KSxFKz1BKHguY29tcHJlc3NlZFNpemUsNCksRSs9QSh4LnVuY29tcHJlc3NlZFNpemUsNCksRSs9QShmLmxlbmd0aCwyKSxFKz1BKGIubGVuZ3RoLDIpLHtmaWxlUmVjb3JkOlIuTE9DQUxfRklMRV9IRUFERVIrRStmK2IsZGlyUmVjb3JkOlIuQ0VOVFJBTF9GSUxFX0hFQURFUitBKEMsMikrRStBKHAubGVuZ3RoLDIpK1wiXFwwXFwwXFwwXFwwXCIrQSh6LDQpK0Eobiw0KStmK2IrcH19dmFyIEk9ZShcIi4uL3V0aWxzXCIpLGk9ZShcIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyXCIpLE89ZShcIi4uL3V0ZjhcIiksQj1lKFwiLi4vY3JjMzJcIiksUj1lKFwiLi4vc2lnbmF0dXJlXCIpO2Z1bmN0aW9uIHMoZSx0LHIsbil7aS5jYWxsKHRoaXMsXCJaaXBGaWxlV29ya2VyXCIpLHRoaXMuYnl0ZXNXcml0dGVuPTAsdGhpcy56aXBDb21tZW50PXQsdGhpcy56aXBQbGF0Zm9ybT1yLHRoaXMuZW5jb2RlRmlsZU5hbWU9bix0aGlzLnN0cmVhbUZpbGVzPWUsdGhpcy5hY2N1bXVsYXRlPSExLHRoaXMuY29udGVudEJ1ZmZlcj1bXSx0aGlzLmRpclJlY29yZHM9W10sdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PTAsdGhpcy5lbnRyaWVzQ291bnQ9MCx0aGlzLmN1cnJlbnRGaWxlPW51bGwsdGhpcy5fc291cmNlcz1bXX1JLmluaGVyaXRzKHMsaSkscy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXt2YXIgdD1lLm1ldGEucGVyY2VudHx8MCxyPXRoaXMuZW50cmllc0NvdW50LG49dGhpcy5fc291cmNlcy5sZW5ndGg7dGhpcy5hY2N1bXVsYXRlP3RoaXMuY29udGVudEJ1ZmZlci5wdXNoKGUpOih0aGlzLmJ5dGVzV3JpdHRlbis9ZS5kYXRhLmxlbmd0aCxpLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyx7ZGF0YTplLmRhdGEsbWV0YTp7Y3VycmVudEZpbGU6dGhpcy5jdXJyZW50RmlsZSxwZXJjZW50OnI/KHQrMTAwKihyLW4tMSkpL3I6MTAwfX0pKX0scy5wcm90b3R5cGUub3BlbmVkU291cmNlPWZ1bmN0aW9uKGUpe3RoaXMuY3VycmVudFNvdXJjZU9mZnNldD10aGlzLmJ5dGVzV3JpdHRlbix0aGlzLmN1cnJlbnRGaWxlPWUuZmlsZS5uYW1lO3ZhciB0PXRoaXMuc3RyZWFtRmlsZXMmJiFlLmZpbGUuZGlyO2lmKHQpe3ZhciByPW4oZSx0LCExLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldCx0aGlzLnppcFBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWUpO3RoaXMucHVzaCh7ZGF0YTpyLmZpbGVSZWNvcmQsbWV0YTp7cGVyY2VudDowfX0pfWVsc2UgdGhpcy5hY2N1bXVsYXRlPSEwfSxzLnByb3RvdHlwZS5jbG9zZWRTb3VyY2U9ZnVuY3Rpb24oZSl7dGhpcy5hY2N1bXVsYXRlPSExO3ZhciB0PXRoaXMuc3RyZWFtRmlsZXMmJiFlLmZpbGUuZGlyLHI9bihlLHQsITAsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7aWYodGhpcy5kaXJSZWNvcmRzLnB1c2goci5kaXJSZWNvcmQpLHQpdGhpcy5wdXNoKHtkYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBSLkRBVEFfREVTQ1JJUFRPUitBKGUuY3JjMzIsNCkrQShlLmNvbXByZXNzZWRTaXplLDQpK0EoZS51bmNvbXByZXNzZWRTaXplLDQpfShlKSxtZXRhOntwZXJjZW50OjEwMH19KTtlbHNlIGZvcih0aGlzLnB1c2goe2RhdGE6ci5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KTt0aGlzLmNvbnRlbnRCdWZmZXIubGVuZ3RoOyl0aGlzLnB1c2godGhpcy5jb250ZW50QnVmZmVyLnNoaWZ0KCkpO3RoaXMuY3VycmVudEZpbGU9bnVsbH0scy5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5ieXRlc1dyaXR0ZW4sdD0wO3Q8dGhpcy5kaXJSZWNvcmRzLmxlbmd0aDt0KyspdGhpcy5wdXNoKHtkYXRhOnRoaXMuZGlyUmVjb3Jkc1t0XSxtZXRhOntwZXJjZW50OjEwMH19KTt2YXIgcj10aGlzLmJ5dGVzV3JpdHRlbi1lLG49ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgcz1JLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsaShuKSk7cmV0dXJuIFIuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EK1wiXFwwXFwwXFwwXFwwXCIrQShlLDIpK0EoZSwyKStBKHQsNCkrQShyLDQpK0Eocy5sZW5ndGgsMikrc30odGhpcy5kaXJSZWNvcmRzLmxlbmd0aCxyLGUsdGhpcy56aXBDb21tZW50LHRoaXMuZW5jb2RlRmlsZU5hbWUpO3RoaXMucHVzaCh7ZGF0YTpuLG1ldGE6e3BlcmNlbnQ6MTAwfX0pfSxzLnByb3RvdHlwZS5wcmVwYXJlTmV4dFNvdXJjZT1mdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dGhpcy5fc291cmNlcy5zaGlmdCgpLHRoaXMub3BlbmVkU291cmNlKHRoaXMucHJldmlvdXMuc3RyZWFtSW5mbyksdGhpcy5pc1BhdXNlZD90aGlzLnByZXZpb3VzLnBhdXNlKCk6dGhpcy5wcmV2aW91cy5yZXN1bWUoKX0scy5wcm90b3R5cGUucmVnaXN0ZXJQcmV2aW91cz1mdW5jdGlvbihlKXt0aGlzLl9zb3VyY2VzLnB1c2goZSk7dmFyIHQ9dGhpcztyZXR1cm4gZS5vbihcImRhdGFcIixmdW5jdGlvbihlKXt0LnByb2Nlc3NDaHVuayhlKX0pLGUub24oXCJlbmRcIixmdW5jdGlvbigpe3QuY2xvc2VkU291cmNlKHQucHJldmlvdXMuc3RyZWFtSW5mbyksdC5fc291cmNlcy5sZW5ndGg/dC5wcmVwYXJlTmV4dFNvdXJjZSgpOnQuZW5kKCl9KSxlLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXt0LmVycm9yKGUpfSksdGhpc30scy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFpLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKCF0aGlzLnByZXZpb3VzJiZ0aGlzLl9zb3VyY2VzLmxlbmd0aD8odGhpcy5wcmVwYXJlTmV4dFNvdXJjZSgpLCEwKTp0aGlzLnByZXZpb3VzfHx0aGlzLl9zb3VyY2VzLmxlbmd0aHx8dGhpcy5nZW5lcmF0ZWRFcnJvcj92b2lkIDA6KHRoaXMuZW5kKCksITApKX0scy5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fc291cmNlcztpZighaS5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLGUpKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRyeXt0W3JdLmVycm9yKGUpfWNhdGNoKGUpe31yZXR1cm4hMH0scy5wcm90b3R5cGUubG9jaz1mdW5jdGlvbigpe2kucHJvdG90eXBlLmxvY2suY2FsbCh0aGlzKTtmb3IodmFyIGU9dGhpcy5fc291cmNlcyx0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5sb2NrKCl9LHQuZXhwb3J0cz1zfSx7XCIuLi9jcmMzMlwiOjQsXCIuLi9zaWduYXR1cmVcIjoyMyxcIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6MjgsXCIuLi91dGY4XCI6MzEsXCIuLi91dGlsc1wiOjMyfV0sOTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciB1PWUoXCIuLi9jb21wcmVzc2lvbnNcIiksbj1lKFwiLi9aaXBGaWxlV29ya2VyXCIpO3IuZ2VuZXJhdGVXb3JrZXI9ZnVuY3Rpb24oZSxhLHQpe3ZhciBvPW5ldyBuKGEuc3RyZWFtRmlsZXMsdCxhLnBsYXRmb3JtLGEuZW5jb2RlRmlsZU5hbWUpLGg9MDt0cnl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aCsrO3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZXx8dCxuPXVbcl07aWYoIW4pdGhyb3cgbmV3IEVycm9yKHIrXCIgaXMgbm90IGEgdmFsaWQgY29tcHJlc3Npb24gbWV0aG9kICFcIik7cmV0dXJuIG59KHQub3B0aW9ucy5jb21wcmVzc2lvbixhLmNvbXByZXNzaW9uKSxuPXQub3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN8fGEuY29tcHJlc3Npb25PcHRpb25zfHx7fSxpPXQuZGlyLHM9dC5kYXRlO3QuX2NvbXByZXNzV29ya2VyKHIsbikud2l0aFN0cmVhbUluZm8oXCJmaWxlXCIse25hbWU6ZSxkaXI6aSxkYXRlOnMsY29tbWVudDp0LmNvbW1lbnR8fFwiXCIsdW5peFBlcm1pc3Npb25zOnQudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOnQuZG9zUGVybWlzc2lvbnN9KS5waXBlKG8pfSksby5lbnRyaWVzQ291bnQ9aH1jYXRjaChlKXtvLmVycm9yKGUpfXJldHVybiBvfX0se1wiLi4vY29tcHJlc3Npb25zXCI6MyxcIi4vWmlwRmlsZVdvcmtlclwiOjh9XSwxMDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBuKSlyZXR1cm4gbmV3IG47aWYoYXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpO3RoaXMuZmlsZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmNvbW1lbnQ9bnVsbCx0aGlzLnJvb3Q9XCJcIix0aGlzLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47Zm9yKHZhciB0IGluIHRoaXMpXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpc1t0XSYmKGVbdF09dGhpc1t0XSk7cmV0dXJuIGV9fShuLnByb3RvdHlwZT1lKFwiLi9vYmplY3RcIikpLmxvYWRBc3luYz1lKFwiLi9sb2FkXCIpLG4uc3VwcG9ydD1lKFwiLi9zdXBwb3J0XCIpLG4uZGVmYXVsdHM9ZShcIi4vZGVmYXVsdHNcIiksbi52ZXJzaW9uPVwiMy4xMC4xXCIsbi5sb2FkQXN5bmM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4obmV3IG4pLmxvYWRBc3luYyhlLHQpfSxuLmV4dGVybmFsPWUoXCIuL2V4dGVybmFsXCIpLHQuZXhwb3J0cz1ufSx7XCIuL2RlZmF1bHRzXCI6NSxcIi4vZXh0ZXJuYWxcIjo2LFwiLi9sb2FkXCI6MTEsXCIuL29iamVjdFwiOjE1LFwiLi9zdXBwb3J0XCI6MzB9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciB1PWUoXCIuL3V0aWxzXCIpLGk9ZShcIi4vZXh0ZXJuYWxcIiksbj1lKFwiLi91dGY4XCIpLHM9ZShcIi4vemlwRW50cmllc1wiKSxhPWUoXCIuL3N0cmVhbS9DcmMzMlByb2JlXCIpLGw9ZShcIi4vbm9kZWpzVXRpbHNcIik7ZnVuY3Rpb24gZihuKXtyZXR1cm4gbmV3IGkuUHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciByPW4uZGVjb21wcmVzc2VkLmdldENvbnRlbnRXb3JrZXIoKS5waXBlKG5ldyBhKTtyLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXt0KGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3Iuc3RyZWFtSW5mby5jcmMzMiE9PW4uZGVjb21wcmVzc2VkLmNyYzMyP3QobmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCA6IENSQzMyIG1pc21hdGNoXCIpKTplKCl9KS5yZXN1bWUoKX0pfXQuZXhwb3J0cz1mdW5jdGlvbihlLG8pe3ZhciBoPXRoaXM7cmV0dXJuIG89dS5leHRlbmQob3x8e30se2Jhc2U2NDohMSxjaGVja0NSQzMyOiExLG9wdGltaXplZEJpbmFyeVN0cmluZzohMSxjcmVhdGVGb2xkZXJzOiExLGRlY29kZUZpbGVOYW1lOm4udXRmOGRlY29kZX0pLGwuaXNOb2RlJiZsLmlzU3RyZWFtKGUpP2kuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSlNaaXAgY2FuJ3QgYWNjZXB0IGEgc3RyZWFtIHdoZW4gbG9hZGluZyBhIHppcCBmaWxlLlwiKSk6dS5wcmVwYXJlQ29udGVudChcInRoZSBsb2FkZWQgemlwIGZpbGVcIixlLCEwLG8ub3B0aW1pemVkQmluYXJ5U3RyaW5nLG8uYmFzZTY0KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBzKG8pO3JldHVybiB0LmxvYWQoZSksdH0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9W2kuUHJvbWlzZS5yZXNvbHZlKGUpXSxyPWUuZmlsZXM7aWYoby5jaGVja0NSQzMyKWZvcih2YXIgbj0wO248ci5sZW5ndGg7bisrKXQucHVzaChmKHJbbl0pKTtyZXR1cm4gaS5Qcm9taXNlLmFsbCh0KX0pLnRoZW4oZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc2hpZnQoKSxyPXQuZmlsZXMsbj0wO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dLHM9aS5maWxlTmFtZVN0cixhPXUucmVzb2x2ZShpLmZpbGVOYW1lU3RyKTtoLmZpbGUoYSxpLmRlY29tcHJlc3NlZCx7YmluYXJ5OiEwLG9wdGltaXplZEJpbmFyeVN0cmluZzohMCxkYXRlOmkuZGF0ZSxkaXI6aS5kaXIsY29tbWVudDppLmZpbGVDb21tZW50U3RyLmxlbmd0aD9pLmZpbGVDb21tZW50U3RyOm51bGwsdW5peFBlcm1pc3Npb25zOmkudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOmkuZG9zUGVybWlzc2lvbnMsY3JlYXRlRm9sZGVyczpvLmNyZWF0ZUZvbGRlcnN9KSxpLmRpcnx8KGguZmlsZShhKS51bnNhZmVPcmlnaW5hbE5hbWU9cyl9cmV0dXJuIHQuemlwQ29tbWVudC5sZW5ndGgmJihoLmNvbW1lbnQ9dC56aXBDb21tZW50KSxofSl9fSx7XCIuL2V4dGVybmFsXCI6NixcIi4vbm9kZWpzVXRpbHNcIjoxNCxcIi4vc3RyZWFtL0NyYzMyUHJvYmVcIjoyNSxcIi4vdXRmOFwiOjMxLFwiLi91dGlsc1wiOjMyLFwiLi96aXBFbnRyaWVzXCI6MzN9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi91dGlsc1wiKSxpPWUoXCIuLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKTtmdW5jdGlvbiBzKGUsdCl7aS5jYWxsKHRoaXMsXCJOb2RlanMgc3RyZWFtIGlucHV0IGFkYXB0ZXIgZm9yIFwiK2UpLHRoaXMuX3Vwc3RyZWFtRW5kZWQ9ITEsdGhpcy5fYmluZFN0cmVhbSh0KX1uLmluaGVyaXRzKHMsaSkscy5wcm90b3R5cGUuX2JpbmRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsodGhpcy5fc3RyZWFtPWUpLnBhdXNlKCksZS5vbihcImRhdGFcIixmdW5jdGlvbihlKXt0LnB1c2goe2RhdGE6ZSxtZXRhOntwZXJjZW50OjB9fSl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7dC5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPWU6dC5lcnJvcihlKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXt0LmlzUGF1c2VkP3QuX3Vwc3RyZWFtRW5kZWQ9ITA6dC5lbmQoKX0pfSxzLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiEhaS5wcm90b3R5cGUucGF1c2UuY2FsbCh0aGlzKSYmKHRoaXMuX3N0cmVhbS5wYXVzZSgpLCEwKX0scy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFpLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKHRoaXMuX3Vwc3RyZWFtRW5kZWQ/dGhpcy5lbmQoKTp0aGlzLl9zdHJlYW0ucmVzdW1lKCksITApfSx0LmV4cG9ydHM9c30se1wiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4uL3V0aWxzXCI6MzJ9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCJyZWFkYWJsZS1zdHJlYW1cIikuUmVhZGFibGU7ZnVuY3Rpb24gbihlLHQscil7aS5jYWxsKHRoaXMsdCksdGhpcy5faGVscGVyPWU7dmFyIG49dGhpcztlLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUsdCl7bi5wdXNoKGUpfHxuLl9oZWxwZXIucGF1c2UoKSxyJiZyKHQpfSkub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe24uZW1pdChcImVycm9yXCIsZSl9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7bi5wdXNoKG51bGwpfSl9ZShcIi4uL3V0aWxzXCIpLmluaGVyaXRzKG4saSksbi5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXt0aGlzLl9oZWxwZXIucmVzdW1lKCl9LHQuZXhwb3J0cz1ufSx7XCIuLi91dGlsc1wiOjMyLFwicmVhZGFibGUtc3RyZWFtXCI6MTZ9XSwxNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz17aXNOb2RlOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBCdWZmZXIsbmV3QnVmZmVyRnJvbTpmdW5jdGlvbihlLHQpe2lmKEJ1ZmZlci5mcm9tJiZCdWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbSlyZXR1cm4gQnVmZmVyLmZyb20oZSx0KTtpZihcIm51bWJlclwiPT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImRhdGFcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiBuZXcgQnVmZmVyKGUsdCl9LGFsbG9jQnVmZmVyOmZ1bmN0aW9uKGUpe2lmKEJ1ZmZlci5hbGxvYylyZXR1cm4gQnVmZmVyLmFsbG9jKGUpO3ZhciB0PW5ldyBCdWZmZXIoZSk7cmV0dXJuIHQuZmlsbCgwKSx0fSxpc0J1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKGUpfSxpc1N0cmVhbTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5wYXVzZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZXN1bWV9fX0se31dLDE1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcyhlLHQscil7dmFyIG4saT11LmdldFR5cGVPZih0KSxzPXUuZXh0ZW5kKHJ8fHt9LGYpO3MuZGF0ZT1zLmRhdGV8fG5ldyBEYXRlLG51bGwhPT1zLmNvbXByZXNzaW9uJiYocy5jb21wcmVzc2lvbj1zLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCkpLFwic3RyaW5nXCI9PXR5cGVvZiBzLnVuaXhQZXJtaXNzaW9ucyYmKHMudW5peFBlcm1pc3Npb25zPXBhcnNlSW50KHMudW5peFBlcm1pc3Npb25zLDgpKSxzLnVuaXhQZXJtaXNzaW9ucyYmMTYzODQmcy51bml4UGVybWlzc2lvbnMmJihzLmRpcj0hMCkscy5kb3NQZXJtaXNzaW9ucyYmMTYmcy5kb3NQZXJtaXNzaW9ucyYmKHMuZGlyPSEwKSxzLmRpciYmKGU9ZyhlKSkscy5jcmVhdGVGb2xkZXJzJiYobj1fKGUpKSYmYi5jYWxsKHRoaXMsbiwhMCk7dmFyIGE9XCJzdHJpbmdcIj09PWkmJiExPT09cy5iaW5hcnkmJiExPT09cy5iYXNlNjQ7ciYmdm9pZCAwIT09ci5iaW5hcnl8fChzLmJpbmFyeT0hYSksKHQgaW5zdGFuY2VvZiBjJiYwPT09dC51bmNvbXByZXNzZWRTaXplfHxzLmRpcnx8IXR8fDA9PT10Lmxlbmd0aCkmJihzLmJhc2U2ND0hMSxzLmJpbmFyeT0hMCx0PVwiXCIscy5jb21wcmVzc2lvbj1cIlNUT1JFXCIsaT1cInN0cmluZ1wiKTt2YXIgbz1udWxsO289dCBpbnN0YW5jZW9mIGN8fHQgaW5zdGFuY2VvZiBsP3Q6cC5pc05vZGUmJnAuaXNTdHJlYW0odCk/bmV3IG0oZSx0KTp1LnByZXBhcmVDb250ZW50KGUsdCxzLmJpbmFyeSxzLm9wdGltaXplZEJpbmFyeVN0cmluZyxzLmJhc2U2NCk7dmFyIGg9bmV3IGQoZSxvLHMpO3RoaXMuZmlsZXNbZV09aH12YXIgaT1lKFwiLi91dGY4XCIpLHU9ZShcIi4vdXRpbHNcIiksbD1lKFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKSxhPWUoXCIuL3N0cmVhbS9TdHJlYW1IZWxwZXJcIiksZj1lKFwiLi9kZWZhdWx0c1wiKSxjPWUoXCIuL2NvbXByZXNzZWRPYmplY3RcIiksZD1lKFwiLi96aXBPYmplY3RcIiksbz1lKFwiLi9nZW5lcmF0ZVwiKSxwPWUoXCIuL25vZGVqc1V0aWxzXCIpLG09ZShcIi4vbm9kZWpzL05vZGVqc1N0cmVhbUlucHV0QWRhcHRlclwiKSxfPWZ1bmN0aW9uKGUpe1wiL1wiPT09ZS5zbGljZSgtMSkmJihlPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtMSkpO3ZhciB0PWUubGFzdEluZGV4T2YoXCIvXCIpO3JldHVybiAwPHQ/ZS5zdWJzdHJpbmcoMCx0KTpcIlwifSxnPWZ1bmN0aW9uKGUpe3JldHVyblwiL1wiIT09ZS5zbGljZSgtMSkmJihlKz1cIi9cIiksZX0sYj1mdW5jdGlvbihlLHQpe3JldHVybiB0PXZvaWQgMCE9PXQ/dDpmLmNyZWF0ZUZvbGRlcnMsZT1nKGUpLHRoaXMuZmlsZXNbZV18fHMuY2FsbCh0aGlzLGUsbnVsbCx7ZGlyOiEwLGNyZWF0ZUZvbGRlcnM6dH0pLHRoaXMuZmlsZXNbZV19O2Z1bmN0aW9uIGgoZSl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX12YXIgbj17bG9hZDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxmb3JFYWNoOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbjtmb3IodCBpbiB0aGlzLmZpbGVzKW49dGhpcy5maWxlc1t0XSwocj10LnNsaWNlKHRoaXMucm9vdC5sZW5ndGgsdC5sZW5ndGgpKSYmdC5zbGljZSgwLHRoaXMucm9vdC5sZW5ndGgpPT09dGhpcy5yb290JiZlKHIsbil9LGZpbHRlcjpmdW5jdGlvbihyKXt2YXIgbj1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cihlLHQpJiZuLnB1c2godCl9KSxufSxmaWxlOmZ1bmN0aW9uKGUsdCxyKXtpZigxIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZT10aGlzLnJvb3QrZSxzLmNhbGwodGhpcyxlLHQsciksdGhpcztpZihoKGUpKXt2YXIgbj1lO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiF0LmRpciYmbi50ZXN0KGUpfSl9dmFyIGk9dGhpcy5maWxlc1t0aGlzLnJvb3QrZV07cmV0dXJuIGkmJiFpLmRpcj9pOm51bGx9LGZvbGRlcjpmdW5jdGlvbihyKXtpZighcilyZXR1cm4gdGhpcztpZihoKHIpKXJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiB0LmRpciYmci50ZXN0KGUpfSk7dmFyIGU9dGhpcy5yb290K3IsdD1iLmNhbGwodGhpcyxlKSxuPXRoaXMuY2xvbmUoKTtyZXR1cm4gbi5yb290PXQubmFtZSxufSxyZW1vdmU6ZnVuY3Rpb24ocil7cj10aGlzLnJvb3Qrcjt2YXIgZT10aGlzLmZpbGVzW3JdO2lmKGV8fChcIi9cIiE9PXIuc2xpY2UoLTEpJiYocis9XCIvXCIpLGU9dGhpcy5maWxlc1tyXSksZSYmIWUuZGlyKWRlbGV0ZSB0aGlzLmZpbGVzW3JdO2Vsc2UgZm9yKHZhciB0PXRoaXMuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubmFtZS5zbGljZSgwLHIubGVuZ3RoKT09PXJ9KSxuPTA7bjx0Lmxlbmd0aDtuKyspZGVsZXRlIHRoaXMuZmlsZXNbdFtuXS5uYW1lXTtyZXR1cm4gdGhpc30sZ2VuZXJhdGU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0sZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbTpmdW5jdGlvbihlKXt2YXIgdCxyPXt9O3RyeXtpZigocj11LmV4dGVuZChlfHx7fSx7c3RyZWFtRmlsZXM6ITEsY29tcHJlc3Npb246XCJTVE9SRVwiLGNvbXByZXNzaW9uT3B0aW9uczpudWxsLHR5cGU6XCJcIixwbGF0Zm9ybTpcIkRPU1wiLGNvbW1lbnQ6bnVsbCxtaW1lVHlwZTpcImFwcGxpY2F0aW9uL3ppcFwiLGVuY29kZUZpbGVOYW1lOmkudXRmOGVuY29kZX0pKS50eXBlPXIudHlwZS50b0xvd2VyQ2FzZSgpLHIuY29tcHJlc3Npb249ci5jb21wcmVzc2lvbi50b1VwcGVyQ2FzZSgpLFwiYmluYXJ5c3RyaW5nXCI9PT1yLnR5cGUmJihyLnR5cGU9XCJzdHJpbmdcIiksIXIudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBvdXRwdXQgdHlwZSBzcGVjaWZpZWQuXCIpO3UuY2hlY2tTdXBwb3J0KHIudHlwZSksXCJkYXJ3aW5cIiE9PXIucGxhdGZvcm0mJlwiZnJlZWJzZFwiIT09ci5wbGF0Zm9ybSYmXCJsaW51eFwiIT09ci5wbGF0Zm9ybSYmXCJzdW5vc1wiIT09ci5wbGF0Zm9ybXx8KHIucGxhdGZvcm09XCJVTklYXCIpLFwid2luMzJcIj09PXIucGxhdGZvcm0mJihyLnBsYXRmb3JtPVwiRE9TXCIpO3ZhciBuPXIuY29tbWVudHx8dGhpcy5jb21tZW50fHxcIlwiO3Q9by5nZW5lcmF0ZVdvcmtlcih0aGlzLHIsbil9Y2F0Y2goZSl7KHQ9bmV3IGwoXCJlcnJvclwiKSkuZXJyb3IoZSl9cmV0dXJuIG5ldyBhKHQsci50eXBlfHxcInN0cmluZ1wiLHIubWltZVR5cGUpfSxnZW5lcmF0ZUFzeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbShlKS5hY2N1bXVsYXRlKHQpfSxnZW5lcmF0ZU5vZGVTdHJlYW06ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT1lfHx7fSkudHlwZXx8KGUudHlwZT1cIm5vZGVidWZmZXJcIiksdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKGUpLnRvTm9kZWpzU3RyZWFtKHQpfX07dC5leHBvcnRzPW59LHtcIi4vY29tcHJlc3NlZE9iamVjdFwiOjIsXCIuL2RlZmF1bHRzXCI6NSxcIi4vZ2VuZXJhdGVcIjo5LFwiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyXCI6MTIsXCIuL25vZGVqc1V0aWxzXCI6MTQsXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6MjgsXCIuL3N0cmVhbS9TdHJlYW1IZWxwZXJcIjoyOSxcIi4vdXRmOFwiOjMxLFwiLi91dGlsc1wiOjMyLFwiLi96aXBPYmplY3RcIjozNX1dLDE2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWUoXCJzdHJlYW1cIil9LHtzdHJlYW06dm9pZCAwfV0sMTc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9EYXRhUmVhZGVyXCIpO2Z1bmN0aW9uIGkoZSl7bi5jYWxsKHRoaXMsZSk7Zm9yKHZhciB0PTA7dDx0aGlzLmRhdGEubGVuZ3RoO3QrKyllW3RdPTI1NSZlW3RdfWUoXCIuLi91dGlsc1wiKS5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLmJ5dGVBdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMuemVybytlXX0saS5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuY2hhckNvZGVBdCgwKSxyPWUuY2hhckNvZGVBdCgxKSxuPWUuY2hhckNvZGVBdCgyKSxpPWUuY2hhckNvZGVBdCgzKSxzPXRoaXMubGVuZ3RoLTQ7MDw9czstLXMpaWYodGhpcy5kYXRhW3NdPT09dCYmdGhpcy5kYXRhW3MrMV09PT1yJiZ0aGlzLmRhdGFbcysyXT09PW4mJnRoaXMuZGF0YVtzKzNdPT09aSlyZXR1cm4gcy10aGlzLnplcm87cmV0dXJuLTF9LGkucHJvdG90eXBlLnJlYWRBbmRDaGVja1NpZ25hdHVyZT1mdW5jdGlvbihlKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCkscj1lLmNoYXJDb2RlQXQoMSksbj1lLmNoYXJDb2RlQXQoMiksaT1lLmNoYXJDb2RlQXQoMykscz10aGlzLnJlYWREYXRhKDQpO3JldHVybiB0PT09c1swXSYmcj09PXNbMV0mJm49PT1zWzJdJiZpPT09c1szXX0saS5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oZSl7aWYodGhpcy5jaGVja09mZnNldChlKSwwPT09ZSlyZXR1cm5bXTt2YXIgdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrZSk7cmV0dXJuIHRoaXMuaW5kZXgrPWUsdH0sdC5leHBvcnRzPWl9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL0RhdGFSZWFkZXJcIjoxOH1dLDE4OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4uL3V0aWxzXCIpO2Z1bmN0aW9uIGkoZSl7dGhpcy5kYXRhPWUsdGhpcy5sZW5ndGg9ZS5sZW5ndGgsdGhpcy5pbmRleD0wLHRoaXMuemVybz0wfWkucHJvdG90eXBlPXtjaGVja09mZnNldDpmdW5jdGlvbihlKXt0aGlzLmNoZWNrSW5kZXgodGhpcy5pbmRleCtlKX0sY2hlY2tJbmRleDpmdW5jdGlvbihlKXtpZih0aGlzLmxlbmd0aDx0aGlzLnplcm8rZXx8ZTwwKXRocm93IG5ldyBFcnJvcihcIkVuZCBvZiBkYXRhIHJlYWNoZWQgKGRhdGEgbGVuZ3RoID0gXCIrdGhpcy5sZW5ndGgrXCIsIGFza2VkIGluZGV4ID0gXCIrZStcIikuIENvcnJ1cHRlZCB6aXAgP1wiKX0sc2V0SW5kZXg6ZnVuY3Rpb24oZSl7dGhpcy5jaGVja0luZGV4KGUpLHRoaXMuaW5kZXg9ZX0sc2tpcDpmdW5jdGlvbihlKXt0aGlzLnNldEluZGV4KHRoaXMuaW5kZXgrZSl9LGJ5dGVBdDpmdW5jdGlvbigpe30scmVhZEludDpmdW5jdGlvbihlKXt2YXIgdCxyPTA7Zm9yKHRoaXMuY2hlY2tPZmZzZXQoZSksdD10aGlzLmluZGV4K2UtMTt0Pj10aGlzLmluZGV4O3QtLSlyPShyPDw4KSt0aGlzLmJ5dGVBdCh0KTtyZXR1cm4gdGhpcy5pbmRleCs9ZSxyfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBuLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsdGhpcy5yZWFkRGF0YShlKSl9LHJlYWREYXRhOmZ1bmN0aW9uKCl7fSxsYXN0SW5kZXhPZlNpZ25hdHVyZTpmdW5jdGlvbigpe30scmVhZEFuZENoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKCl7fSxyZWFkRGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZEludCg0KTtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTk4MCsoZT4+MjUmMTI3KSwoZT4+MjEmMTUpLTEsZT4+MTYmMzEsZT4+MTEmMzEsZT4+NSY2MywoMzEmZSk8PDEpKX19LHQuZXhwb3J0cz1pfSx7XCIuLi91dGlsc1wiOjMyfV0sMTk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9VaW50OEFycmF5UmVhZGVyXCIpO2Z1bmN0aW9uIGkoZSl7bi5jYWxsKHRoaXMsZSl9ZShcIi4uL3V0aWxzXCIpLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaGVja09mZnNldChlKTt2YXIgdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrZSk7cmV0dXJuIHRoaXMuaW5kZXgrPWUsdH0sdC5leHBvcnRzPWl9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL1VpbnQ4QXJyYXlSZWFkZXJcIjoyMX1dLDIwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vRGF0YVJlYWRlclwiKTtmdW5jdGlvbiBpKGUpe24uY2FsbCh0aGlzLGUpfWUoXCIuLi91dGlsc1wiKS5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLmJ5dGVBdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy56ZXJvK2UpfSxpLnByb3RvdHlwZS5sYXN0SW5kZXhPZlNpZ25hdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhLmxhc3RJbmRleE9mKGUpLXRoaXMuemVyb30saS5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy5yZWFkRGF0YSg0KX0saS5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaGVja09mZnNldChlKTt2YXIgdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrZSk7cmV0dXJuIHRoaXMuaW5kZXgrPWUsdH0sdC5leHBvcnRzPWl9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL0RhdGFSZWFkZXJcIjoxOH1dLDIxOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vQXJyYXlSZWFkZXJcIik7ZnVuY3Rpb24gaShlKXtuLmNhbGwodGhpcyxlKX1lKFwiLi4vdXRpbHNcIikuaW5oZXJpdHMoaSxuKSxpLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXtpZih0aGlzLmNoZWNrT2Zmc2V0KGUpLDA9PT1lKXJldHVybiBuZXcgVWludDhBcnJheSgwKTt2YXIgdD10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrZSk7cmV0dXJuIHRoaXMuaW5kZXgrPWUsdH0sdC5leHBvcnRzPWl9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL0FycmF5UmVhZGVyXCI6MTd9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi91dGlsc1wiKSxpPWUoXCIuLi9zdXBwb3J0XCIpLHM9ZShcIi4vQXJyYXlSZWFkZXJcIiksYT1lKFwiLi9TdHJpbmdSZWFkZXJcIiksbz1lKFwiLi9Ob2RlQnVmZmVyUmVhZGVyXCIpLGg9ZShcIi4vVWludDhBcnJheVJlYWRlclwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXRUeXBlT2YoZSk7cmV0dXJuIG4uY2hlY2tTdXBwb3J0KHQpLFwic3RyaW5nXCIhPT10fHxpLnVpbnQ4YXJyYXk/XCJub2RlYnVmZmVyXCI9PT10P25ldyBvKGUpOmkudWludDhhcnJheT9uZXcgaChuLnRyYW5zZm9ybVRvKFwidWludDhhcnJheVwiLGUpKTpuZXcgcyhuLnRyYW5zZm9ybVRvKFwiYXJyYXlcIixlKSk6bmV3IGEoZSl9fSx7XCIuLi9zdXBwb3J0XCI6MzAsXCIuLi91dGlsc1wiOjMyLFwiLi9BcnJheVJlYWRlclwiOjE3LFwiLi9Ob2RlQnVmZmVyUmVhZGVyXCI6MTksXCIuL1N0cmluZ1JlYWRlclwiOjIwLFwiLi9VaW50OEFycmF5UmVhZGVyXCI6MjF9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuTE9DQUxfRklMRV9IRUFERVI9XCJQS1x1MDAwM1x1MDAwNFwiLHIuQ0VOVFJBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAxXHUwMDAyXCIsci5DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9XCJQS1x1MDAwNVx1MDAwNlwiLHIuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUj1cIlBLXHUwMDA2XHUwMDA3XCIsci5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9XCJQS1x1MDAwNlx1MDAwNlwiLHIuREFUQV9ERVNDUklQVE9SPVwiUEtcdTAwMDdcXGJcIn0se31dLDI0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vR2VuZXJpY1dvcmtlclwiKSxpPWUoXCIuLi91dGlsc1wiKTtmdW5jdGlvbiBzKGUpe24uY2FsbCh0aGlzLFwiQ29udmVydFdvcmtlciB0byBcIitlKSx0aGlzLmRlc3RUeXBlPWV9aS5pbmhlcml0cyhzLG4pLHMucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihlKXt0aGlzLnB1c2goe2RhdGE6aS50cmFuc2Zvcm1Ubyh0aGlzLmRlc3RUeXBlLGUuZGF0YSksbWV0YTplLm1ldGF9KX0sdC5leHBvcnRzPXN9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDI1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vR2VuZXJpY1dvcmtlclwiKSxpPWUoXCIuLi9jcmMzMlwiKTtmdW5jdGlvbiBzKCl7bi5jYWxsKHRoaXMsXCJDcmMzMlByb2JlXCIpLHRoaXMud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLDApfWUoXCIuLi91dGlsc1wiKS5pbmhlcml0cyhzLG4pLHMucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihlKXt0aGlzLnN0cmVhbUluZm8uY3JjMzI9aShlLmRhdGEsdGhpcy5zdHJlYW1JbmZvLmNyYzMyfHwwKSx0aGlzLnB1c2goZSl9LHQuZXhwb3J0cz1zfSx7XCIuLi9jcmMzMlwiOjQsXCIuLi91dGlsc1wiOjMyLFwiLi9HZW5lcmljV29ya2VyXCI6Mjh9XSwyNjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi91dGlsc1wiKSxpPWUoXCIuL0dlbmVyaWNXb3JrZXJcIik7ZnVuY3Rpb24gcyhlKXtpLmNhbGwodGhpcyxcIkRhdGFMZW5ndGhQcm9iZSBmb3IgXCIrZSksdGhpcy5wcm9wTmFtZT1lLHRoaXMud2l0aFN0cmVhbUluZm8oZSwwKX1uLmluaGVyaXRzKHMsaSkscy5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXXx8MDt0aGlzLnN0cmVhbUluZm9bdGhpcy5wcm9wTmFtZV09dCtlLmRhdGEubGVuZ3RofWkucHJvdG90eXBlLnByb2Nlc3NDaHVuay5jYWxsKHRoaXMsZSl9LHQuZXhwb3J0cz1zfSx7XCIuLi91dGlsc1wiOjMyLFwiLi9HZW5lcmljV29ya2VyXCI6Mjh9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi91dGlsc1wiKSxpPWUoXCIuL0dlbmVyaWNXb3JrZXJcIik7ZnVuY3Rpb24gcyhlKXtpLmNhbGwodGhpcyxcIkRhdGFXb3JrZXJcIik7dmFyIHQ9dGhpczt0aGlzLmRhdGFJc1JlYWR5PSExLHRoaXMuaW5kZXg9MCx0aGlzLm1heD0wLHRoaXMuZGF0YT1udWxsLHRoaXMudHlwZT1cIlwiLHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsZS50aGVuKGZ1bmN0aW9uKGUpe3QuZGF0YUlzUmVhZHk9ITAsdC5kYXRhPWUsdC5tYXg9ZSYmZS5sZW5ndGh8fDAsdC50eXBlPW4uZ2V0VHlwZU9mKGUpLHQuaXNQYXVzZWR8fHQuX3RpY2tBbmRSZXBlYXQoKX0sZnVuY3Rpb24oZSl7dC5lcnJvcihlKX0pfW4uaW5oZXJpdHMocyxpKSxzLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuZGF0YT1udWxsfSxzLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIWkucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMuX3RpY2tTY2hlZHVsZWQmJnRoaXMuZGF0YUlzUmVhZHkmJih0aGlzLl90aWNrU2NoZWR1bGVkPSEwLG4uZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSksITApfSxzLnByb3RvdHlwZS5fdGlja0FuZFJlcGVhdD1mdW5jdGlvbigpe3RoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsdGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkfHwodGhpcy5fdGljaygpLHRoaXMuaXNGaW5pc2hlZHx8KG4uZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSx0aGlzLl90aWNrU2NoZWR1bGVkPSEwKSl9LHMucHJvdG90eXBlLl90aWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3ZhciBlPW51bGwsdD1NYXRoLm1pbih0aGlzLm1heCx0aGlzLmluZGV4KzE2Mzg0KTtpZih0aGlzLmluZGV4Pj10aGlzLm1heClyZXR1cm4gdGhpcy5lbmQoKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlXCJzdHJpbmdcIjplPXRoaXMuZGF0YS5zdWJzdHJpbmcodGhpcy5pbmRleCx0KTticmVhaztjYXNlXCJ1aW50OGFycmF5XCI6ZT10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy5pbmRleCx0KTticmVhaztjYXNlXCJhcnJheVwiOmNhc2VcIm5vZGVidWZmZXJcIjplPXRoaXMuZGF0YS5zbGljZSh0aGlzLmluZGV4LHQpfXJldHVybiB0aGlzLmluZGV4PXQsdGhpcy5wdXNoKHtkYXRhOmUsbWV0YTp7cGVyY2VudDp0aGlzLm1heD90aGlzLmluZGV4L3RoaXMubWF4KjEwMDowfX0pfSx0LmV4cG9ydHM9c30se1wiLi4vdXRpbHNcIjozMixcIi4vR2VuZXJpY1dvcmtlclwiOjI4fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3RoaXMubmFtZT1lfHxcImRlZmF1bHRcIix0aGlzLnN0cmVhbUluZm89e30sdGhpcy5nZW5lcmF0ZWRFcnJvcj1udWxsLHRoaXMuZXh0cmFTdHJlYW1JbmZvPXt9LHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5pc0ZpbmlzaGVkPSExLHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fbGlzdGVuZXJzPXtkYXRhOltdLGVuZDpbXSxlcnJvcjpbXX0sdGhpcy5wcmV2aW91cz1udWxsfW4ucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKGUpe3RoaXMuZW1pdChcImRhdGFcIixlKX0sZW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0ZpbmlzaGVkKXJldHVybiExO3RoaXMuZmx1c2goKTt0cnl7dGhpcy5lbWl0KFwiZW5kXCIpLHRoaXMuY2xlYW5VcCgpLHRoaXMuaXNGaW5pc2hlZD0hMH1jYXRjaChlKXt0aGlzLmVtaXQoXCJlcnJvclwiLGUpfXJldHVybiEwfSxlcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5pc0ZpbmlzaGVkJiYodGhpcy5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPWU6KHRoaXMuaXNGaW5pc2hlZD0hMCx0aGlzLmVtaXQoXCJlcnJvclwiLGUpLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMuZXJyb3IoZSksdGhpcy5jbGVhblVwKCkpLCEwKX0sb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2VdLnB1c2godCksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdfSxlbWl0OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fbGlzdGVuZXJzW2VdKWZvcih2YXIgcj0wO3I8dGhpcy5fbGlzdGVuZXJzW2VdLmxlbmd0aDtyKyspdGhpcy5fbGlzdGVuZXJzW2VdW3JdLmNhbGwodGhpcyx0KX0scGlwZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWdpc3RlclByZXZpb3VzKHRoaXMpfSxyZWdpc3RlclByZXZpb3VzOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0cmVhbSAnXCIrdGhpcytcIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiKTt0aGlzLnN0cmVhbUluZm89ZS5zdHJlYW1JbmZvLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpcy5wcmV2aW91cz1lO3ZhciB0PXRoaXM7cmV0dXJuIGUub24oXCJkYXRhXCIsZnVuY3Rpb24oZSl7dC5wcm9jZXNzQ2h1bmsoZSl9KSxlLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXt0LmVuZCgpfSksZS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7dC5lcnJvcihlKX0pLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNQYXVzZWQmJiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucGF1c2UoKSwhMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dmFyIGU9dGhpcy5pc1BhdXNlZD0hMTtyZXR1cm4gdGhpcy5nZW5lcmF0ZWRFcnJvciYmKHRoaXMuZXJyb3IodGhpcy5nZW5lcmF0ZWRFcnJvciksZT0hMCksdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5yZXN1bWUoKSwhZX0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbihlKXt0aGlzLnB1c2goZSl9LHdpdGhTdHJlYW1JbmZvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZXh0cmFTdHJlYW1JbmZvW2VdPXQsdGhpcy5tZXJnZVN0cmVhbUluZm8oKSx0aGlzfSxtZXJnZVN0cmVhbUluZm86ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5leHRyYVN0cmVhbUluZm8pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZXh0cmFTdHJlYW1JbmZvLGUpJiYodGhpcy5zdHJlYW1JbmZvW2VdPXRoaXMuZXh0cmFTdHJlYW1JbmZvW2VdKX0sbG9jazpmdW5jdGlvbigpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0cmVhbSAnXCIrdGhpcytcIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiKTt0aGlzLmlzTG9ja2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMubG9jaygpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBlPVwiV29ya2VyIFwiK3RoaXMubmFtZTtyZXR1cm4gdGhpcy5wcmV2aW91cz90aGlzLnByZXZpb3VzK1wiIC0+IFwiK2U6ZX19LHQuZXhwb3J0cz1ufSx7fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaD1lKFwiLi4vdXRpbHNcIiksaT1lKFwiLi9Db252ZXJ0V29ya2VyXCIpLHM9ZShcIi4vR2VuZXJpY1dvcmtlclwiKSx1PWUoXCIuLi9iYXNlNjRcIiksbj1lKFwiLi4vc3VwcG9ydFwiKSxhPWUoXCIuLi9leHRlcm5hbFwiKSxvPW51bGw7aWYobi5ub2Rlc3RyZWFtKXRyeXtvPWUoXCIuLi9ub2RlanMvTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlclwiKX1jYXRjaChlKXt9ZnVuY3Rpb24gbChlLG8pe3JldHVybiBuZXcgYS5Qcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIG49W10saT1lLl9pbnRlcm5hbFR5cGUscz1lLl9vdXRwdXRUeXBlLGE9ZS5fbWltZVR5cGU7ZS5vbihcImRhdGFcIixmdW5jdGlvbihlLHQpe24ucHVzaChlKSxvJiZvKHQpfSkub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe249W10scihlKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXt0cnl7dmFyIGU9ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaChlKXtjYXNlXCJibG9iXCI6cmV0dXJuIGgubmV3QmxvYihoLnRyYW5zZm9ybVRvKFwiYXJyYXlidWZmZXJcIix0KSxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdS5lbmNvZGUodCk7ZGVmYXVsdDpyZXR1cm4gaC50cmFuc2Zvcm1UbyhlLHQpfX0ocyxmdW5jdGlvbihlLHQpe3ZhciByLG49MCxpPW51bGwscz0wO2ZvcihyPTA7cjx0Lmxlbmd0aDtyKyspcys9dFtyXS5sZW5ndGg7c3dpdGNoKGUpe2Nhc2VcInN0cmluZ1wiOnJldHVybiB0LmpvaW4oXCJcIik7Y2FzZVwiYXJyYXlcIjpyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSx0KTtjYXNlXCJ1aW50OGFycmF5XCI6Zm9yKGk9bmV3IFVpbnQ4QXJyYXkocykscj0wO3I8dC5sZW5ndGg7cisrKWkuc2V0KHRbcl0sbiksbis9dFtyXS5sZW5ndGg7cmV0dXJuIGk7Y2FzZVwibm9kZWJ1ZmZlclwiOnJldHVybiBCdWZmZXIuY29uY2F0KHQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiY29uY2F0IDogdW5zdXBwb3J0ZWQgdHlwZSAnXCIrZStcIidcIil9fShpLG4pLGEpO3QoZSl9Y2F0Y2goZSl7cihlKX1uPVtdfSkucmVzdW1lKCl9KX1mdW5jdGlvbiBmKGUsdCxyKXt2YXIgbj10O3N3aXRjaCh0KXtjYXNlXCJibG9iXCI6Y2FzZVwiYXJyYXlidWZmZXJcIjpuPVwidWludDhhcnJheVwiO2JyZWFrO2Nhc2VcImJhc2U2NFwiOm49XCJzdHJpbmdcIn10cnl7dGhpcy5faW50ZXJuYWxUeXBlPW4sdGhpcy5fb3V0cHV0VHlwZT10LHRoaXMuX21pbWVUeXBlPXIsaC5jaGVja1N1cHBvcnQobiksdGhpcy5fd29ya2VyPWUucGlwZShuZXcgaShuKSksZS5sb2NrKCl9Y2F0Y2goZSl7dGhpcy5fd29ya2VyPW5ldyBzKFwiZXJyb3JcIiksdGhpcy5fd29ya2VyLmVycm9yKGUpfX1mLnByb3RvdHlwZT17YWNjdW11bGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbCh0aGlzLGUpfSxvbjpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuXCJkYXRhXCI9PT1lP3RoaXMuX3dvcmtlci5vbihlLGZ1bmN0aW9uKGUpe3QuY2FsbChyLGUuZGF0YSxlLm1ldGEpfSk6dGhpcy5fd29ya2VyLm9uKGUsZnVuY3Rpb24oKXtoLmRlbGF5KHQsYXJndW1lbnRzLHIpfSksdGhpc30scmVzdW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGguZGVsYXkodGhpcy5fd29ya2VyLnJlc3VtZSxbXSx0aGlzLl93b3JrZXIpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmtlci5wYXVzZSgpLHRoaXN9LHRvTm9kZWpzU3RyZWFtOmZ1bmN0aW9uKGUpe2lmKGguY2hlY2tTdXBwb3J0KFwibm9kZXN0cmVhbVwiKSxcIm5vZGVidWZmZXJcIiE9PXRoaXMuX291dHB1dFR5cGUpdGhyb3cgbmV3IEVycm9yKHRoaXMuX291dHB1dFR5cGUrXCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIG1ldGhvZFwiKTtyZXR1cm4gbmV3IG8odGhpcyx7b2JqZWN0TW9kZTpcIm5vZGVidWZmZXJcIiE9PXRoaXMuX291dHB1dFR5cGV9LGUpfX0sdC5leHBvcnRzPWZ9LHtcIi4uL2Jhc2U2NFwiOjEsXCIuLi9leHRlcm5hbFwiOjYsXCIuLi9ub2RlanMvTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlclwiOjEzLFwiLi4vc3VwcG9ydFwiOjMwLFwiLi4vdXRpbHNcIjozMixcIi4vQ29udmVydFdvcmtlclwiOjI0LFwiLi9HZW5lcmljV29ya2VyXCI6Mjh9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2lmKHIuYmFzZTY0PSEwLHIuYXJyYXk9ITAsci5zdHJpbmc9ITAsci5hcnJheWJ1ZmZlcj1cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5LHIubm9kZWJ1ZmZlcj1cInVuZGVmaW5lZFwiIT10eXBlb2YgQnVmZmVyLHIudWludDhhcnJheT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSxcInVuZGVmaW5lZFwiPT10eXBlb2YgQXJyYXlCdWZmZXIpci5ibG9iPSExO2Vsc2V7dmFyIG49bmV3IEFycmF5QnVmZmVyKDApO3RyeXtyLmJsb2I9MD09PW5ldyBCbG9iKFtuXSx7dHlwZTpcImFwcGxpY2F0aW9uL3ppcFwifSkuc2l6ZX1jYXRjaChlKXt0cnl7dmFyIGk9bmV3KHNlbGYuQmxvYkJ1aWxkZXJ8fHNlbGYuV2ViS2l0QmxvYkJ1aWxkZXJ8fHNlbGYuTW96QmxvYkJ1aWxkZXJ8fHNlbGYuTVNCbG9iQnVpbGRlcik7aS5hcHBlbmQobiksci5ibG9iPTA9PT1pLmdldEJsb2IoXCJhcHBsaWNhdGlvbi96aXBcIikuc2l6ZX1jYXRjaChlKXtyLmJsb2I9ITF9fX10cnl7ci5ub2Rlc3RyZWFtPSEhZShcInJlYWRhYmxlLXN0cmVhbVwiKS5SZWFkYWJsZX1jYXRjaChlKXtyLm5vZGVzdHJlYW09ITF9fSx7XCJyZWFkYWJsZS1zdHJlYW1cIjoxNn1dLDMxOltmdW5jdGlvbihlLHQscyl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciBvPWUoXCIuL3V0aWxzXCIpLGg9ZShcIi4vc3VwcG9ydFwiKSxyPWUoXCIuL25vZGVqc1V0aWxzXCIpLG49ZShcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIiksdT1uZXcgQXJyYXkoMjU2KSxpPTA7aTwyNTY7aSsrKXVbaV09MjUyPD1pPzY6MjQ4PD1pPzU6MjQwPD1pPzQ6MjI0PD1pPzM6MTkyPD1pPzI6MTt1WzI1NF09dVsyNTRdPTE7ZnVuY3Rpb24gYSgpe24uY2FsbCh0aGlzLFwidXRmLTggZGVjb2RlXCIpLHRoaXMubGVmdE92ZXI9bnVsbH1mdW5jdGlvbiBsKCl7bi5jYWxsKHRoaXMsXCJ1dGYtOCBlbmNvZGVcIil9cy51dGY4ZW5jb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBoLm5vZGVidWZmZXI/ci5uZXdCdWZmZXJGcm9tKGUsXCJ1dGYtOFwiKTpmdW5jdGlvbihlKXt2YXIgdCxyLG4saSxzLGE9ZS5sZW5ndGgsbz0wO2ZvcihpPTA7aTxhO2krKyk1NTI5Nj09KDY0NTEyJihyPWUuY2hhckNvZGVBdChpKSkpJiZpKzE8YSYmNTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQoaSsxKSkpJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSxpKyspLG8rPXI8MTI4PzE6cjwyMDQ4PzI6cjw2NTUzNj8zOjQ7Zm9yKHQ9aC51aW50OGFycmF5P25ldyBVaW50OEFycmF5KG8pOm5ldyBBcnJheShvKSxpPXM9MDtzPG87aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxhJiY1NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKG4tNTYzMjApLGkrKykscjwxMjg/dFtzKytdPXI6KHI8MjA0OD90W3MrK109MTkyfHI+Pj42OihyPDY1NTM2P3RbcysrXT0yMjR8cj4+PjEyOih0W3MrK109MjQwfHI+Pj4xOCx0W3MrK109MTI4fHI+Pj4xMiY2MyksdFtzKytdPTEyOHxyPj4+NiY2MyksdFtzKytdPTEyOHw2MyZyKTtyZXR1cm4gdH0oZSl9LHMudXRmOGRlY29kZT1mdW5jdGlvbihlKXtyZXR1cm4gaC5ub2RlYnVmZmVyP28udHJhbnNmb3JtVG8oXCJub2RlYnVmZmVyXCIsZSkudG9TdHJpbmcoXCJ1dGYtOFwiKTpmdW5jdGlvbihlKXt2YXIgdCxyLG4saSxzPWUubGVuZ3RoLGE9bmV3IEFycmF5KDIqcyk7Zm9yKHQ9cj0wO3Q8czspaWYoKG49ZVt0KytdKTwxMjgpYVtyKytdPW47ZWxzZSBpZig0PChpPXVbbl0pKWFbcisrXT02NTUzMyx0Kz1pLTE7ZWxzZXtmb3IobiY9Mj09PWk/MzE6Mz09PWk/MTU6NzsxPGkmJnQ8czspbj1uPDw2fDYzJmVbdCsrXSxpLS07MTxpP2FbcisrXT02NTUzMzpuPDY1NTM2P2FbcisrXT1uOihuLT02NTUzNixhW3IrK109NTUyOTZ8bj4+MTAmMTAyMyxhW3IrK109NTYzMjB8MTAyMyZuKX1yZXR1cm4gYS5sZW5ndGghPT1yJiYoYS5zdWJhcnJheT9hPWEuc3ViYXJyYXkoMCxyKTphLmxlbmd0aD1yKSxvLmFwcGx5RnJvbUNoYXJDb2RlKGEpfShlPW8udHJhbnNmb3JtVG8oaC51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIixlKSl9LG8uaW5oZXJpdHMoYSxuKSxhLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7dmFyIHQ9by50cmFuc2Zvcm1UbyhoLnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLGUuZGF0YSk7aWYodGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgpe2lmKGgudWludDhhcnJheSl7dmFyIHI9dDsodD1uZXcgVWludDhBcnJheShyLmxlbmd0aCt0aGlzLmxlZnRPdmVyLmxlbmd0aCkpLnNldCh0aGlzLmxlZnRPdmVyLDApLHQuc2V0KHIsdGhpcy5sZWZ0T3Zlci5sZW5ndGgpfWVsc2UgdD10aGlzLmxlZnRPdmVyLmNvbmNhdCh0KTt0aGlzLmxlZnRPdmVyPW51bGx9dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IoKHQ9dHx8ZS5sZW5ndGgpPmUubGVuZ3RoJiYodD1lLmxlbmd0aCkscj10LTE7MDw9ciYmMTI4PT0oMTkyJmVbcl0pOylyLS07cmV0dXJuIHI8MD90OjA9PT1yP3Q6cit1W2Vbcl1dPnQ/cjp0fSh0KSxpPXQ7biE9PXQubGVuZ3RoJiYoaC51aW50OGFycmF5PyhpPXQuc3ViYXJyYXkoMCxuKSx0aGlzLmxlZnRPdmVyPXQuc3ViYXJyYXkobix0Lmxlbmd0aCkpOihpPXQuc2xpY2UoMCxuKSx0aGlzLmxlZnRPdmVyPXQuc2xpY2Uobix0Lmxlbmd0aCkpKSx0aGlzLnB1c2goe2RhdGE6cy51dGY4ZGVjb2RlKGkpLG1ldGE6ZS5tZXRhfSl9LGEucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7dGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgmJih0aGlzLnB1c2goe2RhdGE6cy51dGY4ZGVjb2RlKHRoaXMubGVmdE92ZXIpLG1ldGE6e319KSx0aGlzLmxlZnRPdmVyPW51bGwpfSxzLlV0ZjhEZWNvZGVXb3JrZXI9YSxvLmluaGVyaXRzKGwsbiksbC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe3RoaXMucHVzaCh7ZGF0YTpzLnV0ZjhlbmNvZGUoZS5kYXRhKSxtZXRhOmUubWV0YX0pfSxzLlV0ZjhFbmNvZGVXb3JrZXI9bH0se1wiLi9ub2RlanNVdGlsc1wiOjE0LFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiOjI4LFwiLi9zdXBwb3J0XCI6MzAsXCIuL3V0aWxzXCI6MzJ9XSwzMjpbZnVuY3Rpb24oZSx0LGEpe1widXNlIHN0cmljdFwiO3ZhciBvPWUoXCIuL3N1cHBvcnRcIiksaD1lKFwiLi9iYXNlNjRcIikscj1lKFwiLi9ub2RlanNVdGlsc1wiKSx1PWUoXCIuL2V4dGVybmFsXCIpO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KytyKXRbcl09MjU1JmUuY2hhckNvZGVBdChyKTtyZXR1cm4gdH1lKFwic2V0aW1tZWRpYXRlXCIpLGEubmV3QmxvYj1mdW5jdGlvbih0LHIpe2EuY2hlY2tTdXBwb3J0KFwiYmxvYlwiKTt0cnl7cmV0dXJuIG5ldyBCbG9iKFt0XSx7dHlwZTpyfSl9Y2F0Y2goZSl7dHJ5e3ZhciBuPW5ldyhzZWxmLkJsb2JCdWlsZGVyfHxzZWxmLldlYktpdEJsb2JCdWlsZGVyfHxzZWxmLk1vekJsb2JCdWlsZGVyfHxzZWxmLk1TQmxvYkJ1aWxkZXIpO3JldHVybiBuLmFwcGVuZCh0KSxuLmdldEJsb2Iocil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiQnVnIDogY2FuJ3QgY29uc3RydWN0IHRoZSBCbG9iLlwiKX19fTt2YXIgaT17c3RyaW5naWZ5QnlDaHVuazpmdW5jdGlvbihlLHQscil7dmFyIG49W10saT0wLHM9ZS5sZW5ndGg7aWYoczw9cilyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUpO2Zvcig7aTxzOylcImFycmF5XCI9PT10fHxcIm5vZGVidWZmZXJcIj09PXQ/bi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLnNsaWNlKGksTWF0aC5taW4oaStyLHMpKSkpOm4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZS5zdWJhcnJheShpLE1hdGgubWluKGkrcixzKSkpKSxpKz1yO3JldHVybiBuLmpvaW4oXCJcIil9LHN0cmluZ2lmeUJ5Q2hhcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPTA7cjxlLmxlbmd0aDtyKyspdCs9U3RyaW5nLmZyb21DaGFyQ29kZShlW3JdKTtyZXR1cm4gdH0sYXBwbHlDYW5CZVVzZWQ6e3VpbnQ4YXJyYXk6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG8udWludDhhcnJheSYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSkubGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSxub2RlYnVmZmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBvLm5vZGVidWZmZXImJjE9PT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsci5hbGxvY0J1ZmZlcigxKSkubGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKX19O2Z1bmN0aW9uIHMoZSl7dmFyIHQ9NjU1MzYscj1hLmdldFR5cGVPZihlKSxuPSEwO2lmKFwidWludDhhcnJheVwiPT09cj9uPWkuYXBwbHlDYW5CZVVzZWQudWludDhhcnJheTpcIm5vZGVidWZmZXJcIj09PXImJihuPWkuYXBwbHlDYW5CZVVzZWQubm9kZWJ1ZmZlciksbilmb3IoOzE8dDspdHJ5e3JldHVybiBpLnN0cmluZ2lmeUJ5Q2h1bmsoZSxyLHQpfWNhdGNoKGUpe3Q9TWF0aC5mbG9vcih0LzIpfXJldHVybiBpLnN0cmluZ2lmeUJ5Q2hhcihlKX1mdW5jdGlvbiBmKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdFtyXT1lW3JdO3JldHVybiB0fWEuYXBwbHlGcm9tQ2hhckNvZGU9czt2YXIgYz17fTtjLnN0cmluZz17c3RyaW5nOm4sYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxuZXcgQXJyYXkoZS5sZW5ndGgpKX0sYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGMuc3RyaW5nLnVpbnQ4YXJyYXkoZSkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBsKGUsbmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gbChlLHIuYWxsb2NCdWZmZXIoZS5sZW5ndGgpKX19LGMuYXJyYXk9e3N0cmluZzpzLGFycmF5Om4sYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSl9LG5vZGVidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHIubmV3QnVmZmVyRnJvbShlKX19LGMuYXJyYXlidWZmZXI9e3N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gcyhuZXcgVWludDhBcnJheShlKSl9LGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBmKG5ldyBVaW50OEFycmF5KGUpLG5ldyBBcnJheShlLmJ5dGVMZW5ndGgpKX0sYXJyYXlidWZmZXI6bix1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVWludDhBcnJheShlKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gci5uZXdCdWZmZXJGcm9tKG5ldyBVaW50OEFycmF5KGUpKX19LGMudWludDhhcnJheT17c3RyaW5nOnMsYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGYoZSxuZXcgQXJyYXkoZS5sZW5ndGgpKX0sYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnVmZmVyfSx1aW50OGFycmF5Om4sbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gci5uZXdCdWZmZXJGcm9tKGUpfX0sYy5ub2RlYnVmZmVyPXtzdHJpbmc6cyxhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gZihlLG5ldyBBcnJheShlLmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gYy5ub2RlYnVmZmVyLnVpbnQ4YXJyYXkoZSkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBmKGUsbmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpufSxhLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxcIlwiLCFlKXJldHVybiB0O2EuY2hlY2tTdXBwb3J0KGUpO3ZhciByPWEuZ2V0VHlwZU9mKHQpO3JldHVybiBjW3JdW2VdKHQpfSxhLnJlc29sdmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc3BsaXQoXCIvXCIpLHI9W10sbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO1wiLlwiPT09aXx8XCJcIj09PWkmJjAhPT1uJiZuIT09dC5sZW5ndGgtMXx8KFwiLi5cIj09PWk/ci5wb3AoKTpyLnB1c2goaSkpfXJldHVybiByLmpvaW4oXCIvXCIpfSxhLmdldFR5cGVPZj1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9cInN0cmluZ1wiOlwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT9cImFycmF5XCI6by5ub2RlYnVmZmVyJiZyLmlzQnVmZmVyKGUpP1wibm9kZWJ1ZmZlclwiOm8udWludDhhcnJheSYmZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/XCJ1aW50OGFycmF5XCI6by5hcnJheWJ1ZmZlciYmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP1wiYXJyYXlidWZmZXJcIjp2b2lkIDB9LGEuY2hlY2tTdXBwb3J0PWZ1bmN0aW9uKGUpe2lmKCFvW2UudG9Mb3dlckNhc2UoKV0pdGhyb3cgbmV3IEVycm9yKGUrXCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsYXRmb3JtXCIpfSxhLk1BWF9WQUxVRV8xNkJJVFM9NjU1MzUsYS5NQVhfVkFMVUVfMzJCSVRTPS0xLGEucHJldHR5PWZ1bmN0aW9uKGUpe3ZhciB0LHIsbj1cIlwiO2ZvcihyPTA7cjwoZXx8XCJcIikubGVuZ3RoO3IrKyluKz1cIlxcXFx4XCIrKCh0PWUuY2hhckNvZGVBdChyKSk8MTY/XCIwXCI6XCJcIikrdC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtyZXR1cm4gbn0sYS5kZWxheT1mdW5jdGlvbihlLHQscil7c2V0SW1tZWRpYXRlKGZ1bmN0aW9uKCl7ZS5hcHBseShyfHxudWxsLHR8fFtdKX0pfSxhLmluaGVyaXRzPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe31yLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgcn0sYS5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHI9e307Zm9yKGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWZvcih0IGluIGFyZ3VtZW50c1tlXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndW1lbnRzW2VdLHQpJiZ2b2lkIDA9PT1yW3RdJiYoclt0XT1hcmd1bWVudHNbZV1bdF0pO3JldHVybiByfSxhLnByZXBhcmVDb250ZW50PWZ1bmN0aW9uKHIsZSxuLGkscyl7cmV0dXJuIHUuUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIG8uYmxvYiYmKG4gaW5zdGFuY2VvZiBCbG9ifHwtMSE9PVtcIltvYmplY3QgRmlsZV1cIixcIltvYmplY3QgQmxvYl1cIl0uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikpKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZpbGVSZWFkZXI/bmV3IHUuUHJvbWlzZShmdW5jdGlvbih0LHIpe3ZhciBlPW5ldyBGaWxlUmVhZGVyO2Uub25sb2FkPWZ1bmN0aW9uKGUpe3QoZS50YXJnZXQucmVzdWx0KX0sZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3IoZS50YXJnZXQuZXJyb3IpfSxlLnJlYWRBc0FycmF5QnVmZmVyKG4pfSk6bn0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9YS5nZXRUeXBlT2YoZSk7cmV0dXJuIHQ/KFwiYXJyYXlidWZmZXJcIj09PXQ/ZT1hLnRyYW5zZm9ybVRvKFwidWludDhhcnJheVwiLGUpOlwic3RyaW5nXCI9PT10JiYocz9lPWguZGVjb2RlKGUpOm4mJiEwIT09aSYmKGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxvLnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpOm5ldyBBcnJheShlLmxlbmd0aCkpfShlKSkpLGUpOnUuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2FuJ3QgcmVhZCB0aGUgZGF0YSBvZiAnXCIrcitcIicuIElzIGl0IGluIGEgc3VwcG9ydGVkIEphdmFTY3JpcHQgdHlwZSAoU3RyaW5nLCBCbG9iLCBBcnJheUJ1ZmZlciwgZXRjKSA/XCIpKX0pfX0se1wiLi9iYXNlNjRcIjoxLFwiLi9leHRlcm5hbFwiOjYsXCIuL25vZGVqc1V0aWxzXCI6MTQsXCIuL3N1cHBvcnRcIjozMCxzZXRpbW1lZGlhdGU6NTR9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuL3JlYWRlci9yZWFkZXJGb3JcIiksaT1lKFwiLi91dGlsc1wiKSxzPWUoXCIuL3NpZ25hdHVyZVwiKSxhPWUoXCIuL3ppcEVudHJ5XCIpLG89ZShcIi4vc3VwcG9ydFwiKTtmdW5jdGlvbiBoKGUpe3RoaXMuZmlsZXM9W10sdGhpcy5sb2FkT3B0aW9ucz1lfWgucHJvdG90eXBlPXtjaGVja1NpZ25hdHVyZTpmdW5jdGlvbihlKXtpZighdGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKGUpKXt0aGlzLnJlYWRlci5pbmRleC09NDt2YXIgdD10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpO3Rocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgb3IgYnVnOiB1bmV4cGVjdGVkIHNpZ25hdHVyZSAoXCIraS5wcmV0dHkodCkrXCIsIGV4cGVjdGVkIFwiK2kucHJldHR5KGUpK1wiKVwiKX19LGlzU2lnbmF0dXJlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5yZWFkZXIuaW5kZXg7dGhpcy5yZWFkZXIuc2V0SW5kZXgoZSk7dmFyIG49dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KT09PXQ7cmV0dXJuIHRoaXMucmVhZGVyLnNldEluZGV4KHIpLG59LHJlYWRCbG9ja0VuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3RoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy56aXBDb21tZW50TGVuZ3RoPXRoaXMucmVhZGVyLnJlYWRJbnQoMik7dmFyIGU9dGhpcy5yZWFkZXIucmVhZERhdGEodGhpcy56aXBDb21tZW50TGVuZ3RoKSx0PW8udWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIscj1pLnRyYW5zZm9ybVRvKHQsZSk7dGhpcy56aXBDb21tZW50PXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUocil9LHJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnJlYWRlci5za2lwKDQpLHRoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhPXt9O2Zvcih2YXIgZSx0LHIsbj10aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZS00NDswPG47KWU9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCkscj10aGlzLnJlYWRlci5yZWFkRGF0YSh0KSx0aGlzLnppcDY0RXh0ZW5zaWJsZURhdGFbZV09e2lkOmUsbGVuZ3RoOnQsdmFsdWU6cn19LHJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsTG9jYXRvcjpmdW5jdGlvbigpe2lmKHRoaXMuZGlza1dpdGhaaXA2NENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcj10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuZGlza3NDb3VudD10aGlzLnJlYWRlci5yZWFkSW50KDQpLDE8dGhpcy5kaXNrc0NvdW50KXRocm93IG5ldyBFcnJvcihcIk11bHRpLXZvbHVtZXMgemlwIGFyZSBub3Qgc3VwcG9ydGVkXCIpfSxyZWFkTG9jYWxGaWxlczpmdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKGU9MDtlPHRoaXMuZmlsZXMubGVuZ3RoO2UrKyl0PXRoaXMuZmlsZXNbZV0sdGhpcy5yZWFkZXIuc2V0SW5kZXgodC5sb2NhbEhlYWRlck9mZnNldCksdGhpcy5jaGVja1NpZ25hdHVyZShzLkxPQ0FMX0ZJTEVfSEVBREVSKSx0LnJlYWRMb2NhbFBhcnQodGhpcy5yZWFkZXIpLHQuaGFuZGxlVVRGOCgpLHQucHJvY2Vzc0F0dHJpYnV0ZXMoKX0scmVhZENlbnRyYWxEaXI6ZnVuY3Rpb24oKXt2YXIgZTtmb3IodGhpcy5yZWFkZXIuc2V0SW5kZXgodGhpcy5jZW50cmFsRGlyT2Zmc2V0KTt0aGlzLnJlYWRlci5yZWFkQW5kQ2hlY2tTaWduYXR1cmUocy5DRU5UUkFMX0ZJTEVfSEVBREVSKTspKGU9bmV3IGEoe3ppcDY0OnRoaXMuemlwNjR9LHRoaXMubG9hZE9wdGlvbnMpKS5yZWFkQ2VudHJhbFBhcnQodGhpcy5yZWFkZXIpLHRoaXMuZmlsZXMucHVzaChlKTtpZih0aGlzLmNlbnRyYWxEaXJSZWNvcmRzIT09dGhpcy5maWxlcy5sZW5ndGgmJjAhPT10aGlzLmNlbnRyYWxEaXJSZWNvcmRzJiYwPT09dGhpcy5maWxlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCBvciBidWc6IGV4cGVjdGVkIFwiK3RoaXMuY2VudHJhbERpclJlY29yZHMrXCIgcmVjb3JkcyBpbiBjZW50cmFsIGRpciwgZ290IFwiK3RoaXMuZmlsZXMubGVuZ3RoKX0scmVhZEVuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHMuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKTtpZihlPDApdGhyb3chdGhpcy5pc1NpZ25hdHVyZSgwLHMuTE9DQUxfRklMRV9IRUFERVIpP25ldyBFcnJvcihcIkNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IDogaXMgdGhpcyBhIHppcCBmaWxlID8gSWYgaXQgaXMsIHNlZSBodHRwczovL3N0dWsuZ2l0aHViLmlvL2pzemlwL2RvY3VtZW50YXRpb24vaG93dG8vcmVhZF96aXAuaHRtbFwiKTpuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeVwiKTt0aGlzLnJlYWRlci5zZXRJbmRleChlKTt2YXIgdD1lO2lmKHRoaXMuY2hlY2tTaWduYXR1cmUocy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVhZEJsb2NrRW5kT2ZDZW50cmFsKCksdGhpcy5kaXNrTnVtYmVyPT09aS5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PT09aS5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz09PWkuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyUmVjb3Jkcz09PWkuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyU2l6ZT09PWkuTUFYX1ZBTFVFXzMyQklUU3x8dGhpcy5jZW50cmFsRGlyT2Zmc2V0PT09aS5NQVhfVkFMVUVfMzJCSVRTKXtpZih0aGlzLnppcDY0PSEwLChlPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUikpPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IGxvY2F0b3JcIik7aWYodGhpcy5yZWFkZXIuc2V0SW5kZXgoZSksdGhpcy5jaGVja1NpZ25hdHVyZShzLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1IpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yKCksIXRoaXMuaXNTaWduYXR1cmUodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyLHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSYmKHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcj10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPDApKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgdGhlIFpJUDY0IGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeVwiKTt0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIpLHRoaXMuY2hlY2tTaWduYXR1cmUocy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWwoKX12YXIgcj10aGlzLmNlbnRyYWxEaXJPZmZzZXQrdGhpcy5jZW50cmFsRGlyU2l6ZTt0aGlzLnppcDY0JiYocis9MjAscis9MTIrdGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUpO3ZhciBuPXQtcjtpZigwPG4pdGhpcy5pc1NpZ25hdHVyZSh0LHMuQ0VOVFJBTF9GSUxFX0hFQURFUil8fCh0aGlzLnJlYWRlci56ZXJvPW4pO2Vsc2UgaWYobjwwKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IG1pc3NpbmcgXCIrTWF0aC5hYnMobikrXCIgYnl0ZXMuXCIpfSxwcmVwYXJlUmVhZGVyOmZ1bmN0aW9uKGUpe3RoaXMucmVhZGVyPW4oZSl9LGxvYWQ6ZnVuY3Rpb24oZSl7dGhpcy5wcmVwYXJlUmVhZGVyKGUpLHRoaXMucmVhZEVuZE9mQ2VudHJhbCgpLHRoaXMucmVhZENlbnRyYWxEaXIoKSx0aGlzLnJlYWRMb2NhbEZpbGVzKCl9fSx0LmV4cG9ydHM9aH0se1wiLi9yZWFkZXIvcmVhZGVyRm9yXCI6MjIsXCIuL3NpZ25hdHVyZVwiOjIzLFwiLi9zdXBwb3J0XCI6MzAsXCIuL3V0aWxzXCI6MzIsXCIuL3ppcEVudHJ5XCI6MzR9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuL3JlYWRlci9yZWFkZXJGb3JcIikscz1lKFwiLi91dGlsc1wiKSxpPWUoXCIuL2NvbXByZXNzZWRPYmplY3RcIiksYT1lKFwiLi9jcmMzMlwiKSxvPWUoXCIuL3V0ZjhcIiksaD1lKFwiLi9jb21wcmVzc2lvbnNcIiksdT1lKFwiLi9zdXBwb3J0XCIpO2Z1bmN0aW9uIGwoZSx0KXt0aGlzLm9wdGlvbnM9ZSx0aGlzLmxvYWRPcHRpb25zPXR9bC5wcm90b3R5cGU9e2lzRW5jcnlwdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMuYml0RmxhZyl9LHVzZVVURjg6ZnVuY3Rpb24oKXtyZXR1cm4gMjA0OD09KDIwNDgmdGhpcy5iaXRGbGFnKX0scmVhZExvY2FsUGFydDpmdW5jdGlvbihlKXt2YXIgdCxyO2lmKGUuc2tpcCgyMiksdGhpcy5maWxlTmFtZUxlbmd0aD1lLnJlYWRJbnQoMikscj1lLnJlYWRJbnQoMiksdGhpcy5maWxlTmFtZT1lLnJlYWREYXRhKHRoaXMuZmlsZU5hbWVMZW5ndGgpLGUuc2tpcChyKSwtMT09PXRoaXMuY29tcHJlc3NlZFNpemV8fC0xPT09dGhpcy51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcihcIkJ1ZyBvciBjb3JydXB0ZWQgemlwIDogZGlkbid0IGdldCBlbm91Z2ggaW5mb3JtYXRpb24gZnJvbSB0aGUgY2VudHJhbCBkaXJlY3RvcnkgKGNvbXByZXNzZWRTaXplID09PSAtMSB8fCB1bmNvbXByZXNzZWRTaXplID09PSAtMSlcIik7aWYobnVsbD09PSh0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBoKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLHQpJiZoW3RdLm1hZ2ljPT09ZSlyZXR1cm4gaFt0XTtyZXR1cm4gbnVsbH0odGhpcy5jb21wcmVzc2lvbk1ldGhvZCkpKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgOiBjb21wcmVzc2lvbiBcIitzLnByZXR0eSh0aGlzLmNvbXByZXNzaW9uTWV0aG9kKStcIiB1bmtub3duIChpbm5lciBmaWxlIDogXCIrcy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHRoaXMuZmlsZU5hbWUpK1wiKVwiKTt0aGlzLmRlY29tcHJlc3NlZD1uZXcgaSh0aGlzLmNvbXByZXNzZWRTaXplLHRoaXMudW5jb21wcmVzc2VkU2l6ZSx0aGlzLmNyYzMyLHQsZS5yZWFkRGF0YSh0aGlzLmNvbXByZXNzZWRTaXplKSl9LHJlYWRDZW50cmFsUGFydDpmdW5jdGlvbihlKXt0aGlzLnZlcnNpb25NYWRlQnk9ZS5yZWFkSW50KDIpLGUuc2tpcCgyKSx0aGlzLmJpdEZsYWc9ZS5yZWFkSW50KDIpLHRoaXMuY29tcHJlc3Npb25NZXRob2Q9ZS5yZWFkU3RyaW5nKDIpLHRoaXMuZGF0ZT1lLnJlYWREYXRlKCksdGhpcy5jcmMzMj1lLnJlYWRJbnQoNCksdGhpcy5jb21wcmVzc2VkU2l6ZT1lLnJlYWRJbnQoNCksdGhpcy51bmNvbXByZXNzZWRTaXplPWUucmVhZEludCg0KTt2YXIgdD1lLnJlYWRJbnQoMik7aWYodGhpcy5leHRyYUZpZWxkc0xlbmd0aD1lLnJlYWRJbnQoMiksdGhpcy5maWxlQ29tbWVudExlbmd0aD1lLnJlYWRJbnQoMiksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9ZS5yZWFkSW50KDIpLHRoaXMuaW50ZXJuYWxGaWxlQXR0cmlidXRlcz1lLnJlYWRJbnQoMiksdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzPWUucmVhZEludCg0KSx0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PWUucmVhZEludCg0KSx0aGlzLmlzRW5jcnlwdGVkKCkpdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGVkIHppcCBhcmUgbm90IHN1cHBvcnRlZFwiKTtlLnNraXAodCksdGhpcy5yZWFkRXh0cmFGaWVsZHMoZSksdGhpcy5wYXJzZVpJUDY0RXh0cmFGaWVsZChlKSx0aGlzLmZpbGVDb21tZW50PWUucmVhZERhdGEodGhpcy5maWxlQ29tbWVudExlbmd0aCl9LHByb2Nlc3NBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy51bml4UGVybWlzc2lvbnM9bnVsbCx0aGlzLmRvc1Blcm1pc3Npb25zPW51bGw7dmFyIGU9dGhpcy52ZXJzaW9uTWFkZUJ5Pj44O3RoaXMuZGlyPSEhKDE2JnRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcyksMD09ZSYmKHRoaXMuZG9zUGVybWlzc2lvbnM9NjMmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwzPT1lJiYodGhpcy51bml4UGVybWlzc2lvbnM9dGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzPj4xNiY2NTUzNSksdGhpcy5kaXJ8fFwiL1wiIT09dGhpcy5maWxlTmFtZVN0ci5zbGljZSgtMSl8fCh0aGlzLmRpcj0hMCl9LHBhcnNlWklQNjRFeHRyYUZpZWxkOmZ1bmN0aW9uKCl7aWYodGhpcy5leHRyYUZpZWxkc1sxXSl7dmFyIGU9bih0aGlzLmV4dHJhRmllbGRzWzFdLnZhbHVlKTt0aGlzLnVuY29tcHJlc3NlZFNpemU9PT1zLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLnVuY29tcHJlc3NlZFNpemU9ZS5yZWFkSW50KDgpKSx0aGlzLmNvbXByZXNzZWRTaXplPT09cy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5jb21wcmVzc2VkU2l6ZT1lLnJlYWRJbnQoOCkpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9PT1zLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PWUucmVhZEludCg4KSksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9PT1zLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmRpc2tOdW1iZXJTdGFydD1lLnJlYWRJbnQoNCkpfX0scmVhZEV4dHJhRmllbGRzOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpPWUuaW5kZXgrdGhpcy5leHRyYUZpZWxkc0xlbmd0aDtmb3IodGhpcy5leHRyYUZpZWxkc3x8KHRoaXMuZXh0cmFGaWVsZHM9e30pO2UuaW5kZXgrNDxpOyl0PWUucmVhZEludCgyKSxyPWUucmVhZEludCgyKSxuPWUucmVhZERhdGEociksdGhpcy5leHRyYUZpZWxkc1t0XT17aWQ6dCxsZW5ndGg6cix2YWx1ZTpufTtlLnNldEluZGV4KGkpfSxoYW5kbGVVVEY4OmZ1bmN0aW9uKCl7dmFyIGU9dS51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIjtpZih0aGlzLnVzZVVURjgoKSl0aGlzLmZpbGVOYW1lU3RyPW8udXRmOGRlY29kZSh0aGlzLmZpbGVOYW1lKSx0aGlzLmZpbGVDb21tZW50U3RyPW8udXRmOGRlY29kZSh0aGlzLmZpbGVDb21tZW50KTtlbHNle3ZhciB0PXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aCgpO2lmKG51bGwhPT10KXRoaXMuZmlsZU5hbWVTdHI9dDtlbHNle3ZhciByPXMudHJhbnNmb3JtVG8oZSx0aGlzLmZpbGVOYW1lKTt0aGlzLmZpbGVOYW1lU3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUocil9dmFyIG49dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50KCk7aWYobnVsbCE9PW4pdGhpcy5maWxlQ29tbWVudFN0cj1uO2Vsc2V7dmFyIGk9cy50cmFuc2Zvcm1UbyhlLHRoaXMuZmlsZUNvbW1lbnQpO3RoaXMuZmlsZUNvbW1lbnRTdHI9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShpKX19fSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leHRyYUZpZWxkc1syODc4OV07aWYoZSl7dmFyIHQ9bihlLnZhbHVlKTtyZXR1cm4gMSE9PXQucmVhZEludCgxKT9udWxsOmEodGhpcy5maWxlTmFtZSkhPT10LnJlYWRJbnQoNCk/bnVsbDpvLnV0ZjhkZWNvZGUodC5yZWFkRGF0YShlLmxlbmd0aC01KSl9cmV0dXJuIG51bGx9LGZpbmRFeHRyYUZpZWxkVW5pY29kZUNvbW1lbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmV4dHJhRmllbGRzWzI1NDYxXTtpZihlKXt2YXIgdD1uKGUudmFsdWUpO3JldHVybiAxIT09dC5yZWFkSW50KDEpP251bGw6YSh0aGlzLmZpbGVDb21tZW50KSE9PXQucmVhZEludCg0KT9udWxsOm8udXRmOGRlY29kZSh0LnJlYWREYXRhKGUubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH19LHQuZXhwb3J0cz1sfSx7XCIuL2NvbXByZXNzZWRPYmplY3RcIjoyLFwiLi9jb21wcmVzc2lvbnNcIjozLFwiLi9jcmMzMlwiOjQsXCIuL3JlYWRlci9yZWFkZXJGb3JcIjoyMixcIi4vc3VwcG9ydFwiOjMwLFwiLi91dGY4XCI6MzEsXCIuL3V0aWxzXCI6MzJ9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LHIpe3RoaXMubmFtZT1lLHRoaXMuZGlyPXIuZGlyLHRoaXMuZGF0ZT1yLmRhdGUsdGhpcy5jb21tZW50PXIuY29tbWVudCx0aGlzLnVuaXhQZXJtaXNzaW9ucz1yLnVuaXhQZXJtaXNzaW9ucyx0aGlzLmRvc1Blcm1pc3Npb25zPXIuZG9zUGVybWlzc2lvbnMsdGhpcy5fZGF0YT10LHRoaXMuX2RhdGFCaW5hcnk9ci5iaW5hcnksdGhpcy5vcHRpb25zPXtjb21wcmVzc2lvbjpyLmNvbXByZXNzaW9uLGNvbXByZXNzaW9uT3B0aW9uczpyLmNvbXByZXNzaW9uT3B0aW9uc319dmFyIHM9ZShcIi4vc3RyZWFtL1N0cmVhbUhlbHBlclwiKSxpPWUoXCIuL3N0cmVhbS9EYXRhV29ya2VyXCIpLGE9ZShcIi4vdXRmOFwiKSxvPWUoXCIuL2NvbXByZXNzZWRPYmplY3RcIiksaD1lKFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKTtuLnByb3RvdHlwZT17aW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCxyPVwic3RyaW5nXCI7dHJ5e2lmKCFlKXRocm93IG5ldyBFcnJvcihcIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC5cIik7dmFyIG49XCJzdHJpbmdcIj09PShyPWUudG9Mb3dlckNhc2UoKSl8fFwidGV4dFwiPT09cjtcImJpbmFyeXN0cmluZ1wiIT09ciYmXCJ0ZXh0XCIhPT1yfHwocj1cInN0cmluZ1wiKSx0PXRoaXMuX2RlY29tcHJlc3NXb3JrZXIoKTt2YXIgaT0hdGhpcy5fZGF0YUJpbmFyeTtpJiYhbiYmKHQ9dC5waXBlKG5ldyBhLlV0ZjhFbmNvZGVXb3JrZXIpKSwhaSYmbiYmKHQ9dC5waXBlKG5ldyBhLlV0ZjhEZWNvZGVXb3JrZXIpKX1jYXRjaChlKXsodD1uZXcgaChcImVycm9yXCIpKS5lcnJvcihlKX1yZXR1cm4gbmV3IHModCxyLFwiXCIpfSxhc3luYzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmludGVybmFsU3RyZWFtKGUpLmFjY3VtdWxhdGUodCl9LG5vZGVTdHJlYW06ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbShlfHxcIm5vZGVidWZmZXJcIikudG9Ob2RlanNTdHJlYW0odCl9LF9jb21wcmVzc1dvcmtlcjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBvJiZ0aGlzLl9kYXRhLmNvbXByZXNzaW9uLm1hZ2ljPT09ZS5tYWdpYylyZXR1cm4gdGhpcy5fZGF0YS5nZXRDb21wcmVzc2VkV29ya2VyKCk7dmFyIHI9dGhpcy5fZGVjb21wcmVzc1dvcmtlcigpO3JldHVybiB0aGlzLl9kYXRhQmluYXJ5fHwocj1yLnBpcGUobmV3IGEuVXRmOEVuY29kZVdvcmtlcikpLG8uY3JlYXRlV29ya2VyRnJvbShyLGUsdCl9LF9kZWNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBvP3RoaXMuX2RhdGEuZ2V0Q29udGVudFdvcmtlcigpOnRoaXMuX2RhdGEgaW5zdGFuY2VvZiBoP3RoaXMuX2RhdGE6bmV3IGkodGhpcy5fZGF0YSl9fTtmb3IodmFyIHU9W1wiYXNUZXh0XCIsXCJhc0JpbmFyeVwiLFwiYXNOb2RlQnVmZmVyXCIsXCJhc1VpbnQ4QXJyYXlcIixcImFzQXJyYXlCdWZmZXJcIl0sbD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxmPTA7Zjx1Lmxlbmd0aDtmKyspbi5wcm90b3R5cGVbdVtmXV09bDt0LmV4cG9ydHM9bn0se1wiLi9jb21wcmVzc2VkT2JqZWN0XCI6MixcIi4vc3RyZWFtL0RhdGFXb3JrZXJcIjoyNyxcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4vc3RyZWFtL1N0cmVhbUhlbHBlclwiOjI5LFwiLi91dGY4XCI6MzF9XSwzNjpbZnVuY3Rpb24oZSxsLHQpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgcixuLGU9dC5NdXRhdGlvbk9ic2VydmVyfHx0LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7aWYoZSl7dmFyIGk9MCxzPW5ldyBlKHUpLGE9dC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtzLm9ic2VydmUoYSx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXthLmRhdGE9aT0rK2klMn19ZWxzZSBpZih0LnNldEltbWVkaWF0ZXx8dm9pZCAwPT09dC5NZXNzYWdlQ2hhbm5lbClyPVwiZG9jdW1lbnRcImluIHQmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiB0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgZT10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt1KCksZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksZT1udWxsfSx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChlKX06ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHUsMCl9O2Vsc2V7dmFyIG89bmV3IHQuTWVzc2FnZUNoYW5uZWw7by5wb3J0MS5vbm1lc3NhZ2U9dSxyPWZ1bmN0aW9uKCl7by5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19dmFyIGg9W107ZnVuY3Rpb24gdSgpe3ZhciBlLHQ7bj0hMDtmb3IodmFyIHI9aC5sZW5ndGg7cjspe2Zvcih0PWgsaD1bXSxlPS0xOysrZTxyOyl0W2VdKCk7cj1oLmxlbmd0aH1uPSExfWwuZXhwb3J0cz1mdW5jdGlvbihlKXsxIT09aC5wdXNoKGUpfHxufHxyKCl9fSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiaW1tZWRpYXRlXCIpO2Z1bmN0aW9uIHUoKXt9dmFyIGw9e30scz1bXCJSRUpFQ1RFRFwiXSxhPVtcIkZVTEZJTExFRFwiXSxuPVtcIlBFTkRJTkdcIl07ZnVuY3Rpb24gbyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dGhpcy5zdGF0ZT1uLHRoaXMucXVldWU9W10sdGhpcy5vdXRjb21lPXZvaWQgMCxlIT09dSYmZCh0aGlzLGUpfWZ1bmN0aW9uIGgoZSx0LHIpe3RoaXMucHJvbWlzZT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLm9uRnVsZmlsbGVkPXQsdGhpcy5jYWxsRnVsZmlsbGVkPXRoaXMub3RoZXJDYWxsRnVsZmlsbGVkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYodGhpcy5vblJlamVjdGVkPXIsdGhpcy5jYWxsUmVqZWN0ZWQ9dGhpcy5vdGhlckNhbGxSZWplY3RlZCl9ZnVuY3Rpb24gZih0LHIsbil7aShmdW5jdGlvbigpe3ZhciBlO3RyeXtlPXIobil9Y2F0Y2goZSl7cmV0dXJuIGwucmVqZWN0KHQsZSl9ZT09PXQ/bC5yZWplY3QodCxuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKSk6bC5yZXNvbHZlKHQsZSl9KX1mdW5jdGlvbiBjKGUpe3ZhciB0PWUmJmUudGhlbjtpZihlJiYoXCJvYmplY3RcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbigpe3QuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiBkKHQsZSl7dmFyIHI9ITE7ZnVuY3Rpb24gbihlKXtyfHwocj0hMCxsLnJlamVjdCh0LGUpKX1mdW5jdGlvbiBpKGUpe3J8fChyPSEwLGwucmVzb2x2ZSh0LGUpKX12YXIgcz1wKGZ1bmN0aW9uKCl7ZShpLG4pfSk7XCJlcnJvclwiPT09cy5zdGF0dXMmJm4ocy52YWx1ZSl9ZnVuY3Rpb24gcChlLHQpe3ZhciByPXt9O3RyeXtyLnZhbHVlPWUodCksci5zdGF0dXM9XCJzdWNjZXNzXCJ9Y2F0Y2goZSl7ci5zdGF0dXM9XCJlcnJvclwiLHIudmFsdWU9ZX1yZXR1cm4gcn0odC5leHBvcnRzPW8pLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlc29sdmUodCgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVzb2x2ZSh0KCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBlfSl9KX0sby5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxvLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmdGhpcy5zdGF0ZT09PWF8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJnRoaXMuc3RhdGU9PT1zKXJldHVybiB0aGlzO3ZhciByPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHUpO3RoaXMuc3RhdGUhPT1uP2Yocix0aGlzLnN0YXRlPT09YT9lOnQsdGhpcy5vdXRjb21lKTp0aGlzLnF1ZXVlLnB1c2gobmV3IGgocixlLHQpKTtyZXR1cm4gcn0saC5wcm90b3R5cGUuY2FsbEZ1bGZpbGxlZD1mdW5jdGlvbihlKXtsLnJlc29sdmUodGhpcy5wcm9taXNlLGUpfSxoLnByb3RvdHlwZS5vdGhlckNhbGxGdWxmaWxsZWQ9ZnVuY3Rpb24oZSl7Zih0aGlzLnByb21pc2UsdGhpcy5vbkZ1bGZpbGxlZCxlKX0saC5wcm90b3R5cGUuY2FsbFJlamVjdGVkPWZ1bmN0aW9uKGUpe2wucmVqZWN0KHRoaXMucHJvbWlzZSxlKX0saC5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7Zih0aGlzLnByb21pc2UsdGhpcy5vblJlamVjdGVkLGUpfSxsLnJlc29sdmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1wKGMsdCk7aWYoXCJlcnJvclwiPT09ci5zdGF0dXMpcmV0dXJuIGwucmVqZWN0KGUsci52YWx1ZSk7dmFyIG49ci52YWx1ZTtpZihuKWQoZSxuKTtlbHNle2Uuc3RhdGU9YSxlLm91dGNvbWU9dDtmb3IodmFyIGk9LTEscz1lLnF1ZXVlLmxlbmd0aDsrK2k8czspZS5xdWV1ZVtpXS5jYWxsRnVsZmlsbGVkKHQpfXJldHVybiBlfSxsLnJlamVjdD1mdW5jdGlvbihlLHQpe2Uuc3RhdGU9cyxlLm91dGNvbWU9dDtmb3IodmFyIHI9LTEsbj1lLnF1ZXVlLmxlbmd0aDsrK3I8bjspZS5xdWV1ZVtyXS5jYWxsUmVqZWN0ZWQodCk7cmV0dXJuIGV9LG8ucmVzb2x2ZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdGhpcylyZXR1cm4gZTtyZXR1cm4gbC5yZXNvbHZlKG5ldyB0aGlzKHUpLGUpfSxvLnJlamVjdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcyh1KTtyZXR1cm4gbC5yZWplY3QodCxlKX0sby5hbGw9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztpZihcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJtdXN0IGJlIGFuIGFycmF5XCIpKTt2YXIgbj1lLmxlbmd0aCxpPSExO2lmKCFuKXJldHVybiB0aGlzLnJlc29sdmUoW10pO3ZhciBzPW5ldyBBcnJheShuKSxhPTAsdD0tMSxvPW5ldyB0aGlzKHUpO2Zvcig7Kyt0PG47KWgoZVt0XSx0KTtyZXR1cm4gbztmdW5jdGlvbiBoKGUsdCl7ci5yZXNvbHZlKGUpLnRoZW4oZnVuY3Rpb24oZSl7c1t0XT1lLCsrYSE9PW58fGl8fChpPSEwLGwucmVzb2x2ZShvLHMpKX0sZnVuY3Rpb24oZSl7aXx8KGk9ITAsbC5yZWplY3QobyxlKSl9KX19LG8ucmFjZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKFwiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIm11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciByPWUubGVuZ3RoLG49ITE7aWYoIXIpcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7dmFyIGk9LTEscz1uZXcgdGhpcyh1KTtmb3IoOysraTxyOylhPWVbaV0sdC5yZXNvbHZlKGEpLnRoZW4oZnVuY3Rpb24oZSl7bnx8KG49ITAsbC5yZXNvbHZlKHMsZSkpfSxmdW5jdGlvbihlKXtufHwobj0hMCxsLnJlamVjdChzLGUpKX0pO3ZhciBhO3JldHVybiBzfX0se2ltbWVkaWF0ZTozNn1dLDM4OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49e307KDAsZShcIi4vbGliL3V0aWxzL2NvbW1vblwiKS5hc3NpZ24pKG4sZShcIi4vbGliL2RlZmxhdGVcIiksZShcIi4vbGliL2luZmxhdGVcIiksZShcIi4vbGliL3psaWIvY29uc3RhbnRzXCIpKSx0LmV4cG9ydHM9bn0se1wiLi9saWIvZGVmbGF0ZVwiOjM5LFwiLi9saWIvaW5mbGF0ZVwiOjQwLFwiLi9saWIvdXRpbHMvY29tbW9uXCI6NDEsXCIuL2xpYi96bGliL2NvbnN0YW50c1wiOjQ0fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgYT1lKFwiLi96bGliL2RlZmxhdGVcIiksbz1lKFwiLi91dGlscy9jb21tb25cIiksaD1lKFwiLi91dGlscy9zdHJpbmdzXCIpLGk9ZShcIi4vemxpYi9tZXNzYWdlc1wiKSxzPWUoXCIuL3psaWIvenN0cmVhbVwiKSx1PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbD0wLGY9LTEsYz0wLGQ9ODtmdW5jdGlvbiBwKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHApKXJldHVybiBuZXcgcChlKTt0aGlzLm9wdGlvbnM9by5hc3NpZ24oe2xldmVsOmYsbWV0aG9kOmQsY2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MTUsbWVtTGV2ZWw6OCxzdHJhdGVneTpjLHRvOlwiXCJ9LGV8fHt9KTt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYXcmJjA8dC53aW5kb3dCaXRzP3Qud2luZG93Qml0cz0tdC53aW5kb3dCaXRzOnQuZ3ppcCYmMDx0LndpbmRvd0JpdHMmJnQud2luZG93Qml0czwxNiYmKHQud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgcyx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHI9YS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLHQubGV2ZWwsdC5tZXRob2QsdC53aW5kb3dCaXRzLHQubWVtTGV2ZWwsdC5zdHJhdGVneSk7aWYociE9PWwpdGhyb3cgbmV3IEVycm9yKGlbcl0pO2lmKHQuaGVhZGVyJiZhLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLHQuaGVhZGVyKSx0LmRpY3Rpb25hcnkpe3ZhciBuO2lmKG49XCJzdHJpbmdcIj09dHlwZW9mIHQuZGljdGlvbmFyeT9oLnN0cmluZzJidWYodC5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT11LmNhbGwodC5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpOnQuZGljdGlvbmFyeSwocj1hLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxuKSkhPT1sKXRocm93IG5ldyBFcnJvcihpW3JdKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gbihlLHQpe3ZhciByPW5ldyBwKHQpO2lmKHIucHVzaChlLCEwKSxyLmVycil0aHJvdyByLm1zZ3x8aVtyLmVycl07cmV0dXJuIHIucmVzdWx0fXAucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9dGhpcy5zdHJtLHM9dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtpZih0aGlzLmVuZGVkKXJldHVybiExO249dD09PX5+dD90OiEwPT09dD80OjAsXCJzdHJpbmdcIj09dHlwZW9mIGU/aS5pbnB1dD1oLnN0cmluZzJidWYoZSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09dS5jYWxsKGUpP2kuaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZSk6aS5pbnB1dD1lLGkubmV4dF9pbj0wLGkuYXZhaWxfaW49aS5pbnB1dC5sZW5ndGg7ZG97aWYoMD09PWkuYXZhaWxfb3V0JiYoaS5vdXRwdXQ9bmV3IG8uQnVmOChzKSxpLm5leHRfb3V0PTAsaS5hdmFpbF9vdXQ9cyksMSE9PShyPWEuZGVmbGF0ZShpLG4pKSYmciE9PWwpcmV0dXJuIHRoaXMub25FbmQociksISh0aGlzLmVuZGVkPSEwKTswIT09aS5hdmFpbF9vdXQmJigwIT09aS5hdmFpbF9pbnx8NCE9PW4mJjIhPT1uKXx8KFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEoaC5idWYyYmluc3RyaW5nKG8uc2hyaW5rQnVmKGkub3V0cHV0LGkubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEoby5zaHJpbmtCdWYoaS5vdXRwdXQsaS5uZXh0X291dCkpKX13aGlsZSgoMDxpLmF2YWlsX2lufHwwPT09aS5hdmFpbF9vdXQpJiYxIT09cik7cmV0dXJuIDQ9PT1uPyhyPWEuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQociksdGhpcy5lbmRlZD0hMCxyPT09bCk6MiE9PW58fCh0aGlzLm9uRW5kKGwpLCEoaS5hdmFpbF9vdXQ9MCkpfSxwLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0scC5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oZSl7ZT09PWwmJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9by5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxyLkRlZmxhdGU9cCxyLmRlZmxhdGU9bixyLmRlZmxhdGVSYXc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx7fSkucmF3PSEwLG4oZSx0KX0sci5nemlwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLmd6aXA9ITAsbihlLHQpfX0se1wiLi91dGlscy9jb21tb25cIjo0MSxcIi4vdXRpbHMvc3RyaW5nc1wiOjQyLFwiLi96bGliL2RlZmxhdGVcIjo0NixcIi4vemxpYi9tZXNzYWdlc1wiOjUxLFwiLi96bGliL3pzdHJlYW1cIjo1M31dLDQwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGM9ZShcIi4vemxpYi9pbmZsYXRlXCIpLGQ9ZShcIi4vdXRpbHMvY29tbW9uXCIpLHA9ZShcIi4vdXRpbHMvc3RyaW5nc1wiKSxtPWUoXCIuL3psaWIvY29uc3RhbnRzXCIpLG49ZShcIi4vemxpYi9tZXNzYWdlc1wiKSxpPWUoXCIuL3psaWIvenN0cmVhbVwiKSxzPWUoXCIuL3psaWIvZ3poZWFkZXJcIiksXz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIGEoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgYSkpcmV0dXJuIG5ldyBhKGUpO3RoaXMub3B0aW9ucz1kLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzpcIlwifSxlfHx7fSk7dmFyIHQ9dGhpcy5vcHRpb25zO3QucmF3JiYwPD10LndpbmRvd0JpdHMmJnQud2luZG93Qml0czwxNiYmKHQud2luZG93Qml0cz0tdC53aW5kb3dCaXRzLDA9PT10LndpbmRvd0JpdHMmJih0LndpbmRvd0JpdHM9LTE1KSksISgwPD10LndpbmRvd0JpdHMmJnQud2luZG93Qml0czwxNil8fGUmJmUud2luZG93Qml0c3x8KHQud2luZG93Qml0cys9MzIpLDE1PHQud2luZG93Qml0cyYmdC53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmdC53aW5kb3dCaXRzKSYmKHQud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgaSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHI9Yy5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLHQud2luZG93Qml0cyk7aWYociE9PW0uWl9PSyl0aHJvdyBuZXcgRXJyb3IobltyXSk7dGhpcy5oZWFkZXI9bmV3IHMsYy5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlcil9ZnVuY3Rpb24gbyhlLHQpe3ZhciByPW5ldyBhKHQpO2lmKHIucHVzaChlLCEwKSxyLmVycil0aHJvdyByLm1zZ3x8bltyLmVycl07cmV0dXJuIHIucmVzdWx0fWEucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGkscyxhLG8saD10aGlzLnN0cm0sdT10aGlzLm9wdGlvbnMuY2h1bmtTaXplLGw9dGhpcy5vcHRpb25zLmRpY3Rpb25hcnksZj0hMTtpZih0aGlzLmVuZGVkKXJldHVybiExO249dD09PX5+dD90OiEwPT09dD9tLlpfRklOSVNIOm0uWl9OT19GTFVTSCxcInN0cmluZ1wiPT10eXBlb2YgZT9oLmlucHV0PXAuYmluc3RyaW5nMmJ1ZihlKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1fLmNhbGwoZSk/aC5pbnB1dD1uZXcgVWludDhBcnJheShlKTpoLmlucHV0PWUsaC5uZXh0X2luPTAsaC5hdmFpbF9pbj1oLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09aC5hdmFpbF9vdXQmJihoLm91dHB1dD1uZXcgZC5CdWY4KHUpLGgubmV4dF9vdXQ9MCxoLmF2YWlsX291dD11KSwocj1jLmluZmxhdGUoaCxtLlpfTk9fRkxVU0gpKT09PW0uWl9ORUVEX0RJQ1QmJmwmJihvPVwic3RyaW5nXCI9PXR5cGVvZiBsP3Auc3RyaW5nMmJ1ZihsKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1fLmNhbGwobCk/bmV3IFVpbnQ4QXJyYXkobCk6bCxyPWMuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLG8pKSxyPT09bS5aX0JVRl9FUlJPUiYmITA9PT1mJiYocj1tLlpfT0ssZj0hMSksciE9PW0uWl9TVFJFQU1fRU5EJiZyIT09bS5aX09LKXJldHVybiB0aGlzLm9uRW5kKHIpLCEodGhpcy5lbmRlZD0hMCk7aC5uZXh0X291dCYmKDAhPT1oLmF2YWlsX291dCYmciE9PW0uWl9TVFJFQU1fRU5EJiYoMCE9PWguYXZhaWxfaW58fG4hPT1tLlpfRklOSVNIJiZuIT09bS5aX1NZTkNfRkxVU0gpfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz8oaT1wLnV0Zjhib3JkZXIoaC5vdXRwdXQsaC5uZXh0X291dCkscz1oLm5leHRfb3V0LWksYT1wLmJ1ZjJzdHJpbmcoaC5vdXRwdXQsaSksaC5uZXh0X291dD1zLGguYXZhaWxfb3V0PXUtcyxzJiZkLmFycmF5U2V0KGgub3V0cHV0LGgub3V0cHV0LGkscywwKSx0aGlzLm9uRGF0YShhKSk6dGhpcy5vbkRhdGEoZC5zaHJpbmtCdWYoaC5vdXRwdXQsaC5uZXh0X291dCkpKSksMD09PWguYXZhaWxfaW4mJjA9PT1oLmF2YWlsX291dCYmKGY9ITApfXdoaWxlKCgwPGguYXZhaWxfaW58fDA9PT1oLmF2YWlsX291dCkmJnIhPT1tLlpfU1RSRUFNX0VORCk7cmV0dXJuIHI9PT1tLlpfU1RSRUFNX0VORCYmKG49bS5aX0ZJTklTSCksbj09PW0uWl9GSU5JU0g/KHI9Yy5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1tLlpfT0spOm4hPT1tLlpfU1lOQ19GTFVTSHx8KHRoaXMub25FbmQobS5aX09LKSwhKGguYXZhaWxfb3V0PTApKX0sYS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGUpe3RoaXMuY2h1bmtzLnB1c2goZSl9LGEucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1tLlpfT0smJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9ZC5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxyLkluZmxhdGU9YSxyLmluZmxhdGU9byxyLmluZmxhdGVSYXc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx7fSkucmF3PSEwLG8oZSx0KX0sci51bmd6aXA9b30se1wiLi91dGlscy9jb21tb25cIjo0MSxcIi4vdXRpbHMvc3RyaW5nc1wiOjQyLFwiLi96bGliL2NvbnN0YW50c1wiOjQ0LFwiLi96bGliL2d6aGVhZGVyXCI6NDcsXCIuL3psaWIvaW5mbGF0ZVwiOjQ5LFwiLi96bGliL21lc3NhZ2VzXCI6NTEsXCIuL3psaWIvenN0cmVhbVwiOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50MzJBcnJheTtyLmFzc2lnbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3QubGVuZ3RoOyl7dmFyIHI9dC5zaGlmdCgpO2lmKHIpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IocitcIm11c3QgYmUgbm9uLW9iamVjdFwiKTtmb3IodmFyIG4gaW4gcilyLmhhc093blByb3BlcnR5KG4pJiYoZVtuXT1yW25dKX19cmV0dXJuIGV9LHIuc2hyaW5rQnVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPT09dD9lOmUuc3ViYXJyYXk/ZS5zdWJhcnJheSgwLHQpOihlLmxlbmd0aD10LGUpfTt2YXIgaT17YXJyYXlTZXQ6ZnVuY3Rpb24oZSx0LHIsbixpKXtpZih0LnN1YmFycmF5JiZlLnN1YmFycmF5KWUuc2V0KHQuc3ViYXJyYXkocixyK24pLGkpO2Vsc2UgZm9yKHZhciBzPTA7czxuO3MrKyllW2krc109dFtyK3NdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLHMsYTtmb3IodD1uPTAscj1lLmxlbmd0aDt0PHI7dCsrKW4rPWVbdF0ubGVuZ3RoO2ZvcihhPW5ldyBVaW50OEFycmF5KG4pLHQ9aT0wLHI9ZS5sZW5ndGg7dDxyO3QrKylzPWVbdF0sYS5zZXQocyxpKSxpKz1zLmxlbmd0aDtyZXR1cm4gYX19LHM9e2FycmF5U2V0OmZ1bmN0aW9uKGUsdCxyLG4saSl7Zm9yKHZhciBzPTA7czxuO3MrKyllW2krc109dFtyK3NdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGUpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSxlKX19O3Iuc2V0VHlwZWQ9ZnVuY3Rpb24oZSl7ZT8oci5CdWY4PVVpbnQ4QXJyYXksci5CdWYxNj1VaW50MTZBcnJheSxyLkJ1ZjMyPUludDMyQXJyYXksci5hc3NpZ24ocixpKSk6KHIuQnVmOD1BcnJheSxyLkJ1ZjE2PUFycmF5LHIuQnVmMzI9QXJyYXksci5hc3NpZ24ocixzKSl9LHIuc2V0VHlwZWQobil9LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBoPWUoXCIuL2NvbW1vblwiKSxpPSEwLHM9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxbMF0pfWNhdGNoKGUpe2k9ITF9dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2goZSl7cz0hMX1mb3IodmFyIHU9bmV3IGguQnVmOCgyNTYpLG49MDtuPDI1NjtuKyspdVtuXT0yNTI8PW4/NjoyNDg8PW4/NToyNDA8PW4/NDoyMjQ8PW4/MzoxOTI8PW4/MjoxO2Z1bmN0aW9uIGwoZSx0KXtpZih0PDY1NTM3JiYoZS5zdWJhcnJheSYmc3x8IWUuc3ViYXJyYXkmJmkpKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaC5zaHJpbmtCdWYoZSx0KSk7Zm9yKHZhciByPVwiXCIsbj0wO248dDtuKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gcn11WzI1NF09dVsyNTRdPTEsci5zdHJpbmcyYnVmPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLHMsYT1lLmxlbmd0aCxvPTA7Zm9yKGk9MDtpPGE7aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxhJiY1NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKG4tNTYzMjApLGkrKyksbys9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NDtmb3IodD1uZXcgaC5CdWY4KG8pLGk9cz0wO3M8bztpKyspNTUyOTY9PSg2NDUxMiYocj1lLmNoYXJDb2RlQXQoaSkpKSYmaSsxPGEmJjU2MzIwPT0oNjQ1MTImKG49ZS5jaGFyQ29kZUF0KGkrMSkpKSYmKHI9NjU1MzYrKHItNTUyOTY8PDEwKSsobi01NjMyMCksaSsrKSxyPDEyOD90W3MrK109cjoocjwyMDQ4P3RbcysrXT0xOTJ8cj4+PjY6KHI8NjU1MzY/dFtzKytdPTIyNHxyPj4+MTI6KHRbcysrXT0yNDB8cj4+PjE4LHRbcysrXT0xMjh8cj4+PjEyJjYzKSx0W3MrK109MTI4fHI+Pj42JjYzKSx0W3MrK109MTI4fDYzJnIpO3JldHVybiB0fSxyLmJ1ZjJiaW5zdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxlLmxlbmd0aCl9LHIuYmluc3RyaW5nMmJ1Zj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IGguQnVmOChlLmxlbmd0aCkscj0wLG49dC5sZW5ndGg7cjxuO3IrKyl0W3JdPWUuY2hhckNvZGVBdChyKTtyZXR1cm4gdH0sci5idWYyc3RyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLHMsYT10fHxlLmxlbmd0aCxvPW5ldyBBcnJheSgyKmEpO2ZvcihyPW49MDtyPGE7KWlmKChpPWVbcisrXSk8MTI4KW9bbisrXT1pO2Vsc2UgaWYoNDwocz11W2ldKSlvW24rK109NjU1MzMscis9cy0xO2Vsc2V7Zm9yKGkmPTI9PT1zPzMxOjM9PT1zPzE1Ojc7MTxzJiZyPGE7KWk9aTw8Nnw2MyZlW3IrK10scy0tOzE8cz9vW24rK109NjU1MzM6aTw2NTUzNj9vW24rK109aTooaS09NjU1MzYsb1tuKytdPTU1Mjk2fGk+PjEwJjEwMjMsb1tuKytdPTU2MzIwfDEwMjMmaSl9cmV0dXJuIGwobyxuKX0sci51dGY4Ym9yZGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI7Zm9yKCh0PXR8fGUubGVuZ3RoKT5lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpLHI9dC0xOzA8PXImJjEyOD09KDE5MiZlW3JdKTspci0tO3JldHVybiByPDA/dDowPT09cj90OnIrdVtlW3JdXT50P3I6dH19LHtcIi4vY29tbW9uXCI6NDF9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGk9NjU1MzUmZXwwLHM9ZT4+PjE2JjY1NTM1fDAsYT0wOzAhPT1yOyl7Zm9yKHItPWE9MmUzPHI/MmUzOnI7cz1zKyhpPWkrdFtuKytdfDApfDAsLS1hOyk7aSU9NjU1MjEscyU9NjU1MjF9cmV0dXJuIGl8czw8MTZ8MH19LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fX0se31dLDQ1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxyPTA7cjwyNTY7cisrKXtlPXI7Zm9yKHZhciBuPTA7bjw4O24rKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbcl09ZX1yZXR1cm4gdH0oKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9byxzPW4rcjtlXj0tMTtmb3IodmFyIGE9bjthPHM7YSsrKWU9ZT4+PjheaVsyNTUmKGVedFthXSldO3JldHVybi0xXmV9fSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaCxjPWUoXCIuLi91dGlscy9jb21tb25cIiksdT1lKFwiLi90cmVlc1wiKSxkPWUoXCIuL2FkbGVyMzJcIikscD1lKFwiLi9jcmMzMlwiKSxuPWUoXCIuL21lc3NhZ2VzXCIpLGw9MCxmPTQsbT0wLF89LTIsZz0tMSxiPTQsaT0yLHY9OCx5PTkscz0yODYsYT0zMCxvPTE5LHc9MipzKzEsaz0xNSx4PTMsUz0yNTgsej1TK3grMSxDPTQyLEU9MTEzLEE9MSxJPTIsTz0zLEI9NDtmdW5jdGlvbiBSKGUsdCl7cmV0dXJuIGUubXNnPW5bdF0sdH1mdW5jdGlvbiBUKGUpe3JldHVybihlPDwxKS0oNDxlPzk6MCl9ZnVuY3Rpb24gRChlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7MDw9LS10OyllW3RdPTB9ZnVuY3Rpb24gRihlKXt2YXIgdD1lLnN0YXRlLHI9dC5wZW5kaW5nO3I+ZS5hdmFpbF9vdXQmJihyPWUuYXZhaWxfb3V0KSwwIT09ciYmKGMuYXJyYXlTZXQoZS5vdXRwdXQsdC5wZW5kaW5nX2J1Zix0LnBlbmRpbmdfb3V0LHIsZS5uZXh0X291dCksZS5uZXh0X291dCs9cix0LnBlbmRpbmdfb3V0Kz1yLGUudG90YWxfb3V0Kz1yLGUuYXZhaWxfb3V0LT1yLHQucGVuZGluZy09ciwwPT09dC5wZW5kaW5nJiYodC5wZW5kaW5nX291dD0wKSl9ZnVuY3Rpb24gTihlLHQpe3UuX3RyX2ZsdXNoX2Jsb2NrKGUsMDw9ZS5ibG9ja19zdGFydD9lLmJsb2NrX3N0YXJ0Oi0xLGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCx0KSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQsRihlLnN0cm0pfWZ1bmN0aW9uIFUoZSx0KXtlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10fWZ1bmN0aW9uIFAoZSx0KXtlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10Pj4+OCYyNTUsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JnR9ZnVuY3Rpb24gTChlLHQpe3ZhciByLG4saT1lLm1heF9jaGFpbl9sZW5ndGgscz1lLnN0cnN0YXJ0LGE9ZS5wcmV2X2xlbmd0aCxvPWUubmljZV9tYXRjaCxoPWUuc3Ryc3RhcnQ+ZS53X3NpemUtej9lLnN0cnN0YXJ0LShlLndfc2l6ZS16KTowLHU9ZS53aW5kb3csbD1lLndfbWFzayxmPWUucHJldixjPWUuc3Ryc3RhcnQrUyxkPXVbcythLTFdLHA9dVtzK2FdO2UucHJldl9sZW5ndGg+PWUuZ29vZF9tYXRjaCYmKGk+Pj0yKSxvPmUubG9va2FoZWFkJiYobz1lLmxvb2thaGVhZCk7ZG97aWYodVsocj10KSthXT09PXAmJnVbcithLTFdPT09ZCYmdVtyXT09PXVbc10mJnVbKytyXT09PXVbcysxXSl7cys9MixyKys7ZG97fXdoaWxlKHVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZzPGMpO2lmKG49Uy0oYy1zKSxzPWMtUyxhPG4pe2lmKGUubWF0Y2hfc3RhcnQ9dCxvPD0oYT1uKSlicmVhaztkPXVbcythLTFdLHA9dVtzK2FdfX19d2hpbGUoKHQ9Zlt0JmxdKT5oJiYwIT0tLWkpO3JldHVybiBhPD1lLmxvb2thaGVhZD9hOmUubG9va2FoZWFkfWZ1bmN0aW9uIGooZSl7dmFyIHQscixuLGkscyxhLG8saCx1LGwsZj1lLndfc2l6ZTtkb3tpZihpPWUud2luZG93X3NpemUtZS5sb29rYWhlYWQtZS5zdHJzdGFydCxlLnN0cnN0YXJ0Pj1mKyhmLXopKXtmb3IoYy5hcnJheVNldChlLndpbmRvdyxlLndpbmRvdyxmLGYsMCksZS5tYXRjaF9zdGFydC09ZixlLnN0cnN0YXJ0LT1mLGUuYmxvY2tfc3RhcnQtPWYsdD1yPWUuaGFzaF9zaXplO249ZS5oZWFkWy0tdF0sZS5oZWFkW3RdPWY8PW4/bi1mOjAsLS1yOyk7Zm9yKHQ9cj1mO249ZS5wcmV2Wy0tdF0sZS5wcmV2W3RdPWY8PW4/bi1mOjAsLS1yOyk7aSs9Zn1pZigwPT09ZS5zdHJtLmF2YWlsX2luKWJyZWFrO2lmKGE9ZS5zdHJtLG89ZS53aW5kb3csaD1lLnN0cnN0YXJ0K2UubG9va2FoZWFkLHU9aSxsPXZvaWQgMCxsPWEuYXZhaWxfaW4sdTxsJiYobD11KSxyPTA9PT1sPzA6KGEuYXZhaWxfaW4tPWwsYy5hcnJheVNldChvLGEuaW5wdXQsYS5uZXh0X2luLGwsaCksMT09PWEuc3RhdGUud3JhcD9hLmFkbGVyPWQoYS5hZGxlcixvLGwsaCk6Mj09PWEuc3RhdGUud3JhcCYmKGEuYWRsZXI9cChhLmFkbGVyLG8sbCxoKSksYS5uZXh0X2luKz1sLGEudG90YWxfaW4rPWwsbCksZS5sb29rYWhlYWQrPXIsZS5sb29rYWhlYWQrZS5pbnNlcnQ+PXgpZm9yKHM9ZS5zdHJzdGFydC1lLmluc2VydCxlLmluc19oPWUud2luZG93W3NdLGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tzKzFdKSZlLmhhc2hfbWFzaztlLmluc2VydCYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tzK3gtMV0pJmUuaGFzaF9tYXNrLGUucHJldltzJmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPXMscysrLGUuaW5zZXJ0LS0sIShlLmxvb2thaGVhZCtlLmluc2VydDx4KSk7KTt9d2hpbGUoZS5sb29rYWhlYWQ8eiYmMCE9PWUuc3RybS5hdmFpbF9pbil9ZnVuY3Rpb24gWihlLHQpe2Zvcih2YXIgcixuOzspe2lmKGUubG9va2FoZWFkPHope2lmKGooZSksZS5sb29rYWhlYWQ8eiYmdD09PWwpcmV0dXJuIEE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKHI9MCxlLmxvb2thaGVhZD49eCYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K3gtMV0pJmUuaGFzaF9tYXNrLHI9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksMCE9PXImJmUuc3Ryc3RhcnQtcjw9ZS53X3NpemUteiYmKGUubWF0Y2hfbGVuZ3RoPUwoZSxyKSksZS5tYXRjaF9sZW5ndGg+PXgpaWYobj11Ll90cl90YWxseShlLGUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydCxlLm1hdGNoX2xlbmd0aC14KSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg8PWUubWF4X2xhenlfbWF0Y2gmJmUubG9va2FoZWFkPj14KXtmb3IoZS5tYXRjaF9sZW5ndGgtLTtlLnN0cnN0YXJ0KyssZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQreC0xXSkmZS5oYXNoX21hc2sscj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0LDAhPS0tZS5tYXRjaF9sZW5ndGg7KTtlLnN0cnN0YXJ0Kyt9ZWxzZSBlLnN0cnN0YXJ0Kz1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aD0wLGUuaW5zX2g9ZS53aW5kb3dbZS5zdHJzdGFydF0sZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQrMV0pJmUuaGFzaF9tYXNrO2Vsc2Ugbj11Ll90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrO2lmKG4mJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQX1yZXR1cm4gZS5pbnNlcnQ9ZS5zdHJzdGFydDx4LTE/ZS5zdHJzdGFydDp4LTEsdD09PWY/KE4oZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/TzpCKTplLmxhc3RfbGl0JiYoTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/QTpJfWZ1bmN0aW9uIFcoZSx0KXtmb3IodmFyIHIsbixpOzspe2lmKGUubG9va2FoZWFkPHope2lmKGooZSksZS5sb29rYWhlYWQ8eiYmdD09PWwpcmV0dXJuIEE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKHI9MCxlLmxvb2thaGVhZD49eCYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K3gtMV0pJmUuaGFzaF9tYXNrLHI9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksZS5wcmV2X2xlbmd0aD1lLm1hdGNoX2xlbmd0aCxlLnByZXZfbWF0Y2g9ZS5tYXRjaF9zdGFydCxlLm1hdGNoX2xlbmd0aD14LTEsMCE9PXImJmUucHJldl9sZW5ndGg8ZS5tYXhfbGF6eV9tYXRjaCYmZS5zdHJzdGFydC1yPD1lLndfc2l6ZS16JiYoZS5tYXRjaF9sZW5ndGg9TChlLHIpLGUubWF0Y2hfbGVuZ3RoPD01JiYoMT09PWUuc3RyYXRlZ3l8fGUubWF0Y2hfbGVuZ3RoPT09eCYmNDA5NjxlLnN0cnN0YXJ0LWUubWF0Y2hfc3RhcnQpJiYoZS5tYXRjaF9sZW5ndGg9eC0xKSksZS5wcmV2X2xlbmd0aD49eCYmZS5tYXRjaF9sZW5ndGg8PWUucHJldl9sZW5ndGgpe2ZvcihpPWUuc3Ryc3RhcnQrZS5sb29rYWhlYWQteCxuPXUuX3RyX3RhbGx5KGUsZS5zdHJzdGFydC0xLWUucHJldl9tYXRjaCxlLnByZXZfbGVuZ3RoLXgpLGUubG9va2FoZWFkLT1lLnByZXZfbGVuZ3RoLTEsZS5wcmV2X2xlbmd0aC09MjsrK2Uuc3Ryc3RhcnQ8PWkmJihlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCt4LTFdKSZlLmhhc2hfbWFzayxyPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLDAhPS0tZS5wcmV2X2xlbmd0aDspO2lmKGUubWF0Y2hfYXZhaWxhYmxlPTAsZS5tYXRjaF9sZW5ndGg9eC0xLGUuc3Ryc3RhcnQrKyxuJiYoTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9ZWxzZSBpZihlLm1hdGNoX2F2YWlsYWJsZSl7aWYoKG49dS5fdHJfdGFsbHkoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnQtMV0pKSYmTihlLCExKSxlLnN0cnN0YXJ0KyssZS5sb29rYWhlYWQtLSwwPT09ZS5zdHJtLmF2YWlsX291dClyZXR1cm4gQX1lbHNlIGUubWF0Y2hfYXZhaWxhYmxlPTEsZS5zdHJzdGFydCsrLGUubG9va2FoZWFkLS19cmV0dXJuIGUubWF0Y2hfYXZhaWxhYmxlJiYobj11Ll90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSksZS5tYXRjaF9hdmFpbGFibGU9MCksZS5pbnNlcnQ9ZS5zdHJzdGFydDx4LTE/ZS5zdHJzdGFydDp4LTEsdD09PWY/KE4oZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/TzpCKTplLmxhc3RfbGl0JiYoTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/QTpJfWZ1bmN0aW9uIE0oZSx0LHIsbixpKXt0aGlzLmdvb2RfbGVuZ3RoPWUsdGhpcy5tYXhfbGF6eT10LHRoaXMubmljZV9sZW5ndGg9cix0aGlzLm1heF9jaGFpbj1uLHRoaXMuZnVuYz1pfWZ1bmN0aW9uIEgoKXt0aGlzLnN0cm09bnVsbCx0aGlzLnN0YXR1cz0wLHRoaXMucGVuZGluZ19idWY9bnVsbCx0aGlzLnBlbmRpbmdfYnVmX3NpemU9MCx0aGlzLnBlbmRpbmdfb3V0PTAsdGhpcy5wZW5kaW5nPTAsdGhpcy53cmFwPTAsdGhpcy5nemhlYWQ9bnVsbCx0aGlzLmd6aW5kZXg9MCx0aGlzLm1ldGhvZD12LHRoaXMubGFzdF9mbHVzaD0tMSx0aGlzLndfc2l6ZT0wLHRoaXMud19iaXRzPTAsdGhpcy53X21hc2s9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMud2luZG93X3NpemU9MCx0aGlzLnByZXY9bnVsbCx0aGlzLmhlYWQ9bnVsbCx0aGlzLmluc19oPTAsdGhpcy5oYXNoX3NpemU9MCx0aGlzLmhhc2hfYml0cz0wLHRoaXMuaGFzaF9tYXNrPTAsdGhpcy5oYXNoX3NoaWZ0PTAsdGhpcy5ibG9ja19zdGFydD0wLHRoaXMubWF0Y2hfbGVuZ3RoPTAsdGhpcy5wcmV2X21hdGNoPTAsdGhpcy5tYXRjaF9hdmFpbGFibGU9MCx0aGlzLnN0cnN0YXJ0PTAsdGhpcy5tYXRjaF9zdGFydD0wLHRoaXMubG9va2FoZWFkPTAsdGhpcy5wcmV2X2xlbmd0aD0wLHRoaXMubWF4X2NoYWluX2xlbmd0aD0wLHRoaXMubWF4X2xhenlfbWF0Y2g9MCx0aGlzLmxldmVsPTAsdGhpcy5zdHJhdGVneT0wLHRoaXMuZ29vZF9tYXRjaD0wLHRoaXMubmljZV9tYXRjaD0wLHRoaXMuZHluX2x0cmVlPW5ldyBjLkJ1ZjE2KDIqdyksdGhpcy5keW5fZHRyZWU9bmV3IGMuQnVmMTYoMiooMiphKzEpKSx0aGlzLmJsX3RyZWU9bmV3IGMuQnVmMTYoMiooMipvKzEpKSxEKHRoaXMuZHluX2x0cmVlKSxEKHRoaXMuZHluX2R0cmVlKSxEKHRoaXMuYmxfdHJlZSksdGhpcy5sX2Rlc2M9bnVsbCx0aGlzLmRfZGVzYz1udWxsLHRoaXMuYmxfZGVzYz1udWxsLHRoaXMuYmxfY291bnQ9bmV3IGMuQnVmMTYoaysxKSx0aGlzLmhlYXA9bmV3IGMuQnVmMTYoMipzKzEpLEQodGhpcy5oZWFwKSx0aGlzLmhlYXBfbGVuPTAsdGhpcy5oZWFwX21heD0wLHRoaXMuZGVwdGg9bmV3IGMuQnVmMTYoMipzKzEpLEQodGhpcy5kZXB0aCksdGhpcy5sX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLmxhc3RfbGl0PTAsdGhpcy5kX2J1Zj0wLHRoaXMub3B0X2xlbj0wLHRoaXMuc3RhdGljX2xlbj0wLHRoaXMubWF0Y2hlcz0wLHRoaXMuaW5zZXJ0PTAsdGhpcy5iaV9idWY9MCx0aGlzLmJpX3ZhbGlkPTB9ZnVuY3Rpb24gRyhlKXt2YXIgdDtyZXR1cm4gZSYmZS5zdGF0ZT8oZS50b3RhbF9pbj1lLnRvdGFsX291dD0wLGUuZGF0YV90eXBlPWksKHQ9ZS5zdGF0ZSkucGVuZGluZz0wLHQucGVuZGluZ19vdXQ9MCx0LndyYXA8MCYmKHQud3JhcD0tdC53cmFwKSx0LnN0YXR1cz10LndyYXA/QzpFLGUuYWRsZXI9Mj09PXQud3JhcD8wOjEsdC5sYXN0X2ZsdXNoPWwsdS5fdHJfaW5pdCh0KSxtKTpSKGUsXyl9ZnVuY3Rpb24gSyhlKXt2YXIgdD1HKGUpO3JldHVybiB0PT09bSYmZnVuY3Rpb24oZSl7ZS53aW5kb3dfc2l6ZT0yKmUud19zaXplLEQoZS5oZWFkKSxlLm1heF9sYXp5X21hdGNoPWhbZS5sZXZlbF0ubWF4X2xhenksZS5nb29kX21hdGNoPWhbZS5sZXZlbF0uZ29vZF9sZW5ndGgsZS5uaWNlX21hdGNoPWhbZS5sZXZlbF0ubmljZV9sZW5ndGgsZS5tYXhfY2hhaW5fbGVuZ3RoPWhbZS5sZXZlbF0ubWF4X2NoYWluLGUuc3Ryc3RhcnQ9MCxlLmJsb2NrX3N0YXJ0PTAsZS5sb29rYWhlYWQ9MCxlLmluc2VydD0wLGUubWF0Y2hfbGVuZ3RoPWUucHJldl9sZW5ndGg9eC0xLGUubWF0Y2hfYXZhaWxhYmxlPTAsZS5pbnNfaD0wfShlLnN0YXRlKSx0fWZ1bmN0aW9uIFkoZSx0LHIsbixpLHMpe2lmKCFlKXJldHVybiBfO3ZhciBhPTE7aWYodD09PWcmJih0PTYpLG48MD8oYT0wLG49LW4pOjE1PG4mJihhPTIsbi09MTYpLGk8MXx8eTxpfHxyIT09dnx8bjw4fHwxNTxufHx0PDB8fDk8dHx8czwwfHxiPHMpcmV0dXJuIFIoZSxfKTs4PT09biYmKG49OSk7dmFyIG89bmV3IEg7cmV0dXJuKGUuc3RhdGU9bykuc3RybT1lLG8ud3JhcD1hLG8uZ3poZWFkPW51bGwsby53X2JpdHM9bixvLndfc2l6ZT0xPDxvLndfYml0cyxvLndfbWFzaz1vLndfc2l6ZS0xLG8uaGFzaF9iaXRzPWkrNyxvLmhhc2hfc2l6ZT0xPDxvLmhhc2hfYml0cyxvLmhhc2hfbWFzaz1vLmhhc2hfc2l6ZS0xLG8uaGFzaF9zaGlmdD1+figoby5oYXNoX2JpdHMreC0xKS94KSxvLndpbmRvdz1uZXcgYy5CdWY4KDIqby53X3NpemUpLG8uaGVhZD1uZXcgYy5CdWYxNihvLmhhc2hfc2l6ZSksby5wcmV2PW5ldyBjLkJ1ZjE2KG8ud19zaXplKSxvLmxpdF9idWZzaXplPTE8PGkrNixvLnBlbmRpbmdfYnVmX3NpemU9NCpvLmxpdF9idWZzaXplLG8ucGVuZGluZ19idWY9bmV3IGMuQnVmOChvLnBlbmRpbmdfYnVmX3NpemUpLG8uZF9idWY9MSpvLmxpdF9idWZzaXplLG8ubF9idWY9MypvLmxpdF9idWZzaXplLG8ubGV2ZWw9dCxvLnN0cmF0ZWd5PXMsby5tZXRob2Q9cixLKGUpfWg9W25ldyBNKDAsMCwwLDAsZnVuY3Rpb24oZSx0KXt2YXIgcj02NTUzNTtmb3Iocj5lLnBlbmRpbmdfYnVmX3NpemUtNSYmKHI9ZS5wZW5kaW5nX2J1Zl9zaXplLTUpOzspe2lmKGUubG9va2FoZWFkPD0xKXtpZihqKGUpLDA9PT1lLmxvb2thaGVhZCYmdD09PWwpcmV0dXJuIEE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWUuc3Ryc3RhcnQrPWUubG9va2FoZWFkLGUubG9va2FoZWFkPTA7dmFyIG49ZS5ibG9ja19zdGFydCtyO2lmKCgwPT09ZS5zdHJzdGFydHx8ZS5zdHJzdGFydD49bikmJihlLmxvb2thaGVhZD1lLnN0cnN0YXJ0LW4sZS5zdHJzdGFydD1uLE4oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBO2lmKGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydD49ZS53X3NpemUteiYmKE4oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiBlLmluc2VydD0wLHQ9PT1mPyhOKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0P086Qik6KGUuc3Ryc3RhcnQ+ZS5ibG9ja19zdGFydCYmKE4oZSwhMSksZS5zdHJtLmF2YWlsX291dCksQSl9KSxuZXcgTSg0LDQsOCw0LFopLG5ldyBNKDQsNSwxNiw4LFopLG5ldyBNKDQsNiwzMiwzMixaKSxuZXcgTSg0LDQsMTYsMTYsVyksbmV3IE0oOCwxNiwzMiwzMixXKSxuZXcgTSg4LDE2LDEyOCwxMjgsVyksbmV3IE0oOCwzMiwxMjgsMjU2LFcpLG5ldyBNKDMyLDEyOCwyNTgsMTAyNCxXKSxuZXcgTSgzMiwyNTgsMjU4LDQwOTYsVyldLHIuZGVmbGF0ZUluaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWShlLHQsdiwxNSw4LDApfSxyLmRlZmxhdGVJbml0Mj1ZLHIuZGVmbGF0ZVJlc2V0PUssci5kZWZsYXRlUmVzZXRLZWVwPUcsci5kZWZsYXRlU2V0SGVhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUuc3RhdGU/MiE9PWUuc3RhdGUud3JhcD9fOihlLnN0YXRlLmd6aGVhZD10LG0pOl99LHIuZGVmbGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxzO2lmKCFlfHwhZS5zdGF0ZXx8NTx0fHx0PDApcmV0dXJuIGU/UihlLF8pOl87aWYobj1lLnN0YXRlLCFlLm91dHB1dHx8IWUuaW5wdXQmJjAhPT1lLmF2YWlsX2lufHw2NjY9PT1uLnN0YXR1cyYmdCE9PWYpcmV0dXJuIFIoZSwwPT09ZS5hdmFpbF9vdXQ/LTU6Xyk7aWYobi5zdHJtPWUscj1uLmxhc3RfZmx1c2gsbi5sYXN0X2ZsdXNoPXQsbi5zdGF0dXM9PT1DKWlmKDI9PT1uLndyYXApZS5hZGxlcj0wLFUobiwzMSksVShuLDEzOSksVShuLDgpLG4uZ3poZWFkPyhVKG4sKG4uZ3poZWFkLnRleHQ/MTowKSsobi5nemhlYWQuaGNyYz8yOjApKyhuLmd6aGVhZC5leHRyYT80OjApKyhuLmd6aGVhZC5uYW1lPzg6MCkrKG4uZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLFUobiwyNTUmbi5nemhlYWQudGltZSksVShuLG4uZ3poZWFkLnRpbWU+PjgmMjU1KSxVKG4sbi5nemhlYWQudGltZT4+MTYmMjU1KSxVKG4sbi5nemhlYWQudGltZT4+MjQmMjU1KSxVKG4sOT09PW4ubGV2ZWw/MjoyPD1uLnN0cmF0ZWd5fHxuLmxldmVsPDI/NDowKSxVKG4sMjU1Jm4uZ3poZWFkLm9zKSxuLmd6aGVhZC5leHRyYSYmbi5nemhlYWQuZXh0cmEubGVuZ3RoJiYoVShuLDI1NSZuLmd6aGVhZC5leHRyYS5sZW5ndGgpLFUobixuLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksbi5nemhlYWQuaGNyYyYmKGUuYWRsZXI9cChlLmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLDApKSxuLmd6aW5kZXg9MCxuLnN0YXR1cz02OSk6KFUobiwwKSxVKG4sMCksVShuLDApLFUobiwwKSxVKG4sMCksVShuLDk9PT1uLmxldmVsPzI6Mjw9bi5zdHJhdGVneXx8bi5sZXZlbDwyPzQ6MCksVShuLDMpLG4uc3RhdHVzPUUpO2Vsc2V7dmFyIGE9disobi53X2JpdHMtODw8NCk8PDg7YXw9KDI8PW4uc3RyYXRlZ3l8fG4ubGV2ZWw8Mj8wOm4ubGV2ZWw8Nj8xOjY9PT1uLmxldmVsPzI6Myk8PDYsMCE9PW4uc3Ryc3RhcnQmJihhfD0zMiksYSs9MzEtYSUzMSxuLnN0YXR1cz1FLFAobixhKSwwIT09bi5zdHJzdGFydCYmKFAobixlLmFkbGVyPj4+MTYpLFAobiw2NTUzNSZlLmFkbGVyKSksZS5hZGxlcj0xfWlmKDY5PT09bi5zdGF0dXMpaWYobi5nemhlYWQuZXh0cmEpe2ZvcihpPW4ucGVuZGluZztuLmd6aW5kZXg8KDY1NTM1Jm4uZ3poZWFkLmV4dHJhLmxlbmd0aCkmJihuLnBlbmRpbmchPT1uLnBlbmRpbmdfYnVmX3NpemV8fChuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+aSYmKGUuYWRsZXI9cChlLmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLWksaSkpLEYoZSksaT1uLnBlbmRpbmcsbi5wZW5kaW5nIT09bi5wZW5kaW5nX2J1Zl9zaXplKSk7KVUobiwyNTUmbi5nemhlYWQuZXh0cmFbbi5nemluZGV4XSksbi5nemluZGV4Kys7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPmkmJihlLmFkbGVyPXAoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1pLGkpKSxuLmd6aW5kZXg9PT1uLmd6aGVhZC5leHRyYS5sZW5ndGgmJihuLmd6aW5kZXg9MCxuLnN0YXR1cz03Myl9ZWxzZSBuLnN0YXR1cz03MztpZig3Mz09PW4uc3RhdHVzKWlmKG4uZ3poZWFkLm5hbWUpe2k9bi5wZW5kaW5nO2Rve2lmKG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSYmKG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5pJiYoZS5hZGxlcj1wKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctaSxpKSksRihlKSxpPW4ucGVuZGluZyxuLnBlbmRpbmc9PT1uLnBlbmRpbmdfYnVmX3NpemUpKXtzPTE7YnJlYWt9cz1uLmd6aW5kZXg8bi5nemhlYWQubmFtZS5sZW5ndGg/MjU1Jm4uZ3poZWFkLm5hbWUuY2hhckNvZGVBdChuLmd6aW5kZXgrKyk6MCxVKG4scyl9d2hpbGUoMCE9PXMpO24uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5pJiYoZS5hZGxlcj1wKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctaSxpKSksMD09PXMmJihuLmd6aW5kZXg9MCxuLnN0YXR1cz05MSl9ZWxzZSBuLnN0YXR1cz05MTtpZig5MT09PW4uc3RhdHVzKWlmKG4uZ3poZWFkLmNvbW1lbnQpe2k9bi5wZW5kaW5nO2Rve2lmKG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSYmKG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5pJiYoZS5hZGxlcj1wKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctaSxpKSksRihlKSxpPW4ucGVuZGluZyxuLnBlbmRpbmc9PT1uLnBlbmRpbmdfYnVmX3NpemUpKXtzPTE7YnJlYWt9cz1uLmd6aW5kZXg8bi5nemhlYWQuY29tbWVudC5sZW5ndGg/MjU1Jm4uZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChuLmd6aW5kZXgrKyk6MCxVKG4scyl9d2hpbGUoMCE9PXMpO24uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5pJiYoZS5hZGxlcj1wKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctaSxpKSksMD09PXMmJihuLnN0YXR1cz0xMDMpfWVsc2Ugbi5zdGF0dXM9MTAzO2lmKDEwMz09PW4uc3RhdHVzJiYobi5nemhlYWQuaGNyYz8obi5wZW5kaW5nKzI+bi5wZW5kaW5nX2J1Zl9zaXplJiZGKGUpLG4ucGVuZGluZysyPD1uLnBlbmRpbmdfYnVmX3NpemUmJihVKG4sMjU1JmUuYWRsZXIpLFUobixlLmFkbGVyPj44JjI1NSksZS5hZGxlcj0wLG4uc3RhdHVzPUUpKTpuLnN0YXR1cz1FKSwwIT09bi5wZW5kaW5nKXtpZihGKGUpLDA9PT1lLmF2YWlsX291dClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLG19ZWxzZSBpZigwPT09ZS5hdmFpbF9pbiYmVCh0KTw9VChyKSYmdCE9PWYpcmV0dXJuIFIoZSwtNSk7aWYoNjY2PT09bi5zdGF0dXMmJjAhPT1lLmF2YWlsX2luKXJldHVybiBSKGUsLTUpO2lmKDAhPT1lLmF2YWlsX2lufHwwIT09bi5sb29rYWhlYWR8fHQhPT1sJiY2NjYhPT1uLnN0YXR1cyl7dmFyIG89Mj09PW4uc3RyYXRlZ3k/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI7Oyl7aWYoMD09PWUubG9va2FoZWFkJiYoaihlKSwwPT09ZS5sb29rYWhlYWQpKXtpZih0PT09bClyZXR1cm4gQTticmVha31pZihlLm1hdGNoX2xlbmd0aD0wLHI9dS5fdHJfdGFsbHkoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyxyJiYoTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PWY/KE4oZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/TzpCKTplLmxhc3RfbGl0JiYoTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/QTpJfShuLHQpOjM9PT1uLnN0cmF0ZWd5P2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG4saSxzLGE9ZS53aW5kb3c7Oyl7aWYoZS5sb29rYWhlYWQ8PVMpe2lmKGooZSksZS5sb29rYWhlYWQ8PVMmJnQ9PT1sKXJldHVybiBBO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihlLm1hdGNoX2xlbmd0aD0wLGUubG9va2FoZWFkPj14JiYwPGUuc3Ryc3RhcnQmJihuPWFbaT1lLnN0cnN0YXJ0LTFdKT09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSl7cz1lLnN0cnN0YXJ0K1M7ZG97fXdoaWxlKG49PT1hWysraV0mJm49PT1hWysraV0mJm49PT1hWysraV0mJm49PT1hWysraV0mJm49PT1hWysraV0mJm49PT1hWysraV0mJm49PT1hWysraV0mJm49PT1hWysraV0mJmk8cyk7ZS5tYXRjaF9sZW5ndGg9Uy0ocy1pKSxlLm1hdGNoX2xlbmd0aD5lLmxvb2thaGVhZCYmKGUubWF0Y2hfbGVuZ3RoPWUubG9va2FoZWFkKX1pZihlLm1hdGNoX2xlbmd0aD49eD8ocj11Ll90cl90YWxseShlLDEsZS5tYXRjaF9sZW5ndGgteCksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTApOihyPXUuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0KyspLHImJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQX1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09Zj8oTihlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9POkIpOmUubGFzdF9saXQmJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT9BOkl9KG4sdCk6aFtuLmxldmVsXS5mdW5jKG4sdCk7aWYobyE9PU8mJm8hPT1CfHwobi5zdGF0dXM9NjY2KSxvPT09QXx8bz09PU8pcmV0dXJuIDA9PT1lLmF2YWlsX291dCYmKG4ubGFzdF9mbHVzaD0tMSksbTtpZihvPT09SSYmKDE9PT10P3UuX3RyX2FsaWduKG4pOjUhPT10JiYodS5fdHJfc3RvcmVkX2Jsb2NrKG4sMCwwLCExKSwzPT09dCYmKEQobi5oZWFkKSwwPT09bi5sb29rYWhlYWQmJihuLnN0cnN0YXJ0PTAsbi5ibG9ja19zdGFydD0wLG4uaW5zZXJ0PTApKSksRihlKSwwPT09ZS5hdmFpbF9vdXQpKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsbX1yZXR1cm4gdCE9PWY/bTpuLndyYXA8PTA/MTooMj09PW4ud3JhcD8oVShuLDI1NSZlLmFkbGVyKSxVKG4sZS5hZGxlcj4+OCYyNTUpLFUobixlLmFkbGVyPj4xNiYyNTUpLFUobixlLmFkbGVyPj4yNCYyNTUpLFUobiwyNTUmZS50b3RhbF9pbiksVShuLGUudG90YWxfaW4+PjgmMjU1KSxVKG4sZS50b3RhbF9pbj4+MTYmMjU1KSxVKG4sZS50b3RhbF9pbj4+MjQmMjU1KSk6KFAobixlLmFkbGVyPj4+MTYpLFAobiw2NTUzNSZlLmFkbGVyKSksRihlKSwwPG4ud3JhcCYmKG4ud3JhcD0tbi53cmFwKSwwIT09bi5wZW5kaW5nP206MSl9LHIuZGVmbGF0ZUVuZD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSYmZS5zdGF0ZT8odD1lLnN0YXRlLnN0YXR1cykhPT1DJiY2OSE9PXQmJjczIT09dCYmOTEhPT10JiYxMDMhPT10JiZ0IT09RSYmNjY2IT09dD9SKGUsXyk6KGUuc3RhdGU9bnVsbCx0PT09RT9SKGUsLTMpOm0pOl99LHIuZGVmbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGkscyxhLG8saCx1LGw9dC5sZW5ndGg7aWYoIWV8fCFlLnN0YXRlKXJldHVybiBfO2lmKDI9PT0ocz0ocj1lLnN0YXRlKS53cmFwKXx8MT09PXMmJnIuc3RhdHVzIT09Q3x8ci5sb29rYWhlYWQpcmV0dXJuIF87Zm9yKDE9PT1zJiYoZS5hZGxlcj1kKGUuYWRsZXIsdCxsLDApKSxyLndyYXA9MCxsPj1yLndfc2l6ZSYmKDA9PT1zJiYoRChyLmhlYWQpLHIuc3Ryc3RhcnQ9MCxyLmJsb2NrX3N0YXJ0PTAsci5pbnNlcnQ9MCksdT1uZXcgYy5CdWY4KHIud19zaXplKSxjLmFycmF5U2V0KHUsdCxsLXIud19zaXplLHIud19zaXplLDApLHQ9dSxsPXIud19zaXplKSxhPWUuYXZhaWxfaW4sbz1lLm5leHRfaW4saD1lLmlucHV0LGUuYXZhaWxfaW49bCxlLm5leHRfaW49MCxlLmlucHV0PXQsaihyKTtyLmxvb2thaGVhZD49eDspe2ZvcihuPXIuc3Ryc3RhcnQsaT1yLmxvb2thaGVhZC0oeC0xKTtyLmluc19oPShyLmluc19oPDxyLmhhc2hfc2hpZnReci53aW5kb3dbbit4LTFdKSZyLmhhc2hfbWFzayxyLnByZXZbbiZyLndfbWFza109ci5oZWFkW3IuaW5zX2hdLHIuaGVhZFtyLmluc19oXT1uLG4rKywtLWk7KTtyLnN0cnN0YXJ0PW4sci5sb29rYWhlYWQ9eC0xLGoocil9cmV0dXJuIHIuc3Ryc3RhcnQrPXIubG9va2FoZWFkLHIuYmxvY2tfc3RhcnQ9ci5zdHJzdGFydCxyLmluc2VydD1yLmxvb2thaGVhZCxyLmxvb2thaGVhZD0wLHIubWF0Y2hfbGVuZ3RoPXIucHJldl9sZW5ndGg9eC0xLHIubWF0Y2hfYXZhaWxhYmxlPTAsZS5uZXh0X2luPW8sZS5pbnB1dD1oLGUuYXZhaWxfaW49YSxyLndyYXA9cyxtfSxyLmRlZmxhdGVJbmZvPVwicGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSx7XCIuLi91dGlscy9jb21tb25cIjo0MSxcIi4vYWRsZXIzMlwiOjQzLFwiLi9jcmMzMlwiOjQ1LFwiLi9tZXNzYWdlc1wiOjUxLFwiLi90cmVlc1wiOjUyfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9fSx7fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGkscyxhLG8saCx1LGwsZixjLGQscCxtLF8sZyxiLHYseSx3LGsseCxTLHosQztyPWUuc3RhdGUsbj1lLm5leHRfaW4sej1lLmlucHV0LGk9bisoZS5hdmFpbF9pbi01KSxzPWUubmV4dF9vdXQsQz1lLm91dHB1dCxhPXMtKHQtZS5hdmFpbF9vdXQpLG89cysoZS5hdmFpbF9vdXQtMjU3KSxoPXIuZG1heCx1PXIud3NpemUsbD1yLndoYXZlLGY9ci53bmV4dCxjPXIud2luZG93LGQ9ci5ob2xkLHA9ci5iaXRzLG09ci5sZW5jb2RlLF89ci5kaXN0Y29kZSxnPSgxPDxyLmxlbmJpdHMpLTEsYj0oMTw8ci5kaXN0Yml0cyktMTtlOmRve3A8MTUmJihkKz16W24rK108PHAscCs9OCxkKz16W24rK108PHAscCs9OCksdj1tW2QmZ107dDpmb3IoOzspe2lmKGQ+Pj49eT12Pj4+MjQscC09eSwwPT09KHk9dj4+PjE2JjI1NSkpQ1tzKytdPTY1NTM1JnY7ZWxzZXtpZighKDE2JnkpKXtpZigwPT0oNjQmeSkpe3Y9bVsoNjU1MzUmdikrKGQmKDE8PHkpLTEpXTtjb250aW51ZSB0fWlmKDMyJnkpe3IubW9kZT0xMjticmVhayBlfWUubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsci5tb2RlPTMwO2JyZWFrIGV9dz02NTUzNSZ2LCh5Jj0xNSkmJihwPHkmJihkKz16W24rK108PHAscCs9OCksdys9ZCYoMTw8eSktMSxkPj4+PXkscC09eSkscDwxNSYmKGQrPXpbbisrXTw8cCxwKz04LGQrPXpbbisrXTw8cCxwKz04KSx2PV9bZCZiXTtyOmZvcig7Oyl7aWYoZD4+Pj15PXY+Pj4yNCxwLT15LCEoMTYmKHk9dj4+PjE2JjI1NSkpKXtpZigwPT0oNjQmeSkpe3Y9X1soNjU1MzUmdikrKGQmKDE8PHkpLTEpXTtjb250aW51ZSByfWUubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsci5tb2RlPTMwO2JyZWFrIGV9aWYoaz02NTUzNSZ2LHA8KHkmPTE1KSYmKGQrPXpbbisrXTw8cCwocCs9OCk8eSYmKGQrPXpbbisrXTw8cCxwKz04KSksaDwoays9ZCYoMTw8eSktMSkpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixyLm1vZGU9MzA7YnJlYWsgZX1pZihkPj4+PXkscC09eSwoeT1zLWEpPGspe2lmKGw8KHk9ay15KSYmci5zYW5lKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsci5tb2RlPTMwO2JyZWFrIGV9aWYoUz1jLCh4PTApPT09Zil7aWYoeCs9dS15LHk8dyl7Zm9yKHctPXk7Q1tzKytdPWNbeCsrXSwtLXk7KTt4PXMtayxTPUN9fWVsc2UgaWYoZjx5KXtpZih4Kz11K2YteSwoeS09Zik8dyl7Zm9yKHctPXk7Q1tzKytdPWNbeCsrXSwtLXk7KTtpZih4PTAsZjx3KXtmb3Iody09eT1mO0NbcysrXT1jW3grK10sLS15Oyk7eD1zLWssUz1DfX19ZWxzZSBpZih4Kz1mLXkseTx3KXtmb3Iody09eTtDW3MrK109Y1t4KytdLC0teTspO3g9cy1rLFM9Q31mb3IoOzI8dzspQ1tzKytdPVNbeCsrXSxDW3MrK109U1t4KytdLENbcysrXT1TW3grK10sdy09Mzt3JiYoQ1tzKytdPVNbeCsrXSwxPHcmJihDW3MrK109U1t4KytdKSl9ZWxzZXtmb3IoeD1zLWs7Q1tzKytdPUNbeCsrXSxDW3MrK109Q1t4KytdLENbcysrXT1DW3grK10sMjwody09Myk7KTt3JiYoQ1tzKytdPUNbeCsrXSwxPHcmJihDW3MrK109Q1t4KytdKSl9YnJlYWt9fWJyZWFrfX13aGlsZShuPGkmJnM8byk7bi09dz1wPj4zLGQmPSgxPDwocC09dzw8MykpLTEsZS5uZXh0X2luPW4sZS5uZXh0X291dD1zLGUuYXZhaWxfaW49bjxpP2ktbis1OjUtKG4taSksZS5hdmFpbF9vdXQ9czxvP28tcysyNTc6MjU3LShzLW8pLHIuaG9sZD1kLHIuYml0cz1wfX0se31dLDQ5OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIEk9ZShcIi4uL3V0aWxzL2NvbW1vblwiKSxPPWUoXCIuL2FkbGVyMzJcIiksQj1lKFwiLi9jcmMzMlwiKSxSPWUoXCIuL2luZmZhc3RcIiksVD1lKFwiLi9pbmZ0cmVlc1wiKSxEPTEsRj0yLE49MCxVPS0yLFA9MSxuPTg1MixpPTU5MjtmdW5jdGlvbiBMKGUpe3JldHVybihlPj4+MjQmMjU1KSsoZT4+PjgmNjUyODApKygoNjUyODAmZSk8PDgpKygoMjU1JmUpPDwyNCl9ZnVuY3Rpb24gcygpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgSS5CdWYxNigzMjApLHRoaXMud29yaz1uZXcgSS5CdWYxNigyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH1mdW5jdGlvbiBhKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyh0PWUuc3RhdGUsZS50b3RhbF9pbj1lLnRvdGFsX291dD10LnRvdGFsPTAsZS5tc2c9XCJcIix0LndyYXAmJihlLmFkbGVyPTEmdC53cmFwKSx0Lm1vZGU9UCx0Lmxhc3Q9MCx0LmhhdmVkaWN0PTAsdC5kbWF4PTMyNzY4LHQuaGVhZD1udWxsLHQuaG9sZD0wLHQuYml0cz0wLHQubGVuY29kZT10LmxlbmR5bj1uZXcgSS5CdWYzMihuKSx0LmRpc3Rjb2RlPXQuZGlzdGR5bj1uZXcgSS5CdWYzMihpKSx0LnNhbmU9MSx0LmJhY2s9LTEsTik6VX1mdW5jdGlvbiBvKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPygodD1lLnN0YXRlKS53c2l6ZT0wLHQud2hhdmU9MCx0LnduZXh0PTAsYShlKSk6VX1mdW5jdGlvbiBoKGUsdCl7dmFyIHIsbjtyZXR1cm4gZSYmZS5zdGF0ZT8obj1lLnN0YXRlLHQ8MD8ocj0wLHQ9LXQpOihyPTErKHQ+PjQpLHQ8NDgmJih0Jj0xNSkpLHQmJih0PDh8fDE1PHQpP1U6KG51bGwhPT1uLndpbmRvdyYmbi53Yml0cyE9PXQmJihuLndpbmRvdz1udWxsKSxuLndyYXA9cixuLndiaXRzPXQsbyhlKSkpOlV9ZnVuY3Rpb24gdShlLHQpe3ZhciByLG47cmV0dXJuIGU/KG49bmV3IHMsKGUuc3RhdGU9bikud2luZG93PW51bGwsKHI9aChlLHQpKSE9PU4mJihlLnN0YXRlPW51bGwpLHIpOlV9dmFyIGwsZixjPSEwO2Z1bmN0aW9uIGooZSl7aWYoYyl7dmFyIHQ7Zm9yKGw9bmV3IEkuQnVmMzIoNTEyKSxmPW5ldyBJLkJ1ZjMyKDMyKSx0PTA7dDwxNDQ7KWUubGVuc1t0KytdPTg7Zm9yKDt0PDI1NjspZS5sZW5zW3QrK109OTtmb3IoO3Q8MjgwOyllLmxlbnNbdCsrXT03O2Zvcig7dDwyODg7KWUubGVuc1t0KytdPTg7Zm9yKFQoRCxlLmxlbnMsMCwyODgsbCwwLGUud29yayx7Yml0czo5fSksdD0wO3Q8MzI7KWUubGVuc1t0KytdPTU7VChGLGUubGVucywwLDMyLGYsMCxlLndvcmsse2JpdHM6NX0pLGM9ITF9ZS5sZW5jb2RlPWwsZS5sZW5iaXRzPTksZS5kaXN0Y29kZT1mLGUuZGlzdGJpdHM9NX1mdW5jdGlvbiBaKGUsdCxyLG4pe3ZhciBpLHM9ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PXMud2luZG93JiYocy53c2l6ZT0xPDxzLndiaXRzLHMud25leHQ9MCxzLndoYXZlPTAscy53aW5kb3c9bmV3IEkuQnVmOChzLndzaXplKSksbj49cy53c2l6ZT8oSS5hcnJheVNldChzLndpbmRvdyx0LHItcy53c2l6ZSxzLndzaXplLDApLHMud25leHQ9MCxzLndoYXZlPXMud3NpemUpOihuPChpPXMud3NpemUtcy53bmV4dCkmJihpPW4pLEkuYXJyYXlTZXQocy53aW5kb3csdCxyLW4saSxzLnduZXh0KSwobi09aSk/KEkuYXJyYXlTZXQocy53aW5kb3csdCxyLW4sbiwwKSxzLnduZXh0PW4scy53aGF2ZT1zLndzaXplKToocy53bmV4dCs9aSxzLnduZXh0PT09cy53c2l6ZSYmKHMud25leHQ9MCkscy53aGF2ZTxzLndzaXplJiYocy53aGF2ZSs9aSkpKSwwfXIuaW5mbGF0ZVJlc2V0PW8sci5pbmZsYXRlUmVzZXQyPWgsci5pbmZsYXRlUmVzZXRLZWVwPWEsci5pbmZsYXRlSW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdShlLDE1KX0sci5pbmZsYXRlSW5pdDI9dSxyLmluZmxhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGkscyxhLG8saCx1LGwsZixjLGQscCxtLF8sZyxiLHYseSx3LGsseCxTLHosQz0wLEU9bmV3IEkuQnVmOCg0KSxBPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtpZighZXx8IWUuc3RhdGV8fCFlLm91dHB1dHx8IWUuaW5wdXQmJjAhPT1lLmF2YWlsX2luKXJldHVybiBVOzEyPT09KHI9ZS5zdGF0ZSkubW9kZSYmKHIubW9kZT0xMyksYT1lLm5leHRfb3V0LGk9ZS5vdXRwdXQsaD1lLmF2YWlsX291dCxzPWUubmV4dF9pbixuPWUuaW5wdXQsbz1lLmF2YWlsX2luLHU9ci5ob2xkLGw9ci5iaXRzLGY9byxjPWgseD1OO2U6Zm9yKDs7KXN3aXRjaChyLm1vZGUpe2Nhc2UgUDppZigwPT09ci53cmFwKXtyLm1vZGU9MTM7YnJlYWt9Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYoMiZyLndyYXAmJjM1NjE1PT09dSl7RVtyLmNoZWNrPTBdPTI1NSZ1LEVbMV09dT4+PjgmMjU1LHIuY2hlY2s9QihyLmNoZWNrLEUsMiwwKSxsPXU9MCxyLm1vZGU9MjticmVha31pZihyLmZsYWdzPTAsci5oZWFkJiYoci5oZWFkLmRvbmU9ITEpLCEoMSZyLndyYXApfHwoKCgyNTUmdSk8PDgpKyh1Pj44KSklMzEpe2UubXNnPVwiaW5jb3JyZWN0IGhlYWRlciBjaGVja1wiLHIubW9kZT0zMDticmVha31pZig4IT0oMTUmdSkpe2UubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixyLm1vZGU9MzA7YnJlYWt9aWYobC09NCxrPTgrKDE1Jih1Pj4+PTQpKSwwPT09ci53Yml0cylyLndiaXRzPWs7ZWxzZSBpZihrPnIud2JpdHMpe2UubXNnPVwiaW52YWxpZCB3aW5kb3cgc2l6ZVwiLHIubW9kZT0zMDticmVha31yLmRtYXg9MTw8ayxlLmFkbGVyPXIuY2hlY2s9MSxyLm1vZGU9NTEyJnU/MTA6MTIsbD11PTA7YnJlYWs7Y2FzZSAyOmZvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fWlmKHIuZmxhZ3M9dSw4IT0oMjU1JnIuZmxhZ3MpKXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsci5tb2RlPTMwO2JyZWFrfWlmKDU3MzQ0JnIuZmxhZ3Mpe2UubXNnPVwidW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0XCIsci5tb2RlPTMwO2JyZWFrfXIuaGVhZCYmKHIuaGVhZC50ZXh0PXU+PjgmMSksNTEyJnIuZmxhZ3MmJihFWzBdPTI1NSZ1LEVbMV09dT4+PjgmMjU1LHIuY2hlY2s9QihyLmNoZWNrLEUsMiwwKSksbD11PTAsci5tb2RlPTM7Y2FzZSAzOmZvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fXIuaGVhZCYmKHIuaGVhZC50aW1lPXUpLDUxMiZyLmZsYWdzJiYoRVswXT0yNTUmdSxFWzFdPXU+Pj44JjI1NSxFWzJdPXU+Pj4xNiYyNTUsRVszXT11Pj4+MjQmMjU1LHIuY2hlY2s9QihyLmNoZWNrLEUsNCwwKSksbD11PTAsci5tb2RlPTQ7Y2FzZSA0OmZvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fXIuaGVhZCYmKHIuaGVhZC54ZmxhZ3M9MjU1JnUsci5oZWFkLm9zPXU+PjgpLDUxMiZyLmZsYWdzJiYoRVswXT0yNTUmdSxFWzFdPXU+Pj44JjI1NSxyLmNoZWNrPUIoci5jaGVjayxFLDIsMCkpLGw9dT0wLHIubW9kZT01O2Nhc2UgNTppZigxMDI0JnIuZmxhZ3Mpe2Zvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fXIubGVuZ3RoPXUsci5oZWFkJiYoci5oZWFkLmV4dHJhX2xlbj11KSw1MTImci5mbGFncyYmKEVbMF09MjU1JnUsRVsxXT11Pj4+OCYyNTUsci5jaGVjaz1CKHIuY2hlY2ssRSwyLDApKSxsPXU9MH1lbHNlIHIuaGVhZCYmKHIuaGVhZC5leHRyYT1udWxsKTtyLm1vZGU9NjtjYXNlIDY6aWYoMTAyNCZyLmZsYWdzJiYobzwoZD1yLmxlbmd0aCkmJihkPW8pLGQmJihyLmhlYWQmJihrPXIuaGVhZC5leHRyYV9sZW4tci5sZW5ndGgsci5oZWFkLmV4dHJhfHwoci5oZWFkLmV4dHJhPW5ldyBBcnJheShyLmhlYWQuZXh0cmFfbGVuKSksSS5hcnJheVNldChyLmhlYWQuZXh0cmEsbixzLGQsaykpLDUxMiZyLmZsYWdzJiYoci5jaGVjaz1CKHIuY2hlY2ssbixkLHMpKSxvLT1kLHMrPWQsci5sZW5ndGgtPWQpLHIubGVuZ3RoKSlicmVhayBlO3IubGVuZ3RoPTAsci5tb2RlPTc7Y2FzZSA3OmlmKDIwNDgmci5mbGFncyl7aWYoMD09PW8pYnJlYWsgZTtmb3IoZD0wO2s9bltzK2QrK10sci5oZWFkJiZrJiZyLmxlbmd0aDw2NTUzNiYmKHIuaGVhZC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGspKSxrJiZkPG87KTtpZig1MTImci5mbGFncyYmKHIuY2hlY2s9QihyLmNoZWNrLG4sZCxzKSksby09ZCxzKz1kLGspYnJlYWsgZX1lbHNlIHIuaGVhZCYmKHIuaGVhZC5uYW1lPW51bGwpO3IubGVuZ3RoPTAsci5tb2RlPTg7Y2FzZSA4OmlmKDQwOTYmci5mbGFncyl7aWYoMD09PW8pYnJlYWsgZTtmb3IoZD0wO2s9bltzK2QrK10sci5oZWFkJiZrJiZyLmxlbmd0aDw2NTUzNiYmKHIuaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGspKSxrJiZkPG87KTtpZig1MTImci5mbGFncyYmKHIuY2hlY2s9QihyLmNoZWNrLG4sZCxzKSksby09ZCxzKz1kLGspYnJlYWsgZX1lbHNlIHIuaGVhZCYmKHIuaGVhZC5jb21tZW50PW51bGwpO3IubW9kZT05O2Nhc2UgOTppZig1MTImci5mbGFncyl7Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYodSE9PSg2NTUzNSZyLmNoZWNrKSl7ZS5tc2c9XCJoZWFkZXIgY3JjIG1pc21hdGNoXCIsci5tb2RlPTMwO2JyZWFrfWw9dT0wfXIuaGVhZCYmKHIuaGVhZC5oY3JjPXIuZmxhZ3M+PjkmMSxyLmhlYWQuZG9uZT0hMCksZS5hZGxlcj1yLmNoZWNrPTAsci5tb2RlPTEyO2JyZWFrO2Nhc2UgMTA6Zm9yKDtsPDMyOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9ZS5hZGxlcj1yLmNoZWNrPUwodSksbD11PTAsci5tb2RlPTExO2Nhc2UgMTE6aWYoMD09PXIuaGF2ZWRpY3QpcmV0dXJuIGUubmV4dF9vdXQ9YSxlLmF2YWlsX291dD1oLGUubmV4dF9pbj1zLGUuYXZhaWxfaW49byxyLmhvbGQ9dSxyLmJpdHM9bCwyO2UuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT0xMjtjYXNlIDEyOmlmKDU9PT10fHw2PT09dClicmVhayBlO2Nhc2UgMTM6aWYoci5sYXN0KXt1Pj4+PTcmbCxsLT03Jmwsci5tb2RlPTI3O2JyZWFrfWZvcig7bDwzOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9c3dpdGNoKHIubGFzdD0xJnUsbC09MSwzJih1Pj4+PTEpKXtjYXNlIDA6ci5tb2RlPTE0O2JyZWFrO2Nhc2UgMTppZihqKHIpLHIubW9kZT0yMCw2IT09dClicmVhazt1Pj4+PTIsbC09MjticmVhayBlO2Nhc2UgMjpyLm1vZGU9MTc7YnJlYWs7Y2FzZSAzOmUubXNnPVwiaW52YWxpZCBibG9jayB0eXBlXCIsci5tb2RlPTMwfXU+Pj49MixsLT0yO2JyZWFrO2Nhc2UgMTQ6Zm9yKHU+Pj49NyZsLGwtPTcmbDtsPDMyOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYoKDY1NTM1JnUpIT0odT4+PjE2XjY1NTM1KSl7ZS5tc2c9XCJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzXCIsci5tb2RlPTMwO2JyZWFrfWlmKHIubGVuZ3RoPTY1NTM1JnUsbD11PTAsci5tb2RlPTE1LDY9PT10KWJyZWFrIGU7Y2FzZSAxNTpyLm1vZGU9MTY7Y2FzZSAxNjppZihkPXIubGVuZ3RoKXtpZihvPGQmJihkPW8pLGg8ZCYmKGQ9aCksMD09PWQpYnJlYWsgZTtJLmFycmF5U2V0KGksbixzLGQsYSksby09ZCxzKz1kLGgtPWQsYSs9ZCxyLmxlbmd0aC09ZDticmVha31yLm1vZGU9MTI7YnJlYWs7Y2FzZSAxNzpmb3IoO2w8MTQ7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZihyLm5sZW49MjU3KygzMSZ1KSx1Pj4+PTUsbC09NSxyLm5kaXN0PTErKDMxJnUpLHU+Pj49NSxsLT01LHIubmNvZGU9NCsoMTUmdSksdT4+Pj00LGwtPTQsMjg2PHIubmxlbnx8MzA8ci5uZGlzdCl7ZS5tc2c9XCJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9sc1wiLHIubW9kZT0zMDticmVha31yLmhhdmU9MCxyLm1vZGU9MTg7Y2FzZSAxODpmb3IoO3IuaGF2ZTxyLm5jb2RlOyl7Zm9yKDtsPDM7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1yLmxlbnNbQVtyLmhhdmUrK11dPTcmdSx1Pj4+PTMsbC09M31mb3IoO3IuaGF2ZTwxOTspci5sZW5zW0Fbci5oYXZlKytdXT0wO2lmKHIubGVuY29kZT1yLmxlbmR5bixyLmxlbmJpdHM9NyxTPXtiaXRzOnIubGVuYml0c30seD1UKDAsci5sZW5zLDAsMTksci5sZW5jb2RlLDAsci53b3JrLFMpLHIubGVuYml0cz1TLmJpdHMseCl7ZS5tc2c9XCJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXRcIixyLm1vZGU9MzA7YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE5O2Nhc2UgMTk6Zm9yKDtyLmhhdmU8ci5ubGVuK3IubmRpc3Q7KXtmb3IoO2c9KEM9ci5sZW5jb2RlW3UmKDE8PHIubGVuYml0cyktMV0pPj4+MTYmMjU1LGI9NjU1MzUmQywhKChfPUM+Pj4yNCk8PWwpOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYoYjwxNil1Pj4+PV8sbC09XyxyLmxlbnNbci5oYXZlKytdPWI7ZWxzZXtpZigxNj09PWIpe2Zvcih6PV8rMjtsPHo7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZih1Pj4+PV8sbC09XywwPT09ci5oYXZlKXtlLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixyLm1vZGU9MzA7YnJlYWt9az1yLmxlbnNbci5oYXZlLTFdLGQ9MysoMyZ1KSx1Pj4+PTIsbC09Mn1lbHNlIGlmKDE3PT09Yil7Zm9yKHo9XyszO2w8ejspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fWwtPV8saz0wLGQ9MysoNyYodT4+Pj1fKSksdT4+Pj0zLGwtPTN9ZWxzZXtmb3Ioej1fKzc7bDx6Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9bC09XyxrPTAsZD0xMSsoMTI3Jih1Pj4+PV8pKSx1Pj4+PTcsbC09N31pZihyLmhhdmUrZD5yLm5sZW4rci5uZGlzdCl7ZS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsci5tb2RlPTMwO2JyZWFrfWZvcig7ZC0tOylyLmxlbnNbci5oYXZlKytdPWt9fWlmKDMwPT09ci5tb2RlKWJyZWFrO2lmKDA9PT1yLmxlbnNbMjU2XSl7ZS5tc2c9XCJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2tcIixyLm1vZGU9MzA7YnJlYWt9aWYoci5sZW5iaXRzPTksUz17Yml0czpyLmxlbmJpdHN9LHg9VChELHIubGVucywwLHIubmxlbixyLmxlbmNvZGUsMCxyLndvcmssUyksci5sZW5iaXRzPVMuYml0cyx4KXtlLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldFwiLHIubW9kZT0zMDticmVha31pZihyLmRpc3RiaXRzPTYsci5kaXN0Y29kZT1yLmRpc3RkeW4sUz17Yml0czpyLmRpc3RiaXRzfSx4PVQoRixyLmxlbnMsci5ubGVuLHIubmRpc3Qsci5kaXN0Y29kZSwwLHIud29yayxTKSxyLmRpc3RiaXRzPVMuYml0cyx4KXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2VzIHNldFwiLHIubW9kZT0zMDticmVha31pZihyLm1vZGU9MjAsNj09PXQpYnJlYWsgZTtjYXNlIDIwOnIubW9kZT0yMTtjYXNlIDIxOmlmKDY8PW8mJjI1ODw9aCl7ZS5uZXh0X291dD1hLGUuYXZhaWxfb3V0PWgsZS5uZXh0X2luPXMsZS5hdmFpbF9pbj1vLHIuaG9sZD11LHIuYml0cz1sLFIoZSxjKSxhPWUubmV4dF9vdXQsaT1lLm91dHB1dCxoPWUuYXZhaWxfb3V0LHM9ZS5uZXh0X2luLG49ZS5pbnB1dCxvPWUuYXZhaWxfaW4sdT1yLmhvbGQsbD1yLmJpdHMsMTI9PT1yLm1vZGUmJihyLmJhY2s9LTEpO2JyZWFrfWZvcihyLmJhY2s9MDtnPShDPXIubGVuY29kZVt1JigxPDxyLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSxiPTY1NTM1JkMsISgoXz1DPj4+MjQpPD1sKTspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fWlmKGcmJjA9PSgyNDAmZykpe2Zvcih2PV8seT1nLHc9YjtnPShDPXIubGVuY29kZVt3KygodSYoMTw8dit5KS0xKT4+dildKT4+PjE2JjI1NSxiPTY1NTM1JkMsISh2KyhfPUM+Pj4yNCk8PWwpOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9dT4+Pj12LGwtPXYsci5iYWNrKz12fWlmKHU+Pj49XyxsLT1fLHIuYmFjays9XyxyLmxlbmd0aD1iLDA9PT1nKXtyLm1vZGU9MjY7YnJlYWt9aWYoMzImZyl7ci5iYWNrPS0xLHIubW9kZT0xMjticmVha31pZig2NCZnKXtlLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLHIubW9kZT0zMDticmVha31yLmV4dHJhPTE1Jmcsci5tb2RlPTIyO2Nhc2UgMjI6aWYoci5leHRyYSl7Zm9yKHo9ci5leHRyYTtsPHo7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1yLmxlbmd0aCs9dSYoMTw8ci5leHRyYSktMSx1Pj4+PXIuZXh0cmEsbC09ci5leHRyYSxyLmJhY2srPXIuZXh0cmF9ci53YXM9ci5sZW5ndGgsci5tb2RlPTIzO2Nhc2UgMjM6Zm9yKDtnPShDPXIuZGlzdGNvZGVbdSYoMTw8ci5kaXN0Yml0cyktMV0pPj4+MTYmMjU1LGI9NjU1MzUmQywhKChfPUM+Pj4yNCk8PWwpOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYoMD09KDI0MCZnKSl7Zm9yKHY9Xyx5PWcsdz1iO2c9KEM9ci5kaXN0Y29kZVt3KygodSYoMTw8dit5KS0xKT4+dildKT4+PjE2JjI1NSxiPTY1NTM1JkMsISh2KyhfPUM+Pj4yNCk8PWwpOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9dT4+Pj12LGwtPXYsci5iYWNrKz12fWlmKHU+Pj49XyxsLT1fLHIuYmFjays9Xyw2NCZnKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLHIubW9kZT0zMDticmVha31yLm9mZnNldD1iLHIuZXh0cmE9MTUmZyxyLm1vZGU9MjQ7Y2FzZSAyNDppZihyLmV4dHJhKXtmb3Ioej1yLmV4dHJhO2w8ejspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fXIub2Zmc2V0Kz11JigxPDxyLmV4dHJhKS0xLHU+Pj49ci5leHRyYSxsLT1yLmV4dHJhLHIuYmFjays9ci5leHRyYX1pZihyLm9mZnNldD5yLmRtYXgpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixyLm1vZGU9MzA7YnJlYWt9ci5tb2RlPTI1O2Nhc2UgMjU6aWYoMD09PWgpYnJlYWsgZTtpZihkPWMtaCxyLm9mZnNldD5kKXtpZigoZD1yLm9mZnNldC1kKT5yLndoYXZlJiZyLnNhbmUpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixyLm1vZGU9MzA7YnJlYWt9cD1kPnIud25leHQ/KGQtPXIud25leHQsci53c2l6ZS1kKTpyLnduZXh0LWQsZD5yLmxlbmd0aCYmKGQ9ci5sZW5ndGgpLG09ci53aW5kb3d9ZWxzZSBtPWkscD1hLXIub2Zmc2V0LGQ9ci5sZW5ndGg7Zm9yKGg8ZCYmKGQ9aCksaC09ZCxyLmxlbmd0aC09ZDtpW2ErK109bVtwKytdLC0tZDspOzA9PT1yLmxlbmd0aCYmKHIubW9kZT0yMSk7YnJlYWs7Y2FzZSAyNjppZigwPT09aClicmVhayBlO2lbYSsrXT1yLmxlbmd0aCxoLS0sci5tb2RlPTIxO2JyZWFrO2Nhc2UgMjc6aWYoci53cmFwKXtmb3IoO2w8MzI7KXtpZigwPT09bylicmVhayBlO28tLSx1fD1uW3MrK108PGwsbCs9OH1pZihjLT1oLGUudG90YWxfb3V0Kz1jLHIudG90YWwrPWMsYyYmKGUuYWRsZXI9ci5jaGVjaz1yLmZsYWdzP0Ioci5jaGVjayxpLGMsYS1jKTpPKHIuY2hlY2ssaSxjLGEtYykpLGM9aCwoci5mbGFncz91OkwodSkpIT09ci5jaGVjayl7ZS5tc2c9XCJpbmNvcnJlY3QgZGF0YSBjaGVja1wiLHIubW9kZT0zMDticmVha31sPXU9MH1yLm1vZGU9Mjg7Y2FzZSAyODppZihyLndyYXAmJnIuZmxhZ3Mpe2Zvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fWlmKHUhPT0oNDI5NDk2NzI5NSZyLnRvdGFsKSl7ZS5tc2c9XCJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrXCIsci5tb2RlPTMwO2JyZWFrfWw9dT0wfXIubW9kZT0yOTtjYXNlIDI5Ong9MTticmVhayBlO2Nhc2UgMzA6eD0tMzticmVhayBlO2Nhc2UgMzE6cmV0dXJuLTQ7Y2FzZSAzMjpkZWZhdWx0OnJldHVybiBVfXJldHVybiBlLm5leHRfb3V0PWEsZS5hdmFpbF9vdXQ9aCxlLm5leHRfaW49cyxlLmF2YWlsX2luPW8sci5ob2xkPXUsci5iaXRzPWwsKHIud3NpemV8fGMhPT1lLmF2YWlsX291dCYmci5tb2RlPDMwJiYoci5tb2RlPDI3fHw0IT09dCkpJiZaKGUsZS5vdXRwdXQsZS5uZXh0X291dCxjLWUuYXZhaWxfb3V0KT8oci5tb2RlPTMxLC00KTooZi09ZS5hdmFpbF9pbixjLT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1mLGUudG90YWxfb3V0Kz1jLHIudG90YWwrPWMsci53cmFwJiZjJiYoZS5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/QihyLmNoZWNrLGksYyxlLm5leHRfb3V0LWMpOk8oci5jaGVjayxpLGMsZS5uZXh0X291dC1jKSksZS5kYXRhX3R5cGU9ci5iaXRzKyhyLmxhc3Q/NjQ6MCkrKDEyPT09ci5tb2RlPzEyODowKSsoMjA9PT1yLm1vZGV8fDE1PT09ci5tb2RlPzI1NjowKSwoMD09ZiYmMD09PWN8fDQ9PT10KSYmeD09PU4mJih4PS01KSx4KX0sci5pbmZsYXRlRW5kPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gVTt2YXIgdD1lLnN0YXRlO3JldHVybiB0LndpbmRvdyYmKHQud2luZG93PW51bGwpLGUuc3RhdGU9bnVsbCxOfSxyLmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gZSYmZS5zdGF0ZT8wPT0oMiYocj1lLnN0YXRlKS53cmFwKT9VOigoci5oZWFkPXQpLmRvbmU9ITEsTik6VX0sci5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByLG49dC5sZW5ndGg7cmV0dXJuIGUmJmUuc3RhdGU/MCE9PShyPWUuc3RhdGUpLndyYXAmJjExIT09ci5tb2RlP1U6MTE9PT1yLm1vZGUmJk8oMSx0LG4sMCkhPT1yLmNoZWNrPy0zOlooZSx0LG4sbik/KHIubW9kZT0zMSwtNCk6KHIuaGF2ZWRpY3Q9MSxOKTpVfSxyLmluZmxhdGVJbmZvPVwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSx7XCIuLi91dGlscy9jb21tb25cIjo0MSxcIi4vYWRsZXIzMlwiOjQzLFwiLi9jcmMzMlwiOjQ1LFwiLi9pbmZmYXN0XCI6NDgsXCIuL2luZnRyZWVzXCI6NTB9XSw1MDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBEPWUoXCIuLi91dGlscy9jb21tb25cIiksRj1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLE49WzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSxVPVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSxQPVsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF07dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4saSxzLGEsbyl7dmFyIGgsdSxsLGYsYyxkLHAsbSxfLGc9by5iaXRzLGI9MCx2PTAseT0wLHc9MCxrPTAseD0wLFM9MCx6PTAsQz0wLEU9MCxBPW51bGwsST0wLE89bmV3IEQuQnVmMTYoMTYpLEI9bmV3IEQuQnVmMTYoMTYpLFI9bnVsbCxUPTA7Zm9yKGI9MDtiPD0xNTtiKyspT1tiXT0wO2Zvcih2PTA7djxuO3YrKylPW3Rbcit2XV0rKztmb3Ioaz1nLHc9MTU7MTw9dyYmMD09PU9bd107dy0tKTtpZih3PGsmJihrPXcpLDA9PT13KXJldHVybiBpW3MrK109MjA5NzE1MjAsaVtzKytdPTIwOTcxNTIwLG8uYml0cz0xLDA7Zm9yKHk9MTt5PHcmJjA9PT1PW3ldO3krKyk7Zm9yKGs8eSYmKGs9eSksYj16PTE7Yjw9MTU7YisrKWlmKHo8PD0xLCh6LT1PW2JdKTwwKXJldHVybi0xO2lmKDA8eiYmKDA9PT1lfHwxIT09dykpcmV0dXJuLTE7Zm9yKEJbMV09MCxiPTE7YjwxNTtiKyspQltiKzFdPUJbYl0rT1tiXTtmb3Iodj0wO3Y8bjt2KyspMCE9PXRbcit2XSYmKGFbQlt0W3Irdl1dKytdPXYpO2lmKGQ9MD09PWU/KEE9Uj1hLDE5KToxPT09ZT8oQT1GLEktPTI1NyxSPU4sVC09MjU3LDI1Nik6KEE9VSxSPVAsLTEpLGI9eSxjPXMsUz12PUU9MCxsPS0xLGY9KEM9MTw8KHg9aykpLTEsMT09PWUmJjg1MjxDfHwyPT09ZSYmNTkyPEMpcmV0dXJuIDE7Zm9yKDs7KXtmb3IocD1iLVMsXz1hW3ZdPGQ/KG09MCxhW3ZdKTphW3ZdPmQ/KG09UltUK2Fbdl1dLEFbSSthW3ZdXSk6KG09OTYsMCksaD0xPDxiLVMseT11PTE8PHg7aVtjKyhFPj5TKSsodS09aCldPXA8PDI0fG08PDE2fF98MCwwIT09dTspO2ZvcihoPTE8PGItMTtFJmg7KWg+Pj0xO2lmKDAhPT1oPyhFJj1oLTEsRSs9aCk6RT0wLHYrKywwPT0tLU9bYl0pe2lmKGI9PT13KWJyZWFrO2I9dFtyK2Fbdl1dfWlmKGs8YiYmKEUmZikhPT1sKXtmb3IoMD09PVMmJihTPWspLGMrPXksej0xPDwoeD1iLVMpO3grUzx3JiYhKCh6LT1PW3grU10pPD0wKTspeCsrLHo8PD0xO2lmKEMrPTE8PHgsMT09PWUmJjg1MjxDfHwyPT09ZSYmNTkyPEMpcmV0dXJuIDE7aVtsPUUmZl09azw8MjR8eDw8MTZ8Yy1zfDB9fXJldHVybiAwIT09RSYmKGlbYytFXT1iLVM8PDI0fDY0PDwxNnwwKSxvLmJpdHM9aywwfX0se1wiLi4vdXRpbHMvY29tbW9uXCI6NDF9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz17MjpcIm5lZWQgZGljdGlvbmFyeVwiLDE6XCJzdHJlYW0gZW5kXCIsMDpcIlwiLFwiLTFcIjpcImZpbGUgZXJyb3JcIixcIi0yXCI6XCJzdHJlYW0gZXJyb3JcIixcIi0zXCI6XCJkYXRhIGVycm9yXCIsXCItNFwiOlwiaW5zdWZmaWNpZW50IG1lbW9yeVwiLFwiLTVcIjpcImJ1ZmZlciBlcnJvclwiLFwiLTZcIjpcImluY29tcGF0aWJsZSB2ZXJzaW9uXCJ9fSx7fV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vdXRpbHMvY29tbW9uXCIpLG89MCxoPTE7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7MDw9LS10OyllW3RdPTB9dmFyIHM9MCxhPTI5LHU9MjU2LGw9dSsxK2EsZj0zMCxjPTE5LF89MipsKzEsZz0xNSxkPTE2LHA9NyxtPTI1NixiPTE2LHY9MTcseT0xOCx3PVswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdLGs9WzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdLHg9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddLFM9WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdLHo9bmV3IEFycmF5KDIqKGwrMikpO24oeik7dmFyIEM9bmV3IEFycmF5KDIqZik7bihDKTt2YXIgRT1uZXcgQXJyYXkoNTEyKTtuKEUpO3ZhciBBPW5ldyBBcnJheSgyNTYpO24oQSk7dmFyIEk9bmV3IEFycmF5KGEpO24oSSk7dmFyIE8sQixSLFQ9bmV3IEFycmF5KGYpO2Z1bmN0aW9uIEQoZSx0LHIsbixpKXt0aGlzLnN0YXRpY190cmVlPWUsdGhpcy5leHRyYV9iaXRzPXQsdGhpcy5leHRyYV9iYXNlPXIsdGhpcy5lbGVtcz1uLHRoaXMubWF4X2xlbmd0aD1pLHRoaXMuaGFzX3N0cmVlPWUmJmUubGVuZ3RofWZ1bmN0aW9uIEYoZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXR9ZnVuY3Rpb24gTihlKXtyZXR1cm4gZTwyNTY/RVtlXTpFWzI1NisoZT4+PjcpXX1mdW5jdGlvbiBVKGUsdCl7ZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JnQsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dD4+PjgmMjU1fWZ1bmN0aW9uIFAoZSx0LHIpe2UuYmlfdmFsaWQ+ZC1yPyhlLmJpX2J1Znw9dDw8ZS5iaV92YWxpZCY2NTUzNSxVKGUsZS5iaV9idWYpLGUuYmlfYnVmPXQ+PmQtZS5iaV92YWxpZCxlLmJpX3ZhbGlkKz1yLWQpOihlLmJpX2J1Znw9dDw8ZS5iaV92YWxpZCY2NTUzNSxlLmJpX3ZhbGlkKz1yKX1mdW5jdGlvbiBMKGUsdCxyKXtQKGUsclsyKnRdLHJbMip0KzFdKX1mdW5jdGlvbiBqKGUsdCl7Zm9yKHZhciByPTA7cnw9MSZlLGU+Pj49MSxyPDw9MSwwPC0tdDspO3JldHVybiByPj4+MX1mdW5jdGlvbiBaKGUsdCxyKXt2YXIgbixpLHM9bmV3IEFycmF5KGcrMSksYT0wO2ZvcihuPTE7bjw9ZztuKyspc1tuXT1hPWErcltuLTFdPDwxO2ZvcihpPTA7aTw9dDtpKyspe3ZhciBvPWVbMippKzFdOzAhPT1vJiYoZVsyKmldPWooc1tvXSsrLG8pKX19ZnVuY3Rpb24gVyhlKXt2YXIgdDtmb3IodD0wO3Q8bDt0KyspZS5keW5fbHRyZWVbMip0XT0wO2Zvcih0PTA7dDxmO3QrKyllLmR5bl9kdHJlZVsyKnRdPTA7Zm9yKHQ9MDt0PGM7dCsrKWUuYmxfdHJlZVsyKnRdPTA7ZS5keW5fbHRyZWVbMiptXT0xLGUub3B0X2xlbj1lLnN0YXRpY19sZW49MCxlLmxhc3RfbGl0PWUubWF0Y2hlcz0wfWZ1bmN0aW9uIE0oZSl7ODxlLmJpX3ZhbGlkP1UoZSxlLmJpX2J1Zik6MDxlLmJpX3ZhbGlkJiYoZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109ZS5iaV9idWYpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wfWZ1bmN0aW9uIEgoZSx0LHIsbil7dmFyIGk9Mip0LHM9MipyO3JldHVybiBlW2ldPGVbc118fGVbaV09PT1lW3NdJiZuW3RdPD1uW3JdfWZ1bmN0aW9uIEcoZSx0LHIpe2Zvcih2YXIgbj1lLmhlYXBbcl0saT1yPDwxO2k8PWUuaGVhcF9sZW4mJihpPGUuaGVhcF9sZW4mJkgodCxlLmhlYXBbaSsxXSxlLmhlYXBbaV0sZS5kZXB0aCkmJmkrKywhSCh0LG4sZS5oZWFwW2ldLGUuZGVwdGgpKTspZS5oZWFwW3JdPWUuaGVhcFtpXSxyPWksaTw8PTE7ZS5oZWFwW3JdPW59ZnVuY3Rpb24gSyhlLHQscil7dmFyIG4saSxzLGEsbz0wO2lmKDAhPT1lLmxhc3RfbGl0KWZvcig7bj1lLnBlbmRpbmdfYnVmW2UuZF9idWYrMipvXTw8OHxlLnBlbmRpbmdfYnVmW2UuZF9idWYrMipvKzFdLGk9ZS5wZW5kaW5nX2J1ZltlLmxfYnVmK29dLG8rKywwPT09bj9MKGUsaSx0KTooTChlLChzPUFbaV0pK3UrMSx0KSwwIT09KGE9d1tzXSkmJlAoZSxpLT1JW3NdLGEpLEwoZSxzPU4oLS1uKSxyKSwwIT09KGE9a1tzXSkmJlAoZSxuLT1UW3NdLGEpKSxvPGUubGFzdF9saXQ7KTtMKGUsbSx0KX1mdW5jdGlvbiBZKGUsdCl7dmFyIHIsbixpLHM9dC5keW5fdHJlZSxhPXQuc3RhdF9kZXNjLnN0YXRpY190cmVlLG89dC5zdGF0X2Rlc2MuaGFzX3N0cmVlLGg9dC5zdGF0X2Rlc2MuZWxlbXMsdT0tMTtmb3IoZS5oZWFwX2xlbj0wLGUuaGVhcF9tYXg9XyxyPTA7cjxoO3IrKykwIT09c1syKnJdPyhlLmhlYXBbKytlLmhlYXBfbGVuXT11PXIsZS5kZXB0aFtyXT0wKTpzWzIqcisxXT0wO2Zvcig7ZS5oZWFwX2xlbjwyOylzWzIqKGk9ZS5oZWFwWysrZS5oZWFwX2xlbl09dTwyPysrdTowKV09MSxlLmRlcHRoW2ldPTAsZS5vcHRfbGVuLS0sbyYmKGUuc3RhdGljX2xlbi09YVsyKmkrMV0pO2Zvcih0Lm1heF9jb2RlPXUscj1lLmhlYXBfbGVuPj4xOzE8PXI7ci0tKUcoZSxzLHIpO2ZvcihpPWg7cj1lLmhlYXBbMV0sZS5oZWFwWzFdPWUuaGVhcFtlLmhlYXBfbGVuLS1dLEcoZSxzLDEpLG49ZS5oZWFwWzFdLGUuaGVhcFstLWUuaGVhcF9tYXhdPXIsZS5oZWFwWy0tZS5oZWFwX21heF09bixzWzIqaV09c1syKnJdK3NbMipuXSxlLmRlcHRoW2ldPShlLmRlcHRoW3JdPj1lLmRlcHRoW25dP2UuZGVwdGhbcl06ZS5kZXB0aFtuXSkrMSxzWzIqcisxXT1zWzIqbisxXT1pLGUuaGVhcFsxXT1pKyssRyhlLHMsMSksMjw9ZS5oZWFwX2xlbjspO2UuaGVhcFstLWUuaGVhcF9tYXhdPWUuaGVhcFsxXSxmdW5jdGlvbihlLHQpe3ZhciByLG4saSxzLGEsbyxoPXQuZHluX3RyZWUsdT10Lm1heF9jb2RlLGw9dC5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsZj10LnN0YXRfZGVzYy5oYXNfc3RyZWUsYz10LnN0YXRfZGVzYy5leHRyYV9iaXRzLGQ9dC5zdGF0X2Rlc2MuZXh0cmFfYmFzZSxwPXQuc3RhdF9kZXNjLm1heF9sZW5ndGgsbT0wO2ZvcihzPTA7czw9ZztzKyspZS5ibF9jb3VudFtzXT0wO2ZvcihoWzIqZS5oZWFwW2UuaGVhcF9tYXhdKzFdPTAscj1lLmhlYXBfbWF4KzE7cjxfO3IrKylwPChzPWhbMipoWzIqKG49ZS5oZWFwW3JdKSsxXSsxXSsxKSYmKHM9cCxtKyspLGhbMipuKzFdPXMsdTxufHwoZS5ibF9jb3VudFtzXSsrLGE9MCxkPD1uJiYoYT1jW24tZF0pLG89aFsyKm5dLGUub3B0X2xlbis9byoocythKSxmJiYoZS5zdGF0aWNfbGVuKz1vKihsWzIqbisxXSthKSkpO2lmKDAhPT1tKXtkb3tmb3Iocz1wLTE7MD09PWUuYmxfY291bnRbc107KXMtLTtlLmJsX2NvdW50W3NdLS0sZS5ibF9jb3VudFtzKzFdKz0yLGUuYmxfY291bnRbcF0tLSxtLT0yfXdoaWxlKDA8bSk7Zm9yKHM9cDswIT09cztzLS0pZm9yKG49ZS5ibF9jb3VudFtzXTswIT09bjspdTwoaT1lLmhlYXBbLS1yXSl8fChoWzIqaSsxXSE9PXMmJihlLm9wdF9sZW4rPShzLWhbMippKzFdKSpoWzIqaV0saFsyKmkrMV09cyksbi0tKX19KGUsdCksWihzLHUsZS5ibF9jb3VudCl9ZnVuY3Rpb24gWChlLHQscil7dmFyIG4saSxzPS0xLGE9dFsxXSxvPTAsaD03LHU9NDtmb3IoMD09PWEmJihoPTEzOCx1PTMpLHRbMioocisxKSsxXT02NTUzNSxuPTA7bjw9cjtuKyspaT1hLGE9dFsyKihuKzEpKzFdLCsrbzxoJiZpPT09YXx8KG88dT9lLmJsX3RyZWVbMippXSs9bzowIT09aT8oaSE9PXMmJmUuYmxfdHJlZVsyKmldKyssZS5ibF90cmVlWzIqYl0rKyk6bzw9MTA/ZS5ibF90cmVlWzIqdl0rKzplLmJsX3RyZWVbMip5XSsrLHM9aSx1PShvPTApPT09YT8oaD0xMzgsMyk6aT09PWE/KGg9NiwzKTooaD03LDQpKX1mdW5jdGlvbiBWKGUsdCxyKXt2YXIgbixpLHM9LTEsYT10WzFdLG89MCxoPTcsdT00O2ZvcigwPT09YSYmKGg9MTM4LHU9Myksbj0wO248PXI7bisrKWlmKGk9YSxhPXRbMioobisxKSsxXSwhKCsrbzxoJiZpPT09YSkpe2lmKG88dSlmb3IoO0woZSxpLGUuYmxfdHJlZSksMCE9LS1vOyk7ZWxzZSAwIT09aT8oaSE9PXMmJihMKGUsaSxlLmJsX3RyZWUpLG8tLSksTChlLGIsZS5ibF90cmVlKSxQKGUsby0zLDIpKTpvPD0xMD8oTChlLHYsZS5ibF90cmVlKSxQKGUsby0zLDMpKTooTChlLHksZS5ibF90cmVlKSxQKGUsby0xMSw3KSk7cz1pLHU9KG89MCk9PT1hPyhoPTEzOCwzKTppPT09YT8oaD02LDMpOihoPTcsNCl9fW4oVCk7dmFyIHE9ITE7ZnVuY3Rpb24gSihlLHQscixuKXtQKGUsKHM8PDEpKyhuPzE6MCksMyksZnVuY3Rpb24oZSx0LHIsbil7TShlKSxuJiYoVShlLHIpLFUoZSx+cikpLGkuYXJyYXlTZXQoZS5wZW5kaW5nX2J1ZixlLndpbmRvdyx0LHIsZS5wZW5kaW5nKSxlLnBlbmRpbmcrPXJ9KGUsdCxyLCEwKX1yLl90cl9pbml0PWZ1bmN0aW9uKGUpe3F8fChmdW5jdGlvbigpe3ZhciBlLHQscixuLGkscz1uZXcgQXJyYXkoZysxKTtmb3Iobj1yPTA7bjxhLTE7bisrKWZvcihJW25dPXIsZT0wO2U8MTw8d1tuXTtlKyspQVtyKytdPW47Zm9yKEFbci0xXT1uLG49aT0wO248MTY7bisrKWZvcihUW25dPWksZT0wO2U8MTw8a1tuXTtlKyspRVtpKytdPW47Zm9yKGk+Pj03O248ZjtuKyspZm9yKFRbbl09aTw8NyxlPTA7ZTwxPDxrW25dLTc7ZSsrKUVbMjU2K2krK109bjtmb3IodD0wO3Q8PWc7dCsrKXNbdF09MDtmb3IoZT0wO2U8PTE0MzspelsyKmUrMV09OCxlKyssc1s4XSsrO2Zvcig7ZTw9MjU1Oyl6WzIqZSsxXT05LGUrKyxzWzldKys7Zm9yKDtlPD0yNzk7KXpbMiplKzFdPTcsZSsrLHNbN10rKztmb3IoO2U8PTI4NzspelsyKmUrMV09OCxlKyssc1s4XSsrO2ZvcihaKHosbCsxLHMpLGU9MDtlPGY7ZSsrKUNbMiplKzFdPTUsQ1syKmVdPWooZSw1KTtPPW5ldyBEKHosdyx1KzEsbCxnKSxCPW5ldyBEKEMsaywwLGYsZyksUj1uZXcgRChuZXcgQXJyYXkoMCkseCwwLGMscCl9KCkscT0hMCksZS5sX2Rlc2M9bmV3IEYoZS5keW5fbHRyZWUsTyksZS5kX2Rlc2M9bmV3IEYoZS5keW5fZHRyZWUsQiksZS5ibF9kZXNjPW5ldyBGKGUuYmxfdHJlZSxSKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCxXKGUpfSxyLl90cl9zdG9yZWRfYmxvY2s9SixyLl90cl9mbHVzaF9ibG9jaz1mdW5jdGlvbihlLHQscixuKXt2YXIgaSxzLGE9MDswPGUubGV2ZWw/KDI9PT1lLnN0cm0uZGF0YV90eXBlJiYoZS5zdHJtLmRhdGFfdHlwZT1mdW5jdGlvbihlKXt2YXIgdCxyPTQwOTM2MjQ0NDc7Zm9yKHQ9MDt0PD0zMTt0Kysscj4+Pj0xKWlmKDEmciYmMCE9PWUuZHluX2x0cmVlWzIqdF0pcmV0dXJuIG87aWYoMCE9PWUuZHluX2x0cmVlWzE4XXx8MCE9PWUuZHluX2x0cmVlWzIwXXx8MCE9PWUuZHluX2x0cmVlWzI2XSlyZXR1cm4gaDtmb3IodD0zMjt0PHU7dCsrKWlmKDAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiBoO3JldHVybiBvfShlKSksWShlLGUubF9kZXNjKSxZKGUsZS5kX2Rlc2MpLGE9ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKFgoZSxlLmR5bl9sdHJlZSxlLmxfZGVzYy5tYXhfY29kZSksWChlLGUuZHluX2R0cmVlLGUuZF9kZXNjLm1heF9jb2RlKSxZKGUsZS5ibF9kZXNjKSx0PWMtMTszPD10JiYwPT09ZS5ibF90cmVlWzIqU1t0XSsxXTt0LS0pO3JldHVybiBlLm9wdF9sZW4rPTMqKHQrMSkrNSs1KzQsdH0oZSksaT1lLm9wdF9sZW4rMys3Pj4+Mywocz1lLnN0YXRpY19sZW4rMys3Pj4+Myk8PWkmJihpPXMpKTppPXM9cis1LHIrNDw9aSYmLTEhPT10P0ooZSx0LHIsbik6ND09PWUuc3RyYXRlZ3l8fHM9PT1pPyhQKGUsMisobj8xOjApLDMpLEsoZSx6LEMpKTooUChlLDQrKG4/MTowKSwzKSxmdW5jdGlvbihlLHQscixuKXt2YXIgaTtmb3IoUChlLHQtMjU3LDUpLFAoZSxyLTEsNSksUChlLG4tNCw0KSxpPTA7aTxuO2krKylQKGUsZS5ibF90cmVlWzIqU1tpXSsxXSwzKTtWKGUsZS5keW5fbHRyZWUsdC0xKSxWKGUsZS5keW5fZHRyZWUsci0xKX0oZSxlLmxfZGVzYy5tYXhfY29kZSsxLGUuZF9kZXNjLm1heF9jb2RlKzEsYSsxKSxLKGUsZS5keW5fbHRyZWUsZS5keW5fZHRyZWUpKSxXKGUpLG4mJk0oZSl9LHIuX3RyX3RhbGx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5wZW5kaW5nX2J1ZltlLmRfYnVmKzIqZS5sYXN0X2xpdF09dD4+PjgmMjU1LGUucGVuZGluZ19idWZbZS5kX2J1ZisyKmUubGFzdF9saXQrMV09MjU1JnQsZS5wZW5kaW5nX2J1ZltlLmxfYnVmK2UubGFzdF9saXRdPTI1NSZyLGUubGFzdF9saXQrKywwPT09dD9lLmR5bl9sdHJlZVsyKnJdKys6KGUubWF0Y2hlcysrLHQtLSxlLmR5bl9sdHJlZVsyKihBW3JdK3UrMSldKyssZS5keW5fZHRyZWVbMipOKHQpXSsrKSxlLmxhc3RfbGl0PT09ZS5saXRfYnVmc2l6ZS0xfSxyLl90cl9hbGlnbj1mdW5jdGlvbihlKXtQKGUsMiwzKSxMKGUsbSx6KSxmdW5jdGlvbihlKXsxNj09PWUuYmlfdmFsaWQ/KFUoZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOjg8PWUuYmlfdmFsaWQmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmZS5iaV9idWYsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpfShlKX19LHtcIi4uL3V0aWxzL2NvbW1vblwiOjQxfV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSx7fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKHIsbil7XCJ1c2Ugc3RyaWN0XCI7aWYoIXIuc2V0SW1tZWRpYXRlKXt2YXIgaSxzLHQsYSxvPTEsaD17fSx1PSExLGw9ci5kb2N1bWVudCxlPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHIpO2U9ZSYmZS5zZXRUaW1lb3V0P2U6cixpPVwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChyLnByb2Nlc3MpP2Z1bmN0aW9uKGUpe3Byb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtjKGUpfSl9OmZ1bmN0aW9uKCl7aWYoci5wb3N0TWVzc2FnZSYmIXIuaW1wb3J0U2NyaXB0cyl7dmFyIGU9ITAsdD1yLm9ubWVzc2FnZTtyZXR1cm4gci5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlPSExfSxyLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLHIub25tZXNzYWdlPXQsZX19KCk/KGE9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixyLmFkZEV2ZW50TGlzdGVuZXI/ci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGQsITEpOnIuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIixkKSxmdW5jdGlvbihlKXtyLnBvc3RNZXNzYWdlKGErZSxcIipcIil9KTpyLk1lc3NhZ2VDaGFubmVsPygodD1uZXcgTWVzc2FnZUNoYW5uZWwpLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtjKGUuZGF0YSl9LGZ1bmN0aW9uKGUpe3QucG9ydDIucG9zdE1lc3NhZ2UoZSl9KTpsJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gbC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpPyhzPWwuZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKGUpe3ZhciB0PWwuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2MoZSksdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxzLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbH0scy5hcHBlbmRDaGlsZCh0KX0pOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoYywwLGUpfSxlLnNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1uZXcgRnVuY3Rpb24oXCJcIitlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyKzFdO3ZhciBuPXtjYWxsYmFjazplLGFyZ3M6dH07cmV0dXJuIGhbb109bixpKG8pLG8rK30sZS5jbGVhckltbWVkaWF0ZT1mfWZ1bmN0aW9uIGYoZSl7ZGVsZXRlIGhbZV19ZnVuY3Rpb24gYyhlKXtpZih1KXNldFRpbWVvdXQoYywwLGUpO2Vsc2V7dmFyIHQ9aFtlXTtpZih0KXt1PSEwO3RyeXshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jYWxsYmFjayxyPWUuYXJncztzd2l0Y2goci5sZW5ndGgpe2Nhc2UgMDp0KCk7YnJlYWs7Y2FzZSAxOnQoclswXSk7YnJlYWs7Y2FzZSAyOnQoclswXSxyWzFdKTticmVhaztjYXNlIDM6dChyWzBdLHJbMV0sclsyXSk7YnJlYWs7ZGVmYXVsdDp0LmFwcGx5KG4scil9fSh0KX1maW5hbGx5e2YoZSksdT0hMX19fX1mdW5jdGlvbiBkKGUpe2Uuc291cmNlPT09ciYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZGF0YSYmMD09PWUuZGF0YS5pbmRleE9mKGEpJiZjKCtlLmRhdGEuc2xpY2UoYS5sZW5ndGgpKX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWU/dGhpczplOnNlbGYpfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV19LHt9LFsxMF0pKDEwKX0pOyIsICIvLyBsb2dnZXIudHNcbmVudW0gTG9nTGV2ZWwge1xuICAgIElORk8sXG4gICAgV0FSTixcbiAgICBFUlJPUixcbn1cblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gICAgcHJpdmF0ZSBsb2dUb0NvbnNvbGUobGV2ZWw6IExvZ0xldmVsLCBtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiBhbnkpIHtcbiAgICAgICAgLy8gU09MVVRJT04gQlJVVEFMRSA6IGNvbnNvbGUubG9nIGRpcmVjdFxuICAgICAgICBjb25zb2xlLmxvZyhgW05leHVzIEFJIENoYXQgSW1wb3J0ZXJdIFske0xvZ0xldmVsW2xldmVsXX1dICR7bWVzc2FnZX1gKTtcbiAgICB9XG5cbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IGFueSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW05leHVzIEFJIENoYXQgSW1wb3J0ZXJdIFtJTkZPXSAke21lc3NhZ2V9YCk7XG4gICAgfVxuXG4gICAgd2FybihtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiBhbnkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbTmV4dXMgQUkgQ2hhdCBJbXBvcnRlcl0gW1dBUk5dICR7bWVzc2FnZX1gKTtcbiAgICB9XG5cbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW05leHVzIEFJIENoYXQgSW1wb3J0ZXJdIFtFUlJPUl0gJHttZXNzYWdlfWApO1xuICAgIH1cbn0iLCAiLy8gc3JjL3V0aWxzLnRzXG5pbXBvcnQgeyBtb21lbnQsIEFwcCwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL2xvZ2dlclwiO1xuaW1wb3J0IHsgcmVxdWVzdFVybCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUaW1lc3RhbXAoXG4gICAgLy8gUkVRVUlSRSBSRUZBQ1RPUklORyBUTyBTVVBQT1JUIE9USEVSIERBVEUgRk9STUFUUyBUSEFOIFVOSVhUSU1FXG4gICAgdW5peFRpbWU6IG51bWJlcixcbiAgICBmb3JtYXQ6IFwicHJlZml4XCIgfCBcImRhdGVcIiB8IFwidGltZVwiXG4pOiBzdHJpbmcge1xuICAgIGNvbnN0IGRhdGUgPSBtb21lbnQodW5peFRpbWUgKiAxMDAwKTtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgICBjYXNlIFwicHJlZml4XCI6XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcbiAgICAgICAgY2FzZSBcImRhdGVcIjpcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmZvcm1hdChcIkxcIik7XG4gICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5mb3JtYXQoXCJMVFNcIik7IC8vIENoYW5nZWQgZnJvbSBMVCB0byBMVFMgdG8gaW5jbHVkZSBzZWNvbmRzXG4gICAgfVxufVxuXG4vLyBHZW5lcmF0ZSBzdWJmb2xkZXIgZm9yIFlZWVkgTU0gdHJlZSBzdHJ1Y3R1cmVcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVllYXJNb250aEZvbGRlcih1bml4VGltZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodW5peFRpbWUgKiAxMDAwKTtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgICByZXR1cm4gYCR7eWVhcn0vJHttb250aH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGl0bGUodGl0bGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRpdGxlLnRyaW0oKSB8fCBcIlVudGl0bGVkXCI7IC8vIEp1c3QgdHJpbSB3aGl0ZXNwYWNlOyByZXRhaW4gc3BhY2VzIGFuZCBjaGFyYWN0ZXJzIGZvciByZWFkYWJpbGl0eVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVGaWxlTmFtZSh0aXRsZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgZmlsZU5hbWUgPSBmb3JtYXRUaXRsZSh0aXRsZSlcbiAgICAgICAgLm5vcm1hbGl6ZShcIk5GRFwiKVxuICAgICAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIikgLy8gUmVtb3ZlIGRpYWNyaXRpY3NcbiAgICAgICAgLnJlcGxhY2UoL1s8PjpcIlxcL1xcXFx8PypcXG5cXHJdKy9nLCBcIlwiKSAvLyBSZW1vdmUgaW52YWxpZCBmaWxlc3lzdGVtIGNoYXJhY3RlcnNcbiAgICAgICAgLnJlcGxhY2UoL1xcLnsyLH0vZywgXCIuXCIpIC8vIFJlcGxhY2UgbXVsdGlwbGUgZG90cyB3aXRoIHNpbmdsZSBkb3RcbiAgICAgICAgLnRyaW0oKTtcblxuICAgIC8vIENSSVRJQ0FMOiBSZW1vdmUgc3BlY2lhbCBjaGFyYWN0ZXJzIGZyb20gdGhlIGJlZ2lubmluZ1xuICAgIC8vIFRoaXMgZml4ZXMgaXNzdWVzIGxpa2UgXCIuaHRhY2Nlc3NcIiBiZWNvbWluZyBhbiBpbnZpc2libGUgZmlsZVxuICAgIGZpbGVOYW1lID0gZmlsZU5hbWUucmVwbGFjZSgvXlteXFx3XFxkXFxzXSsvLCBcIlwiKTsgLy8gUmVtb3ZlIG5vbi1hbHBoYW51bWVyaWMgYXQgc3RhcnRcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHByb2JsZW1hdGljIHBhdHRlcm5zXG4gICAgZmlsZU5hbWUgPSBmaWxlTmFtZVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikgLy8gTm9ybWFsaXplIHNwYWNlc1xuICAgICAgICAudHJpbSgpO1xuXG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgYSB2YWxpZCBmaWxlbmFtZVxuICAgIGlmICghZmlsZU5hbWUgfHwgZmlsZU5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGZpbGVOYW1lID0gXCJVbnRpdGxlZFwiO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBmaWxlbmFtZSBkb2Vzbid0IHN0YXJ0IHdpdGggYSBkb3QgKGhpZGRlbiBmaWxlcylcbiAgICBpZiAoZmlsZU5hbWUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgICAgZmlsZU5hbWUgPSBmaWxlTmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgLy8gRmluYWwgc2FmZXR5IGNoZWNrIC0gaWYgc3RpbGwgZW1wdHkgYWZ0ZXIgY2xlYW5pbmdcbiAgICBpZiAoIWZpbGVOYW1lIHx8IGZpbGVOYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmaWxlTmFtZSA9IFwiVW50aXRsZWRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsZU5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcmVmaXgoXG4gICAgZmlsZW5hbWU6IHN0cmluZyxcbiAgICB0aW1lU3RhbXA6IG51bWJlcixcbiAgICBkYXRlRm9ybWF0OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZVN0YW1wU3RyID0gZm9ybWF0VGltZXN0YW1wKHRpbWVTdGFtcCwgZGF0ZUZvcm1hdCk7IC8vIFVzZSB0aGUgc3BlY2lmaWVkIGZvcm1hdFxuICAgIGlmICh0aW1lU3RhbXBTdHIpIHtcbiAgICAgICAgZmlsZW5hbWUgPSBgJHt0aW1lU3RhbXBTdHJ9IC0gJHtmaWxlbmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gZmlsZW5hbWU7IC8vIFJldHVybiB0aGUgZmlsZW5hbWUgd2l0aCBwcmVmaXggaWYgYXBwbGljYWJsZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGF0ZVByZWZpeChcbiAgICB0aW1lU3RhbXA6IG51bWJlcixcbiAgICBkYXRlRm9ybWF0OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVTdGFtcCAqIDEwMDApOyAvLyBDb252ZXJ0IFVuaXggdGltZXN0YW1wIHRvIERhdGVcbiAgICBsZXQgcHJlZml4ID0gXCJcIjtcblxuICAgIC8vIEZvcm1hdCB0aGUgZGF0ZSBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIGZvcm1hdFxuICAgIGlmIChkYXRlRm9ybWF0ID09PSBcIllZWVktTU0tRERcIikge1xuICAgICAgICBwcmVmaXggPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdOyAvLyBGb3JtYXQgYXMgWVlZWS1NTS1ERFxuICAgIH0gZWxzZSBpZiAoZGF0ZUZvcm1hdCA9PT0gXCJZWVlZTU1ERFwiKSB7XG4gICAgICAgIHByZWZpeCA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF0ucmVwbGFjZSgvLS9nLCBcIlwiKTsgLy8gUmVtb3ZlIGRhc2hlcyBmb3IgWVlZWU1NRERcbiAgICB9XG5cbiAgICByZXR1cm4gcHJlZml4O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVVbmlxdWVGaWxlTmFtZShcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIHZhdWx0QWRhcHRlcjogYW55XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxldCB1bmlxdWVGaWxlTmFtZSA9IGZpbGVQYXRoO1xuXG4gICAgLy8gRXh0cmFjdCB0aGUgYmFzZSBuYW1lIGFuZCBleHRlbnNpb25cbiAgICBjb25zdCBiYXNlTmFtZSA9IGZpbGVQYXRoLnJlcGxhY2UoL1xcLm1kJC8sIFwiXCIpOyAvLyBSZW1vdmUgdGhlIC5tZCBleHRlbnNpb24gZm9yIHVuaXF1ZSBuYW1lIGdlbmVyYXRpb25cbiAgICBsZXQgY291bnRlciA9IDE7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RlbmNlIGFuZCBnZW5lcmF0ZSB1bmlxdWUgbmFtZXNcbiAgICB3aGlsZSAoYXdhaXQgdmF1bHRBZGFwdGVyLmV4aXN0cyh1bmlxdWVGaWxlTmFtZSkpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IG5hbWUgd2l0aCBjb3VudGVyIGFwcGVuZGVkXG4gICAgICAgIHVuaXF1ZUZpbGVOYW1lID0gYCR7YmFzZU5hbWV9ICgke2NvdW50ZXIrK30pLm1kYDsgLy8gQXBwZW5kIHRoZSBjb3VudGVyIGFuZCBrZWVwIC5tZFxuICAgIH1cblxuICAgIHJldHVybiB1bmlxdWVGaWxlTmFtZTsgLy8gUmV0dXJuIHRoZSB1bmlxdWUgZmlsZSBuYW1lXG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdWxsIGZpbGUgcGF0aCBleGlzdHNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkb2VzRmlsZVBhdGhFeGlzdChcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIHZhdWx0OiBhbnlcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZpbGUgPSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuICAgIHJldHVybiBmaWxlICE9PSBudWxsOyAvLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgZmlsZSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsZUhhc2goZmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIiwgYnVmZmVyKTtcbiAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcbiAgICByZXR1cm4gaGFzaEFycmF5Lm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIHRoZSBleGFjdCBmaWxlbmFtZSB0aGF0IHdvdWxkIGJlIHVzZWQgZm9yIGEgY29udmVyc2F0aW9uXG4gKiBUaGlzIG1hdGNoZXMgdGhlIGxvZ2ljIGluIENvbnZlcnNhdGlvblByb2Nlc3Nvci5nZW5lcmF0ZUZpbGVQYXRoRm9yQ2hhdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDb252ZXJzYXRpb25GaWxlTmFtZShcbiAgICBjaGF0VGl0bGU6IHN0cmluZyxcbiAgICBjcmVhdGVUaW1lOiBudW1iZXIsXG4gICAgYWRkRGF0ZVByZWZpeDogYm9vbGVhbixcbiAgICBkYXRlRm9ybWF0OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNyZWF0ZVRpbWUgKiAxMDAwKTtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblxuICAgIGxldCBmaWxlTmFtZSA9IGdlbmVyYXRlRmlsZU5hbWUoY2hhdFRpdGxlKTtcblxuICAgIGlmIChhZGREYXRlUHJlZml4KSB7XG4gICAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuICAgICAgICBsZXQgcHJlZml4ID0gXCJcIjtcbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT09IFwiWVlZWS1NTS1ERFwiKSB7XG4gICAgICAgICAgICBwcmVmaXggPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGVGb3JtYXQgPT09IFwiWVlZWU1NRERcIikge1xuICAgICAgICAgICAgcHJlZml4ID0gYCR7eWVhcn0ke21vbnRofSR7ZGF5fWA7XG4gICAgICAgIH1cbiAgICAgICAgZmlsZU5hbWUgPSBgJHtwcmVmaXh9IC0gJHtmaWxlTmFtZX1gO1xuICAgIH1cblxuICAgIHJldHVybiBmaWxlTmFtZTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBzYWZlIGFsaWFzIGZvciBmcm9udG1hdHRlciB1c2VcbiAqIFNhbml0aXplcyB0aXRsZXMgdG8gYmUgc2FmZSBmb3IgWUFNTCBmcm9udG1hdHRlciB3aGlsZSBwcmVzZXJ2aW5nIHJlYWRhYmlsaXR5XG4gKiBSZXR1cm5zIGVpdGhlciBhIHNhZmUgdW5xdW90ZWQgc3RyaW5nIG9yIGEgcHJvcGVybHkgcXVvdGVkIHN0cmluZyB3aGVuIG5lY2Vzc2FyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTYWZlQWxpYXModGl0bGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCF0aXRsZSB8fCB0eXBlb2YgdGl0bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBcIlVudGl0bGVkXCI7XG4gICAgfVxuXG4gICAgLy8gU3RhcnQgd2l0aCB0aGUgdGl0bGUgYW5kIGFwcGx5IG1pbmltYWwgc2FuaXRpemF0aW9uXG4gICAgbGV0IGNsZWFuTmFtZSA9IHRpdGxlXG4gICAgICAgIC5ub3JtYWxpemUoXCJORkRcIilcbiAgICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIpIC8vIFJlbW92ZSBkaWFjcml0aWNzXG4gICAgICAgIC5yZXBsYWNlKC9bPD5cXC9cXFxcfD8qXFxuXFxyXSsvZywgXCJcIikgLy8gUmVtb3ZlIGludmFsaWQgZmlsZXN5c3RlbSBjaGFyYWN0ZXJzIChrZWVwIHF1b3RlcyBhbmQgY29sb25zKVxuICAgICAgICAucmVwbGFjZSgvXFwuezIsfS9nLCBcIi5cIikgLy8gUmVwbGFjZSBtdWx0aXBsZSBkb3RzIHdpdGggc2luZ2xlIGRvdFxuICAgICAgICAudHJpbSgpO1xuXG4gICAgLy8gUmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycyBmcm9tIHRoZSBiZWdpbm5pbmdcbiAgICBjbGVhbk5hbWUgPSBjbGVhbk5hbWUucmVwbGFjZSgvXlteXFx3XFxkXFxzXCInXSsvLCBcIlwiKTtcblxuICAgIC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgcHJvYmxlbWF0aWMgcGF0dGVybnNcbiAgICBjbGVhbk5hbWUgPSBjbGVhbk5hbWVcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpIC8vIE5vcm1hbGl6ZSBzcGFjZXNcbiAgICAgICAgLnRyaW0oKTtcblxuICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGEgdmFsaWQgYWxpYXNcbiAgICBpZiAoIWNsZWFuTmFtZSB8fCBjbGVhbk5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNsZWFuTmFtZSA9IFwiVW50aXRsZWRcIjtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYWxpYXMgZG9lc24ndCBzdGFydCB3aXRoIGEgZG90IChjYW4gY2F1c2UgaXNzdWVzIGluIGZyb250bWF0dGVyKVxuICAgIGlmIChjbGVhbk5hbWUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgICAgY2xlYW5OYW1lID0gY2xlYW5OYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCBzYWZldHkgY2hlY2tcbiAgICBpZiAoIWNsZWFuTmFtZSB8fCBjbGVhbk5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNsZWFuTmFtZSA9IFwiVW50aXRsZWRcIjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHF1b3RlcyAoWUFNTCByZXNlcnZlZCB3b3JkcyBvciB2YWx1ZXMgdGhhdCBjb3VsZCBiZSBtaXNpbnRlcnByZXRlZClcbiAgICBjb25zdCBuZWVkc1F1b3RlcyA9IC9eKHRydWV8ZmFsc2V8bnVsbHx5ZXN8bm98b258b2ZmfFxcZCt8XFxkKlxcLlxcZCspJC9pLnRlc3QoY2xlYW5OYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBjbGVhbk5hbWUuaW5jbHVkZXMoJ1wiJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5OYW1lLnN0YXJ0c1dpdGgoJyMnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBjbGVhbk5hbWUuc3RhcnRzV2l0aCgnJicpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIGNsZWFuTmFtZS5zdGFydHNXaXRoKCcqJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5OYW1lLnN0YXJ0c1dpdGgoJyEnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBjbGVhbk5hbWUuc3RhcnRzV2l0aCgnfCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIGNsZWFuTmFtZS5zdGFydHNXaXRoKCc+JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5OYW1lLnN0YXJ0c1dpdGgoJyUnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBjbGVhbk5hbWUuc3RhcnRzV2l0aCgnQCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIGNsZWFuTmFtZS5zdGFydHNXaXRoKCdgJyk7XG5cbiAgICBpZiAobmVlZHNRdW90ZXMpIHtcbiAgICAgICAgLy8gVXNlIHNpbmdsZSBxdW90ZXMgYW5kIGVzY2FwZSBhbnkgc2luZ2xlIHF1b3RlcyBpbiB0aGUgY29udGVudFxuICAgICAgICByZXR1cm4gYCcke2NsZWFuTmFtZS5yZXBsYWNlKC8nL2csIFwiJydcIil9J2A7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFuTmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRNZXNzYWdlKG1lc3NhZ2U6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIG1lc3NhZ2UgJiZcbiAgICAgICAgdHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgbWVzc2FnZS5jb250ZW50ICYmXG4gICAgICAgIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpICYmXG4gICAgICAgIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5sZW5ndGggPiAwICYmXG4gICAgICAgIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5zb21lKFxuICAgICAgICAgICAgKHBhcnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBzaW1wbGUgc3RyaW5nIHBhcnRzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcInN0cmluZ1wiICYmIHBhcnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgb2JqZWN0IHBhcnRzIHdpdGggY29udGVudF90eXBlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcIm9iamVjdFwiICYmIHBhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXVkaW8gdHJhbnNjcmlwdGlvbiBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jb250ZW50X3R5cGUgPT09IFwiYXVkaW9fdHJhbnNjcmlwdGlvblwiICYmIHBhcnQudGV4dCAmJiBwYXJ0LnRleHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUZXh0IHBhcnRzIHdpdGggY29udGVudF90eXBlXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmNvbnRlbnRfdHlwZSA9PT0gXCJ0ZXh0XCIgJiYgcGFydC50ZXh0ICYmIHBhcnQudGV4dC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE11bHRpbW9kYWwgdGV4dCBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jb250ZW50X3R5cGUgPT09IFwibXVsdGltb2RhbF90ZXh0XCIgJiYgcGFydC50ZXh0ICYmIHBhcnQudGV4dC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0N1c3RvbUVycm9yKGVycm9yOiBhbnkpOiBlcnJvciBpcyBDdXN0b21FcnJvciB7XG4gICAgcmV0dXJuIGVycm9yICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSBcInN0cmluZ1wiOyAvLyBDaGVjayBpZiBlcnJvciBoYXMgYSAnbWVzc2FnZScgcHJvcGVydHlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZvbGRlckV4aXN0cyhcbiAgICBmb2xkZXJQYXRoOiBzdHJpbmcsXG4gICAgdmF1bHQ6IGFueVxuKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICBjb25zdCBmb2xkZXJzID0gZm9sZGVyUGF0aC5zcGxpdChcIi9cIikuZmlsdGVyKChwKSA9PiBwLmxlbmd0aCk7XG4gICAgbGV0IGN1cnJlbnRQYXRoID0gXCJcIjtcblxuICAgIGZvciAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcbiAgICAgICAgY3VycmVudFBhdGggKz0gZm9sZGVyICsgXCIvXCI7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRGb2xkZXIgPSB2YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoY3VycmVudFBhdGgpO1xuXG4gICAgICAgIGlmICghY3VycmVudEZvbGRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIoY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlICE9PSBcIkZvbGRlciBhbHJlYWR5IGV4aXN0cy5cIikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBgRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXI6ICR7Y3VycmVudFBhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGBGYWlsZWQgdG8gY3JlYXRlIGZvbGRlcjogJHtjdXJyZW50UGF0aH0uIFJlYXNvbjogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGZvbGRlciBhbHJlYWR5IGV4aXN0cywgY29udGludWUgc2lsZW50bHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0NvbnZlcnNhdGlvbkxpbmsoXG4gICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgICBwcm92aWRlcjogc3RyaW5nID0gJ2NoYXRncHQnXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAvLyBHZW5lcmF0ZSBwcm92aWRlci1zcGVjaWZpYyBVUkxcbiAgICBsZXQgdXJsOiBzdHJpbmc7XG4gICAgc3dpdGNoIChwcm92aWRlcikge1xuICAgICAgICBjYXNlICdjaGF0Z3B0JzpcbiAgICAgICAgICAgIHVybCA9IGBodHRwczovL2NoYXRncHQuY29tL2MvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NsYXVkZSc6XG4gICAgICAgICAgICB1cmwgPSBgaHR0cHM6Ly9jbGF1ZGUuYWkvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgVW5rbm93biBwcm92aWRlciBmb3IgbGluayBjaGVja2luZzogJHtwcm92aWRlcn1gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6IFwiSEVBRFwiLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDA7IC8vIFJldHVybnMgdHJ1ZSBmb3Igc3RhdHVzIGNvZGVzIDIwMC0yOTlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoYEVycm9yIGZldGNoaW5nICR7dXJsfTpgLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gUmV0dXJuIGZhbHNlIGluIGNhc2Ugb2YgZXJyb3IgKGUuZy4sIG5ldHdvcmsgaXNzdWVzKVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9sZF9nZXRDb252ZXJzYXRpb25JZChhcHA6IEFwcCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgYWN0aXZlRmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgIGlmIChhY3RpdmVGaWxlKSB7XG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyID1cbiAgICAgICAgICAgIGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShhY3RpdmVGaWxlKT8uZnJvbnRtYXR0ZXI7XG4gICAgICAgIHJldHVybiBmcm9udG1hdHRlcj8uY29udmVyc2F0aW9uX2lkO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBSZXR1cm4gdW5kZWZpbmVkIGlmIHRoZXJlIGlzIG5vIGFjdGl2ZSBmaWxlXG59XG5cbi8vIFJFTU9WRUQ6IGdldENvbnZlcnNhdGlvbklkKCkgLSBubyBsb25nZXIgbmVlZGVkIChjbGljayBoYW5kbGVyIHJlbW92ZWQpXG4vLyBSRU1PVkVEOiBnZXRQcm92aWRlcigpIC0gbm8gbG9uZ2VyIG5lZWRlZCAoY2xpY2sgaGFuZGxlciByZW1vdmVkKVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOZXh1c1JlbGF0ZWQoZmlsZTogVEZpbGUsIGFwcDogQXBwKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZnJvbnRtYXR0ZXIgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk/LmZyb250bWF0dGVyO1xuICAgIHJldHVybiBmcm9udG1hdHRlcj8ubmV4dXMgPT09IFwibmV4dXMtYWktY2hhdC1pbXBvcnRlclwiOyAvLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgbmV4dXMgbWF0Y2hlc1xufVxuXG5pbnRlcmZhY2UgQ3VzdG9tRXJyb3Ige1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQ2hhdE1lc3NhZ2Uge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgY29udGVudD86IHtcbiAgICAgICAgcGFydHM6IGFueVtdO1xuICAgICAgICBjb250ZW50X3R5cGU/OiBzdHJpbmc7XG4gICAgfTtcbn0iLCAiLy8gc3JjL2RpYWxvZ3MudHNcbmltcG9ydCB7IE1vZGFsLCBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuLy8gRnVuY3Rpb24gdG8gc2hvdyB0aGUgbW9kYWwgd2l0aCBpbXByb3ZlZCBzcGFjaW5nXG5mdW5jdGlvbiBkaXNwbGF5TW9kYWwoYXBwOiBBcHAsIHRpdGxlOiBzdHJpbmcsIHBhcmFncmFwaHM6IHN0cmluZ1tdLCBub3RlPzogc3RyaW5nKTogTW9kYWwge1xuICAgIGNvbnN0IG1vZGFsID0gbmV3IE1vZGFsKGFwcCk7XG4gICAgbW9kYWwuY29udGVudEVsLmFkZENsYXNzKFwibmV4dXMtYWktY2hhdC1pbXBvcnRlci1tb2RhbFwiKTtcblxuICAgIC8vIFRpdGxlIHdpdGggcmVkdWNlZCB0b3Agc3BhY2luZ1xuICAgIGNvbnN0IHRpdGxlRWwgPSBtb2RhbC5jb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IFxuICAgICAgICB0ZXh0OiB0aXRsZSxcbiAgICAgICAgY2xzOiBcIm1vZGFsLXRpdGxlXCJcbiAgICB9KTtcblxuICAgIC8vIENvbnRlbnQgY29udGFpbmVyXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IG1vZGFsLmNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtY29udGVudFwiIH0pO1xuXG4gICAgLy8gUHJvY2VzcyBwYXJhZ3JhcGhzIHdpdGggYXV0b21hdGljIHNwYWNpbmdcbiAgICBwYXJhZ3JhcGhzLmZvckVhY2goKHBhcmFncmFwaCwgcGFyYWdyYXBoSW5kZXgpID0+IHtcbiAgICAgICAgLy8gQWRkIGRvdWJsZSBsaW5lIGJyZWFrcyB0byBlbnN1cmUgc2VjdGlvbnMgYXJlIHNlcGFyYXRlZFxuICAgICAgICBjb25zdCBwYXJhZ3JhcGhXaXRoU3BhY2luZyA9IHBhcmFncmFwaCArICdcXG5cXG4nO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFyYWdyYXBoRGl2ID0gY29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtcGFyYWdyYXBoXCIgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTcGxpdCBpbnRvIHNlY3Rpb25zIChkb3VibGUgbGluZSBicmVha3MgY3JlYXRlIG5ldyBzZWN0aW9ucylcbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSBwYXJhZ3JhcGhXaXRoU3BhY2luZy5zcGxpdCgnXFxuXFxuJykuZmlsdGVyKHNlY3Rpb24gPT4gc2VjdGlvbi50cmltKCkgIT09ICcnKTtcbiAgICAgICAgXG4gICAgICAgIHNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24sIHNlY3Rpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkRpdiA9IHBhcmFncmFwaERpdi5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtc2VjdGlvblwiIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGVhY2ggbGluZSB3aXRoaW4gdGhlIHNlY3Rpb25cbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gc2VjdGlvbi5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT09ICcnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVEaXYgPSBzZWN0aW9uRGl2LmNyZWF0ZURpdih7IGNsczogXCJtb2RhbC1saW5lXCIgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCBtYXJrZG93biBmb3JtYXR0aW5nIHRvIEhUTUxcbiAgICAgICAgICAgICAgICBsZXQgaHRtbENvbnRlbnQgPSBsaW5lXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFsoW15cXF1dKylcXF1cXCgoW14pXSspXFwpL2csICc8YSBocmVmPVwiJDJcIiBjbGFzcz1cImV4dGVybmFsLWxpbmtcIiB0YXJnZXQ9XCJfYmxhbmtcIj4kMTwvYT4nKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICc8ZW0+JDE8L2VtPicpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBzcGVjaWFsIGZvcm1hdHRpbmdcbiAgICAgICAgICAgICAgICBpZiAobGluZS50cmltKCkuZW5kc1dpdGgoJzonKSAmJiBsaW5lLnRyaW0oKS5sZW5ndGggPCAzMCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lRGl2LmlubmVySFRNTCA9IGA8c3Ryb25nIGNsYXNzPVwic2VjdGlvbi1oZWFkZXJcIj4ke2h0bWxDb250ZW50fTwvc3Ryb25nPmA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLnRyaW0oKS5zdGFydHNXaXRoKCdcdTIwMjInKSB8fCBsaW5lLnRyaW0oKS5zdGFydHNXaXRoKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZURpdi5pbm5lckhUTUwgPSBodG1sQ29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgbGluZURpdi5hZGRDbGFzcygnbW9kYWwtbGlzdC1pdGVtJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZURpdi5pbm5lckhUTUwgPSBodG1sQ29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHNwYWNpbmcgYmV0d2VlbiBzZWN0aW9ucyB3aXRoaW4gcGFyYWdyYXBoXG4gICAgICAgICAgICBpZiAoc2VjdGlvbkluZGV4IDwgc2VjdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHBhcmFncmFwaERpdi5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtc2VjdGlvbi1icmVha1wiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBub3RlIGFzIHNlcGFyYXRlIHNlY3Rpb24gd2l0aCBzcGFjaW5nXG4gICAgaWYgKG5vdGUpIHtcbiAgICAgICAgLy8gQWRkIHNwYWNpbmcgYmVmb3JlIG5vdGVcbiAgICAgICAgY29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtbWFqb3ItYnJlYWtcIiB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5vdGVEaXYgPSBjb250ZW50Q29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogXCJtb2RhbC1ub3RlXCIgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBQcm9jZXNzIG5vdGUgY29udGVudCB3aXRoIHNhbWUgZm9ybWF0dGluZ1xuICAgICAgICBsZXQgbm90ZUNvbnRlbnQgPSBub3RlXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxbKFteXFxdXSspXFxdXFwoKFteKV0rKVxcKS9nLCAnPGEgaHJlZj1cIiQyXCIgY2xhc3M9XCJleHRlcm5hbC1saW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JDE8L2E+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCpcXCooW14qXSspXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCooW14qXSspXFwqL2csICc8ZW0+JDE8L2VtPicpO1xuICAgICAgICBcbiAgICAgICAgbm90ZURpdi5pbm5lckhUTUwgPSBub3RlQ29udGVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kYWw7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGFkZCBidXR0b25zIHdpdGggYmV0dGVyIHN0eWxpbmdcbmZ1bmN0aW9uIGFkZEJ1dHRvbnMoXG4gICAgbW9kYWw6IE1vZGFsLCBcbiAgICB0eXBlOiBcImluZm9ybWF0aW9uXCIgfCBcImNvbmZpcm1hdGlvblwiLCBcbiAgICByZXNvbHZlOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQsXG4gICAgY3VzdG9tTGFiZWxzPzogeyBidXR0b24xPzogc3RyaW5nOyBidXR0b24yPzogc3RyaW5nIH1cbik6IHZvaWQge1xuICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IG1vZGFsLmNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiIH0pO1xuICAgIFxuICAgIGlmICh0eXBlID09PSBcImluZm9ybWF0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uTGFiZWwgPSBjdXN0b21MYWJlbHM/LmJ1dHRvbjEgfHwgXCJVbmRlcnN0b29kXCI7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7IFxuICAgICAgICAgICAgdGV4dDogYnV0dG9uTGFiZWwsXG4gICAgICAgICAgICBjbHM6IFwibW9kLWN0YVwiICAvLyBPYnNpZGlhbidzIHByaW1hcnkgYnV0dG9uIGNsYXNzXG4gICAgICAgIH0pO1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIG1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgeyAvLyBcImNvbmZpcm1hdGlvblwiXG4gICAgICAgIGNvbnN0IG5vTGFiZWwgPSBjdXN0b21MYWJlbHM/LmJ1dHRvbjIgfHwgXCJOb1wiO1xuICAgICAgICBjb25zdCB5ZXNMYWJlbCA9IGN1c3RvbUxhYmVscz8uYnV0dG9uMSB8fCBcIlllc1wiO1xuICAgICAgICBcbiAgICAgICAgLy8gTm8gYnV0dG9uIChzZWNvbmRhcnkpXG4gICAgICAgIGNvbnN0IG5vQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgXG4gICAgICAgICAgICB0ZXh0OiBub0xhYmVsLFxuICAgICAgICAgICAgY2xzOiBcIm1vZC1tdXRlZFwiICAvLyBPYnNpZGlhbidzIHNlY29uZGFyeSBidXR0b24gY2xhc3NcbiAgICAgICAgfSk7XG4gICAgICAgIG5vQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBtb2RhbC5jbG9zZSgpO1xuICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gWWVzIGJ1dHRvbiAocHJpbWFyeSlcbiAgICAgICAgY29uc3QgeWVzQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgXG4gICAgICAgICAgICB0ZXh0OiB5ZXNMYWJlbCxcbiAgICAgICAgICAgIGNsczogXCJtb2QtY3RhXCIgIC8vIE9ic2lkaWFuJ3MgcHJpbWFyeSBidXR0b24gY2xhc3NcbiAgICAgICAgfSk7XG4gICAgICAgIHllc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gTWFpbiBmdW5jdGlvbiB0byBzaG93IGNvbmZpcm1hdGlvbiBvciBpbmZvcm1hdGlvbiBkaWFsb2dcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93RGlhbG9nKFxuICAgIGFwcDogQXBwLFxuICAgIHR5cGU6IFwiaW5mb3JtYXRpb25cIiB8IFwiY29uZmlybWF0aW9uXCIsXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBwYXJhZ3JhcGhzOiBzdHJpbmdbXSxcbiAgICBub3RlPzogc3RyaW5nLFxuICAgIGN1c3RvbUxhYmVscz86IHsgYnV0dG9uMT86IHN0cmluZzsgYnV0dG9uMj86IHN0cmluZyB9XG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3QgbW9kYWwgPSBkaXNwbGF5TW9kYWwoYXBwLCB0aXRsZSwgcGFyYWdyYXBocywgbm90ZSk7XG4gICAgICAgIGFkZEJ1dHRvbnMobW9kYWwsIHR5cGUsIHJlc29sdmUsIGN1c3RvbUxhYmVscyk7XG4gICAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBCZWF1dGlmdWwgdXBncmFkZSBkaWFsb2cgd2l0aCBlbmhhbmNlZCBzdHlsaW5nIChsaWtlIEV4Y2FsaWRyYXcpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93VXBncmFkZURpYWxvZyhcbiAgICBhcHA6IEFwcCxcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgYnV0dG9uczogQXJyYXk8eyB0ZXh0OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IHByaW1hcnk/OiBib29sZWFuIH0+O1xuICAgIH1cbik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IEJlYXV0aWZ1bFVwZ3JhZGVEaWFsb2coYXBwLCBvcHRpb25zLCByZXNvbHZlKTtcbiAgICAgICAgbW9kYWwub3BlbigpO1xuICAgIH0pO1xufVxuXG5jbGFzcyBCZWF1dGlmdWxVcGdyYWRlRGlhbG9nIGV4dGVuZHMgTW9kYWwge1xuICAgIHByaXZhdGUgcmVzb2x2ZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBvcHRpb25zOiB7XG4gICAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgYnV0dG9uczogQXJyYXk8eyB0ZXh0OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IHByaW1hcnk/OiBib29sZWFuIH0+O1xuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgICBidXR0b25zOiBBcnJheTx7IHRleHQ6IHN0cmluZzsgdmFsdWU6IHN0cmluZzsgcHJpbWFyeT86IGJvb2xlYW4gfT47XG4gICAgICAgIH0sXG4gICAgICAgIHJlc29sdmU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgLy8gQWRkIGN1c3RvbSBDU1MgY2xhc3MgZm9yIHN0eWxpbmdcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKCduZXh1cy11cGdyYWRlLWRpYWxvZycpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBtYWluIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCduZXh1cy11cGdyYWRlLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIC8vIEhlYWRlciB3aXRoIGljb24gYW5kIHRpdGxlXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25leHVzLXVwZ3JhZGUtaGVhZGVyJyk7XG4gICAgICAgIGNvbnN0IGhlYWRlckljb24gPSBoZWFkZXIuY3JlYXRlRGl2KCduZXh1cy11cGdyYWRlLWljb24nKTtcbiAgICAgICAgaGVhZGVySWNvbi5pbm5lckhUTUwgPSAnXHVEODNEXHVERTgwJztcbiAgICAgICAgY29uc3QgaGVhZGVyVGl0bGUgPSBoZWFkZXIuY3JlYXRlRGl2KCduZXh1cy11cGdyYWRlLXRpdGxlJyk7XG4gICAgICAgIGhlYWRlclRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5vcHRpb25zLnRpdGxlO1xuXG4gICAgICAgIC8vIENvbnRlbnQgYXJlYSB3aXRoIHJpY2ggZm9ybWF0dGluZ1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGFpbmVyLmNyZWF0ZURpdignbmV4dXMtdXBncmFkZS1jb250ZW50Jyk7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgLy8gS28tZmkgc3VwcG9ydCBzZWN0aW9uIChsaWtlIEV4Y2FsaWRyYXcpXG4gICAgICAgIGNvbnN0IHN1cHBvcnRTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignbmV4dXMtc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIHN1cHBvcnRTZWN0aW9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZXh1cy1zdXBwb3J0LXRleHRcIj5cbiAgICAgICAgICAgICAgICBJIGJ1aWxkIHRoaXMgcGx1Z2luIGluIG15IGZyZWUgdGltZSwgYXMgYSBsYWJvciBvZiBsb3ZlLiBJZiB5b3UgZmluZCBpdCB2YWx1YWJsZSwgc2F5IFRIQU5LIFlPVSBvclx1MjAyNlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmV4dXMtY29mZmVlLWRpdlwiPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL2tvLWZpLmNvbS9zdXBlcmtpa2ltXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9zdG9yYWdlLmtvLWZpLmNvbS9jZG4va29maTYucG5nP3Y9NlwiIGJvcmRlcj1cIjBcIiBhbHQ9XCJCdXkgTWUgYSBDb2ZmZWUgYXQga28tZmkuY29tXCIgaGVpZ2h0PVwiNDVcIj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcblxuICAgICAgICAvLyBCdXR0b25zIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdignbmV4dXMtdXBncmFkZS1idXR0b25zJyk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgY29uc3QgYnRuID0gYnV0dG9uc0NvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgICAgICAgICAgIHRleHQ6IGJ1dHRvbi50ZXh0LFxuICAgICAgICAgICAgICAgIGNsczogYnV0dG9uLnByaW1hcnkgPyAnbmV4dXMtYnRuLXByaW1hcnknIDogJ25leHVzLWJ0bi1zZWNvbmRhcnknXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUoYnV0dG9uLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufSIsICIvLyBzcmMvdXBncmFkZS91dGlscy92ZXJzaW9uLXV0aWxzLnRzXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkVmVyc2lvbiB7XG4gICAgbWFqb3I6IG51bWJlcjtcbiAgICBtaW5vcjogbnVtYmVyO1xuICAgIHBhdGNoOiBudW1iZXI7XG4gICAgb3JpZ2luYWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFZlcnNpb25VdGlscyB7XG4gICAgLyoqXG4gICAgICogUGFyc2UgdmVyc2lvbiBzdHJpbmcgaW50byBjb21wb25lbnRzXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlVmVyc2lvbih2ZXJzaW9uOiBzdHJpbmcpOiBQYXJzZWRWZXJzaW9uIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSB2ZXJzaW9uLnNwbGl0KCcuJykubWFwKE51bWJlcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYWpvcjogcGFydHNbMF0gfHwgMCxcbiAgICAgICAgICAgIG1pbm9yOiBwYXJ0c1sxXSB8fCAwLCBcbiAgICAgICAgICAgIHBhdGNoOiBwYXJ0c1syXSB8fCAwLFxuICAgICAgICAgICAgb3JpZ2luYWw6IHZlcnNpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byB2ZXJzaW9uc1xuICAgICAqIFJldHVybnM6IC0xICh2MSA8IHYyKSwgMCAodjEgPSB2MiksIDEgKHYxID4gdjIpXG4gICAgICovXG4gICAgc3RhdGljIGNvbXBhcmVWZXJzaW9ucyh2ZXJzaW9uMTogc3RyaW5nLCB2ZXJzaW9uMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgdjEgPSB0aGlzLnBhcnNlVmVyc2lvbih2ZXJzaW9uMSk7XG4gICAgICAgIGNvbnN0IHYyID0gdGhpcy5wYXJzZVZlcnNpb24odmVyc2lvbjIpO1xuXG4gICAgICAgIGlmICh2MS5tYWpvciAhPT0gdjIubWFqb3IpIHJldHVybiB2MS5tYWpvciAtIHYyLm1ham9yO1xuICAgICAgICBpZiAodjEubWlub3IgIT09IHYyLm1pbm9yKSByZXR1cm4gdjEubWlub3IgLSB2Mi5taW5vcjtcbiAgICAgICAgcmV0dXJuIHYxLnBhdGNoIC0gdjIucGF0Y2g7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdmVyc2lvbiBpcyBpbiByYW5nZSBbbWluLCBtYXhdXG4gICAgICovXG4gICAgc3RhdGljIGlzSW5SYW5nZSh2ZXJzaW9uOiBzdHJpbmcsIG1pblZlcnNpb246IHN0cmluZywgbWF4VmVyc2lvbj86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBpc0Fib3ZlTWluID0gdGhpcy5jb21wYXJlVmVyc2lvbnModmVyc2lvbiwgbWluVmVyc2lvbikgPj0gMDtcbiAgICAgICAgaWYgKCFtYXhWZXJzaW9uKSByZXR1cm4gaXNBYm92ZU1pbjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGlzQmVsb3dNYXggPSB0aGlzLmNvbXBhcmVWZXJzaW9ucyh2ZXJzaW9uLCBtYXhWZXJzaW9uKSA8PSAwO1xuICAgICAgICByZXR1cm4gaXNBYm92ZU1pbiAmJiBpc0JlbG93TWF4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIG1pZ3JhdGlvbiBzaG91bGQgcnVuIGJhc2VkIG9uIHZlcnNpb24gcmFuZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgc2hvdWxkUnVuTWlncmF0aW9uKFxuICAgICAgICBmcm9tVmVyc2lvbjogc3RyaW5nLCBcbiAgICAgICAgdG9WZXJzaW9uOiBzdHJpbmcsIFxuICAgICAgICBtaWdyYXRpb25Gcm9tVmVyc2lvbjogc3RyaW5nLFxuICAgICAgICBtaWdyYXRpb25Ub1ZlcnNpb24/OiBzdHJpbmdcbiAgICApOiBib29sZWFuIHtcbiAgICAgICAgLy8gTWlncmF0aW9uIG5lZWRlZCBpZiB1c2VyJ3Mgb2xkIHZlcnNpb24gaXMgPj0gbWlncmF0aW9uJ3MgdGFyZ2V0IHJhbmdlXG4gICAgICAgIC8vIGFuZCB1c2VyJ3MgbmV3IHZlcnNpb24gaXMgPj0gbWlncmF0aW9uJ3MgdGFyZ2V0IHZlcnNpb25cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVzZXJGcm9tID0gdGhpcy5wYXJzZVZlcnNpb24oZnJvbVZlcnNpb24pO1xuICAgICAgICBjb25zdCB1c2VyVG8gPSB0aGlzLnBhcnNlVmVyc2lvbih0b1ZlcnNpb24pO1xuICAgICAgICBjb25zdCBtaWdyYXRpb25Gcm9tID0gdGhpcy5wYXJzZVZlcnNpb24obWlncmF0aW9uRnJvbVZlcnNpb24pO1xuICAgICAgICBjb25zdCBtaWdyYXRpb25UbyA9IG1pZ3JhdGlvblRvVmVyc2lvbiA/IHRoaXMucGFyc2VWZXJzaW9uKG1pZ3JhdGlvblRvVmVyc2lvbikgOiB1c2VyVG87XG5cbiAgICAgICAgLy8gVXNlciB3YXMgaW4gdGhlIHJhbmdlIHRoYXQgbmVlZHMgdGhpcyBtaWdyYXRpb25cbiAgICAgICAgY29uc3Qgd2FzSW5SYW5nZSA9IHRoaXMuY29tcGFyZVZlcnNpb25zKGZyb21WZXJzaW9uLCBtaWdyYXRpb25Gcm9tVmVyc2lvbikgPj0gMDtcbiAgICAgICAgXG4gICAgICAgIC8vIFVzZXIgaXMgdXBncmFkaW5nIHRvIGEgdmVyc2lvbiB0aGF0IGhhcyB0aGlzIG1pZ3JhdGlvblxuICAgICAgICBjb25zdCBpc1VwZ3JhZGluZ1RvID0gdGhpcy5jb21wYXJlVmVyc2lvbnModG9WZXJzaW9uLCBtaWdyYXRpb25Uby5vcmlnaW5hbCkgPj0gMDtcblxuICAgICAgICByZXR1cm4gd2FzSW5SYW5nZSAmJiBpc1VwZ3JhZGluZ1RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdmVyc2lvbnMgYmV0d2VlbiB0d28gdmVyc2lvbnMgKGZvciBzZXF1ZW50aWFsIG1pZ3JhdGlvbnMpXG4gICAgICovXG4gICAgc3RhdGljIGdldFZlcnNpb25zSW5SYW5nZShmcm9tVmVyc2lvbjogc3RyaW5nLCB0b1ZlcnNpb246IHN0cmluZywgYXZhaWxhYmxlVmVyc2lvbnM6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gYXZhaWxhYmxlVmVyc2lvbnNcbiAgICAgICAgICAgIC5maWx0ZXIodiA9PiBcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBhcmVWZXJzaW9ucyh2LCBmcm9tVmVyc2lvbikgPiAwICYmIFxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGFyZVZlcnNpb25zKHYsIHRvVmVyc2lvbikgPD0gMFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHRoaXMuY29tcGFyZVZlcnNpb25zKGEsIGIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgdmVyc2lvbiBmb3IgZGlzcGxheVxuICAgICAqL1xuICAgIHN0YXRpYyBmb3JtYXRWZXJzaW9uKHZlcnNpb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMucGFyc2VWZXJzaW9uKHZlcnNpb24pO1xuICAgICAgICByZXR1cm4gYHYke3BhcnNlZC5tYWpvcn0uJHtwYXJzZWQubWlub3J9LiR7cGFyc2VkLnBhdGNofWA7XG4gICAgfVxufSIsICIvLyBzcmMvdXBncmFkZS91cGdyYWRlLWludGVyZmFjZS50c1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuaW1wb3J0IHsgVmVyc2lvblV0aWxzIH0gZnJvbSBcIi4vdXRpbHMvdmVyc2lvbi11dGlsc1wiO1xuaW1wb3J0IHsgc2hvd0RpYWxvZyB9IGZyb20gXCIuLi9kaWFsb2dzXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuZXhwb3J0IGludGVyZmFjZSBPcGVyYXRpb25SZXN1bHQge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGRldGFpbHM/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBncmFkZUNvbnRleHQge1xuICAgIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbjtcbiAgICBmcm9tVmVyc2lvbjogc3RyaW5nO1xuICAgIHRvVmVyc2lvbjogc3RyaW5nO1xuICAgIHBsdWdpbkRhdGE6IGFueTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVwZ3JhZGVPcGVyYXRpb24ge1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgdHlwZTogJ2F1dG9tYXRpYycgfCAnbWFudWFsJztcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIG9wZXJhdGlvbiBjYW4gcnVuIChwcmVyZXF1aXNpdGVzKVxuICAgICAqL1xuICAgIGFzeW5jIGNhblJ1bihjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHRoZSBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhYnN0cmFjdCBleGVjdXRlKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxPcGVyYXRpb25SZXN1bHQ+O1xuXG4gICAgLyoqXG4gICAgICogVmVyaWZ5IG9wZXJhdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICovXG4gICAgYXN5bmMgdmVyaWZ5KGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZlcnNpb25VcGdyYWRlIHtcbiAgICBhYnN0cmFjdCByZWFkb25seSB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgYXV0b21hdGljT3BlcmF0aW9uczogVXBncmFkZU9wZXJhdGlvbltdO1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IG1hbnVhbE9wZXJhdGlvbnM6IFVwZ3JhZGVPcGVyYXRpb25bXTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgdXBncmFkZSBzaG91bGQgcnVuIGZvciB0aGUgdmVyc2lvbiByYW5nZVxuICAgICAqL1xuICAgIHNob3VsZFJ1bihmcm9tVmVyc2lvbjogc3RyaW5nLCB0b1ZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBSdW4gaWYgdGFyZ2V0IHZlcnNpb24gPj0gdGhpcyB1cGdyYWRlIHZlcnNpb24gYW5kIHVzZXIgaXMgdXBncmFkaW5nIHRvL3Bhc3QgaXRcbiAgICAgICAgcmV0dXJuIFZlcnNpb25VdGlscy5jb21wYXJlVmVyc2lvbnModG9WZXJzaW9uLCB0aGlzLnZlcnNpb24pID49IDAgJiZcbiAgICAgICAgICAgICAgIFZlcnNpb25VdGlscy5jb21wYXJlVmVyc2lvbnMoZnJvbVZlcnNpb24sIHRoaXMudmVyc2lvbikgPCAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYWxsIGF1dG9tYXRpYyBvcGVyYXRpb25zXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZUF1dG9tYXRpY09wZXJhdGlvbnMoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPHtcbiAgICAgICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgcmVzdWx0czogQXJyYXk8e29wZXJhdGlvbklkOiBzdHJpbmc7IHJlc3VsdDogT3BlcmF0aW9uUmVzdWx0fT47XG4gICAgfT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTx7b3BlcmF0aW9uSWQ6IHN0cmluZzsgcmVzdWx0OiBPcGVyYXRpb25SZXN1bHR9PiA9IFtdO1xuICAgICAgICBsZXQgYWxsU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgdGhpcy5hdXRvbWF0aWNPcGVyYXRpb25zKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgY29tcGxldGVkXG4gICAgICAgICAgICAgICAgaWYgKGF3YWl0IHRoaXMuaXNPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uLmlkLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIkFscmVhZHkgY29tcGxldGVkXCIgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2FuIHJ1blxuICAgICAgICAgICAgICAgIGlmICghKGF3YWl0IG9wZXJhdGlvbi5jYW5SdW4oY29udGV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogb3BlcmF0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlByZXJlcXVpc2l0ZXMgbm90IG1ldFwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGFsbFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24uZXhlY3V0ZShjb250ZXh0KTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goeyBvcGVyYXRpb25JZDogb3BlcmF0aW9uLmlkLCByZXN1bHQgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tYXJrT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbi5pZCwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBPcGVyYXRpb24gZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCwgcmVzdWx0OiBlcnJvclJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICBhbGxTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBhbGxTdWNjZXNzLCByZXN1bHRzIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBtYW51YWwgb3BlcmF0aW9ucyBkaWFsb2cgYW5kIGV4ZWN1dGUgc2VsZWN0ZWQgb25lc1xuICAgICAqL1xuICAgIGFzeW5jIHNob3dNYW51YWxPcGVyYXRpb25zRGlhbG9nKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTx7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgIHJlc3VsdHM6IEFycmF5PHtvcGVyYXRpb25JZDogc3RyaW5nOyByZXN1bHQ6IE9wZXJhdGlvblJlc3VsdH0+O1xuICAgIH0+IHtcbiAgICAgICAgLy8gRmlsdGVyIG9wZXJhdGlvbnMgdGhhdCBjYW4gcnVuIGFuZCBhcmVuJ3QgY29tcGxldGVkXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZU9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgdGhpcy5tYW51YWxPcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIShhd2FpdCB0aGlzLmlzT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbi5pZCwgY29udGV4dCkpICYmXG4gICAgICAgICAgICAgICAgYXdhaXQgb3BlcmF0aW9uLmNhblJ1bihjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZU9wZXJhdGlvbnMucHVzaChvcGVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF2YWlsYWJsZU9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCByZXN1bHRzOiBbXSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgZGlhbG9nIGNvbnRlbnRcbiAgICAgICAgY29uc3QgcGFyYWdyYXBocyA9IFtcbiAgICAgICAgICAgIGAqKlZlcnNpb24gJHt0aGlzLnZlcnNpb259IE1hbnVhbCBPcGVyYXRpb25zKipgLFxuICAgICAgICAgICAgXCJUaGUgZm9sbG93aW5nIG9wdGlvbmFsIG9wZXJhdGlvbnMgYXJlIGF2YWlsYWJsZTpcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAuLi5hdmFpbGFibGVPcGVyYXRpb25zLm1hcChvcCA9PiBgXHUyMDIyICoqJHtvcC5uYW1lfSoqOiAke29wLmRlc2NyaXB0aW9ufWApXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3Qgc2hvdWxkRXhlY3V0ZSA9IGF3YWl0IHNob3dEaWFsb2coXG4gICAgICAgICAgICBjb250ZXh0LnBsdWdpbi5hcHAsXG4gICAgICAgICAgICBcImNvbmZpcm1hdGlvblwiLFxuICAgICAgICAgICAgYE9wdGlvbmFsIE9wZXJhdGlvbnMgLSB2JHt0aGlzLnZlcnNpb259YCxcbiAgICAgICAgICAgIHBhcmFncmFwaHMsXG4gICAgICAgICAgICBcIlRoZXNlIG9wZXJhdGlvbnMgYXJlIG9wdGlvbmFsIGFuZCBjYW4gYmUgcnVuIGxhdGVyIGZyb20gU2V0dGluZ3MgXHUyMTkyIE1pZ3JhdGlvbnNcIixcbiAgICAgICAgICAgIHsgYnV0dG9uMTogXCJSdW4gQWxsIE5vd1wiLCBidXR0b24yOiBcIlNraXAgKFJ1biBMYXRlcilcIiB9XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8e29wZXJhdGlvbklkOiBzdHJpbmc7IHJlc3VsdDogT3BlcmF0aW9uUmVzdWx0fT4gPSBbXTtcblxuICAgICAgICBpZiAoc2hvdWxkRXhlY3V0ZSkge1xuICAgICAgICAgICAgLy8gRXhlY3V0ZSBhbGwgYXZhaWxhYmxlIG1hbnVhbCBvcGVyYXRpb25zXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBhdmFpbGFibGVPcGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uLmV4ZWN1dGUoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsIHJlc3VsdCB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWFya09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBPcGVyYXRpb24gZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCwgcmVzdWx0OiBlcnJvclJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc3VsdHMuZXZlcnkociA9PiByLnJlc3VsdC5zdWNjZXNzKSwgXG4gICAgICAgICAgICByZXN1bHRzIFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBtYW51YWwgb3BlcmF0aW9ucyBzdGF0dXMgZm9yIHNldHRpbmdzIFVJXG4gICAgICovXG4gICAgYXN5bmMgZ2V0TWFudWFsT3BlcmF0aW9uc1N0YXR1cyhjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8QXJyYXk8e1xuICAgICAgICBvcGVyYXRpb246IFVwZ3JhZGVPcGVyYXRpb247XG4gICAgICAgIGNvbXBsZXRlZDogYm9vbGVhbjtcbiAgICAgICAgY2FuUnVuOiBib29sZWFuO1xuICAgIH0+PiB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgdGhpcy5tYW51YWxPcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSBhd2FpdCB0aGlzLmlzT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbi5pZCwgY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBjYW5SdW4gPSAhY29tcGxldGVkICYmIGF3YWl0IG9wZXJhdGlvbi5jYW5SdW4oY29udGV4dCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN0YXR1cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgY29tcGxldGVkLFxuICAgICAgICAgICAgICAgIGNhblJ1blxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBzaW5nbGUgbWFudWFsIG9wZXJhdGlvbiAoZnJvbSBzZXR0aW5ncylcbiAgICAgKi9cbiAgICBhc3luYyBleGVjdXRlTWFudWFsT3BlcmF0aW9uKG9wZXJhdGlvbklkOiBzdHJpbmcsIGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxPcGVyYXRpb25SZXN1bHQ+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gdGhpcy5tYW51YWxPcGVyYXRpb25zLmZpbmQob3AgPT4gb3AuaWQgPT09IG9wZXJhdGlvbklkKTtcbiAgICAgICAgaWYgKCFvcGVyYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIk9wZXJhdGlvbiBub3QgZm91bmRcIiB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF3YWl0IHRoaXMuaXNPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uLmlkLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJBbHJlYWR5IGNvbXBsZXRlZFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShhd2FpdCBvcGVyYXRpb24uY2FuUnVuKGNvbnRleHQpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiUHJlcmVxdWlzaXRlcyBub3QgbWV0XCIgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24uZXhlY3V0ZShjb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWFya09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYE9wZXJhdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBvcGVyYXRpb24gd2FzIGNvbXBsZXRlZCB1c2luZyBzdHJ1Y3R1cmVkIHVwZ3JhZGUgaGlzdG9yeVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaXNPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uSWQ6IHN0cmluZywgY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleSA9IGBvcGVyYXRpb25fJHt0aGlzLnZlcnNpb24ucmVwbGFjZSgvXFwuL2csICdfJyl9XyR7b3BlcmF0aW9uSWR9YDtcbiAgICAgICAgcmV0dXJuIGRhdGE/LnVwZ3JhZGVIaXN0b3J5Py5jb21wbGV0ZWRPcGVyYXRpb25zPy5bb3BlcmF0aW9uS2V5XT8uY29tcGxldGVkIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmsgb3BlcmF0aW9uIGFzIGNvbXBsZXRlZCB1c2luZyBzdHJ1Y3R1cmVkIHVwZ3JhZGUgaGlzdG9yeVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgbWFya09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb25JZDogc3RyaW5nLCBjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgY29udGV4dC5wbHVnaW4ubG9hZERhdGEoKSB8fCB7fTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluaXRpYWxpemUgdXBncmFkZSBoaXN0b3J5IHN0cnVjdHVyZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKCFkYXRhLnVwZ3JhZGVIaXN0b3J5KSB7XG4gICAgICAgICAgICBkYXRhLnVwZ3JhZGVIaXN0b3J5ID0ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFVwZ3JhZGVzOiB7fSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWFyayBvcGVyYXRpb24gYXMgY29tcGxldGVkIGluIHN0cnVjdHVyZWQgZm9ybWF0XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleSA9IGBvcGVyYXRpb25fJHt0aGlzLnZlcnNpb24ucmVwbGFjZSgvXFwuL2csICdfJyl9XyR7b3BlcmF0aW9uSWR9YDtcbiAgICAgICAgZGF0YS51cGdyYWRlSGlzdG9yeS5jb21wbGV0ZWRPcGVyYXRpb25zW29wZXJhdGlvbktleV0gPSB7XG4gICAgICAgICAgICBvcGVyYXRpb25JZDogb3BlcmF0aW9uSWQsXG4gICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLnZlcnNpb24sXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjb21wbGV0ZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IGNvbnRleHQucGx1Z2luLnNhdmVEYXRhKGRhdGEpO1xuICAgICAgICBcbiAgICAgICAgbG9nZ2VyLmluZm8oYE1hcmtlZCBvcGVyYXRpb24gJHtvcGVyYXRpb25JZH0gKHYke3RoaXMudmVyc2lvbn0pIGFzIGNvbXBsZXRlZGApO1xuICAgIH1cbn0iLCAiLy8gc3JjL3VwZ3JhZGUvdmVyc2lvbnMvdXBncmFkZS0xLjEuMC50c1xuaW1wb3J0IHsgVmVyc2lvblVwZ3JhZGUsIFVwZ3JhZGVPcGVyYXRpb24sIFVwZ3JhZGVDb250ZXh0LCBPcGVyYXRpb25SZXN1bHQgfSBmcm9tIFwiLi4vdXBncmFkZS1pbnRlcmZhY2VcIjtcbmltcG9ydCB7IFVwZ3JhZGVQcm9ncmVzc01vZGFsIH0gZnJvbSBcIi4uL3V0aWxzL3Byb2dyZXNzLW1vZGFsXCI7XG5pbXBvcnQgeyBzaG93RGlhbG9nIH0gZnJvbSBcIi4uLy4uL2RpYWxvZ3NcIjtcbmltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbi8qKlxuICogRGVsZXRlIG9sZCBjb252ZXJzYXRpb24gY2F0YWxvZyAoYXV0b21hdGljIG9wZXJhdGlvbilcbiAqL1xuY2xhc3MgRGVsZXRlQ2F0YWxvZ09wZXJhdGlvbiBleHRlbmRzIFVwZ3JhZGVPcGVyYXRpb24ge1xuICAgIHJlYWRvbmx5IGlkID0gXCJkZWxldGUtY2F0YWxvZ1wiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIkRlbGV0ZSBPbGQgQ2F0YWxvZ1wiO1xuICAgIHJlYWRvbmx5IGRlc2NyaXB0aW9uID0gXCJSZW1vdmUgbGVnYWN5IGNvbnZlcnNhdGlvbiBjYXRhbG9nIGRhdGFcIjtcbiAgICByZWFkb25seSB0eXBlID0gXCJhdXRvbWF0aWNcIiBhcyBjb25zdDtcblxuICAgIGFzeW5jIGNhblJ1bihjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gT3BlcmF0aW9uIGxvYWRzIGl0cyBvd24gZGF0YSAtIG1hbmFnZXIgc3RheXMgdmVyc2lvbi1hZ25vc3RpY1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBjYXRhbG9nID0gZGF0YT8uY29udmVyc2F0aW9uQ2F0YWxvZztcbiAgICAgICAgICAgIGNvbnN0IGhhc0RhdGEgPSBjYXRhbG9nICYmIHR5cGVvZiBjYXRhbG9nID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyhjYXRhbG9nKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2cuY2FuUnVuOiBjYXRhbG9nIGV4aXN0cz0keyEhY2F0YWxvZ30sIGhhc0RhdGE9JHtoYXNEYXRhfWApO1xuICAgICAgICAgICAgaWYgKGNhdGFsb2cpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2cuY2FuUnVuOiBjYXRhbG9nIHNpemU9JHtPYmplY3Qua2V5cyhjYXRhbG9nKS5sZW5ndGh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFzRGF0YTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZy5jYW5SdW4gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nLmV4ZWN1dGUgc3RhcnRpbmdgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT3BlcmF0aW9uIGxvYWRzIGl0cyBvd24gZGF0YSAtIG5vdCByZWx5aW5nIG9uIGNvbnRleHQucGx1Z2luRGF0YVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBjYXRhbG9nID0gZGF0YT8uY29udmVyc2F0aW9uQ2F0YWxvZyB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IGNhdGFsb2dTaXplID0gT2JqZWN0LmtleXMoY2F0YWxvZykubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY2F0YWxvZ1NpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2c6IE5vIGNhdGFsb2cgdG8gZGVsZXRlYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBsZWdhY3kgY2F0YWxvZyBmb3VuZCB0byBkZWxldGVcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENSSVRJQ0FMIEZJWDogUHJlc2VydmUgaW1wb3J0ZWRBcmNoaXZlcyBleHBsaWNpdGx5XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0ltcG9ydGVkQXJjaGl2ZXMgPSBkYXRhPy5pbXBvcnRlZEFyY2hpdmVzO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nOiBQcmVzZXJ2aW5nIGltcG9ydGVkQXJjaGl2ZXM6YCwgZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZzogaW1wb3J0ZWRBcmNoaXZlcyB0eXBlOmAsIHR5cGVvZiBleGlzdGluZ0ltcG9ydGVkQXJjaGl2ZXMpO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nOiBpbXBvcnRlZEFyY2hpdmVzIGtleXM6YCwgZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzID8gT2JqZWN0LmtleXMoZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzKS5sZW5ndGggOiAwKTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNsZWFuZWQgZGF0YSB3aXRob3V0IGNhdGFsb2cgQlVUIHByZXNlcnZlIGltcG9ydGVkQXJjaGl2ZXNcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuZWREYXRhID0ge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzOiBkYXRhLnNldHRpbmdzIHx8IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgIC8vIENSSVRJQ0FMIEZJWDogRm9yY2UgcHJlc2VydmF0aW9uIG9mIGltcG9ydGVkQXJjaGl2ZXNcbiAgICAgICAgICAgICAgICBpbXBvcnRlZEFyY2hpdmVzOiBleGlzdGluZ0ltcG9ydGVkQXJjaGl2ZXMgfHwge30sXG4gICAgICAgICAgICAgICAgdXBncmFkZUhpc3Rvcnk6IGRhdGEudXBncmFkZUhpc3RvcnkgfHwge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRVcGdyYWRlczoge30sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZE9wZXJhdGlvbnM6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgY29udmVyc2F0aW9uQ2F0YWxvZyAtIGtleSBjaGFuZ2VcbiAgICAgICAgICAgICAgICBjYXRhbG9nRGVsZXRpb25EYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgY2F0YWxvZ0RlbGV0aW9uU3RhdHM6IHsgZW50cmllc0RlbGV0ZWQ6IGNhdGFsb2dTaXplIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZzogY2xlYW5lZERhdGEuaW1wb3J0ZWRBcmNoaXZlcyBrZXlzOmAsIE9iamVjdC5rZXlzKGNsZWFuZWREYXRhLmltcG9ydGVkQXJjaGl2ZXMpLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIC8vIFNhdmUgY2xlYW5lZCBkYXRhXG4gICAgICAgICAgICBhd2FpdCBjb250ZXh0LnBsdWdpbi5zYXZlRGF0YShjbGVhbmVkRGF0YSk7XG5cbiAgICAgICAgICAgIC8vIFZlcmlmeSBwcmVzZXJ2YXRpb24gd29ya2VkXG4gICAgICAgICAgICBjb25zdCB2ZXJpZnlEYXRhID0gYXdhaXQgY29udGV4dC5wbHVnaW4ubG9hZERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcmlmeUFyY2hpdmVzID0gdmVyaWZ5RGF0YT8uaW1wb3J0ZWRBcmNoaXZlcyB8fCB7fTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZzogQWZ0ZXIgc2F2ZSwgaW1wb3J0ZWRBcmNoaXZlcyBrZXlzOmAsIE9iamVjdC5rZXlzKHZlcmlmeUFyY2hpdmVzKS5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModmVyaWZ5QXJjaGl2ZXMpLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhleGlzdGluZ0ltcG9ydGVkQXJjaGl2ZXMgfHwge30pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2c6IENSSVRJQ0FMIC0gaW1wb3J0ZWRBcmNoaXZlcyB3ZXJlIGxvc3QgZHVyaW5nIHNhdmUhYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDcml0aWNhbCBlcnJvcjogaW1wb3J0ZWRBcmNoaXZlcyB3ZXJlIGxvc3QgZHVyaW5nIG1pZ3JhdGlvbmAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVDb3VudDogT2JqZWN0LmtleXMoZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzIHx8IHt9KS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckNvdW50OiBPYmplY3Qua2V5cyh2ZXJpZnlBcmNoaXZlcykubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2c6IFN1Y2Nlc3NmdWxseSBkZWxldGVkICR7Y2F0YWxvZ1NpemV9IGVudHJpZXMgYW5kIHByZXNlcnZlZCAke09iamVjdC5rZXlzKHZlcmlmeUFyY2hpdmVzKS5sZW5ndGh9IGltcG9ydGVkIGFyY2hpdmVzYCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYExlZ2FjeSBjYXRhbG9nIGRlbGV0ZWQ6ICR7Y2F0YWxvZ1NpemV9IGVudHJpZXMgcmVtb3ZlZCwgJHtPYmplY3Qua2V5cyh2ZXJpZnlBcmNoaXZlcykubGVuZ3RofSBpbXBvcnRlZCBhcmNoaXZlcyBwcmVzZXJ2ZWRgLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgZW50cmllc0RlbGV0ZWQ6IGNhdGFsb2dTaXplLCBhcmNoaXZlc1ByZXNlcnZlZDogT2JqZWN0LmtleXModmVyaWZ5QXJjaGl2ZXMpLmxlbmd0aCB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2cuZXhlY3V0ZSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIGRlbGV0ZSBsZWdhY3kgY2F0YWxvZzogJHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHZlcmlmeShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBoYXNOb0NhdGFsb2cgPSAhZGF0YT8uY29udmVyc2F0aW9uQ2F0YWxvZztcbiAgICAgICAgICAgIGNvbnN0IGhhc0ltcG9ydGVkQXJjaGl2ZXMgPSBkYXRhPy5pbXBvcnRlZEFyY2hpdmVzICYmIE9iamVjdC5rZXlzKGRhdGEuaW1wb3J0ZWRBcmNoaXZlcykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZy52ZXJpZnk6IGhhc05vQ2F0YWxvZz0ke2hhc05vQ2F0YWxvZ30sIGhhc0ltcG9ydGVkQXJjaGl2ZXM9JHtoYXNJbXBvcnRlZEFyY2hpdmVzfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdWNjZXNzIGlmIGNhdGFsb2cgaXMgZ29uZSBBTkQgaW1wb3J0ZWRBcmNoaXZlcyBhcmUgcHJlc2VydmVkIChpZiB0aGV5IGV4aXN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gaGFzTm9DYXRhbG9nO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nLnZlcmlmeSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIENsZWFuIG1ldGFkYXRhIGZyb20gY29udmVyc2F0aW9uIG5vdGVzIGFuZCBhZGQgcGx1Z2luX3ZlcnNpb24gKGF1dG9tYXRpYyBvcGVyYXRpb24pXG4gKi9cbmNsYXNzIENsZWFuTWV0YWRhdGFPcGVyYXRpb24gZXh0ZW5kcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICByZWFkb25seSBpZCA9IFwiY2xlYW4tbWV0YWRhdGFcIjtcbiAgICByZWFkb25seSBuYW1lID0gXCJDbGVhbiAmIFZlcnNpb24gTWV0YWRhdGFcIjtcbiAgICByZWFkb25seSBkZXNjcmlwdGlvbiA9IFwiUmVtb3ZlIHVubmVjZXNzYXJ5IG1ldGFkYXRhIGFuZCBhZGQgcGx1Z2luIHZlcnNpb24gdG8gY29udmVyc2F0aW9uIG5vdGVzXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaWx0ZXIgZmlsZXMgaW4gYXJjaGl2ZSBmb2xkZXIgYnV0IEVYQ0xVREUgUmVwb3J0cyBhbmQgQXR0YWNobWVudHNcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZpbGVzID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE11c3QgYmUgaW4gYXJjaGl2ZSBmb2xkZXJcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRVhDTFVERSBSZXBvcnRzIGFuZCBBdHRhY2htZW50cyBmb2xkZXJzXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnUmVwb3J0cy8nKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdhdHRhY2htZW50cy8nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhblJ1biA9IGNvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEuY2FuUnVuOiBmb3VuZCAke2NvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aH0gY29udmVyc2F0aW9uIGZpbGVzLCBjYW5SdW49JHtjYW5SdW59YCk7XG4gICAgICAgICAgICByZXR1cm4gY2FuUnVuO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhLmNhblJ1biBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8T3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEuZXhlY3V0ZSBzdGFydGluZ2ApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRm9sZGVyID0gY29udGV4dC5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcjtcbiAgICAgICAgICAgIGNvbnN0IGFsbEZpbGVzID0gY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmlsdGVyIGNvbnZlcnNhdGlvbiBmaWxlcyAoZXhjbHVkZSBSZXBvcnRzL0F0dGFjaG1lbnRzKVxuICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uRmlsZXMgPSBhbGxGaWxlcy5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlLnBhdGguc3RhcnRzV2l0aChhcmNoaXZlRm9sZGVyKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGZpbGUucGF0aC5zdWJzdHJpbmcoYXJjaGl2ZUZvbGRlci5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ1JlcG9ydHMvJykgfHwgXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgncmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoY29udmVyc2F0aW9uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhOiBObyBjb252ZXJzYXRpb24gZmlsZXMgdG8gY2xlYW5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIGNvbnZlcnNhdGlvbiBmaWxlcyBmb3VuZCB0byBjbGVhblwiLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IHByb2Nlc3NlZDogMCwgY2xlYW5lZDogMCwgZXJyb3JzOiAwIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGE6IFByb2Nlc3NpbmcgJHtjb252ZXJzYXRpb25GaWxlcy5sZW5ndGh9IGNvbnZlcnNhdGlvbiBmaWxlc2ApO1xuXG4gICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcbiAgICAgICAgICAgIGxldCBjbGVhbmVkID0gMDtcbiAgICAgICAgICAgIGxldCBlcnJvcnMgPSAwO1xuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGZpbGVzIGluIHNtYWxsZXIgYmF0Y2hlcyB0byBhdm9pZCBibG9ja2luZ1xuICAgICAgICAgICAgY29uc3QgYmF0Y2hTaXplID0gMTA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aDsgaSArPSBiYXRjaFNpemUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IGNvbnZlcnNhdGlvbkZpbGVzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBiYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZENvbnRlbnQgPSB0aGlzLmNsZWFuRnJvbnRtYXR0ZXJSb2J1c3QoY29udGVudCwgY29udGV4dC50b1ZlcnNpb24sIGZpbGUuYmFzZW5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCAhPT0gY2xlYW5lZENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGNsZWFuZWRDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbmVkKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBFcnJvciBjbGVhbmluZyBtZXRhZGF0YSBmb3IgJHtmaWxlLnBhdGh9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IGJldHdlZW4gYmF0Y2hlcyB0byBwcmV2ZW50IGJsb2NraW5nXG4gICAgICAgICAgICAgICAgaWYgKGkgKyBiYXRjaFNpemUgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGE6IENvbXBsZXRlZCAtIHByb2Nlc3NlZDoke3Byb2Nlc3NlZH0sIGNsZWFuZWQ6JHtjbGVhbmVkfSwgZXJyb3JzOiR7ZXJyb3JzfWApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGVycm9ycyA9PT0gMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTWV0YWRhdGEgY2xlYW51cCBjb21wbGV0ZWQ6ICR7Y2xlYW5lZH0gZmlsZXMgY2xlYW5lZCwgJHtlcnJvcnN9IGVycm9yc2AsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBwcm9jZXNzZWQsIGNsZWFuZWQsIGVycm9ycyB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEuZXhlY3V0ZSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTWV0YWRhdGEgY2xlYW51cCBmYWlsZWQ6ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiBmcm9udG1hdHRlciB3aXRoIHJvYnVzdCBwYXJzaW5nIGFuZCBzYWZlIGFsaWFzIGdlbmVyYXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFuRnJvbnRtYXR0ZXJSb2J1c3QoY29udGVudDogc3RyaW5nLCBwbHVnaW5WZXJzaW9uOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBmcm9udG1hdHRlciBtYW51YWxseSAobW9yZSByb2J1c3QgdGhhbiBtZXRhZGF0YUNhY2hlKVxuICAgICAgICBjb25zdCBmcm9udG1hdHRlck1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmcm9udG1hdHRlck1hdGNoKSB7XG4gICAgICAgICAgICAvLyBObyBmcm9udG1hdHRlciBmb3VuZCAtIGNoZWNrIGlmIHRoaXMgbG9va3MgbGlrZSBhIE5leHVzIGZpbGVcbiAgICAgICAgICAgIGlmIChjb250ZW50LmluY2x1ZGVzKCduZXh1czonKSB8fCBjb250ZW50LmluY2x1ZGVzKCdjb252ZXJzYXRpb25faWQ6JykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtORVhVUy1ERUJVR10gRmlsZSAke2ZpbGVOYW1lfSBhcHBlYXJzIHRvIGJlIE5leHVzIGJ1dCBoYXMgbWFsZm9ybWVkIGZyb250bWF0dGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyQ29udGVudCA9IGZyb250bWF0dGVyTWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IHJlc3RPZkNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZyhmcm9udG1hdHRlck1hdGNoWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgLy8gUGFyc2UgZnJvbnRtYXR0ZXIgbGluZXMgbWFudWFsbHkgKG1vcmUgcm9idXN0IHRoYW4gWUFNTCBwYXJzaW5nKVxuICAgICAgICBjb25zdCBmcm9udG1hdHRlckRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgICAgY29uc3QgbGluZXMgPSBmcm9udG1hdHRlckNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgICAgICBpZiAoY29sb25JbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBjb2xvbkluZGV4KS50cmltKCk7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoY29sb25JbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcXVvdGVzIGlmIHByZXNlbnRcbiAgICAgICAgICAgICAgICBpZiAoKHZhbHVlLnN0YXJ0c1dpdGgoJ1wiJykgJiYgdmFsdWUuZW5kc1dpdGgoJ1wiJykpIHx8IFxuICAgICAgICAgICAgICAgICAgICAodmFsdWUuc3RhcnRzV2l0aChcIidcIikgJiYgdmFsdWUuZW5kc1dpdGgoXCInXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXJEYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBOZXh1cyBjb252ZXJzYXRpb24gZmlsZVxuICAgICAgICBjb25zdCBuZXh1c0lkID0gJ25leHVzLWFpLWNoYXQtaW1wb3J0ZXInOyAvLyBIYXJkLWNvZGVkIGZvciBzYWZldHlcbiAgICAgICAgaWYgKGZyb250bWF0dGVyRGF0YS5uZXh1cyAhPT0gbmV4dXNJZCkge1xuICAgICAgICAgICAgLy8gTm90IGEgTmV4dXMgZmlsZSwgc2tpcFxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBzYWZlIGFsaWFzIGZyb20gZmlsZW5hbWUgKG1vcmUgcm9idXN0IHRoYW4gdGl0bGUgcGFyc2luZylcbiAgICAgICAgY29uc3Qgc2FmZUFsaWFzID0gdGhpcy5nZW5lcmF0ZVNhZmVBbGlhcyhmaWxlTmFtZSk7XG5cbiAgICAgICAgLy8gQnVpbGQgbmV3IGZyb250bWF0dGVyIGluIGNvcnJlY3Qgb3JkZXIgd2l0aCByb2J1c3QgdmFsdWVzXG4gICAgICAgIGNvbnN0IG5ld0Zyb250bWF0dGVyOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVxdWlyZWQgZmllbGRzIGluIHNwZWNpZmljIG9yZGVyXG4gICAgICAgIG5ld0Zyb250bWF0dGVyLnB1c2goYG5leHVzOiAke25leHVzSWR9YCk7XG4gICAgICAgIG5ld0Zyb250bWF0dGVyLnB1c2goYHBsdWdpbl92ZXJzaW9uOiBcIjEuMC54XCJgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChmcm9udG1hdHRlckRhdGEucHJvdmlkZXIpIHtcbiAgICAgICAgICAgIG5ld0Zyb250bWF0dGVyLnB1c2goYHByb3ZpZGVyOiAke2Zyb250bWF0dGVyRGF0YS5wcm92aWRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXNlIHNhZmUgYWxpYXMgaW5zdGVhZCBvZiBwb3RlbnRpYWxseSBwcm9ibGVtYXRpYyB0aXRsZVxuICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGBhbGlhc2VzOiAke3NhZmVBbGlhc31gKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChmcm9udG1hdHRlckRhdGEuY29udmVyc2F0aW9uX2lkKSB7XG4gICAgICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGBjb252ZXJzYXRpb25faWQ6ICR7ZnJvbnRtYXR0ZXJEYXRhLmNvbnZlcnNhdGlvbl9pZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbnRtYXR0ZXJEYXRhLmNyZWF0ZV90aW1lKSB7XG4gICAgICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGBjcmVhdGVfdGltZTogJHtmcm9udG1hdHRlckRhdGEuY3JlYXRlX3RpbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb250bWF0dGVyRGF0YS51cGRhdGVfdGltZSkge1xuICAgICAgICAgICAgbmV3RnJvbnRtYXR0ZXIucHVzaChgdXBkYXRlX3RpbWU6ICR7ZnJvbnRtYXR0ZXJEYXRhLnVwZGF0ZV90aW1lfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVjb25zdHJ1Y3QgY29udGVudFxuICAgICAgICBjb25zdCBjbGVhbmVkRnJvbnRtYXR0ZXIgPSBuZXdGcm9udG1hdHRlci5qb2luKCdcXG4nKTtcbiAgICAgICAgcmV0dXJuIGAtLS1cXG4ke2NsZWFuZWRGcm9udG1hdHRlcn1cXG4tLS0ke3Jlc3RPZkNvbnRlbnR9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBzYWZlIGFsaWFzIGZyb20gZmlsZW5hbWUgKHJldXNlIHRoZSByb2J1c3QgZmlsZW5hbWUgbG9naWMpXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVNhZmVBbGlhcyhmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgLy8gUmVtb3ZlIGRhdGUgcHJlZml4IGlmIHByZXNlbnQgKFlZWVlNTUREIC0gb3IgWVlZWS1NTS1ERCAtKVxuICAgICAgICBsZXQgY2xlYW5OYW1lID0gZmlsZU5hbWUucmVwbGFjZSgvXlxcZHs4fVxccyotXFxzKi8sICcnKS5yZXBsYWNlKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1cXHMqLVxccyovLCAnJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgZmlsZSBleHRlbnNpb25cbiAgICAgICAgY2xlYW5OYW1lID0gY2xlYW5OYW1lLnJlcGxhY2UoL1xcLm1kJC8sICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IHNhbWUgc2FuaXRpemF0aW9uIGFzIGdlbmVyYXRlRmlsZU5hbWUgYnV0IHByZXNlcnZlIHJlYWRhYmlsaXR5XG4gICAgICAgIGNsZWFuTmFtZSA9IGNsZWFuTmFtZVxuICAgICAgICAgICAgLm5vcm1hbGl6ZShcIk5GRFwiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIpIC8vIFJlbW92ZSBkaWFjcml0aWNzXG4gICAgICAgICAgICAucmVwbGFjZSgvWzw+OlwiXFwvXFxcXHw/Klxcblxccl0rL2csIFwiXCIpIC8vIFJlbW92ZSBpbnZhbGlkIGZpbGVzeXN0ZW0gY2hhcmFjdGVyc1xuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLnsyLH0vZywgXCIuXCIpIC8vIFJlcGxhY2UgbXVsdGlwbGUgZG90cyB3aXRoIHNpbmdsZSBkb3RcbiAgICAgICAgICAgIC50cmltKCk7XG5cbiAgICAgICAgLy8gQ1JJVElDQUw6IFJlbW92ZSBzcGVjaWFsIGNoYXJhY3RlcnMgZnJvbSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIC8vIFRoaXMgZml4ZXMgaXNzdWVzIGxpa2UgXCIuaHRhY2Nlc3NcIiBiZWNvbWluZyBwcm9ibGVtYXRpYyBhbGlhc1xuICAgICAgICBjbGVhbk5hbWUgPSBjbGVhbk5hbWUucmVwbGFjZSgvXlteXFx3XFxkXFxzXSsvLCBcIlwiKTsgLy8gUmVtb3ZlIG5vbi1hbHBoYW51bWVyaWMgYXQgc3RhcnRcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgcHJvYmxlbWF0aWMgcGF0dGVybnNcbiAgICAgICAgY2xlYW5OYW1lID0gY2xlYW5OYW1lXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikgLy8gTm9ybWFsaXplIHNwYWNlc1xuICAgICAgICAgICAgLnRyaW0oKTtcblxuICAgICAgICAvLyBFbnN1cmUgd2UgaGF2ZSBhIHZhbGlkIGFsaWFzXG4gICAgICAgIGlmICghY2xlYW5OYW1lIHx8IGNsZWFuTmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNsZWFuTmFtZSA9IFwiVW50aXRsZWRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuc3VyZSBhbGlhcyBkb2Vzbid0IHN0YXJ0IHdpdGggYSBkb3QgKGNhbiBjYXVzZSBpc3N1ZXMgaW4gZnJvbnRtYXR0ZXIpXG4gICAgICAgIGlmIChjbGVhbk5hbWUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgICAgICAgIGNsZWFuTmFtZSA9IGNsZWFuTmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaW5hbCBzYWZldHkgY2hlY2tcbiAgICAgICAgaWYgKCFjbGVhbk5hbWUgfHwgY2xlYW5OYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2xlYW5OYW1lID0gXCJVbnRpdGxlZFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsZWFuTmFtZTtcbiAgICB9XG5cbiAgICBhc3luYyB2ZXJpZnkoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBjb252ZXJzYXRpb24gZmlsZXMgKHNhbXBsZSB2ZXJpZmljYXRpb24pXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnUmVwb3J0cy8nKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdhdHRhY2htZW50cy8nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSkuc2xpY2UoMCwgNSk7IC8vIENoZWNrIGZpcnN0IDUgZmlsZXNcblxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGNvbnZlcnNhdGlvbkZpbGVzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlck1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlck1hdGNoKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBtYW51YWxseSBpZiBwbHVnaW5fdmVyc2lvbiB3YXMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJDb250ZW50ID0gZnJvbnRtYXR0ZXJNYXRjaFsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlckNvbnRlbnQuaW5jbHVkZXMoJ3BsdWdpbl92ZXJzaW9uOicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEudmVyaWZ5OiBNaXNzaW5nIHBsdWdpbl92ZXJzaW9uIGluICR7ZmlsZS5wYXRofWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9yYmlkZGVuIG1ldGFkYXRhIHN0aWxsIGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JiaWRkZW5GaWVsZHMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udmVyc2F0aW9uX3RlbXBsYXRlX2lkOicsICdnaXptb19pZDonLCAnZ2l6bW9fdHlwZTonLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHRfbW9kZWxfc2x1ZzonLCAnaXNfYXJjaGl2ZWQ6JywgJ2lzX3N0YXJyZWQ6JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50X25vZGU6JywgJ21lbW9yeV9zY29wZTonXG4gICAgICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzVW53YW50ZWRGaWVsZHMgPSBmb3JiaWRkZW5GaWVsZHMuc29tZShmaWVsZCA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb250bWF0dGVyQ29udGVudC5pbmNsdWRlcyhmaWVsZClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1Vud2FudGVkRmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEudmVyaWZ5OiBGb3VuZCB1bndhbnRlZCBmaWVsZHMgaW4gJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEudmVyaWZ5IGVycm9yIGZvciAke2ZpbGUucGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENsZWFuTWV0YWRhdGEudmVyaWZ5OiBQYXNzZWQgdmVyaWZpY2F0aW9uYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YS52ZXJpZnkgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBWZXJzaW9uIDEuMS4wIFVwZ3JhZGUgRGVmaW5pdGlvblxuICovXG5leHBvcnQgY2xhc3MgVXBncmFkZTExMCBleHRlbmRzIFZlcnNpb25VcGdyYWRlIHtcbiAgICByZWFkb25seSB2ZXJzaW9uID0gXCIxLjEuMFwiO1xuICAgIFxuICAgIHJlYWRvbmx5IGF1dG9tYXRpY09wZXJhdGlvbnMgPSBbXG4gICAgICAgIG5ldyBEZWxldGVDYXRhbG9nT3BlcmF0aW9uKCksXG4gICAgICAgIG5ldyBDbGVhbk1ldGFkYXRhT3BlcmF0aW9uKClcbiAgICBdO1xuICAgIFxuICAgIHJlYWRvbmx5IG1hbnVhbE9wZXJhdGlvbnMgPSBbXG4gICAgICAgIC8vIE5vIG1hbnVhbCBvcGVyYXRpb25zIGZvciAxLjEuMCAtIGFsbCBvcGVyYXRpb25zIGFyZSBhdXRvbWF0aWNcbiAgICAgICAgLy8gRnV0dXJlIHZlcnNpb25zIGNhbiBhZGQgbWFudWFsIG9wZXJhdGlvbnMgaGVyZSBmb3IgdHJ1bHkgb3B0aW9uYWwgdGFza3NcbiAgICBdO1xufSIsICIvLyBzcmMvdXBncmFkZS92ZXJzaW9ucy91cGdyYWRlLTEuMi4wLnRzXG5pbXBvcnQgeyBWZXJzaW9uVXBncmFkZSwgVXBncmFkZU9wZXJhdGlvbiwgVXBncmFkZUNvbnRleHQsIE9wZXJhdGlvblJlc3VsdCB9IGZyb20gXCIuLi91cGdyYWRlLWludGVyZmFjZVwiO1xuaW1wb3J0IHsgQXBwLCBNb2RhbCwgTWFya2Rvd25SZW5kZXJlciB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uLy4uL21haW5cIjtcblxuLyoqXG4gKiBDb252ZXJ0IGluZGVudGF0aW9ucyB0byBjYWxsb3V0cyAoYXV0b21hdGljIG9wZXJhdGlvbilcbiAqL1xuY2xhc3MgQ29udmVydFRvQ2FsbG91dHNPcGVyYXRpb24gZXh0ZW5kcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICByZWFkb25seSBpZCA9IFwiY29udmVydC10by1jYWxsb3V0c1wiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIkNvbnZlcnQgdG8gTW9kZXJuIENhbGxvdXRzXCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIlRyYW5zZm9ybSBvbGQgaW5kZW50YXRpb25zICg+LCA+PikgdG8gYmVhdXRpZnVsIE5leHVzIGNhbGxvdXRzXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgY29udmVyc2F0aW9uIGZpbGVzIChleGNsdWRlIFJlcG9ydHMvQXR0YWNobWVudHMpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgncmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFueSBmaWxlcyBoYXZlIG9sZCBpbmRlbnRhdGlvbiBmb3JtYXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBjb252ZXJzYXRpb25GaWxlcy5zbGljZSgwLCAxMCkpIHsgLy8gU2FtcGxlIGZpcnN0IDEwIGZpbGVzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB2MS4xLjAgZm9ybWF0IG1hcmtlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzT2xkSW5kZW50YXRpb25Gb3JtYXQoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY2hlY2tpbmcgZmlsZSAke2ZpbGUucGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ29udmVydFRvQ2FsbG91dHMuY2FuUnVuIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxPcGVyYXRpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ29udmVydFRvQ2FsbG91dHMuZXhlY3V0ZSBzdGFydGluZ2ApO1xuXG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRm9sZGVyID0gY29udGV4dC5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcjtcbiAgICAgICAgICAgIGNvbnN0IGFsbEZpbGVzID0gY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblxuICAgICAgICAgICAgLy8gRmlsdGVyIGNvbnZlcnNhdGlvbiBmaWxlcyAoZXhjbHVkZSBSZXBvcnRzL0F0dGFjaG1lbnRzKVxuICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uRmlsZXMgPSBhbGxGaWxlcy5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlLnBhdGguc3RhcnRzV2l0aChhcmNoaXZlRm9sZGVyKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnUmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnQXR0YWNobWVudHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ2F0dGFjaG1lbnRzLycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcbiAgICAgICAgICAgIGxldCBjb252ZXJ0ZWQgPSAwO1xuICAgICAgICAgICAgbGV0IGVycm9ycyA9IDA7XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ29udmVydFRvQ2FsbG91dHM6IFByb2Nlc3NpbmcgJHtjb252ZXJzYXRpb25GaWxlcy5sZW5ndGh9IGZpbGVzYCk7XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZmlsZXMgaW4gc21hbGxlciBiYXRjaGVzIHRvIGF2b2lkIGJsb2NraW5nXG4gICAgICAgICAgICBjb25zdCBiYXRjaFNpemUgPSAxMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udmVyc2F0aW9uRmlsZXMubGVuZ3RoOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gY29udmVyc2F0aW9uRmlsZXMuc2xpY2UoaSwgaSArIGJhdGNoU2l6ZSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgYmF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBwcm9jZXNzIGZpbGVzIHdpdGggb2xkIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc09sZEluZGVudGF0aW9uRm9ybWF0KGNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbnRlbnQgPSB0aGlzLmNvbnZlcnRJbmRlbnRhdGlvbnNUb0NhbGxvdXRzKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCAhPT0gY29udmVydGVkQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbHVnaW5fdmVyc2lvbiB0byAxLjIuMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ29udGVudCA9IHRoaXMudXBkYXRlUGx1Z2luVmVyc2lvbihjb252ZXJ0ZWRDb250ZW50LCBcIjEuMi4wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgZmluYWxDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIEVycm9yIGNvbnZlcnRpbmcgJHtmaWxlLnBhdGh9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IGJldHdlZW4gYmF0Y2hlcyB0byBwcmV2ZW50IGJsb2NraW5nXG4gICAgICAgICAgICAgICAgaWYgKGkgKyBiYXRjaFNpemUgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENvbnZlcnRUb0NhbGxvdXRzOiBDb21wbGV0ZWQgLSBwcm9jZXNzZWQ6JHtwcm9jZXNzZWR9LCBjb252ZXJ0ZWQ6JHtjb252ZXJ0ZWR9LCBlcnJvcnM6JHtlcnJvcnN9YCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZXJyb3JzID09PSAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDYWxsb3V0IGNvbnZlcnNpb24gY29tcGxldGVkOiAke2NvbnZlcnRlZH0gZmlsZXMgY29udmVydGVkLCAke2Vycm9yc30gZXJyb3JzYCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IHByb2Nlc3NlZCwgY29udmVydGVkLCBlcnJvcnMgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBDb252ZXJ0VG9DYWxsb3V0cy5leGVjdXRlIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDYWxsb3V0IGNvbnZlcnNpb24gZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY29udGVudCBoYXMgb2xkIGluZGVudGF0aW9uIGZvcm1hdCAodjEuMS4wKVxuICAgICAqL1xuICAgIHByaXZhdGUgaGFzT2xkSW5kZW50YXRpb25Gb3JtYXQoY29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIExvb2sgZm9yIHBhdHRlcm5zIHRoYXQgaW5kaWNhdGUgdjEuMS4wIGZvcm1hdFxuICAgICAgICBjb25zdCBvbGRQYXR0ZXJucyA9IFtcbiAgICAgICAgICAgIC9eIyMjIFVzZXIsIG9uIC4qIGF0IC4qO1xcbj4vbSwgICAgICAgICAgIC8vIFVzZXIgbWVzc2FnZXMgd2l0aCBpbmRlbnRhdGlvblxuICAgICAgICAgICAgL14jIyMjIEFzc2lzdGFudCwgb24gLiogYXQgLio7XFxuPj4vbSwgICAgLy8gQXNzaXN0YW50IG1lc3NhZ2VzIHdpdGggaW5kZW50YXRpb25cbiAgICAgICAgICAgIC88ZGl2IGNsYXNzPVwibmV4dXMtYXR0YWNobWVudC1ib3hcIj4vLCAgICAvLyBPbGQgYXR0YWNobWVudCBkaXZzXG4gICAgICAgICAgICAvPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPi8sICAgICAgLy8gT2xkIGFydGlmYWN0IGRpdnNcbiAgICAgICAgICAgIC8+XFxbIW5vdGVcXF0gXHVEODNEXHVEQ0NFIFxcKlxcKkF0dGFjaG1lbnQ6XFwqXFwqLyAgICAgIC8vIE9sZCBub3RlIGNhbGxvdXRzIGZvciBhdHRhY2htZW50c1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiBvbGRQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGNvbnRlbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IG9sZCBpbmRlbnRhdGlvbnMgdG8gbW9kZXJuIGNhbGxvdXRzXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb252ZXJ0SW5kZW50YXRpb25zVG9DYWxsb3V0cyhjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgY29udmVydGVkID0gY29udGVudDtcblxuICAgICAgICAvLyAxLiBDb252ZXJ0IFVzZXIgbWVzc2FnZXM6ICMjIyBVc2VyLCBvbiBEQVRFIGF0IFRJTUU7XFxuPiBjb250ZW50XG4gICAgICAgIGNvbnZlcnRlZCA9IGNvbnZlcnRlZC5yZXBsYWNlKFxuICAgICAgICAgICAgL14jIyMgVXNlciwgb24gKC4qPykgYXQgKC4qPyk7XFxuKCg/Oj4gLiooPzpcXG58JCkpKikvZ20sXG4gICAgICAgICAgICAobWF0Y2gsIGRhdGUsIHRpbWUsIHF1b3RlZENvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbkNvbnRlbnQgPSBxdW90ZWRDb250ZW50LnJlcGxhY2UoL14+IC9nbSwgJz4gJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c191c2VyXSAqKlVzZXIqKiAtICR7ZGF0ZX0gYXQgJHt0aW1lfVxcbiR7Y2xlYW5Db250ZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gMi4gQ29udmVydCBBc3Npc3RhbnQgbWVzc2FnZXM6ICMjIyMgQXNzaXN0YW50LCBvbiBEQVRFIGF0IFRJTUU7XFxuPj4gY29udGVudFxuICAgICAgICBjb252ZXJ0ZWQgPSBjb252ZXJ0ZWQucmVwbGFjZShcbiAgICAgICAgICAgIC9eIyMjIyBBc3Npc3RhbnQsIG9uICguKj8pIGF0ICguKj8pO1xcbigoPzo+PiAuKig/OlxcbnwkKSkqKS9nbSxcbiAgICAgICAgICAgIChtYXRjaCwgZGF0ZSwgdGltZSwgcXVvdGVkQ29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuQ29udGVudCA9IHF1b3RlZENvbnRlbnQucmVwbGFjZSgvXj4+IC9nbSwgJz4gJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c19hZ2VudF0gKipBc3Npc3RhbnQqKiAtICR7ZGF0ZX0gYXQgJHt0aW1lfVxcbiR7Y2xlYW5Db250ZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gMy4gQ29udmVydCBhdHRhY2htZW50IGRpdnMgdG8gY2FsbG91dHMgKHJvYnVzdCBwYXR0ZXJuKVxuICAgICAgICBjb252ZXJ0ZWQgPSBjb252ZXJ0ZWQucmVwbGFjZShcbiAgICAgICAgICAgIC88ZGl2IGNsYXNzPVwibmV4dXMtYXR0YWNobWVudC1ib3hcIj5cXHMqXFxuXFxzKlxcKlxcKlx1RDgzRFx1RENDRSBBdHRhY2htZW50OlxcKlxcKiAoW14oXSspXFwoKFteKV0rKVxcKShbXFxzXFxTXSo/KTxcXC9kaXY+L2csXG4gICAgICAgICAgICAobWF0Y2gsIGZpbGVOYW1lLCBmaWxlVHlwZSwgY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuRmlsZU5hbWUgPSBmaWxlTmFtZS50cmltKCk7XG4gICAgICAgICAgICAgICAgbGV0IGNsZWFuQ29udGVudCA9IGNvbnRlbnQudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBjb250ZW50IHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFuQ29udGVudC5pbmNsdWRlcygnKipDb250ZW50OioqJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5Db250ZW50ID0gY2xlYW5Db250ZW50LnJlcGxhY2UoL1xcKlxcKkNvbnRlbnQ6XFwqXFwqL2csICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjbGVhbkNvbnRlbnQuaW5jbHVkZXMoJyoqU3RhdHVzOioqJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5Db250ZW50ID0gY2xlYW5Db250ZW50LnJlcGxhY2UoL1xcKlxcKlN0YXR1czpcXCpcXCovZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgZm9yIGNhbGxvdXRcbiAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSBjbGVhbkNvbnRlbnQucmVwbGFjZSgvXFxuL2csICdcXG4+ICcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW5Db250ZW50ICYmICFjbGVhbkNvbnRlbnQuc3RhcnRzV2l0aCgnPicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuQ29udGVudCA9ICc+ICcgKyBjbGVhbkNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c19hdHRhY2htZW50XSAqKiR7Y2xlYW5GaWxlTmFtZX0qKiAoJHtmaWxlVHlwZX0pXFxuJHtjbGVhbkNvbnRlbnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyA0LiBDb252ZXJ0IGFydGlmYWN0IGRpdnMgdG8gY2FsbG91dHMgKGVuaGFuY2VkIHBhdHRlcm4pXG4gICAgICAgIGNvbnZlcnRlZCA9IGNvbnZlcnRlZC5yZXBsYWNlKFxuICAgICAgICAgICAgLzxkaXYgY2xhc3M9XCJuZXh1cy1hcnRpZmFjdC1ib3hcIj5cXHMqKFtcXHNcXFNdKj8pXFxzKjxcXC9kaXY+L2csXG4gICAgICAgICAgICAobWF0Y2gsIGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY2xlYW5Db250ZW50ID0gY29udGVudC50cmltKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGFydGlmYWN0IHRpdGxlIGlmIHByZXNlbnRcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZU1hdGNoID0gY2xlYW5Db250ZW50Lm1hdGNoKC9cXCpcXCooW14qXSspXFwqXFwqLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZU1hdGNoID8gdGl0bGVNYXRjaFsxXSA6ICdBcnRpZmFjdCc7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhbiBhbmQgZm9ybWF0IGNvbnRlbnRcbiAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSBjbGVhbkNvbnRlbnQucmVwbGFjZSgvXFwqXFwqW14qXStcXCpcXCovZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSBjbGVhbkNvbnRlbnQucmVwbGFjZSgvXFxuL2csICdcXG4+ICcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW5Db250ZW50ICYmICFjbGVhbkNvbnRlbnQuc3RhcnRzV2l0aCgnPicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuQ29udGVudCA9ICc+ICcgKyBjbGVhbkNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c19hcnRpZmFjdF0gKioke3RpdGxlfSoqXFxuJHtjbGVhbkNvbnRlbnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyA1LiBIYW5kbGUgYW55IHJlbWFpbmluZyBvbGQtc3R5bGUgbm90ZSBjYWxsb3V0cyB0aGF0IHNob3VsZCBiZSBhdHRhY2htZW50c1xuICAgICAgICBjb252ZXJ0ZWQgPSBjb252ZXJ0ZWQucmVwbGFjZShcbiAgICAgICAgICAgIC8+XFxbIW5vdGVcXF0gXHVEODNEXHVEQ0NFIFxcKlxcKkF0dGFjaG1lbnQ6XFwqXFwqIChbXihdKylcXCgoW14pXSspXFwpKC4qPykoPz1cXG5cXG58XFxuPnxcXG48IS0tfFxcbi0tLXwkKS9ncyxcbiAgICAgICAgICAgIChtYXRjaCwgZmlsZU5hbWUsIGZpbGVUeXBlLCBjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW5GaWxlTmFtZSA9IGZpbGVOYW1lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBsZXQgY2xlYW5Db250ZW50ID0gY29udGVudC50cmltKCk7XG4gICAgICAgICAgICAgICAgY2xlYW5Db250ZW50ID0gY2xlYW5Db250ZW50LnJlcGxhY2UoL1xcbi9nLCAnXFxuPiAnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFuQ29udGVudCAmJiAhY2xlYW5Db250ZW50LnN0YXJ0c1dpdGgoJz4nKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSAnPiAnICsgY2xlYW5Db250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYD5bIW5leHVzX2F0dGFjaG1lbnRdICoqJHtjbGVhbkZpbGVOYW1lfSoqICgke2ZpbGVUeXBlfSlcXG4ke2NsZWFuQ29udGVudH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHBsdWdpbl92ZXJzaW9uIGluIGZyb250bWF0dGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVQbHVnaW5WZXJzaW9uKGNvbnRlbnQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZShcbiAgICAgICAgICAgIC9ecGx1Z2luX3ZlcnNpb246IFwiLio/XCIkL20sXG4gICAgICAgICAgICBgcGx1Z2luX3ZlcnNpb246IFwiJHt2ZXJzaW9ufVwiYFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIHZlcmlmeShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGNvbnZlcnNhdGlvbiBmaWxlcyAoc2FtcGxlIHZlcmlmaWNhdGlvbilcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZpbGVzID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZmlsZS5wYXRoLnN0YXJ0c1dpdGgoYXJjaGl2ZUZvbGRlcikpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGZpbGUucGF0aC5zdWJzdHJpbmcoYXJjaGl2ZUZvbGRlci5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ1JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdhdHRhY2htZW50cy8nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KS5zbGljZSgwLCA1KTsgLy8gQ2hlY2sgZmlyc3QgNSBmaWxlc1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgY29udmVyc2F0aW9uRmlsZXMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc3RpbGwgaGFzIG9sZCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzT2xkSW5kZW50YXRpb25Gb3JtYXQoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ29udmVydFRvQ2FsbG91dHMudmVyaWZ5OiBTdGlsbCBoYXMgb2xkIGZvcm1hdCBpbiAke2ZpbGUucGF0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBsdWdpbl92ZXJzaW9uIHdhcyB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudC5pbmNsdWRlcygncGx1Z2luX3ZlcnNpb246IFwiMS4yLjBcIicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENvbnZlcnRUb0NhbGxvdXRzLnZlcmlmeTogTWlzc2luZyB2MS4yLjAgaW4gJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHZlcmlmeWluZyBmaWxlICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ29udmVydFRvQ2FsbG91dHMudmVyaWZ5IGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogTW92ZSByZXBvcnRzIGZyb20gcm9vdCBSZXBvcnRzLyBmb2xkZXIgdG8gUmVwb3J0cy9jaGF0Z3B0LyAoYXV0b21hdGljIG9wZXJhdGlvbilcbiAqIEZvciB1c2VycyB1cGdyYWRpbmcgZGlyZWN0bHkgZnJvbSBwcmUtMS4xLjAgdmVyc2lvbnNcbiAqL1xuY2xhc3MgTW92ZVJlcG9ydHNUb1Byb3ZpZGVyT3BlcmF0aW9uIGV4dGVuZHMgVXBncmFkZU9wZXJhdGlvbiB7XG4gICAgcmVhZG9ubHkgaWQgPSBcIm1vdmUtcmVwb3J0cy10by1wcm92aWRlclwiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIk9yZ2FuaXplIFJlcG9ydHMgYnkgUHJvdmlkZXJcIjtcbiAgICByZWFkb25seSBkZXNjcmlwdGlvbiA9IFwiTW92ZSByZXBvcnRzIGZyb20gcm9vdCBSZXBvcnRzLyBmb2xkZXIgdG8gUmVwb3J0cy9jaGF0Z3B0L1wiO1xuICAgIHJlYWRvbmx5IHR5cGUgPSBcImF1dG9tYXRpY1wiIGFzIGNvbnN0O1xuXG4gICAgYXN5bmMgY2FuUnVuKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXBvcnRGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5yZXBvcnRGb2xkZXI7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBhbnkgcmVwb3J0IGZpbGVzIGluIHRoZSByb290IFJlcG9ydHMvIGZvbGRlclxuICAgICAgICAgICAgY29uc3QgcmVwb3J0RmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHRcbiAgICAgICAgICAgICAgICAuZ2V0TWFya2Rvd25GaWxlcygpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCBiZSBpbiByb290IHJlcG9ydCBmb2xkZXIgKG5vdCBpbiBwcm92aWRlciBzdWJmb2xkZXIpXG4gICAgICAgICAgICAgICAgICAgIGlmICghZi5wYXRoLnN0YXJ0c1dpdGgocmVwb3J0Rm9sZGVyICsgJy8nKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE11c3Qgbm90IGFscmVhZHkgYmUgaW4gYSBwcm92aWRlciBzdWJmb2xkZXJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZi5wYXRoLnN1YnN0cmluZyhyZXBvcnRGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguaW5jbHVkZXMoJy8nKSkgcmV0dXJuIGZhbHNlOyAvLyBBbHJlYWR5IGluIHN1YmZvbGRlclxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE11c3QgYmUgYW4gaW1wb3J0IHJlcG9ydCBmaWxlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmLm5hbWUuaW5jbHVkZXMoJ2ltcG9ydCByZXBvcnQnKSB8fCBmLm5hbWUuaW5jbHVkZXMoJ2ltcG9ydF8nKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBNb3ZlUmVwb3J0c1RvUHJvdmlkZXJPcGVyYXRpb24uY2FuUnVuOiBmb3VuZCAke3JlcG9ydEZpbGVzLmxlbmd0aH0gcmVwb3J0cyBpbiByb290IGZvbGRlcmApO1xuICAgICAgICAgICAgcmV0dXJuIHJlcG9ydEZpbGVzLmxlbmd0aCA+IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIE1vdmVSZXBvcnRzVG9Qcm92aWRlck9wZXJhdGlvbi5jYW5SdW4gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVwb3J0Rm9sZGVyID0gY29udGV4dC5wbHVnaW4uc2V0dGluZ3MucmVwb3J0Rm9sZGVyO1xuICAgICAgICAgICAgbGV0IHByb2Nlc3NlZCA9IDA7XG4gICAgICAgICAgICBsZXQgbW92ZWQgPSAwO1xuICAgICAgICAgICAgbGV0IGVycm9ycyA9IDA7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgcmVwb3J0IGZpbGVzIGluIHJvb3QgZm9sZGVyXG4gICAgICAgICAgICBjb25zdCByZXBvcnRGaWxlcyA9IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdFxuICAgICAgICAgICAgICAgIC5nZXRNYXJrZG93bkZpbGVzKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWYucGF0aC5zdGFydHNXaXRoKHJlcG9ydEZvbGRlciArICcvJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZi5wYXRoLnN1YnN0cmluZyhyZXBvcnRGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguaW5jbHVkZXMoJy8nKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5uYW1lLmluY2x1ZGVzKCdpbXBvcnQgcmVwb3J0JykgfHwgZi5uYW1lLmluY2x1ZGVzKCdpbXBvcnRfJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEVuc3VyZSBjaGF0Z3B0IHN1YmZvbGRlciBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGNoYXRncHRSZXBvcnRGb2xkZXIgPSBgJHtyZXBvcnRGb2xkZXJ9L2NoYXRncHRgO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5ta2RpcihjaGF0Z3B0UmVwb3J0Rm9sZGVyKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBGb2xkZXIgbWlnaHQgYWxyZWFkeSBleGlzdCwgdGhhdCdzIGZpbmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHJlcG9ydEZpbGVzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBgJHtjaGF0Z3B0UmVwb3J0Rm9sZGVyfS8ke2ZpbGUubmFtZX1gO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKG5ld1BhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIFRhcmdldCBhbHJlYWR5IGV4aXN0cywgc2tpcHBpbmc6ICR7bmV3UGF0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIucmVuYW1lKGZpbGUucGF0aCwgbmV3UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gTW92ZWQgcmVwb3J0OiAke2ZpbGUucGF0aH0gXHUyMTkyICR7bmV3UGF0aH1gKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBFcnJvciBtb3ZpbmcgcmVwb3J0ICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIE1vdmVSZXBvcnRzVG9Qcm92aWRlck9wZXJhdGlvbjogcHJvY2Vzc2VkPSR7cHJvY2Vzc2VkfSwgbW92ZWQ9JHttb3ZlZH0sIGVycm9ycz0ke2Vycm9yc31gKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZXJyb3JzID09PSAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBSZXBvcnRzIG9yZ2FuaXplZDogJHttb3ZlZH0gZmlsZXMgbW92ZWQgdG8gcHJvdmlkZXIgc3RydWN0dXJlLCAke2Vycm9yc30gZXJyb3JzYCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IHByb2Nlc3NlZCwgbW92ZWQsIGVycm9ycyB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBNb3ZlUmVwb3J0c1RvUHJvdmlkZXJPcGVyYXRpb24uZXhlY3V0ZSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUmVwb3J0IG9yZ2FuaXphdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB2ZXJpZnkoX2NvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIFNpbXBsZSBvcGVyYXRpb247IHRyZWF0IGFzIHN1Y2Nlc3NmdWwgaWYgZXhlY3V0ZSByZXR1cm5lZCBzdWNjZXNzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBGb3JjZSB1cGRhdGUgcmVwb3J0IGxpbmtzIHRvIGluY2x1ZGUgcHJvdmlkZXIgc2VnbWVudCAoYXV0b21hdGljIG9wZXJhdGlvbilcbiAqIE9ubHkgcGF0dGVybiBjb25zaWRlcmVkOiAke3JlcG9ydEZvbGRlcn0vY2hhdGdwdC9cbiAqL1xuY2xhc3MgVXBkYXRlUmVwb3J0TGlua3NPcGVyYXRpb24gZXh0ZW5kcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICByZWFkb25seSBpZCA9IFwidXBkYXRlLXJlcG9ydC1saW5rc1wiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIlVwZGF0ZSBSZXBvcnQgTGlua3NcIjtcbiAgICByZWFkb25seSBkZXNjcmlwdGlvbiA9IFwiSW5zZXJ0ICdjaGF0Z3B0LycgYmVmb3JlIHllYXIgaW4gcmVwb3J0IGxpbmtzIGluc2lkZSByZXBvcnRzXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oX2NvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIEZvcmNlIHJ1biB3aGVuIHRoaXMgbWlncmF0aW9uIGV4ZWN1dGVzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVwb3J0Rm9sZGVyID0gY29udGV4dC5wbHVnaW4uc2V0dGluZ3MucmVwb3J0Rm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBlc2NhcGVkQXJjaGl2ZSA9IHRoaXMuZXNjYXBlUmVnRXhwKGFyY2hpdmVGb2xkZXIpO1xuXG4gICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcbiAgICAgICAgICAgIGxldCB1cGRhdGVkID0gMDtcbiAgICAgICAgICAgIGxldCBlcnJvcnMgPSAwO1xuXG4gICAgICAgICAgICAvLyBDb25zaWRlciBib3RoICR7cmVwb3J0Rm9sZGVyfS9jaGF0Z3B0LyBhbmQgJHtyZXBvcnRGb2xkZXJ9LyAoZmFsbGJhY2sgZm9yIHByZS0xLjEuMClcbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydFByZWZpeENoYXRncHQgPSBgJHtyZXBvcnRGb2xkZXJ9L2NoYXRncHQvYDtcbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydFByZWZpeFJvb3QgPSBgJHtyZXBvcnRGb2xkZXJ9L2A7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydEZpbGVzID0gY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0XG4gICAgICAgICAgICAgICAgLmdldE1hcmtkb3duRmlsZXMoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgZmlsZXMgaW4gY2hhdGdwdCBzdWJmb2xkZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGYucGF0aC5zdGFydHNXaXRoKHJlcG9ydFByZWZpeENoYXRncHQpKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJbmNsdWRlIGZpbGVzIGluIHJvb3QgcmVwb3J0IGZvbGRlciAoYnV0IG5vdCBpbiBvdGhlciBzdWJmb2xkZXJzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZi5wYXRoLnN0YXJ0c1dpdGgocmVwb3J0UHJlZml4Um9vdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGYucGF0aC5zdWJzdHJpbmcocmVwb3J0UHJlZml4Um9vdC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCBiZSBkaXJlY3RseSBpbiByb290IGZvbGRlciAobm8gc2xhc2hlcyA9IG5vIHN1YmZvbGRlcnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbGF0aXZlUGF0aC5pbmNsdWRlcygnLycpICYmIChmLm5hbWUuaW5jbHVkZXMoJ2ltcG9ydCByZXBvcnQnKSB8fCBmLm5hbWUuaW5jbHVkZXMoJ2ltcG9ydF8nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUmVnZXg6IFtbPGFyY2hpdmVGb2xkZXI+L1lZWVkvTU0vIC4uLl1dIC0+IGluc2VydCBjaGF0Z3B0L1xuICAgICAgICAgICAgY29uc3QgbGlua1BhdHRlcm4gPSBuZXcgUmVnRXhwKGAoXFxcXFtcXFxcWyR7ZXNjYXBlZEFyY2hpdmV9LykoXFxcXGR7NH0vXFxcXGR7Mn0vKWAsICdnJyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiByZXBvcnRGaWxlcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZCsrO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VkID0gY29udGVudC5yZXBsYWNlKGxpbmtQYXR0ZXJuLCAnJDFjaGF0Z3B0LyQyJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlZCAhPT0gY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCByZXBsYWNlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycysrO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIFVwZGF0ZVJlcG9ydExpbmtzT3BlcmF0aW9uIGVycm9yIGluICR7ZmlsZS5wYXRofTpgLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gVXBkYXRlUmVwb3J0TGlua3NPcGVyYXRpb246IHByb2Nlc3NlZD0ke3Byb2Nlc3NlZH0sIHVwZGF0ZWQ9JHt1cGRhdGVkfSwgZXJyb3JzPSR7ZXJyb3JzfWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBlcnJvcnMgPT09IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYFJlcG9ydCBsaW5rcyB1cGRhdGVkOiAke3VwZGF0ZWR9IGZpbGVzIGNoYW5nZWQsICR7ZXJyb3JzfSBlcnJvcnNgLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgcHJvY2Vzc2VkLCB1cGRhdGVkLCBlcnJvcnMgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gVXBkYXRlUmVwb3J0TGlua3NPcGVyYXRpb24uZXhlY3V0ZSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgUmVwb3J0IGxpbmsgdXBkYXRlIGZhaWxlZDogJHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHZlcmlmeShfY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgLy8gU2ltcGxlIG9wZXJhdGlvbjsgdHJlYXQgYXMgc3VjY2Vzc2Z1bCBpZiBleGVjdXRlIHJldHVybmVkIHN1Y2Nlc3NcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5cbi8qKlxuICogTW92ZSB5ZWFyIGZvbGRlcnMgdG8gY2hhdGdwdCBwcm92aWRlciBzdHJ1Y3R1cmUgKGF1dG9tYXRpYyBvcGVyYXRpb24pXG4gKiBTSU1QTEU6IEp1c3QgbW92ZSA8eXl5eT4gZm9sZGVycyB0byBjaGF0Z3B0Lzx5eXl5PlxuICovXG5jbGFzcyBNb3ZlWWVhckZvbGRlcnNPcGVyYXRpb24gZXh0ZW5kcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICByZWFkb25seSBpZCA9IFwibW92ZS15ZWFyLWZvbGRlcnNcIjtcbiAgICByZWFkb25seSBuYW1lID0gXCJPcmdhbml6ZSBDb252ZXJzYXRpb25zIGJ5IFByb3ZpZGVyXCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIk1vdmUgeWVhciBmb2xkZXJzIHRvIGNoYXRncHQgcHJvdmlkZXIgc3RydWN0dXJlXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB5ZWFyIGZvbGRlcnMgZXhpc3QgZGlyZWN0bHkgaW4gYXJjaGl2ZSAobm90IGluIGNoYXRncHQgc3ViZm9sZGVyKVxuICAgICAgICAgICAgY29uc3QgeWVhckZvbGRlcnMgPSBhd2FpdCB0aGlzLmZpbmRZZWFyRm9sZGVycyhjb250ZXh0LCBhcmNoaXZlRm9sZGVyKTtcblxuICAgICAgICAgICAgcmV0dXJuIHllYXJGb2xkZXJzLmxlbmd0aCA+IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBNb3ZlWWVhckZvbGRlcnMuY2FuUnVuIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxPcGVyYXRpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gTW92ZVllYXJGb2xkZXJzLmV4ZWN1dGUgc3RhcnRpbmdgKTtcblxuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG5cbiAgICAgICAgICAgIGxldCBtb3ZlZEZvbGRlcnMgPSAwO1xuICAgICAgICAgICAgbGV0IGVycm9ycyA9IDA7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgPHl5eXk+IGZvbGRlcnMgdG8gY2hhdGdwdC88eXl5eT5cbiAgICAgICAgICAgIGNvbnN0IHllYXJGb2xkZXJzID0gYXdhaXQgdGhpcy5maW5kWWVhckZvbGRlcnMoY29udGV4dCwgYXJjaGl2ZUZvbGRlcik7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgeWVhckZvbGRlciBvZiB5ZWFyRm9sZGVycykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXRncHRGb2xkZXIgPSBgJHthcmNoaXZlRm9sZGVyfS9jaGF0Z3B0YDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIoY2hhdGdwdEZvbGRlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IGAke2NoYXRncHRGb2xkZXJ9LyR7eWVhckZvbGRlcn1gO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRQYXRoID0gYCR7YXJjaGl2ZUZvbGRlcn0vJHt5ZWFyRm9sZGVyfWA7XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIucmVuYW1lKG9sZFBhdGgsIG5ld1BhdGgpO1xuICAgICAgICAgICAgICAgICAgICBtb3ZlZEZvbGRlcnMrKztcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIE1vdmVkICR7eWVhckZvbGRlcn0gdG8gY2hhdGdwdC8ke3llYXJGb2xkZXJ9YCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gRXJyb3IgbW92aW5nIHllYXIgZm9sZGVyICR7eWVhckZvbGRlcn06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBNb3ZlWWVhckZvbGRlcnM6IENvbXBsZXRlZCAtIG1vdmVkOiR7bW92ZWRGb2xkZXJzfSwgZXJyb3JzOiR7ZXJyb3JzfWApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGVycm9ycyA9PT0gMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29udmVyc2F0aW9uIG9yZ2FuaXphdGlvbiBjb21wbGV0ZWQ6ICR7bW92ZWRGb2xkZXJzfSB5ZWFyIGZvbGRlcnMgbW92ZWQgdG8gY2hhdGdwdCBzdHJ1Y3R1cmUsICR7ZXJyb3JzfSBlcnJvcnNgLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgbW92ZWRGb2xkZXJzLCBlcnJvcnMgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBNb3ZlWWVhckZvbGRlcnMuZXhlY3V0ZSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29udmVyc2F0aW9uIG9yZ2FuaXphdGlvbiBmYWlsZWQ6ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB2ZXJpZnkoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuXG4gICAgICAgICAgICAvLyBDaGVjayB0aGF0IHllYXIgZm9sZGVycyBhcmUgbm93IGluIGNoYXRncHQgc3RydWN0dXJlXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdZZWFyRm9sZGVycyA9IGF3YWl0IHRoaXMuZmluZFllYXJGb2xkZXJzKGNvbnRleHQsIGFyY2hpdmVGb2xkZXIpO1xuXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nWWVhckZvbGRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gTW92ZVllYXJGb2xkZXJzLnZlcmlmeTogU3RpbGwgJHtyZW1haW5pbmdZZWFyRm9sZGVycy5sZW5ndGh9IHllYXIgZm9sZGVycyBpbiBvbGQgc3RydWN0dXJlYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE1vdmVZZWFyRm9sZGVycy52ZXJpZnkgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgeWVhciBmb2xkZXJzIChZWVlZKSBkaXJlY3RseSBpbiBhcmNoaXZlIGZvbGRlclxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZmluZFllYXJGb2xkZXJzKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0LCBhcmNoaXZlRm9sZGVyOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmb2xkZXJzID0gYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIubGlzdChhcmNoaXZlRm9sZGVyKTtcbiAgICAgICAgICAgIHJldHVybiBmb2xkZXJzLmZvbGRlcnMuZmlsdGVyKGZvbGRlciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9sZGVyTmFtZSA9IGZvbGRlci5zcGxpdCgnLycpLnBvcCgpIHx8ICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiAvXlxcZHs0fSQvLnRlc3QoZm9sZGVyTmFtZSkgJiYgZm9sZGVyTmFtZSAhPT0gJ2NoYXRncHQnO1xuICAgICAgICAgICAgfSkubWFwKGZvbGRlciA9PiBmb2xkZXIuc3BsaXQoJy8nKS5wb3AoKSB8fCAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiBCZWF1dGlmdWwgdXBncmFkZSBtb2RhbCAobGlrZSBFeGNhbGlkcmF3KVxuICovXG5leHBvcnQgY2xhc3MgTmV4dXNVcGdyYWRlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW47XG4gICAgcHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZXNvbHZlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4sIHZlcnNpb246IHN0cmluZywgcmVzb2x2ZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfVxuXG4gICAgb25PcGVuKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsLCB0aXRsZUVsIH0gPSB0aGlzO1xuXG4gICAgICAgIC8vIEFkZCBFeGNhbGlkcmF3LXN0eWxlIENTUyBjbGFzc1xuICAgICAgICBjb250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCduZXh1cy11cGdyYWRlLW1vZGFsJyk7XG5cbiAgICAgICAgLy8gU2V0IHRpdGxlIGxpa2UgRXhjYWxpZHJhd1xuICAgICAgICB0aXRsZUVsLnNldFRleHQoYFx1RDgzRFx1REU4MCBOZXh1cyBBSSBDaGF0IEltcG9ydGVyICR7dGhpcy52ZXJzaW9ufWApO1xuICAgICAgICB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLm1vZGFsLWNsb3NlLWJ1dHRvbicpPy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JtKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVGb3JtKCkge1xuICAgICAgICAvLyBGZXRjaCByZWxlYXNlIG5vdGVzIGZyb20gR2l0SHViXG4gICAgICAgIGxldCBtZXNzYWdlID0gYFx1RDgzQ1x1REY4OSAqKlVwZ3JhZGUgdG8gdjEuMi4wKipcblxuWW91ciBjb252ZXJzYXRpb25zIHdpbGwgYmUgcmVvcmdhbml6ZWQgd2l0aCBwcm92aWRlciBzdHJ1Y3R1cmUgYW5kIG1vZGVybiBjYWxsb3V0cy4gQWxsIGxpbmtzIGluIHlvdXIgcmVwb3J0cyB3aWxsIGJlIHVwZGF0ZWQuIFxuXG4qKlx1RDgzRFx1RENBMSBUbyBnZXQgQUxMIHYxLjIuMCBmZWF0dXJlczoqKiBSZWltcG9ydCB5b3VyIG9yaWdpbmFsIENoYXRHUFQgWklQIGZpbGVzLlxuXG4tLS1cblxuIyMgXHUyNjE1IFN1cHBvcnQgTXkgV29ya1xuXG5bIVtTdXBwb3J0IG1lIG9uIEtvLWZpXShodHRwczovL2tvLWZpLmNvbS9pbWcvZ2l0aHViYnV0dG9uX3NtLnN2ZyldKGh0dHBzOi8va28tZmkuY29tL25leHVzcGx1Z2lucylgO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZmV0Y2ggcmVsZWFzZSBub3RlcyBmcm9tIEdpdEh1YlxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9TdXBlcmtpa2ltL25leHVzLWFpLWNoYXQtaW1wb3J0ZXIvcmVsZWFzZXMvdGFncy92MS4yLjAnKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGVhc2UuYm9keSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gcmVsZWFzZS5ib2R5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmYWxsYmFjayBtZXNzYWdlIGlmIEdpdEh1YiBmZXRjaCBmYWlsc1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnW05FWFVTLURFQlVHXSBDb3VsZCBub3QgZmV0Y2ggcmVsZWFzZSBub3RlcyBmcm9tIEdpdEh1YiwgdXNpbmcgZmFsbGJhY2snKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciBtYXJrZG93biBjb250ZW50XG4gICAgICAgIGF3YWl0IE1hcmtkb3duUmVuZGVyZXIucmVuZGVyKFxuICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgdGhpcy5jb250ZW50RWwsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQWRkIHNpbmdsZSBjb25maXJtYXRpb24gYnV0dG9uXG4gICAgICAgIHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm5leHVzLXVwZ3JhZGUtYnV0dG9uc1wiIH0sIChlbCkgPT4ge1xuICAgICAgICAgICAgZWwuc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgZWwuc3R5bGUubWFyZ2luVG9wID0gXCIyMHB4XCI7XG4gICAgICAgICAgICBlbC5zdHlsZS5wYWRkaW5nVG9wID0gXCIxNXB4XCI7XG4gICAgICAgICAgICBlbC5zdHlsZS5ib3JkZXJUb3AgPSBcIjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcilcIjtcblxuICAgICAgICAgICAgY29uc3QgYnRuT2sgPSBlbC5jcmVhdGVFbChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJQcm9jZWVkXCIsXG4gICAgICAgICAgICAgICAgY2xzOiBcIm5leHVzLWJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnRuT2sub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlKFwib2tcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogT2ZmZXIgZnVsbCByZWltcG9ydCBmb3IgY29tcGxldGUgdjEuMi4wIGZlYXR1cmVzIChtYW51YWwgb3BlcmF0aW9uKVxuICovXG5jbGFzcyBPZmZlclJlaW1wb3J0T3BlcmF0aW9uIGV4dGVuZHMgVXBncmFkZU9wZXJhdGlvbiB7XG4gICAgcmVhZG9ubHkgaWQgPSBcIm9mZmVyLXJlaW1wb3J0XCI7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFwiRnVsbCBGZWF0dXJlIFJlaW1wb3J0XCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIk9wdGlvbmFsbHkgcmVpbXBvcnQgY29udmVyc2F0aW9ucyB0byBnZXQgYWxsIHYxLjIuMCBmZWF0dXJlcyAoYXR0YWNobWVudHMsIGNocm9ub2xvZ2ljYWwgb3JkZXIsIGV0Yy4pXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwibWFudWFsXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oX2NvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIEFsd2F5cyBvZmZlciB0aGlzIG9wdGlvbiBhZnRlciBjYWxsb3V0IGNvbnZlcnNpb25cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShfY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVGhlIGJlYXV0aWZ1bCBkaWFsb2cgaXMgbm93IHNob3duIEJFRk9SRSBvcGVyYXRpb25zIGV4ZWN1dGVcbiAgICAgICAgICAgIC8vIFRoaXMgb3BlcmF0aW9uIGp1c3QgcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVwZ3JhZGUgY29tcGxldGlvblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXBncmFkZSBpbmZvcm1hdGlvbiBwcm92aWRlZCB0byB1c2VyXCIsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBhY3Rpb246IFwiaW5mb19kaXNwbGF5ZWRcIiB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBPZmZlclJlaW1wb3J0LmV4ZWN1dGUgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBjb21wbGV0ZSByZWltcG9ydCBvcGVyYXRpb246ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB2ZXJpZnkoX2NvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIFRoaXMgb3BlcmF0aW9uIGFsd2F5cyBzdWNjZWVkcyBpZiBpdCBydW5zXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBWZXJzaW9uIDEuMi4wIFVwZ3JhZGUgRGVmaW5pdGlvblxuICovXG5leHBvcnQgY2xhc3MgVXBncmFkZTEyMCBleHRlbmRzIFZlcnNpb25VcGdyYWRlIHtcbiAgICByZWFkb25seSB2ZXJzaW9uID0gXCIxLjIuMFwiO1xuXG4gICAgcmVhZG9ubHkgYXV0b21hdGljT3BlcmF0aW9ucyA9IFtcbiAgICAgICAgbmV3IE1vdmVZZWFyRm9sZGVyc09wZXJhdGlvbigpLFxuICAgICAgICBuZXcgTW92ZVJlcG9ydHNUb1Byb3ZpZGVyT3BlcmF0aW9uKCksXG4gICAgICAgIG5ldyBVcGRhdGVSZXBvcnRMaW5rc09wZXJhdGlvbigpLFxuICAgICAgICBuZXcgQ29udmVydFRvQ2FsbG91dHNPcGVyYXRpb24oKVxuICAgIF07XG5cbiAgICByZWFkb25seSBtYW51YWxPcGVyYXRpb25zID0gW1xuICAgICAgICBuZXcgT2ZmZXJSZWltcG9ydE9wZXJhdGlvbigpXG4gICAgXTtcbn1cbiIsICIvLyBzcmMvdXBncmFkZS92ZXJzaW9ucy91cGdyYWRlLTEuMy4wLnRzXG5pbXBvcnQgeyBWZXJzaW9uVXBncmFkZSwgVXBncmFkZU9wZXJhdGlvbiwgVXBncmFkZUNvbnRleHQsIE9wZXJhdGlvblJlc3VsdCB9IGZyb20gXCIuLi91cGdyYWRlLWludGVyZmFjZVwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vLi4vbWFpblwiO1xuXG4vKipcbiAqIEZpeCB0aW1lc3RhbXAgcHJlY2lzaW9uIGJ5IGFkZGluZyBzZWNvbmRzIHRvIGFsbCBleGlzdGluZyBmcm9udG1hdHRlciB0aW1lc3RhbXBzXG4gKiBUaGlzIHJlc29sdmVzIHRoZSBpc3N1ZSB3aGVyZSB0aW1lc3RhbXBzIGxvc2Ugc2Vjb25kcyBwcmVjaXNpb24gd2hlbiBzdG9yZWQgaW4gZnJvbnRtYXR0ZXIsXG4gKiBjYXVzaW5nIGZhbHNlIHBvc2l0aXZlIFwidXBkYXRlZFwiIGNvbnZlcnNhdGlvbnMgaW4gdGhlIHNlbGVjdGlvbiBkaWFsb2cuXG4gKi9cbmNsYXNzIEZpeFRpbWVzdGFtcFByZWNpc2lvbk9wZXJhdGlvbiBleHRlbmRzIFVwZ3JhZGVPcGVyYXRpb24ge1xuICAgIHJlYWRvbmx5IGlkID0gXCJmaXgtdGltZXN0YW1wLXByZWNpc2lvblwiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIkZpeCBUaW1lc3RhbXAgUHJlY2lzaW9uXCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIkFkZCBzZWNvbmRzICg6MDApIHRvIGFsbCBleGlzdGluZyBjcmVhdGVfdGltZSBhbmQgdXBkYXRlX3RpbWUgZnJvbnRtYXR0ZXIgZW50cmllcyB0byByZXNvbHZlIGNvbXBhcmlzb24gaXNzdWVzXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgY29udmVyc2F0aW9uIGZpbGVzIChleGNsdWRlIFJlcG9ydHMvQXR0YWNobWVudHMpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgncmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFueSBmaWxlcyBoYXZlIHRpbWVzdGFtcHMgd2l0aG91dCBzZWNvbmRzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgY29udmVyc2F0aW9uRmlsZXMuc2xpY2UoMCwgMTApKSB7IC8vIFNhbXBsZSBmaXJzdCAxMCBmaWxlc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgdGltZXN0YW1wcyB3aXRob3V0IHNlY29uZHMgKFVTIGZvcm1hdCBvbmx5IGFzIGNvbmZpcm1lZCBieSB0ZXN0aW5nKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNUaW1lc3RhbXBzV2l0aG91dFNlY29uZHMoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY2hlY2tpbmcgZmlsZSAke2ZpbGUucGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRml4VGltZXN0YW1wUHJlY2lzaW9uLmNhblJ1biBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlY3V0ZShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8T3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIEZpeFRpbWVzdGFtcFByZWNpc2lvbi5leGVjdXRlIHN0YXJ0aW5nYCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgY29udmVyc2F0aW9uIGZpbGVzIChleGNsdWRlIFJlcG9ydHMvQXR0YWNobWVudHMpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgncmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xuICAgICAgICAgICAgbGV0IGZpeGVkID0gMDtcbiAgICAgICAgICAgIGxldCBlcnJvcnMgPSAwO1xuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIEZpeFRpbWVzdGFtcFByZWNpc2lvbjogUHJvY2Vzc2luZyAke2NvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aH0gZmlsZXNgKTtcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBmaWxlcyBpbiBzbWFsbGVyIGJhdGNoZXMgdG8gYXZvaWQgYmxvY2tpbmdcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDEwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBjb252ZXJzYXRpb25GaWxlcy5zbGljZShpLCBpICsgYmF0Y2hTaXplKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBiYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHByb2Nlc3MgZmlsZXMgd2l0aCB0aW1lc3RhbXBzIHdpdGhvdXQgc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1RpbWVzdGFtcHNXaXRob3V0U2Vjb25kcyhjb250ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXhlZENvbnRlbnQgPSB0aGlzLmZpeFRpbWVzdGFtcFByZWNpc2lvbihjb250ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT09IGZpeGVkQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbHVnaW5fdmVyc2lvbiB0byAxLjMuMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ29udGVudCA9IHRoaXMudXBkYXRlUGx1Z2luVmVyc2lvbihmaXhlZENvbnRlbnQsIFwiMS4zLjBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBmaW5hbENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVkKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBFcnJvciBmaXhpbmcgdGltZXN0YW1wcyBpbiAke2ZpbGUucGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU21hbGwgZGVsYXkgYmV0d2VlbiBiYXRjaGVzIHRvIHByZXZlbnQgYmxvY2tpbmdcbiAgICAgICAgICAgICAgICBpZiAoaSArIGJhdGNoU2l6ZSA8IGNvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRml4VGltZXN0YW1wUHJlY2lzaW9uOiBDb21wbGV0ZWQgLSBwcm9jZXNzZWQ6JHtwcm9jZXNzZWR9LCBmaXhlZDoke2ZpeGVkfSwgZXJyb3JzOiR7ZXJyb3JzfWApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGVycm9ycyA9PT0gMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVGltZXN0YW1wIHByZWNpc2lvbiBmaXggY29tcGxldGVkOiAke2ZpeGVkfSBmaWxlcyB1cGRhdGVkLCAke2Vycm9yc30gZXJyb3JzYCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IHByb2Nlc3NlZCwgZml4ZWQsIGVycm9ycyB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIEZpeFRpbWVzdGFtcFByZWNpc2lvbi5leGVjdXRlIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUaW1lc3RhbXAgcHJlY2lzaW9uIGZpeCBmYWlsZWQ6ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjb250ZW50IGhhcyB0aW1lc3RhbXBzIHdpdGhvdXQgc2Vjb25kcyAoVVMgZm9ybWF0IG9ubHkpXG4gICAgICogUGF0dGVybjogY3JlYXRlX3RpbWU6IE1NL0REL1lZWVkgYXQgSDpNTSBBTS9QTSAobWlzc2luZyA6U1MpXG4gICAgICovXG4gICAgcHJpdmF0ZSBoYXNUaW1lc3RhbXBzV2l0aG91dFNlY29uZHMoY29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIFNpbXBsZSBhcHByb2FjaDogbG9vayBmb3IgdGltZXN0YW1wcyB0aGF0IG1hdGNoIEhIOk1NIHBhdHRlcm4gZm9sbG93ZWQgYnkgQU0vUE1cbiAgICAgICAgLy8gYnV0IGV4Y2x1ZGUgdGhvc2UgdGhhdCBhbHJlYWR5IGhhdmUgSEg6TU06U1MgcGF0dGVyblxuICAgICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgaWYgKGxpbmUubWF0Y2goL14oY3JlYXRlfHVwZGF0ZSlfdGltZTovKSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgbGluZSBoYXMgdGltZSB3aXRob3V0IHNlY29uZHM6IEhIOk1NIEFNL1BNXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubWF0Y2goL1xcZHsxLDJ9OlxcZHsyfVxccysoQU18UE0pJC8pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBpdCdzIG5vdCBISDpNTTpTUyBBTS9QTVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmUubWF0Y2goL1xcZHsxLDJ9OlxcZHsyfTpcXGR7Mn1cXHMrKEFNfFBNKSQvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpeCB0aW1lc3RhbXAgcHJlY2lzaW9uIGJ5IGFkZGluZyA6MDAgc2Vjb25kcyB0byB0aW1lc3RhbXBzIHdpdGhvdXQgc2Vjb25kc1xuICAgICAqL1xuICAgIHByaXZhdGUgZml4VGltZXN0YW1wUHJlY2lzaW9uKGNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIC8vIFBhdHRlcm4gc3BlY2lmaWNhbGx5IGZvciBVUyBmb3JtYXQgKGFzIGNvbmZpcm1lZCBieSB0ZXN0aW5nKVxuICAgICAgICAvLyBNYXRjaGVzOiBjcmVhdGVfdGltZTogMDEvMTUvMjAyNCBhdCAyOjMwIFBNXG4gICAgICAgIC8vIFJlcGxhY2VzIHdpdGg6IGNyZWF0ZV90aW1lOiAwMS8xNS8yMDI0IGF0IDI6MzA6MDAgUE1cbiAgICAgICAgLy8gVXNlIHdvcmQgYm91bmRhcnkgdG8gZW5zdXJlIHdlIGNhcHR1cmUgdGhlIGNvbXBsZXRlIHRpbWUgcGF0dGVyblxuICAgICAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKFxuICAgICAgICAgICAgL14oKD86Y3JlYXRlfHVwZGF0ZSlfdGltZTogLis/XFxzKykoXFxkezEsMn06XFxkezJ9KShcXHMrKD86QU18UE0pKSQvZ20sXG4gICAgICAgICAgICAobWF0Y2gsIHByZWZpeCwgdGltZSwgc3VmZml4KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgc2Vjb25kcyBpZiB0aGUgdGltZSBwYXJ0IGhhcyBleGFjdGx5IDIgcGFydHMgKEhIOk1NLCBub3QgSEg6TU06U1MpXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZVBhcnRzID0gdGltZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIGlmICh0aW1lUGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtwcmVmaXh9JHt0aW1lfTowMCR7c3VmZml4fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaDsgLy8gQWxyZWFkeSBoYXMgc2Vjb25kcyBvciBpbnZhbGlkIGZvcm1hdFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBwbHVnaW5fdmVyc2lvbiBpbiBmcm9udG1hdHRlclxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlUGx1Z2luVmVyc2lvbihjb250ZW50OiBzdHJpbmcsIHZlcnNpb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBjb250ZW50LnJlcGxhY2UoXG4gICAgICAgICAgICAvXnBsdWdpbl92ZXJzaW9uOiBcIi4qP1wiJC9tLFxuICAgICAgICAgICAgYHBsdWdpbl92ZXJzaW9uOiBcIiR7dmVyc2lvbn1cImBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyB2ZXJpZnkoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBjb252ZXJzYXRpb24gZmlsZXMgKHNhbXBsZSB2ZXJpZmljYXRpb24pXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgncmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSkuc2xpY2UoMCwgNSk7IC8vIENoZWNrIGZpcnN0IDUgZmlsZXNcblxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGNvbnZlcnNhdGlvbkZpbGVzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHN0aWxsIGhhcyB0aW1lc3RhbXBzIHdpdGhvdXQgc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNUaW1lc3RhbXBzV2l0aG91dFNlY29uZHMoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRml4VGltZXN0YW1wUHJlY2lzaW9uLnZlcmlmeTogU3RpbGwgaGFzIHRpbWVzdGFtcHMgd2l0aG91dCBzZWNvbmRzIGluICR7ZmlsZS5wYXRofWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGx1Z2luX3ZlcnNpb24gd2FzIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50LmluY2x1ZGVzKCdwbHVnaW5fdmVyc2lvbjogXCIxLjMuMFwiJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRml4VGltZXN0YW1wUHJlY2lzaW9uLnZlcmlmeTogTWlzc2luZyB2MS4zLjAgaW4gJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHZlcmlmeWluZyBmaWxlICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRml4VGltZXN0YW1wUHJlY2lzaW9uLnZlcmlmeSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFZlcnNpb24gMS4zLjAgVXBncmFkZSBEZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBVcGdyYWRlMTMwIGV4dGVuZHMgVmVyc2lvblVwZ3JhZGUge1xuICAgIHJlYWRvbmx5IHZlcnNpb24gPSBcIjEuMy4wXCI7XG5cbiAgICByZWFkb25seSBhdXRvbWF0aWNPcGVyYXRpb25zID0gW1xuICAgICAgICBuZXcgRml4VGltZXN0YW1wUHJlY2lzaW9uT3BlcmF0aW9uKClcbiAgICBdO1xuXG4gICAgcmVhZG9ubHkgbWFudWFsT3BlcmF0aW9ucyA9IFtcbiAgICAgICAgLy8gTm8gbWFudWFsIG9wZXJhdGlvbnMgZm9yIHRoaXMgdmVyc2lvblxuICAgIF07XG59XG4iLCAiLy8gc3JjL21haW4udHNcbmltcG9ydCB7IFBsdWdpbiwgQXBwLCBQbHVnaW5NYW5pZmVzdCwgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcIi4vY29uZmlnL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwiLi90eXBlcy9wbHVnaW5cIjtcbmltcG9ydCB7IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW5TZXR0aW5nVGFiIH0gZnJvbSBcIi4vdWkvc2V0dGluZ3MtdGFiXCI7XG5pbXBvcnQgeyBDb21tYW5kUmVnaXN0cnkgfSBmcm9tIFwiLi9jb21tYW5kcy9jb21tYW5kLXJlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBFdmVudEhhbmRsZXJzIH0gZnJvbSBcIi4vZXZlbnRzL2V2ZW50LWhhbmRsZXJzXCI7XG5pbXBvcnQgeyBJbXBvcnRTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvaW1wb3J0LXNlcnZpY2VcIjtcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvc3RvcmFnZS1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBGaWxlU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2VzL2ZpbGUtc2VydmljZVwiO1xuaW1wb3J0IHsgSW5jcmVtZW50YWxVcGdyYWRlTWFuYWdlciB9IGZyb20gXCIuL3VwZ3JhZGUvaW5jcmVtZW50YWwtdXBncmFkZS1tYW5hZ2VyXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXJcIjtcbmltcG9ydCB7IFByb3ZpZGVyU2VsZWN0aW9uRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9ncy9wcm92aWRlci1zZWxlY3Rpb24tZGlhbG9nXCI7XG5pbXBvcnQgeyBFbmhhbmNlZEZpbGVTZWxlY3Rpb25EaWFsb2cgfSBmcm9tIFwiLi9kaWFsb2dzL2VuaGFuY2VkLWZpbGUtc2VsZWN0aW9uLWRpYWxvZ1wiO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uU2VsZWN0aW9uRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9ncy9jb252ZXJzYXRpb24tc2VsZWN0aW9uLWRpYWxvZ1wiO1xuaW1wb3J0IHsgY3JlYXRlUHJvdmlkZXJSZWdpc3RyeSB9IGZyb20gXCIuL3Byb3ZpZGVycy9wcm92aWRlci1yZWdpc3RyeVwiO1xuaW1wb3J0IHsgRmlsZVNlbGVjdGlvblJlc3VsdCwgQ29udmVyc2F0aW9uU2VsZWN0aW9uUmVzdWx0IH0gZnJvbSBcIi4vdHlwZXMvY29udmVyc2F0aW9uLXNlbGVjdGlvblwiO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uTWV0YWRhdGFFeHRyYWN0b3IgfSBmcm9tIFwiLi9zZXJ2aWNlcy9jb252ZXJzYXRpb24tbWV0YWRhdGEtZXh0cmFjdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzITogUGx1Z2luU2V0dGluZ3M7XG4gICAgbG9nZ2VyOiBMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gICAgXG4gICAgcHJpdmF0ZSBzdG9yYWdlU2VydmljZTogU3RvcmFnZVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBpbXBvcnRTZXJ2aWNlOiBJbXBvcnRTZXJ2aWNlO1xuICAgIHByaXZhdGUgZmlsZVNlcnZpY2U6IEZpbGVTZXJ2aWNlO1xuICAgIHByaXZhdGUgY29tbWFuZFJlZ2lzdHJ5OiBDb21tYW5kUmVnaXN0cnk7XG4gICAgcHJpdmF0ZSBldmVudEhhbmRsZXJzOiBFdmVudEhhbmRsZXJzO1xuICAgIHByaXZhdGUgdXBncmFkZU1hbmFnZXI6IEluY3JlbWVudGFsVXBncmFkZU1hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KSB7XG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zdG9yYWdlU2VydmljZSA9IG5ldyBTdG9yYWdlU2VydmljZSh0aGlzKTtcbiAgICAgICAgdGhpcy5pbXBvcnRTZXJ2aWNlID0gbmV3IEltcG9ydFNlcnZpY2UodGhpcyk7XG4gICAgICAgIHRoaXMuZmlsZVNlcnZpY2UgPSBuZXcgRmlsZVNlcnZpY2UodGhpcyk7XG4gICAgICAgIHRoaXMuY29tbWFuZFJlZ2lzdHJ5ID0gbmV3IENvbW1hbmRSZWdpc3RyeSh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gbmV3IEV2ZW50SGFuZGxlcnModGhpcyk7XG4gICAgICAgIHRoaXMudXBncmFkZU1hbmFnZXIgPSBuZXcgSW5jcmVtZW50YWxVcGdyYWRlTWFuYWdlcih0aGlzKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW5TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRSZWdpc3RyeS5yZWdpc3RlckNvbW1hbmRzKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMucmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxuICAgICAgICAgICAgICAgIFwibWVzc2FnZS1zcXVhcmUtcGx1c1wiLFxuICAgICAgICAgICAgICAgIFwiTmV4dXMgQUkgQ2hhdCBJbXBvcnRlciAtIEltcG9ydCBuZXcgZmlsZVwiLFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuc2hvd1Byb3ZpZGVyU2VsZWN0aW9uRGlhbG9nKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByaWJib25JY29uRWwuYWRkQ2xhc3MoXCJuZXh1cy1haS1jaGF0LXJpYmJvblwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGdyYWRlTWFuYWdlci5jaGVja0FuZFBlcmZvcm1VcGdyYWRlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlBsdWdpbiBsb2FkaW5nIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBvbnVubG9hZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycy5jbGVhbnVwKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJQbHVnaW4gdW5sb2FkaW5nIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhPy5zZXR0aW5ncyB8fCB7fSk7XG5cbiAgICAgICAgICAgIC8vIEFsd2F5cyBjb21wdXRlIHJlcG9ydHMgdW5kZXIgYXJjaGl2ZSBmb2xkZXIgdG8gZW5zdXJlIGNvbnNpc3RlbmN5XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnJlcG9ydEZvbGRlciA9IGAke3RoaXMuc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcn0vUmVwb3J0c2A7XG4gICAgICAgICAgICAvLyBhdHRhY2htZW50Rm9sZGVyIGhvbm9ycyB1c2VyJ3Mgc2F2ZWQgc2V0dGluZ3M7IERFRkFVTFRfU0VUVElOR1Mgb25seSBhcHBsaWVzIG9uIHRydWUgZmlyc3QgaW5zdGFsbFxuICAgICAgICAgICAgLy8gKE5vIGV4dHJhIGhhbmRsaW5nIG5lZWRlZCBoZXJlOyB0aGUgbWVyZ2UgYWJvdmUgcHJlc2VydmVzIHVzZXIgc2V0dGluZ3MgaWYgdGhleSBleGlzdClcblxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB2ZXJzaW9uIHRyYWNraW5nXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVyc2lvbiA9IHRoaXMubWFuaWZlc3QudmVyc2lvbjtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZEN1cnJlbnRWZXJzaW9uID0gdGhpcy5zZXR0aW5ncy5jdXJyZW50VmVyc2lvbjtcblxuICAgICAgICAgICAgaWYgKCFzdG9yZWRDdXJyZW50VmVyc2lvbiB8fCBzdG9yZWRDdXJyZW50VmVyc2lvbiA9PT0gXCIwLjAuMFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QgdGltZSB3aXRoIHZlcnNpb24gdHJhY2tpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNFeGlzdGluZ0NvbnZlcnNhdGlvbnMgPSBhd2FpdCB0aGlzLmhhc0V4aXN0aW5nTmV4dXNDb252ZXJzYXRpb25zKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaGFzRXhpc3RpbmdDb252ZXJzYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4aXN0aW5nIHVzZXIgdXBncmFkaW5nIHRvIHZlcnNpb24gdHJhY2tpbmcgZm9yIGZpcnN0IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wcmV2aW91c1ZlcnNpb24gPSBcIjEuMC54XCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuY3VycmVudFZlcnNpb24gPSBjdXJyZW50VmVyc2lvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBGcmVzaCBpbnN0YWxsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucHJldmlvdXNWZXJzaW9uID0gY3VycmVudFZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuY3VycmVudFZlcnNpb24gPSBjdXJyZW50VmVyc2lvbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0b3JlZEN1cnJlbnRWZXJzaW9uICE9PSBjdXJyZW50VmVyc2lvbikge1xuICAgICAgICAgICAgICAgIC8vIE5vcm1hbCB1cGdyYWRlXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wcmV2aW91c1ZlcnNpb24gPSBzdG9yZWRDdXJyZW50VmVyc2lvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmN1cnJlbnRWZXJzaW9uID0gY3VycmVudFZlcnNpb247XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTG9hZCBzdG9yYWdlIGRhdGFcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcmFnZVNlcnZpY2UubG9hZERhdGEoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJsb2FkU2V0dGluZ3MgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhdWx0IGNvbnRhaW5zIGV4aXN0aW5nIE5leHVzIGNvbnZlcnNhdGlvbnNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhc0V4aXN0aW5nTmV4dXNDb252ZXJzYXRpb25zKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZXMuc29tZShmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpPy5mcm9udG1hdHRlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbnRtYXR0ZXI/Lm5leHVzID09PSB0aGlzLm1hbmlmZXN0LmlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiRXJyb3IgY2hlY2tpbmcgZm9yIGV4aXN0aW5nIGNvbnZlcnNhdGlvbnM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIExvYWQgZXhpc3RpbmcgZGF0YSB0byBwcmVzZXJ2ZSB1cGdyYWRlIGhpc3RvcnkgYW5kIG90aGVyIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKSB8fCB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUHJlc2VydmUgZXhpc3RpbmdEYXRhLmltcG9ydGVkQXJjaGl2ZXMgaWYgaXQgZXhpc3RzIGFuZCBoYXMgZGF0YVxuICAgICAgICAgICAgbGV0IGZpbmFsSW1wb3J0ZWRBcmNoaXZlcyA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0SW1wb3J0ZWRBcmNoaXZlcygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdEYXRhLmltcG9ydGVkQXJjaGl2ZXMgJiYgT2JqZWN0LmtleXMoZXhpc3RpbmdEYXRhLmltcG9ydGVkQXJjaGl2ZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBFeGlzdGluZyBkYXRhIGhhcyBhcmNoaXZlcyAtIHByZXNlcnZlIHRoZW0gYW5kIG1lcmdlIHdpdGggc3RvcmFnZVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQXJjaGl2ZXMgPSBleGlzdGluZ0RhdGEuaW1wb3J0ZWRBcmNoaXZlcztcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlQXJjaGl2ZXMgPSB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmdldEltcG9ydGVkQXJjaGl2ZXMoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBNZXJnZTogc3RvcmFnZSB0YWtlcyBwcmlvcml0eSBmb3IgY29uZmxpY3RzXG4gICAgICAgICAgICAgICAgZmluYWxJbXBvcnRlZEFyY2hpdmVzID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZ0FyY2hpdmVzLFxuICAgICAgICAgICAgICAgICAgICAuLi5zdG9yYWdlQXJjaGl2ZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBNZXJnZSB3aXRoIG5ldyBkYXRhLCBwcmVzZXJ2aW5nIHVwZ3JhZGUgaGlzdG9yeSBzdHJ1Y3R1cmVcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZERhdGEgPSB7XG4gICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdEYXRhLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgIGltcG9ydGVkQXJjaGl2ZXM6IGZpbmFsSW1wb3J0ZWRBcmNoaXZlcyxcbiAgICAgICAgICAgICAgICB1cGdyYWRlSGlzdG9yeTogZXhpc3RpbmdEYXRhLnVwZ3JhZGVIaXN0b3J5IHx8IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVXBncmFkZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zOiB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcmFnZVNlcnZpY2Uuc2F2ZURhdGEobWVyZ2VkRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcInNhdmVTZXR0aW5ncyBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlc2V0Q2F0YWxvZ3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3JhZ2VTZXJ2aWNlLnJlc2V0Q2F0YWxvZ3MoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcInJlc2V0Q2F0YWxvZ3MgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdG9yYWdlU2VydmljZSgpOiBTdG9yYWdlU2VydmljZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2VTZXJ2aWNlO1xuICAgIH1cblxuICAgIGdldEltcG9ydFNlcnZpY2UoKTogSW1wb3J0U2VydmljZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltcG9ydFNlcnZpY2U7XG4gICAgfVxuXG4gICAgZ2V0RmlsZVNlcnZpY2UoKTogRmlsZVNlcnZpY2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxlU2VydmljZTtcbiAgICB9XG5cbiAgICBnZXRVcGdyYWRlTWFuYWdlcigpOiBJbmNyZW1lbnRhbFVwZ3JhZGVNYW5hZ2VyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBncmFkZU1hbmFnZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBwcm92aWRlciBzZWxlY3Rpb24gZGlhbG9nIGFuZCB0aGVuIGZpbGUgc2VsZWN0aW9uXG4gICAgICovXG4gICAgc2hvd1Byb3ZpZGVyU2VsZWN0aW9uRGlhbG9nKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwcm92aWRlclJlZ2lzdHJ5ID0gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeSh0aGlzKTtcblxuICAgICAgICBuZXcgUHJvdmlkZXJTZWxlY3Rpb25EaWFsb2coXG4gICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgIHByb3ZpZGVyUmVnaXN0cnksXG4gICAgICAgICAgICAoc2VsZWN0ZWRQcm92aWRlcjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93RW5oYW5jZWRGaWxlU2VsZWN0aW9uRGlhbG9nKHNlbGVjdGVkUHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApLm9wZW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IGVuaGFuY2VkIGZpbGUgc2VsZWN0aW9uIGRpYWxvZyB3aXRoIGltcG9ydCBtb2RlIGNob2ljZVxuICAgICAqL1xuICAgIHByaXZhdGUgc2hvd0VuaGFuY2VkRmlsZVNlbGVjdGlvbkRpYWxvZyhwcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIG5ldyBFbmhhbmNlZEZpbGVTZWxlY3Rpb25EaWFsb2coXG4gICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICAgICAgKHJlc3VsdDogRmlsZVNlbGVjdGlvblJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsZVNlbGVjdGlvblJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgKS5vcGVuKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSByZXN1bHQgZnJvbSBlbmhhbmNlZCBmaWxlIHNlbGVjdGlvbiBkaWFsb2dcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUZpbGVTZWxlY3Rpb25SZXN1bHQocmVzdWx0OiBGaWxlU2VsZWN0aW9uUmVzdWx0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgZmlsZXMsIG1vZGUsIHByb3ZpZGVyIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBmaWxlcyBieSB0aW1lc3RhbXBcbiAgICAgICAgY29uc3Qgc29ydGVkRmlsZXMgPSB0aGlzLnNvcnRGaWxlc0J5VGltZXN0YW1wKGZpbGVzKTtcblxuICAgICAgICBpZiAobW9kZSA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICAgIC8vIEltcG9ydCBhbGwgY29udmVyc2F0aW9ucyAoZXhpc3Rpbmcgd29ya2Zsb3cpXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2Ygc29ydGVkRmlsZXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmltcG9ydFNlcnZpY2UuaGFuZGxlWmlwRmlsZShmaWxlLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTZWxlY3RpdmUgaW1wb3J0IC0gc2hvdyBjb252ZXJzYXRpb24gc2VsZWN0aW9uIGRpYWxvZ1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTZWxlY3RpdmVJbXBvcnQoc29ydGVkRmlsZXMsIHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBzZWxlY3RpdmUgaW1wb3J0IHdvcmtmbG93XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVTZWxlY3RpdmVJbXBvcnQoZmlsZXM6IEZpbGVbXSwgcHJvdmlkZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShgQW5hbHl6aW5nIGNvbnZlcnNhdGlvbnMgZnJvbSAke2ZpbGVzLmxlbmd0aH0gZmlsZShzKS4uLmApO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgbWV0YWRhdGEgZXh0cmFjdG9yXG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclJlZ2lzdHJ5ID0gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeSh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhRXh0cmFjdG9yID0gbmV3IENvbnZlcnNhdGlvbk1ldGFkYXRhRXh0cmFjdG9yKHByb3ZpZGVyUmVnaXN0cnkpO1xuXG4gICAgICAgICAgICAvLyBHZXQgZXhpc3RpbmcgY29udmVyc2F0aW9ucyBmb3Igc3RhdHVzIGNoZWNraW5nXG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5nZXRTdG9yYWdlU2VydmljZSgpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDb252ZXJzYXRpb25zID0gYXdhaXQgc3RvcmFnZS5zY2FuRXhpc3RpbmdDb252ZXJzYXRpb25zKCk7XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgbWV0YWRhdGEgZnJvbSBhbGwgWklQIGZpbGVzXG4gICAgICAgICAgICBjb25zdCBleHRyYWN0aW9uUmVzdWx0ID0gYXdhaXQgbWV0YWRhdGFFeHRyYWN0b3IuZXh0cmFjdE1ldGFkYXRhRnJvbU11bHRpcGxlWmlwcyhcbiAgICAgICAgICAgICAgICBmaWxlcyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcixcbiAgICAgICAgICAgICAgICBleGlzdGluZ0NvbnZlcnNhdGlvbnNcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChleHRyYWN0aW9uUmVzdWx0LmNvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIk5vIGNvbnZlcnNhdGlvbnMgZm91bmQgaW4gdGhlIHNlbGVjdGVkIGZpbGVzLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgY29udmVyc2F0aW9uIHNlbGVjdGlvbiBkaWFsb2cgd2l0aCBlbmhhbmNlZCBtZXRhZGF0YVxuICAgICAgICAgICAgbmV3IENvbnZlcnNhdGlvblNlbGVjdGlvbkRpYWxvZyhcbiAgICAgICAgICAgICAgICB0aGlzLmFwcCxcbiAgICAgICAgICAgICAgICBleHRyYWN0aW9uUmVzdWx0LmNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICAgICAgKHJlc3VsdDogQ29udmVyc2F0aW9uU2VsZWN0aW9uUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29udmVyc2F0aW9uU2VsZWN0aW9uUmVzdWx0KHJlc3VsdCwgZmlsZXMsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgZXh0cmFjdGlvblJlc3VsdC5hbmFseXNpc0luZm9cbiAgICAgICAgICAgICkub3BlbigpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkVycm9yIGluIHNlbGVjdGl2ZSBpbXBvcnQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIGFuYWx5emluZyBjb252ZXJzYXRpb25zOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgcmVzdWx0IGZyb20gY29udmVyc2F0aW9uIHNlbGVjdGlvbiBkaWFsb2dcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUNvbnZlcnNhdGlvblNlbGVjdGlvblJlc3VsdChcbiAgICAgICAgcmVzdWx0OiBDb252ZXJzYXRpb25TZWxlY3Rpb25SZXN1bHQsXG4gICAgICAgIGZpbGVzOiBGaWxlW10sXG4gICAgICAgIHByb3ZpZGVyOiBzdHJpbmdcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5zZWxlY3RlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJObyBjb252ZXJzYXRpb25zIHNlbGVjdGVkIGZvciBpbXBvcnQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3IE5vdGljZShgSW1wb3J0aW5nICR7cmVzdWx0LnNlbGVjdGVkSWRzLmxlbmd0aH0gc2VsZWN0ZWQgY29udmVyc2F0aW9ucyBmcm9tICR7ZmlsZXMubGVuZ3RofSBmaWxlKHMpLi4uYCk7XG5cbiAgICAgICAgLy8gR3JvdXAgc2VsZWN0ZWQgY29udmVyc2F0aW9ucyBieSBzb3VyY2UgZmlsZSBmb3IgZWZmaWNpZW50IHByb2Nlc3NpbmdcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0J5RmlsZSA9IGF3YWl0IHRoaXMuZ3JvdXBDb252ZXJzYXRpb25zQnlGaWxlKHJlc3VsdCwgZmlsZXMpO1xuXG4gICAgICAgIC8vIFByb2Nlc3MgZmlsZXMgc2VxdWVudGlhbGx5IGluIG9yaWdpbmFsIG9yZGVyXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0ZvckZpbGUgPSBjb252ZXJzYXRpb25zQnlGaWxlLmdldChmaWxlLm5hbWUpO1xuICAgICAgICAgICAgaWYgKGNvbnZlcnNhdGlvbnNGb3JGaWxlICYmIGNvbnZlcnNhdGlvbnNGb3JGaWxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmltcG9ydFNlcnZpY2UuaGFuZGxlWmlwRmlsZShmaWxlLCBwcm92aWRlciwgY29udmVyc2F0aW9uc0ZvckZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV3IE5vdGljZShgSW1wb3J0IGNvbXBsZXRlZC4gSW1wb3J0ZWQgJHtyZXN1bHQuc2VsZWN0ZWRJZHMubGVuZ3RofSBvZiAke3Jlc3VsdC50b3RhbEF2YWlsYWJsZX0gY29udmVyc2F0aW9ucy5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHcm91cCBzZWxlY3RlZCBjb252ZXJzYXRpb25zIGJ5IHRoZWlyIHNvdXJjZSBmaWxlIGZvciBtdWx0aS1maWxlIGltcG9ydFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZ3JvdXBDb252ZXJzYXRpb25zQnlGaWxlKFxuICAgICAgICByZXN1bHQ6IENvbnZlcnNhdGlvblNlbGVjdGlvblJlc3VsdCxcbiAgICAgICAgZmlsZXM6IEZpbGVbXVxuICAgICk6IFByb21pc2U8TWFwPHN0cmluZywgc3RyaW5nW10+PiB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbnNCeUZpbGUgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW10+KCk7XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byByZS1leHRyYWN0IG1ldGFkYXRhIHRvIGdldCBzb3VyY2UgZmlsZSBpbmZvcm1hdGlvblxuICAgICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBzZWxlY3Rpb24gcmVzdWx0IG9ubHkgY29udGFpbnMgSURzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclJlZ2lzdHJ5ID0gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeSh0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhRXh0cmFjdG9yID0gbmV3IENvbnZlcnNhdGlvbk1ldGFkYXRhRXh0cmFjdG9yKHByb3ZpZGVyUmVnaXN0cnkpO1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMuZ2V0U3RvcmFnZVNlcnZpY2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ29udmVyc2F0aW9ucyA9IGF3YWl0IHN0b3JhZ2Uuc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpO1xuXG4gICAgICAgICAgICAvLyBSZS1leHRyYWN0IG1ldGFkYXRhIHdpdGggc291cmNlIGZpbGUgdHJhY2tpbmdcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhY3Rpb25SZXN1bHQgPSBhd2FpdCBtZXRhZGF0YUV4dHJhY3Rvci5leHRyYWN0TWV0YWRhdGFGcm9tTXVsdGlwbGVaaXBzKFxuICAgICAgICAgICAgICAgIGZpbGVzLFxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCwgLy8gTGV0IGl0IGF1dG8tZGV0ZWN0IHByb3ZpZGVyXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb252ZXJzYXRpb25zXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBHcm91cCBzZWxlY3RlZCBjb252ZXJzYXRpb25zIGJ5IHNvdXJjZSBmaWxlXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZElkc1NldCA9IG5ldyBTZXQocmVzdWx0LnNlbGVjdGVkSWRzKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29udmVyc2F0aW9uIG9mIGV4dHJhY3Rpb25SZXN1bHQuY29udmVyc2F0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZElkc1NldC5oYXMoY29udmVyc2F0aW9uLmlkKSAmJiBjb252ZXJzYXRpb24uc291cmNlRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ29udmVyc2F0aW9ucyA9IGNvbnZlcnNhdGlvbnNCeUZpbGUuZ2V0KGNvbnZlcnNhdGlvbi5zb3VyY2VGaWxlKSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZUNvbnZlcnNhdGlvbnMucHVzaChjb252ZXJzYXRpb24uaWQpO1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25zQnlGaWxlLnNldChjb252ZXJzYXRpb24uc291cmNlRmlsZSwgZmlsZUNvbnZlcnNhdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiRXJyb3IgZ3JvdXBpbmcgY29udmVyc2F0aW9ucyBieSBmaWxlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogYXNzaWduIGFsbCBjb252ZXJzYXRpb25zIHRvIGZpcnN0IGZpbGVcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbnNCeUZpbGUuc2V0KGZpbGVzWzBdLm5hbWUsIHJlc3VsdC5zZWxlY3RlZElkcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udmVyc2F0aW9uc0J5RmlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTb3J0IGZpbGVzIGJ5IHRpbWVzdGFtcCAoc2FtZSBsb2dpYyBhcyBJbXBvcnRTZXJ2aWNlKVxuICAgICAqL1xuICAgIHByaXZhdGUgc29ydEZpbGVzQnlUaW1lc3RhbXAoZmlsZXM6IEZpbGVbXSk6IEZpbGVbXSB7XG4gICAgICAgIHJldHVybiBmaWxlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXBSZWdleCA9IC8oXFxkezR9LVxcZHsyfS1cXGR7Mn0tXFxkezJ9LVxcZHsyfS1cXGR7Mn0pLztcbiAgICAgICAgICAgIGNvbnN0IGdldFRpbWVzdGFtcCA9IChmaWxlbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBmaWxlbmFtZS5tYXRjaCh0aW1lc3RhbXBSZWdleCk7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBObyB0aW1lc3RhbXAgZm91bmQgaW4gZmlsZW5hbWU6ICR7ZmlsZW5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIjBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzFdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBnZXRUaW1lc3RhbXAoYS5uYW1lKS5sb2NhbGVDb21wYXJlKGdldFRpbWVzdGFtcChiLm5hbWUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsICIvLyBzcmMvY29uZmlnL2NvbnN0YW50cy50c1xuaW1wb3J0IHsgUGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwiLi4vdHlwZXMvcGx1Z2luXCI7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQbHVnaW5TZXR0aW5ncyA9IHtcbiAgICBhcmNoaXZlRm9sZGVyOiBcIk5leHVzL0NvbnZlcnNhdGlvbnNcIiwgLy8gRGVmYXVsdCBvbmx5IGZvciBmaXJzdCBpbnN0YWxsOyBwcmVzZXJ2ZWQgaWYgdXNlciBhbHJlYWR5IHNldFxuICAgIGFkZERhdGVQcmVmaXg6IGZhbHNlLFxuICAgIGRhdGVGb3JtYXQ6IFwiWVlZWS1NTS1ERFwiLFxuICAgIGhhc1Nob3duVXBncmFkZU5vdGljZTogZmFsc2UsXG4gICAgaGFzQ29tcGxldGVkVXBncmFkZTogZmFsc2UsXG5cbiAgICAvLyBWZXJzaW9uIHRyYWNraW5nIC0gd2lsbCBiZSBzZXQgZnJvbSBtYW5pZmVzdCBpbiBtYWluLnRzXG4gICAgY3VycmVudFZlcnNpb246IFwiMC4wLjBcIixcbiAgICBwcmV2aW91c1ZlcnNpb246IFwiMC4wLjBcIixcblxuICAgIC8vIEF0dGFjaG1lbnQgZGVmYXVsdHNcbiAgICBpbXBvcnRBdHRhY2htZW50czogdHJ1ZSxcbiAgICBhdHRhY2htZW50Rm9sZGVyOiBcIk5leHVzX2F0dGFjaG1lbnRzXCIsIC8vIERlZmF1bHQgb25seSBmb3IgZmlyc3QgaW5zdGFsbDsgcHJlc2VydmVkIGlmIHVzZXIgYWxyZWFkeSBzZXRcbiAgICByZXBvcnRGb2xkZXI6IFwiXCIsIC8vIFdpbGwgYmUgY29tcHV0ZWQgYXMgPGFyY2hpdmVGb2xkZXI+L1JlcG9ydHMgb24gbG9hZFxuICAgIHNraXBNaXNzaW5nQXR0YWNobWVudHM6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50RGV0YWlsczogdHJ1ZSxcblxuICAgIC8vIENvbnZlcnNhdGlvbiBzZWxlY3Rpb24gZGVmYXVsdHNcbiAgICBkZWZhdWx0SW1wb3J0TW9kZTogXCJhbGxcIixcbiAgICByZW1lbWJlckxhc3RJbXBvcnRNb2RlOiBmYWxzZSxcbiAgICBjb252ZXJzYXRpb25QYWdlU2l6ZTogMjAsXG4gICAgYXV0b1NlbGVjdEFsbE9uT3BlbjogZmFsc2UsXG59O1xuXG5leHBvcnQgY29uc3QgR0lUSFVCID0ge1xuICAgIFJBV19CQVNFOiBcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9TdXBlcmtpa2ltL25leHVzLWFpLWNoYXQtaW1wb3J0ZXJcIixcbiAgICBSRVBPX0JBU0U6IFwiaHR0cHM6Ly9naXRodWIuY29tL1N1cGVya2lraW0vbmV4dXMtYWktY2hhdC1pbXBvcnRlclwiXG59IGFzIGNvbnN0OyIsICIvLyBzcmMvdWkvc2V0dGluZ3MtdGFiLnRzXG5pbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCB7IEJhc2VTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9iYXNlLXNldHRpbmdzLXNlY3Rpb25cIjtcbmltcG9ydCB7IENvbnZlcnNhdGlvblNldHRpbmdzU2VjdGlvbiB9IGZyb20gXCIuL3NldHRpbmdzL2NvbnZlcnNhdGlvbi1zZXR0aW5ncy1zZWN0aW9uXCI7XG5pbXBvcnQgeyBDb252ZXJzYXRpb25TZWxlY3Rpb25TZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9jb252ZXJzYXRpb24tc2VsZWN0aW9uLXNldHRpbmdzLXNlY3Rpb25cIjtcbmltcG9ydCB7IEF0dGFjaG1lbnRTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9hdHRhY2htZW50LXNldHRpbmdzLXNlY3Rpb25cIjtcbmltcG9ydCB7IE1pZ3JhdGlvbnNTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9taWdyYXRpb25zLXNldHRpbmdzLXNlY3Rpb25cIjtcblxuZXhwb3J0IGNsYXNzIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgcHJpdmF0ZSBzZWN0aW9uczogQmFzZVNldHRpbmdzU2VjdGlvbltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVTZWN0aW9ucygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZVNlY3Rpb25zKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNlY3Rpb25zID0gW1xuICAgICAgICAgICAgbmV3IENvbnZlcnNhdGlvblNldHRpbmdzU2VjdGlvbih0aGlzLnBsdWdpbiksXG4gICAgICAgICAgICBuZXcgQ29udmVyc2F0aW9uU2VsZWN0aW9uU2V0dGluZ3NTZWN0aW9uKHRoaXMucGx1Z2luKSxcbiAgICAgICAgICAgIG5ldyBBdHRhY2htZW50U2V0dGluZ3NTZWN0aW9uKHRoaXMucGx1Z2luKSxcbiAgICAgICAgICAgIG5ldyBNaWdyYXRpb25zU2V0dGluZ3NTZWN0aW9uKHRoaXMucGx1Z2luKVxuICAgICAgICBdLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcblxuICAgICAgICAvLyBTZXQgcmVkcmF3IGNhbGxiYWNrIGZvciBlYWNoIHNlY3Rpb25cbiAgICAgICAgdGhpcy5zZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICAgICAgc2VjdGlvbi5zZXRSZWRyYXdDYWxsYmFjaygoKSA9PiB0aGlzLmRpc3BsYXkoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJTZWN0aW9ucyhjb250YWluZXJFbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXJTZWN0aW9ucyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHRoaXMuc2VjdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uLnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IHNlY3Rpb24udGl0bGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGF3YWl0IHNlY3Rpb24ucmVuZGVyKGNvbnRhaW5lckVsKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLy8gc3JjL3VpL3NldHRpbmdzL2NvbnZlcnNhdGlvbi1zZXR0aW5ncy1zZWN0aW9uLnRzXG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBCYXNlU2V0dGluZ3NTZWN0aW9uIH0gZnJvbSBcIi4vYmFzZS1zZXR0aW5ncy1zZWN0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBDb252ZXJzYXRpb25TZXR0aW5nc1NlY3Rpb24gZXh0ZW5kcyBCYXNlU2V0dGluZ3NTZWN0aW9uIHtcbiAgICByZWFkb25seSB0aXRsZSA9IFwiQ29udmVyc2F0aW9uIFNldHRpbmdzXCI7XG4gICAgcmVhZG9ubHkgb3JkZXIgPSAxMDtcblxuICAgIHJlbmRlcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkNvbnZlcnNhdGlvbnMgZm9sZGVyXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkNob29zZSBhIGZvbGRlciB0byBzdG9yZSBBSSBjaGF0IGNvbnZlcnNhdGlvbnMgYW5kIGltcG9ydCByZXBvcnRzXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGZvbGRlciBuYW1lXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHJlcG9ydHMgdW5kZXIgdGhlIGFyY2hpdmUgZm9sZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXBvcnRGb2xkZXIgPSBgJHt2YWx1ZX0vUmVwb3J0c2A7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkFkZCBkYXRlIHByZWZpeCB0byBmaWxlbmFtZXNcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiQWRkIGNyZWF0aW9uIGRhdGUgYXMgYSBwcmVmaXggdG8gY29udmVyc2F0aW9uIGZpbGVuYW1lc1wiKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHJhdygpOyAvLyBUcmlnZ2VyIHJlZHJhdyB0byBzaG93L2hpZGUgZGF0ZSBmb3JtYXQgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeCkge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJEYXRlIGZvcm1hdFwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiQ2hvb3NlIHRoZSBmb3JtYXQgZm9yIHRoZSBkYXRlIHByZWZpeFwiKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiWVlZWS1NTS1ERFwiLCBcIllZWVktTU0tRERcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJZWVlZTU1ERFwiLCBcIllZWVlNTUREXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJZWVlZLU1NLUREXCIgfHwgdmFsdWUgPT09IFwiWVlZWU1NRERcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlRm9ybWF0ID0gdmFsdWUgYXMgXCJZWVlZLU1NLUREXCIgfCBcIllZWVlNTUREXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLy8gc3JjL3VpL3NldHRpbmdzL2Jhc2Utc2V0dGluZ3Mtc2VjdGlvbi50c1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vLi4vbWFpblwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVNldHRpbmdzU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge31cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGlzIHNlY3Rpb24ncyBzZXR0aW5nc1xuICAgICAqL1xuICAgIGFic3RyYWN0IHJlbmRlcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFNlY3Rpb24gdGl0bGUgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IHRpdGxlPzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogU2VjdGlvbiBvcmRlciAobG93ZXIgPSBoaWdoZXIgdXApXG4gICAgICovXG4gICAgcmVhZG9ubHkgb3JkZXI6IG51bWJlciA9IDEwMDtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRvIHRyaWdnZXIgZnVsbCByZWRyYXcgd2hlbiBuZWVkZWQgKGZvciBjb25kaXRpb25hbCBzZWN0aW9ucylcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcmVkcmF3Q2FsbGJhY2s/OiAoKSA9PiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogU2V0IHJlZHJhdyBjYWxsYmFjayBmcm9tIG1haW4gc2V0dGluZ3MgdGFiXG4gICAgICovXG4gICAgc2V0UmVkcmF3Q2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZWRyYXdDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgcmVkcmF3IG9mIGVudGlyZSBzZXR0aW5ncyB0YWJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcmVkcmF3KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yZWRyYXdDYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxufSIsICIvLyBzcmMvdWkvc2V0dGluZ3MvY29udmVyc2F0aW9uLXNlbGVjdGlvbi1zZXR0aW5ncy1zZWN0aW9uLnRzXG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBCYXNlU2V0dGluZ3NTZWN0aW9uIH0gZnJvbSBcIi4vYmFzZS1zZXR0aW5ncy1zZWN0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBDb252ZXJzYXRpb25TZWxlY3Rpb25TZXR0aW5nc1NlY3Rpb24gZXh0ZW5kcyBCYXNlU2V0dGluZ3NTZWN0aW9uIHtcbiAgICByZWFkb25seSB0aXRsZSA9IFwiQ29udmVyc2F0aW9uIFNlbGVjdGlvbiBTZXR0aW5nc1wiO1xuICAgIHJlYWRvbmx5IG9yZGVyID0gMTU7IC8vIEJldHdlZW4gY29udmVyc2F0aW9uICgxMCkgYW5kIGF0dGFjaG1lbnQgKDIwKSBzZXR0aW5nc1xuXG4gICAgcmVuZGVyKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICAvLyBEZWZhdWx0IGltcG9ydCBtb2RlXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJEZWZhdWx0IGltcG9ydCBtb2RlXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkNob29zZSB0aGUgZGVmYXVsdCBiZWhhdmlvciB3aGVuIGltcG9ydGluZyBjb252ZXJzYXRpb25zXCIpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJhbGxcIiwgXCJJbXBvcnQgQWxsIENvbnZlcnNhdGlvbnNcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInNlbGVjdGl2ZVwiLCBcIlNlbGVjdCBTcGVjaWZpYyBDb252ZXJzYXRpb25zXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SW1wb3J0TW9kZSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiYWxsXCIgfHwgdmFsdWUgPT09IFwic2VsZWN0aXZlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0SW1wb3J0TW9kZSA9IHZhbHVlIGFzIFwiYWxsXCIgfCBcInNlbGVjdGl2ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyBSZW1lbWJlciBsYXN0IGNob2ljZVxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiUmVtZW1iZXIgbGFzdCBpbXBvcnQgbW9kZVwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJSZW1lbWJlciB0aGUgbGFzdCBzZWxlY3RlZCBpbXBvcnQgbW9kZSBhbmQgdXNlIGl0IGFzIGRlZmF1bHQgZm9yIGZ1dHVyZSBpbXBvcnRzXCIpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgICAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1lbWJlckxhc3RJbXBvcnRNb2RlKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1lbWJlckxhc3RJbXBvcnRNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgLy8gUGFnZSBzaXplIGZvciBjb252ZXJzYXRpb24gc2VsZWN0aW9uXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJDb252ZXJzYXRpb25zIHBlciBwYWdlXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIk51bWJlciBvZiBjb252ZXJzYXRpb25zIHRvIGRpc3BsYXkgcGVyIHBhZ2UgaW4gdGhlIHNlbGVjdGlvbiBkaWFsb2dcIilcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XG4gICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIjEwXCIsIFwiMTAgY29udmVyc2F0aW9uc1wiKVxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiMjBcIiwgXCIyMCBjb252ZXJzYXRpb25zXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCI1MFwiLCBcIjUwIGNvbnZlcnNhdGlvbnNcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIjEwMFwiLCBcIjEwMCBjb252ZXJzYXRpb25zXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb252ZXJzYXRpb25QYWdlU2l6ZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VTaXplID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsxMCwgMjAsIDUwLCAxMDBdLmluY2x1ZGVzKHBhZ2VTaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnZlcnNhdGlvblBhZ2VTaXplID0gcGFnZVNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIC8vIEF1dG8tc2VsZWN0IGFsbCBjb252ZXJzYXRpb25zXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJBdXRvLXNlbGVjdCBhbGwgY29udmVyc2F0aW9uc1wiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJBdXRvbWF0aWNhbGx5IHNlbGVjdCBhbGwgY29udmVyc2F0aW9ucyB3aGVuIG9wZW5pbmcgdGhlIHNlbGVjdGlvbiBkaWFsb2dcIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TZWxlY3RBbGxPbk9wZW4pXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9TZWxlY3RBbGxPbk9wZW4gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyBJbmZvcm1hdGlvbiBzZWN0aW9uXG4gICAgICAgIHRoaXMucmVuZGVySW5mb1NlY3Rpb24oY29udGFpbmVyRWwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVySW5mb1NlY3Rpb24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGluZm9Db250YWluZXIgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6IFwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIgfSk7XG4gICAgICAgIGluZm9Db250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gXCIyMHB4XCI7XG4gICAgICAgIGluZm9Db250YWluZXIuc3R5bGUucGFkZGluZyA9IFwiMTVweFwiO1xuICAgICAgICBpbmZvQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXCI7XG4gICAgICAgIGluZm9Db250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI4cHhcIjtcbiAgICAgICAgaW5mb0NvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcilcIjtcblxuICAgICAgICBjb25zdCBpbmZvVGl0bGUgPSBpbmZvQ29udGFpbmVyLmNyZWF0ZUVsKFwiaDRcIiwgeyB0ZXh0OiBcIkFib3V0IENvbnZlcnNhdGlvbiBTZWxlY3Rpb25cIiB9KTtcbiAgICAgICAgaW5mb1RpdGxlLnN0eWxlLm1hcmdpblRvcCA9IFwiMFwiO1xuICAgICAgICBpbmZvVGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxMHB4XCI7XG4gICAgICAgIGluZm9UaXRsZS5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1hY2NlbnQpXCI7XG5cbiAgICAgICAgY29uc3QgaW5mb1RleHQgPSBpbmZvQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuICAgICAgICBpbmZvVGV4dC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMCAwIDEwcHggMDsgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcIj5cbiAgICAgICAgICAgICAgICBUaGUgY29udmVyc2F0aW9uIHNlbGVjdGlvbiBmZWF0dXJlIGFsbG93cyB5b3UgdG8gcHJldmlldyBhbmQgY2hvb3NlIHNwZWNpZmljIGNvbnZlcnNhdGlvbnMgXG4gICAgICAgICAgICAgICAgdG8gaW1wb3J0IGZyb20geW91ciBDaGF0R1BUIG9yIENsYXVkZSBleHBvcnQgZmlsZXMsIHJhdGhlciB0aGFuIGltcG9ydGluZyBhbGwgY29udmVyc2F0aW9ucy5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgMTBweCAwOyBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1wiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+SW1wb3J0IEFsbDo8L3N0cm9uZz4gSW1wb3J0cyBhbGwgY29udmVyc2F0aW9ucyBmcm9tIHRoZSBaSVAgZmlsZSAoZmFzdGVyLCBleGlzdGluZyBiZWhhdmlvcikuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDsgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcIj5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPlNlbGVjdCBTcGVjaWZpYzo8L3N0cm9uZz4gU2hvd3MgYSBwcmV2aWV3IG9mIGFsbCBjb252ZXJzYXRpb25zIHdpdGggbWV0YWRhdGEgXG4gICAgICAgICAgICAgICAgKHRpdGxlLCBkYXRlcywgbWVzc2FnZSBjb3VudCkgYW5kIGFsbG93cyB5b3UgdG8gY2hvb3NlIHdoaWNoIG9uZXMgdG8gaW1wb3J0LlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICBgO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvdWkvc2V0dGluZ3MvYXR0YWNobWVudC1zZXR0aW5ncy1zZWN0aW9uLnRzXG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBCYXNlU2V0dGluZ3NTZWN0aW9uIH0gZnJvbSBcIi4vYmFzZS1zZXR0aW5ncy1zZWN0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50U2V0dGluZ3NTZWN0aW9uIGV4dGVuZHMgQmFzZVNldHRpbmdzU2VjdGlvbiB7XG4gICAgcmVhZG9ubHkgdGl0bGUgPSBcIkF0dGFjaG1lbnQgU2V0dGluZ3NcIjtcbiAgICByZWFkb25seSBvcmRlciA9IDIwO1xuXG4gICAgcmVuZGVyKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSW1wb3J0IGF0dGFjaG1lbnRzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlNhdmUgYXR0YWNobWVudCBmaWxlcyB0byBkaXNrIGFuZCBsaW5rIHRoZW0gaW4gY29udmVyc2F0aW9ucyAodXNlcyAnYmVzdCBlZmZvcnQnIHN0cmF0ZWd5KVwiKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7IC8vIFRyaWdnZXIgcmVkcmF3IHRvIHNob3cvaGlkZSBhdHRhY2htZW50IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckF0dGFjaG1lbnRPcHRpb25zKGNvbnRhaW5lckVsKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQXR0YWNobWVudEluZm8oY29udGFpbmVyRWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJBdHRhY2htZW50T3B0aW9ucyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkF0dGFjaG1lbnQgZm9sZGVyXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkNob29zZSBhIGZvbGRlciB0byBzdG9yZSBhdHRhY2htZW50IGZpbGVzXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT5cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIGF0dGFjaG1lbnQgZm9sZGVyIHBhdGhcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSGFuZGxlIG1pc3NpbmcgYXR0YWNobWVudHNcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiV2hlbiBhdHRhY2htZW50cyBhcmUgbWlzc2luZyBmcm9tIGV4cG9ydHMsIGNyZWF0ZSBpbmZvcm1hdGl2ZSBub3RlcyBpbnN0ZWFkIG9mIHNraXBwaW5nIHRoZW1cIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5za2lwTWlzc2luZ0F0dGFjaG1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5za2lwTWlzc2luZ0F0dGFjaG1lbnRzID0gIXZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IGF0dGFjaG1lbnQgZGV0YWlscyBpbiByZXBvcnRzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkluY2x1ZGUgZGV0YWlsZWQgYXR0YWNobWVudCBwcm9jZXNzaW5nIHN0YXRpc3RpY3MgaW4gaW1wb3J0IHJlcG9ydHNcIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dBdHRhY2htZW50RGV0YWlscylcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0F0dGFjaG1lbnREZXRhaWxzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJBdHRhY2htZW50SW5mbyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgbm90ZUVsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiIH0pO1xuICAgICAgICBub3RlRWwuc3R5bGUubWFyZ2luVG9wID0gXCIxNXB4XCI7XG4gICAgICAgIG5vdGVFbC5zdHlsZS5wYWRkaW5nID0gXCIxNXB4XCI7XG4gICAgICAgIG5vdGVFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KVwiO1xuICAgICAgICBub3RlRWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI4cHhcIjtcbiAgICAgICAgbm90ZUVsLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKVwiO1xuICAgICAgICBcbiAgICAgICAgbm90ZUVsLmNyZWF0ZUVsKFwiaDRcIiwgeyB0ZXh0OiBcIlx1RDgzRFx1RENDRSBBYm91dCBBdHRhY2htZW50IEhhbmRsaW5nXCIsIGNsczogXCJzZXR0aW5nLWl0ZW0tbmFtZVwiIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaW5mb0xpc3QgPSBub3RlRWwuY3JlYXRlRWwoXCJ1bFwiKTtcbiAgICAgICAgaW5mb0xpc3Quc3R5bGUubWFyZ2luVG9wID0gXCIxMHB4XCI7XG4gICAgICAgIGluZm9MaXN0LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIyMHB4XCI7XG4gICAgICAgIFxuICAgICAgICBpbmZvTGlzdC5jcmVhdGVFbChcImxpXCIpLmlubmVySFRNTCA9IFwiPHN0cm9uZz5CZXN0IEVmZm9ydCBTdHJhdGVneTo8L3N0cm9uZz4gRmlsZXMgZm91bmQgaW4gZXhwb3J0cyBhcmUgZXh0cmFjdGVkIGFuZCBsaW5rZWQ7IG1pc3NpbmcgZmlsZXMgZ2V0IGluZm9ybWF0aXZlIG5vdGVzLlwiO1xuICAgICAgICBpbmZvTGlzdC5jcmVhdGVFbChcImxpXCIpLmlubmVySFRNTCA9IFwiPHN0cm9uZz5QbGF0Zm9ybSBEaWZmZXJlbmNlczo8L3N0cm9uZz4gQ2hhdEdQVCBleHBvcnRzIG1heSBub3QgaW5jbHVkZSBhbGwgYXR0YWNobWVudHMsIGVzcGVjaWFsbHkgZnJvbSBvbGRlciBjb252ZXJzYXRpb25zLlwiO1xuICAgICAgICBpbmZvTGlzdC5jcmVhdGVFbChcImxpXCIpLmlubmVySFRNTCA9IFwiPHN0cm9uZz5TaW1wbGUgT3JnYW5pemF0aW9uOjwvc3Ryb25nPiBGaWxlcyBvcmdhbml6ZWQgYXMgPGNvZGU+YXR0YWNobWVudHMvcHJvdmlkZXIvY2F0ZWdvcnkvPC9jb2RlPiAoZS5nLiwgPGNvZGU+YXR0YWNobWVudHMvY2hhdGdwdC9pbWFnZXMvPC9jb2RlPikuXCI7XG4gICAgICAgIGluZm9MaXN0LmNyZWF0ZUVsKFwibGlcIikuaW5uZXJIVE1MID0gXCI8c3Ryb25nPlN5bmMgVGlwOjwvc3Ryb25nPiBDb25zaWRlciBleGNsdWRpbmcgdGhlIGF0dGFjaG1lbnQgZm9sZGVyIGZyb20gc3luYyB0byBhdm9pZCB1cGxvYWRpbmcgbGFyZ2UgZmlsZXMuXCI7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aXBFbCA9IG5vdGVFbC5jcmVhdGVEaXYoKTtcbiAgICAgICAgdGlwRWwuc3R5bGUubWFyZ2luVG9wID0gXCIxMHB4XCI7XG4gICAgICAgIHRpcEVsLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG4gICAgICAgIHRpcEVsLmlubmVySFRNTCA9IFwiXHVEODNEXHVEQ0ExIDxzdHJvbmc+VGlwOjwvc3Ryb25nPiBFbmFibGUgJ1Nob3cgYXR0YWNobWVudCBkZXRhaWxzJyB0byBzZWUgZXhhY3RseSB3aGljaCBmaWxlcyB3ZXJlIGZvdW5kLCBtaXNzaW5nLCBvciBmYWlsZWQgZHVyaW5nIGltcG9ydC5cIjtcbiAgICB9XG59IiwgIi8vIHNyYy91aS9zZXR0aW5ncy9taWdyYXRpb25zLXNldHRpbmdzLXNlY3Rpb24udHNcbmltcG9ydCB7IFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEJhc2VTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9iYXNlLXNldHRpbmdzLXNlY3Rpb25cIjtcblxuZXhwb3J0IGNsYXNzIE1pZ3JhdGlvbnNTZXR0aW5nc1NlY3Rpb24gZXh0ZW5kcyBCYXNlU2V0dGluZ3NTZWN0aW9uIHtcbiAgICByZWFkb25seSB0aXRsZSA9IFwiTWlncmF0aW9uc1wiO1xuICAgIHJlYWRvbmx5IG9yZGVyID0gMzA7XG5cbiAgICBhc3luYyByZW5kZXIoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnNEZXNjID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiIH0pO1xuICAgICAgICBtaWdyYXRpb25zRGVzYy5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjIwcHhcIjtcbiAgICAgICAgbWlncmF0aW9uc0Rlc2MuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHA+PHN0cm9uZz5NYW51YWwgT3BlcmF0aW9uczo8L3N0cm9uZz4gT3B0aW9uYWwgdXBncmFkZSBvcGVyYXRpb25zIHRoYXQgY2FuIGJlIHJ1biB3aGVuIGNvbnZlbmllbnQuPC9wPlxuICAgICAgICAgICAgPHA+QXV0b21hdGljIG9wZXJhdGlvbnMgKGxpa2UgcmVtb3Zpbmcgb2xkIGRhdGEpIHJ1biBhdXRvbWF0aWNhbGx5IGR1cmluZyB1cGdyYWRlIGFuZCBhcmUgbm90IHNob3duIGhlcmUuPC9wPlxuICAgICAgICBgO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1cGdyYWRlTWFuYWdlciA9IHRoaXMucGx1Z2luLmdldFVwZ3JhZGVNYW5hZ2VyKCk7XG4gICAgICAgICAgICBpZiAoIXVwZ3JhZGVNYW5hZ2VyPy5nZXRNYW51YWxPcGVyYXRpb25zRm9yU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dOb01pZ3JhdGlvbnNNZXNzYWdlKGNvbnRhaW5lckVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBvcGVyYXRpb24gc3RhdHVzIHdpdGggcGVyc2lzdGVudCBmbGFnc1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uc0RhdGEgPSBhd2FpdCB0aGlzLmdldE9wZXJhdGlvbnNXaXRoUGVyc2lzdGVudFN0YXR1cyh1cGdyYWRlTWFuYWdlcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb25zRGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dOb01pZ3JhdGlvbnNNZXNzYWdlKGNvbnRhaW5lckVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdmVyc2lvbkRhdGEgb2Ygb3BlcmF0aW9uc0RhdGEpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclZlcnNpb25PcGVyYXRpb25zKGNvbnRhaW5lckVsLCB2ZXJzaW9uRGF0YSwgdXBncmFkZU1hbmFnZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW05FWFVTLURFQlVHXSBFcnJvciBsb2FkaW5nIG1pZ3JhdGlvbnM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yTWVzc2FnZShjb250YWluZXJFbCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG9wZXJhdGlvbnMgc3RhdHVzIHdpdGggcGVyc2lzdGVudCBmbGFncyBmcm9tIHBsdWdpbiBkYXRhXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRPcGVyYXRpb25zV2l0aFBlcnNpc3RlbnRTdGF0dXModXBncmFkZU1hbmFnZXI6IGFueSk6IFByb21pc2U8YW55W10+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uc0RhdGEgPSBhd2FpdCB1cGdyYWRlTWFuYWdlci5nZXRNYW51YWxPcGVyYXRpb25zRm9yU2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgcGx1Z2luRGF0YSA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgb3BlcmF0aW9uIHN0YXR1cyBiYXNlZCBvbiBwZXJzaXN0ZW50IGZsYWdzIGluIHVwZ3JhZGUgaGlzdG9yeVxuICAgICAgICBmb3IgKGNvbnN0IHZlcnNpb25EYXRhIG9mIG9wZXJhdGlvbnNEYXRhKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiB2ZXJzaW9uRGF0YS5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uS2V5ID0gYG9wZXJhdGlvbl8ke3ZlcnNpb25EYXRhLnZlcnNpb24ucmVwbGFjZSgvXFwuL2csICdfJyl9XyR7b3BlcmF0aW9uLmlkfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNDb21wbGV0ZWQgPSBwbHVnaW5EYXRhPy51cGdyYWRlSGlzdG9yeT8uY29tcGxldGVkT3BlcmF0aW9ucz8uW29wZXJhdGlvbktleV0/LmNvbXBsZXRlZCB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24uY29tcGxldGVkID0gaXNDb21wbGV0ZWQ7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLmNhblJ1biA9ICFpc0NvbXBsZXRlZCAmJiBvcGVyYXRpb24uY2FuUnVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3BlcmF0aW9uc0RhdGE7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXJWZXJzaW9uT3BlcmF0aW9ucyhcbiAgICAgICAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuICAgICAgICB2ZXJzaW9uRGF0YTogYW55LFxuICAgICAgICB1cGdyYWRlTWFuYWdlcjogYW55XG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHZlcnNpb25IZWFkZXIgPSBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgXG4gICAgICAgICAgICB0ZXh0OiBgVmVyc2lvbiAke3ZlcnNpb25EYXRhLnZlcnNpb259YCxcbiAgICAgICAgICAgIGNsczogXCJtaWdyYXRpb25zLXZlcnNpb24taGVhZGVyXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHZlcnNpb25IZWFkZXIuc3R5bGUubWFyZ2luVG9wID0gXCIyNXB4XCI7XG4gICAgICAgIHZlcnNpb25IZWFkZXIuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxNXB4XCI7XG4gICAgICAgIHZlcnNpb25IZWFkZXIuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtYWNjZW50KVwiO1xuXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIHZlcnNpb25EYXRhLm9wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyT3BlcmF0aW9uKGNvbnRhaW5lckVsLCBvcGVyYXRpb24sIHZlcnNpb25EYXRhLnZlcnNpb24sIHVwZ3JhZGVNYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVuZGVyT3BlcmF0aW9uKFxuICAgICAgICBjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXG4gICAgICAgIG9wZXJhdGlvbjogYW55LFxuICAgICAgICB2ZXJzaW9uOiBzdHJpbmcsXG4gICAgICAgIHVwZ3JhZGVNYW5hZ2VyOiBhbnlcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShvcGVyYXRpb24ubmFtZSlcbiAgICAgICAgICAgIC5zZXREZXNjKG9wZXJhdGlvbi5kZXNjcmlwdGlvbiArIChvcGVyYXRpb24uY29tcGxldGVkID8gXCIgXHUyNzA1IENvbXBsZXRlZFwiIDogXCJcIikpXG4gICAgICAgICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlx1MjcwNSBDb21wbGV0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREaXNhYmxlZCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoXCJUaGlzIG9wZXJhdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b25FbC5hZGRDbGFzcyhcIm1vZC1tdXRlZFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFvcGVyYXRpb24uY2FuUnVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJDYW5ub3QgUnVuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiUHJlcmVxdWlzaXRlcyBub3QgbWV0IGZvciB0aGlzIG9wZXJhdGlvblwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiUnVuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VG9vbHRpcChgRXhlY3V0ZSAke29wZXJhdGlvbi5uYW1lfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5leGVjdXRlT3BlcmF0aW9uKGJ1dHRvbiwgb3BlcmF0aW9uLCB2ZXJzaW9uLCB1cGdyYWRlTWFuYWdlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmJ1dHRvbkVsLmFkZENsYXNzKFwibW9kLWN0YVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVPcGVyYXRpb24oXG4gICAgICAgIGJ1dHRvbkVsOiBhbnksIFxuICAgICAgICBvcGVyYXRpb246IGFueSwgXG4gICAgICAgIHZlcnNpb246IHN0cmluZywgXG4gICAgICAgIHVwZ3JhZGVNYW5hZ2VyOiBhbnlcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uRWwuYnV0dG9uRWwudGV4dENvbnRlbnQ7XG4gICAgICAgIGJ1dHRvbkVsLnNldEJ1dHRvblRleHQoXCJSdW5uaW5nLi4uXCIpLnNldERpc2FibGVkKHRydWUpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIEV4ZWN1dGluZyBtYW51YWwgb3BlcmF0aW9uOiAke29wZXJhdGlvbi5pZH0gKHYke3ZlcnNpb259KWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGdyYWRlTWFuYWdlci5leGVjdXRlTWFudWFsT3BlcmF0aW9uKHZlcnNpb24sIG9wZXJhdGlvbi5pZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gT3BlcmF0aW9uIHJlc3VsdDpgLCByZXN1bHQpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkgdG8gc2hvdyBjb21wbGV0ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICBidXR0b25FbC5zZXRCdXR0b25UZXh0KFwiXHUyNzA1IENvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICBidXR0b25FbC5zZXRUb29sdGlwKFwiVGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gY29tcGxldGVkXCIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEZpeCBDU1MgY2xhc3MgbWFuaXB1bGF0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGJ1dHRvbkVsLmJ1dHRvbkVsIHx8IGJ1dHRvbkVsO1xuICAgICAgICAgICAgICAgIGlmIChidXR0b25FbGVtZW50ICYmIGJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyhcIm1vZC1jdGFcIik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoXCJtb2QtbXV0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBvcGVyYXRpb24gc3RhdHVzXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLmNhblJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBidXR0b25FbC5zZXRCdXR0b25UZXh0KG9yaWdpbmFsVGV4dCkuc2V0RGlzYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd09wZXJhdGlvblJlc3VsdChcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uRWwuYnV0dG9uRWwuY2xvc2VzdCgnLnNldHRpbmctaXRlbScpLCBcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm1lc3NhZ2UsIFxuICAgICAgICAgICAgICAgICAgICAnZXJyb3InXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gT3BlcmF0aW9uIGV4ZWN1dGlvbiBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgYnV0dG9uRWwuc2V0QnV0dG9uVGV4dChvcmlnaW5hbFRleHQpLnNldERpc2FibGVkKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd09wZXJhdGlvblJlc3VsdChcbiAgICAgICAgICAgICAgICBidXR0b25FbC5idXR0b25FbC5jbG9zZXN0KCcuc2V0dGluZy1pdGVtJyksIFxuICAgICAgICAgICAgICAgIGBPcGVyYXRpb24gZmFpbGVkOiAke2Vycm9yfWAsIFxuICAgICAgICAgICAgICAgICdlcnJvcidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dPcGVyYXRpb25SZXN1bHQoXG4gICAgICAgIHNldHRpbmdFbDogSFRNTEVsZW1lbnQgfCBudWxsLCBcbiAgICAgICAgbWVzc2FnZTogc3RyaW5nLCBcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJ1xuICAgICk6IHZvaWQge1xuICAgICAgICBpZiAoIXNldHRpbmdFbCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTXNnID0gc2V0dGluZ0VsLnF1ZXJ5U2VsZWN0b3IoJy5vcGVyYXRpb24tcmVzdWx0Jyk7XG4gICAgICAgIGlmIChleGlzdGluZ01zZykgZXhpc3RpbmdNc2cucmVtb3ZlKCk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcmVzdWx0RWwuY2xhc3NOYW1lID0gJ29wZXJhdGlvbi1yZXN1bHQnO1xuICAgICAgICByZXN1bHRFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgICAgIHJlc3VsdEVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAke3R5cGUgPT09ICdzdWNjZXNzJyA/ICd2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLXN1Y2Nlc3MpJyA6ICd2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKSd9O1xuICAgICAgICAgICAgY29sb3I6ICR7dHlwZSA9PT0gJ3N1Y2Nlc3MnID8gJ3ZhcigtLXRleHQtc3VjY2VzcyknIDogJ3ZhcigtLXRleHQtZXJyb3IpJ307XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3R5cGUgPT09ICdzdWNjZXNzJyA/ICd2YXIoLS10ZXh0LXN1Y2Nlc3MpJyA6ICd2YXIoLS10ZXh0LWVycm9yKSd9O1xuICAgICAgICBgO1xuXG4gICAgICAgIHNldHRpbmdFbC5hcHBlbmRDaGlsZChyZXN1bHRFbCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdEVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93Tm9NaWdyYXRpb25zTWVzc2FnZShjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgbm9NaWdyYXRpb25zRWwgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6IFwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIgfSk7XG4gICAgICAgIG5vTWlncmF0aW9uc0VsLnN0eWxlLm1hcmdpblRvcCA9IFwiMTVweFwiO1xuICAgICAgICBub01pZ3JhdGlvbnNFbC5zdHlsZS5wYWRkaW5nID0gXCIxNXB4XCI7XG4gICAgICAgIG5vTWlncmF0aW9uc0VsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpXCI7XG4gICAgICAgIG5vTWlncmF0aW9uc0VsLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiOHB4XCI7XG4gICAgICAgIG5vTWlncmF0aW9uc0VsLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgIG5vTWlncmF0aW9uc0VsLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XCI+XG4gICAgICAgICAgICAgICAgPHN0cm9uZz5ObyBtYW51YWwgb3BlcmF0aW9ucyBhdmFpbGFibGU8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICAgICAgQWxsIHVwZ3JhZGUgb3BlcmF0aW9ucyBoYXZlIGJlZW4gY29tcGxldGVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93RXJyb3JNZXNzYWdlKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgZXJyb3I6IGFueSk6IHZvaWQge1xuICAgICAgICBjb25zdCBlcnJvckVsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiIH0pO1xuICAgICAgICBlcnJvckVsLnN0eWxlLm1hcmdpblRvcCA9IFwiMTVweFwiO1xuICAgICAgICBlcnJvckVsLnN0eWxlLnBhZGRpbmcgPSBcIjE1cHhcIjtcbiAgICAgICAgZXJyb3JFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZXJyb3IpXCI7XG4gICAgICAgIGVycm9yRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtZXJyb3IpXCI7XG4gICAgICAgIGVycm9yRWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI4cHhcIjtcbiAgICAgICAgZXJyb3JFbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDtcIj5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPkVycm9yIGxvYWRpbmcgbWlncmF0aW9uczo8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICAgICAgJHtlcnJvci5tZXNzYWdlIHx8IGVycm9yfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICBgO1xuICAgIH1cbn0iLCAiLy8gc3JjL2NvbW1hbmRzL2NvbW1hbmQtcmVnaXN0cnkudHNcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDb21tYW5kUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7fVxuXG4gICAgcmVnaXN0ZXJDb21tYW5kcygpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogXCJuZXh1cy1haS1jaGF0LWltcG9ydGVyLXNlbGVjdC16aXBcIixcbiAgICAgICAgICAgIG5hbWU6IFwiSW1wb3J0IEFJIGNvbnZlcnNhdGlvbnNcIixcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBuZXcgcHJvdmlkZXIgc2VsZWN0aW9uIHdvcmtmbG93XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2hvd1Byb3ZpZGVyU2VsZWN0aW9uRGlhbG9nKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd1Jlc2V0Q29uZmlybWF0aW9uKCkge1xuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBNb2RhbCh0aGlzLnBsdWdpbi5hcHApO1xuICAgICAgICBtb2RhbC5jb250ZW50RWwuY3JlYXRlRWwoXCJwXCIsIHtcbiAgICAgICAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHJlc2V0IGFsbCBpbXBvcnQgY2F0YWxvZ3MuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYnV0dG9uRGl2ID0gbW9kYWwuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsczogXCJtb2RhbC1idXR0b24tY29udGFpbmVyXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgYnV0dG9uRGl2XG4gICAgICAgICAgICAuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIkNhbmNlbFwiIH0pXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG1vZGFsLmNsb3NlKCkpO1xuICAgICAgICBcbiAgICAgICAgYnV0dG9uRGl2XG4gICAgICAgICAgICAuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIlJlc2V0XCIsIGNsczogXCJtb2Qtd2FybmluZ1wiIH0pXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5yZXNldENhdGFsb2dzKCk7XG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgbW9kYWwub3BlbigpO1xuICAgIH1cbn0iLCAiLy8gc3JjL2V2ZW50cy9ldmVudC1oYW5kbGVycy50c1xuaW1wb3J0IHsgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlcnMge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7fVxuXG4gICAgcmVnaXN0ZXJFdmVudHMoKSB7XG4gICAgICAgIC8vIEhhbmRsZSBmaWxlIGRlbGV0aW9uIC0gcmVtb3ZlIGZyb20gY29udmVyc2F0aW9uIGNhdGFsb2dcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcC52YXVsdC5vbihcImRlbGV0ZVwiLCBhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZ2V0RmlsZVNlcnZpY2UoKS5oYW5kbGVDb252ZXJzYXRpb25GaWxlRGVsZXRpb24oZmlsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjbGVhbnVwKCkge1xuICAgICAgICAvLyBObyBjbGVhbnVwIG5lZWRlZCAtIE9ic2lkaWFuIGhhbmRsZXMgZXZlbnQgdW5yZWdpc3RyYXRpb25cbiAgICB9XG59IiwgIi8vIHNyYy9zZXJ2aWNlcy9pbXBvcnQtc2VydmljZS50c1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBDdXN0b21FcnJvciB9IGZyb20gXCIuLi90eXBlcy9wbHVnaW5cIjtcbmltcG9ydCB7IGdldEZpbGVIYXNoIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBzaG93RGlhbG9nIH0gZnJvbSBcIi4uL2RpYWxvZ3NcIjtcbmltcG9ydCB7IEltcG9ydFJlcG9ydCB9IGZyb20gXCIuLi9tb2RlbHMvaW1wb3J0LXJlcG9ydFwiO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uUHJvY2Vzc29yIH0gZnJvbSBcIi4vY29udmVyc2F0aW9uLXByb2Nlc3NvclwiO1xuaW1wb3J0IHsgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yIH0gZnJvbSBcIi4uL21vZGVscy9lcnJvcnNcIjtcbmltcG9ydCB7IGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnkgfSBmcm9tIFwiLi4vcHJvdmlkZXJzL3Byb3ZpZGVyLXJlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3Byb3ZpZGVycy9wcm92aWRlci1hZGFwdGVyXCI7XG5pbXBvcnQgeyBJbXBvcnRQcm9ncmVzc01vZGFsLCBJbXBvcnRQcm9ncmVzc0NhbGxiYWNrIH0gZnJvbSBcIi4uL3VpL2ltcG9ydC1wcm9ncmVzcy1tb2RhbFwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgSW1wb3J0U2VydmljZSB7XG4gICAgcHJpdmF0ZSBpbXBvcnRSZXBvcnQ6IEltcG9ydFJlcG9ydCA9IG5ldyBJbXBvcnRSZXBvcnQoKTtcbiAgICBwcml2YXRlIGNvbnZlcnNhdGlvblByb2Nlc3NvcjogQ29udmVyc2F0aW9uUHJvY2Vzc29yO1xuICAgIHByaXZhdGUgcHJvdmlkZXJSZWdpc3RyeTogUHJvdmlkZXJSZWdpc3RyeTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZXJSZWdpc3RyeSA9IGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnkocGx1Z2luKTtcbiAgICAgICAgdGhpcy5jb252ZXJzYXRpb25Qcm9jZXNzb3IgPSBuZXcgQ29udmVyc2F0aW9uUHJvY2Vzc29yKHBsdWdpbiwgdGhpcy5wcm92aWRlclJlZ2lzdHJ5KTtcbiAgICB9XG5cbiAgICBhc3luYyBzZWxlY3RaaXBGaWxlKCkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiZmlsZVwiO1xuICAgICAgICBpbnB1dC5hY2NlcHQgPSBcIi56aXBcIjtcbiAgICAgICAgaW5wdXQubXVsdGlwbGUgPSB0cnVlO1xuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzIHx8IFtdKTtcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkRmlsZXMgPSB0aGlzLnNvcnRGaWxlc0J5VGltZXN0YW1wKGZpbGVzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2Ygc29ydGVkRmlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVaaXBGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXQuY2xpY2soKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNvcnRGaWxlc0J5VGltZXN0YW1wKGZpbGVzOiBGaWxlW10pOiBGaWxlW10ge1xuICAgICAgICByZXR1cm4gZmlsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wUmVnZXggPSAvKFxcZHs0fS1cXGR7Mn0tXFxkezJ9LVxcZHsyfS1cXGR7Mn0tXFxkezJ9KS87XG4gICAgICAgICAgICBjb25zdCBnZXRUaW1lc3RhbXAgPSAoZmlsZW5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZmlsZW5hbWUubWF0Y2godGltZXN0YW1wUmVnZXgpO1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLndhcm4oYE5vIHRpbWVzdGFtcCBmb3VuZCBpbiBmaWxlbmFtZTogJHtmaWxlbmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbWVzdGFtcChhLm5hbWUpLmxvY2FsZUNvbXBhcmUoZ2V0VGltZXN0YW1wKGIubmFtZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVaaXBGaWxlKGZpbGU6IEZpbGUsIGZvcmNlZFByb3ZpZGVyPzogc3RyaW5nLCBzZWxlY3RlZENvbnZlcnNhdGlvbklkcz86IHN0cmluZ1tdKSB7XG4gICAgICAgIHRoaXMuaW1wb3J0UmVwb3J0ID0gbmV3IEltcG9ydFJlcG9ydCgpO1xuICAgICAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5wbHVnaW4uZ2V0U3RvcmFnZVNlcnZpY2UoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW5kIHNob3cgcHJvZ3Jlc3MgbW9kYWxcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NNb2RhbCA9IG5ldyBJbXBvcnRQcm9ncmVzc01vZGFsKHRoaXMucGx1Z2luLmFwcCwgZmlsZS5uYW1lKTtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NDYWxsYmFjayA9IHByb2dyZXNzTW9kYWwuZ2V0UHJvZ3Jlc3NDYWxsYmFjaygpO1xuICAgICAgICBwcm9ncmVzc01vZGFsLm9wZW4oKTtcblxuICAgICAgICAvLyBTZXQgc2VsZWN0aXZlIGltcG9ydCBtb2RlIGlmIGFwcGxpY2FibGVcbiAgICAgICAgaWYgKHNlbGVjdGVkQ29udmVyc2F0aW9uSWRzICYmIHNlbGVjdGVkQ29udmVyc2F0aW9uSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFdlJ2xsIHNldCB0aGlzIGFmdGVyIHdlIGtub3cgdGhlIHRvdGFsIGF2YWlsYWJsZSBjb3VudFxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHVwZGF0ZWQgaW4gcHJvY2Vzc0NvbnZlcnNhdGlvbnNcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICBwaGFzZTogJ3ZhbGlkYXRpb24nLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVmFsaWRhdGluZyBmaWxlLi4uJyxcbiAgICAgICAgICAgICAgICBkZXRhaWw6ICdDaGVja2luZyBmaWxlIGhhc2ggYW5kIGltcG9ydCBoaXN0b3J5J1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGVIYXNoID0gYXdhaXQgZ2V0RmlsZUhhc2goZmlsZSk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgaW1wb3J0ZWQgKGh5YnJpZCBkZXRlY3Rpb24gZm9yIDEuMC54IFx1MjE5MiAxLjEuMCBjb21wYXRpYmlsaXR5KVxuICAgICAgICAgICAgY29uc3QgZm91bmRCeUhhc2ggPSBzdG9yYWdlLmlzQXJjaGl2ZUltcG9ydGVkKGZpbGVIYXNoKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kQnlOYW1lID0gc3RvcmFnZS5pc0FyY2hpdmVJbXBvcnRlZChmaWxlLm5hbWUpO1xuICAgICAgICAgICAgY29uc3QgaXNSZXByb2Nlc3MgPSBmb3VuZEJ5SGFzaCB8fCBmb3VuZEJ5TmFtZTtcblxuICAgICAgICAgICAgaWYgKGlzUmVwcm9jZXNzKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbC5jbG9zZSgpOyAvLyBDbG9zZSBwcm9ncmVzcyBtb2RhbCBmb3IgdXNlciBkaWFsb2dcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlaW1wb3J0ID0gYXdhaXQgc2hvd0RpYWxvZyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxuICAgICAgICAgICAgICAgICAgICBcImNvbmZpcm1hdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBcIkFscmVhZHkgcHJvY2Vzc2VkXCIsXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBGaWxlICR7ZmlsZS5uYW1lfSBoYXMgYWxyZWFkeSBiZWVuIGltcG9ydGVkLmAsXG4gICAgICAgICAgICAgICAgICAgICAgICBgRG8geW91IHdhbnQgdG8gcmVwcm9jZXNzIGl0P2AsXG4gICAgICAgICAgICAgICAgICAgICAgICBgKipOb3RlOioqIFRoaXMgd2lsbCByZWNyZWF0ZSBub3RlcyBmcm9tIGJlZm9yZSB2MS4xLjAgdG8gYWRkIGF0dGFjaG1lbnQgc3VwcG9ydC5gXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgeyBidXR0b24xOiBcIkxldCdzIGRvIHRoaXNcIiwgYnV0dG9uMjogXCJGb3JnZXQgaXRcIiB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmICghc2hvdWxkUmVpbXBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIkltcG9ydCBjYW5jZWxsZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmVvcGVuIHByb2dyZXNzIG1vZGFsIGZvciBjb250aW51ZWQgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwub3BlbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICBwaGFzZTogJ3ZhbGlkYXRpb24nLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVmFsaWRhdGluZyBaSVAgc3RydWN0dXJlLi4uJyxcbiAgICAgICAgICAgICAgICBkZXRhaWw6ICdDaGVja2luZyBmaWxlIGZvcm1hdCBhbmQgY29udGVudHMnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgemlwID0gYXdhaXQgdGhpcy52YWxpZGF0ZVppcEZpbGUoZmlsZSwgZm9yY2VkUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NDb252ZXJzYXRpb25zKHppcCwgZmlsZSwgaXNSZXByb2Nlc3MsIGZvcmNlZFByb3ZpZGVyLCBwcm9ncmVzc0NhbGxiYWNrLCBzZWxlY3RlZENvbnZlcnNhdGlvbklkcywgcHJvZ3Jlc3NNb2RhbCk7XG5cbiAgICAgICAgICAgIHN0b3JhZ2UuYWRkSW1wb3J0ZWRBcmNoaXZlKGZpbGVIYXNoLCBmaWxlLm5hbWUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIHBoYXNlOiAnY29tcGxldGUnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnSW1wb3J0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhJyxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IGBQcm9jZXNzZWQgJHt0aGlzLmNvbnZlcnNhdGlvblByb2Nlc3Nvci5nZXRDb3VudGVycygpLnRvdGFsTmV3Q29udmVyc2F0aW9uc1RvSW1wb3J0ICsgdGhpcy5jb252ZXJzYXRpb25Qcm9jZXNzb3IuZ2V0Q291bnRlcnMoKS50b3RhbEV4aXN0aW5nQ29udmVyc2F0aW9uc1RvVXBkYXRlfSBjb252ZXJzYXRpb25zYFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvclxuICAgICAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgIDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgIDogXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkXCI7XG5cbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihcIkVycm9yIGhhbmRsaW5nIHppcCBmaWxlXCIsIHsgbWVzc2FnZSB9KTtcblxuICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgcGhhc2U6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdJbXBvcnQgZmFpbGVkJyxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IG1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBLZWVwIG1vZGFsIG9wZW4gZm9yIGVycm9yIHN0YXRlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHByb2dyZXNzTW9kYWwuY2xvc2UoKSwgNTAwMCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLndyaXRlSW1wb3J0UmVwb3J0KGZpbGUubmFtZSk7XG5cbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyBub3RpY2UgaWYgbW9kYWwgd2FzIGNsb3NlZCBkdWUgdG8gZXJyb3Igb3IgY29tcGxldGlvblxuICAgICAgICAgICAgaWYgKCFwcm9ncmVzc01vZGFsLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFJlcG9ydC5oYXNFcnJvcnMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBpbXBvcnQuIFBsZWFzZSBjaGVjayB0aGUgbG9nIGZpbGUgZm9yIGRldGFpbHMuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJJbXBvcnQgY29tcGxldGVkLiBMb2cgZmlsZSBjcmVhdGVkIGluIHRoZSBhcmNoaXZlIGZvbGRlci5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHZhbGlkYXRlWmlwRmlsZShmaWxlOiBGaWxlLCBmb3JjZWRQcm92aWRlcj86IHN0cmluZyk6IFByb21pc2U8SlNaaXA+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHppcC5sb2FkQXN5bmMoZmlsZSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlTmFtZXMgPSBPYmplY3Qua2V5cyhjb250ZW50LmZpbGVzKTtcblxuICAgICAgICAgICAgLy8gSWYgcHJvdmlkZXIgaXMgZm9yY2VkLCBza2lwIGZvcm1hdCB2YWxpZGF0aW9uXG4gICAgICAgICAgICBpZiAoZm9yY2VkUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uOiBtdXN0IGhhdmUgY29udmVyc2F0aW9ucy5qc29uXG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlTmFtZXMuaW5jbHVkZXMoXCJjb252ZXJzYXRpb25zLmpzb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSW52YWxpZCBaSVAgc3RydWN0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBgTWlzc2luZyByZXF1aXJlZCBmaWxlOiBjb252ZXJzYXRpb25zLmpzb24gZm9yICR7Zm9yY2VkUHJvdmlkZXJ9IHByb3ZpZGVyLmBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEF1dG8tZGV0ZWN0aW9uIG1vZGUgKGxlZ2FjeSBiZWhhdmlvcilcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDb252ZXJzYXRpb25zSnNvbiA9IGZpbGVOYW1lcy5pbmNsdWRlcyhcImNvbnZlcnNhdGlvbnMuanNvblwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNVc2Vyc0pzb24gPSBmaWxlTmFtZXMuaW5jbHVkZXMoXCJ1c2Vycy5qc29uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1Byb2plY3RzSnNvbiA9IGZpbGVOYW1lcy5pbmNsdWRlcyhcInByb2plY3RzLmpzb25cIik7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGF0R1BUIGZvcm1hdDogY29udmVyc2F0aW9ucy5qc29uIG9ubHlcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NoYXRHUFRGb3JtYXQgPSBoYXNDb252ZXJzYXRpb25zSnNvbiAmJiAhaGFzVXNlcnNKc29uICYmICFoYXNQcm9qZWN0c0pzb247XG5cbiAgICAgICAgICAgICAgICAvLyBDbGF1ZGUgZm9ybWF0OiBjb252ZXJzYXRpb25zLmpzb24gKyB1c2Vycy5qc29uIChwcm9qZWN0cy5qc29uIG9wdGlvbmFsIGZvciBsZWdhY3kpXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDbGF1ZGVGb3JtYXQgPSBoYXNDb252ZXJzYXRpb25zSnNvbiAmJiBoYXNVc2Vyc0pzb247XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzQ2hhdEdQVEZvcm1hdCAmJiAhaXNDbGF1ZGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSW52YWxpZCBaSVAgc3RydWN0dXJlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRoaXMgWklQIGZpbGUgZG9lc24ndCBtYXRjaCBhbnkgc3VwcG9ydGVkIGNoYXQgZXhwb3J0IGZvcm1hdC4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBlaXRoZXIgQ2hhdEdQVCBmb3JtYXQgKGNvbnZlcnNhdGlvbnMuanNvbikgb3IgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJDbGF1ZGUgZm9ybWF0IChjb252ZXJzYXRpb25zLmpzb24gKyB1c2Vycy5qc29uKS5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHppcDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOZXh1c0FpQ2hhdEltcG9ydGVyRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXJyb3IgdmFsaWRhdGluZyB6aXAgZmlsZVwiLFxuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0NvbnZlcnNhdGlvbnMoemlwOiBKU1ppcCwgZmlsZTogRmlsZSwgaXNSZXByb2Nlc3M6IGJvb2xlYW4sIGZvcmNlZFByb3ZpZGVyPzogc3RyaW5nLCBwcm9ncmVzc0NhbGxiYWNrPzogSW1wb3J0UHJvZ3Jlc3NDYWxsYmFjaywgc2VsZWN0ZWRDb252ZXJzYXRpb25JZHM/OiBzdHJpbmdbXSwgcHJvZ3Jlc3NNb2RhbD86IEltcG9ydFByb2dyZXNzTW9kYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2s/Lih7XG4gICAgICAgICAgICAgICAgcGhhc2U6ICdzY2FubmluZycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdFeHRyYWN0aW5nIGNvbnZlcnNhdGlvbnMuLi4nLFxuICAgICAgICAgICAgICAgIGRldGFpbDogJ1JlYWRpbmcgY29udmVyc2F0aW9uIGRhdGEgZnJvbSBaSVAgZmlsZSdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBFeHRyYWN0IHJhdyBjb252ZXJzYXRpb24gZGF0YSAocHJvdmlkZXIgYWdub3N0aWMpXG4gICAgICAgICAgICBsZXQgcmF3Q29udmVyc2F0aW9ucyA9IGF3YWl0IHRoaXMuZXh0cmFjdFJhd0NvbnZlcnNhdGlvbnNGcm9tWmlwKHppcCk7XG5cbiAgICAgICAgICAgIC8vIEZpbHRlciBjb252ZXJzYXRpb25zIGlmIHNwZWNpZmljIElEcyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZENvbnZlcnNhdGlvbklkcyAmJiBzZWxlY3RlZENvbnZlcnNhdGlvbklkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxDb3VudCA9IHJhd0NvbnZlcnNhdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJhd0NvbnZlcnNhdGlvbnMgPSB0aGlzLmZpbHRlckNvbnZlcnNhdGlvbnNCeUlkcyhyYXdDb252ZXJzYXRpb25zLCBzZWxlY3RlZENvbnZlcnNhdGlvbklkcywgZm9yY2VkUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHNlbGVjdGl2ZSBpbXBvcnQgbW9kZSBpbiBwcm9ncmVzcyBtb2RhbFxuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzc01vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwuc2V0U2VsZWN0aXZlSW1wb3J0TW9kZShyYXdDb252ZXJzYXRpb25zLmxlbmd0aCwgb3JpZ2luYWxDb3VudCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjaz8uKHtcbiAgICAgICAgICAgICAgICAgICAgcGhhc2U6ICdzY2FubmluZycsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRmlsdGVyaW5nIGNvbnZlcnNhdGlvbnMuLi4nLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGBTZWxlY3RlZCAke3Jhd0NvbnZlcnNhdGlvbnMubGVuZ3RofSBvZiAke29yaWdpbmFsQ291bnR9IGNvbnZlcnNhdGlvbnMgZm9yIGltcG9ydGAsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiByYXdDb252ZXJzYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrPy4oe1xuICAgICAgICAgICAgICAgIHBoYXNlOiAnc2Nhbm5pbmcnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnU2Nhbm5pbmcgZXhpc3RpbmcgY29udmVyc2F0aW9ucy4uLicsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiAnQ2hlY2tpbmcgdmF1bHQgZm9yIGV4aXN0aW5nIGNvbnZlcnNhdGlvbnMnLFxuICAgICAgICAgICAgICAgIHRvdGFsOiByYXdDb252ZXJzYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHByb3ZpZGVyIGlmIGZvcmNlZFxuICAgICAgICAgICAgaWYgKGZvcmNlZFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3ZpZGVyTWF0Y2gocmF3Q29udmVyc2F0aW9ucywgZm9yY2VkUHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrPy4oe1xuICAgICAgICAgICAgICAgIHBoYXNlOiAncHJvY2Vzc2luZycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdQcm9jZXNzaW5nIGNvbnZlcnNhdGlvbnMuLi4nLFxuICAgICAgICAgICAgICAgIGRldGFpbDogJ0NvbnZlcnRpbmcgYW5kIGltcG9ydGluZyBjb252ZXJzYXRpb25zJyxcbiAgICAgICAgICAgICAgICBjdXJyZW50OiAwLFxuICAgICAgICAgICAgICAgIHRvdGFsOiByYXdDb252ZXJzYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhyb3VnaCBjb252ZXJzYXRpb24gcHJvY2Vzc29yIChoYW5kbGVzIHByb3ZpZGVyIGRldGVjdGlvbi9jb252ZXJzaW9uKVxuICAgICAgICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgdGhpcy5jb252ZXJzYXRpb25Qcm9jZXNzb3IucHJvY2Vzc1Jhd0NvbnZlcnNhdGlvbnMoXG4gICAgICAgICAgICAgICAgcmF3Q29udmVyc2F0aW9ucyxcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFJlcG9ydCxcbiAgICAgICAgICAgICAgICB6aXAsXG4gICAgICAgICAgICAgICAgaXNSZXByb2Nlc3MsXG4gICAgICAgICAgICAgICAgZm9yY2VkUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5pbXBvcnRSZXBvcnQgPSByZXBvcnQ7XG4gICAgICAgICAgICB0aGlzLmltcG9ydFJlcG9ydC5hZGRTdW1tYXJ5KFxuICAgICAgICAgICAgICAgIGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvblByb2Nlc3Nvci5nZXRDb3VudGVycygpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrPy4oe1xuICAgICAgICAgICAgICAgIHBoYXNlOiAnd3JpdGluZycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdGaW5hbGl6aW5nIGltcG9ydC4uLicsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiAnU2F2aW5nIHNldHRpbmdzIGFuZCBnZW5lcmF0aW5nIHJlcG9ydCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjb252ZXJzYXRpb25zXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJHZW5lcmFsIGVycm9yIHByb2Nlc3NpbmcgY29udmVyc2F0aW9uc1wiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiVW5rbm93biBlcnJvciBwcm9jZXNzaW5nIGNvbnZlcnNhdGlvbnNcIiwgXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCByYXcgY29udmVyc2F0aW9uIGRhdGEgd2l0aG91dCBrbm93aW5nIHByb3ZpZGVyIHNwZWNpZmljc1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXh0cmFjdFJhd0NvbnZlcnNhdGlvbnNGcm9tWmlwKHppcDogSlNaaXApOiBQcm9taXNlPGFueVtdPiB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbnNGaWxlID0gemlwLmZpbGUoXCJjb252ZXJzYXRpb25zLmpzb25cIik7XG4gICAgICAgIGlmICghY29udmVyc2F0aW9uc0ZpbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOZXh1c0FpQ2hhdEltcG9ydGVyRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJNaXNzaW5nIGNvbnZlcnNhdGlvbnMuanNvblwiLFxuICAgICAgICAgICAgICAgIFwiVGhlIFpJUCBmaWxlIGRvZXMgbm90IGNvbnRhaW4gYSBjb252ZXJzYXRpb25zLmpzb24gZmlsZVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0pzb24gPSBhd2FpdCBjb252ZXJzYXRpb25zRmlsZS5hc3luYyhcInN0cmluZ1wiKTtcbiAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoY29udmVyc2F0aW9uc0pzb24pO1xuXG4gICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgZGF0YSBzdHJ1Y3R1cmVzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZERhdGEpKSB7XG4gICAgICAgICAgICAvLyBEaXJlY3QgYXJyYXkgb2YgY29udmVyc2F0aW9ucyAoQ2hhdEdQVCBmb3JtYXQpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkRGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJzZWREYXRhLmNvbnZlcnNhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShwYXJzZWREYXRhLmNvbnZlcnNhdGlvbnMpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWQgc3RydWN0dXJlIChDbGF1ZGUgZm9ybWF0KVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZERhdGEuY29udmVyc2F0aW9ucztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOZXh1c0FpQ2hhdEltcG9ydGVyRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIGNvbnZlcnNhdGlvbnMuanNvbiBzdHJ1Y3R1cmVcIixcbiAgICAgICAgICAgICAgICBcIlRoZSBjb252ZXJzYXRpb25zLmpzb24gZmlsZSBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgY29udmVyc2F0aW9uIGFycmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgY29udmVyc2F0aW9ucyBieSBzZWxlY3RlZCBJRHNcbiAgICAgKi9cbiAgICBwcml2YXRlIGZpbHRlckNvbnZlcnNhdGlvbnNCeUlkcyhyYXdDb252ZXJzYXRpb25zOiBhbnlbXSwgc2VsZWN0ZWRJZHM6IHN0cmluZ1tdLCBmb3JjZWRQcm92aWRlcj86IHN0cmluZyk6IGFueVtdIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJZHNTZXQgPSBuZXcgU2V0KHNlbGVjdGVkSWRzKTtcblxuICAgICAgICByZXR1cm4gcmF3Q29udmVyc2F0aW9ucy5maWx0ZXIoY29udmVyc2F0aW9uID0+IHtcbiAgICAgICAgICAgIGxldCBjb252ZXJzYXRpb25JZDogc3RyaW5nO1xuXG4gICAgICAgICAgICAvLyBHZXQgY29udmVyc2F0aW9uIElEIGJhc2VkIG9uIHByb3ZpZGVyIGZvcm1hdFxuICAgICAgICAgICAgaWYgKGZvcmNlZFByb3ZpZGVyID09PSAnY2xhdWRlJyB8fCAoY29udmVyc2F0aW9uLnV1aWQgJiYgY29udmVyc2F0aW9uLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xhdWRlIGZvcm1hdFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uLnV1aWQgfHwgXCJcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hhdEdQVCBmb3JtYXQgKGRlZmF1bHQpXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQgPSBjb252ZXJzYXRpb24uaWQgfHwgXCJcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkSWRzU2V0Lmhhcyhjb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIHRoYXQgdGhlIGZvcmNlZCBwcm92aWRlciBtYXRjaGVzIHRoZSBhY3R1YWwgY29udGVudCBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBwcml2YXRlIHZhbGlkYXRlUHJvdmlkZXJNYXRjaChyYXdDb252ZXJzYXRpb25zOiBhbnlbXSwgZm9yY2VkUHJvdmlkZXI6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAocmF3Q29udmVyc2F0aW9ucy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBjb25zdCBmaXJzdENvbnZlcnNhdGlvbiA9IHJhd0NvbnZlcnNhdGlvbnNbMF07XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIENoYXRHUFQgc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IGlzQ2hhdEdQVCA9IGZpcnN0Q29udmVyc2F0aW9uLm1hcHBpbmcgIT09IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBDaGVjayBmb3IgQ2xhdWRlIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCBpc0NsYXVkZSA9IGZpcnN0Q29udmVyc2F0aW9uLmNoYXRfbWVzc2FnZXMgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb252ZXJzYXRpb24ubmFtZSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENvbnZlcnNhdGlvbi5zdW1tYXJ5ICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGZvcmNlZFByb3ZpZGVyID09PSAnY2hhdGdwdCcgJiYgIWlzQ2hhdEdQVCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvcihcbiAgICAgICAgICAgICAgICBcIlByb3ZpZGVyIE1pc21hdGNoXCIsXG4gICAgICAgICAgICAgICAgXCJZb3Ugc2VsZWN0ZWQgQ2hhdEdQVCBidXQgdGhpcyBhcmNoaXZlIGFwcGVhcnMgdG8gYmUgZnJvbSBDbGF1ZGUuIFRoZSBzdHJ1Y3R1cmUgZG9lc24ndCBtYXRjaCBDaGF0R1BUIGV4cG9ydHMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9yY2VkUHJvdmlkZXIgPT09ICdjbGF1ZGUnICYmICFpc0NsYXVkZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvcihcbiAgICAgICAgICAgICAgICBcIlByb3ZpZGVyIE1pc21hdGNoXCIsXG4gICAgICAgICAgICAgICAgXCJZb3Ugc2VsZWN0ZWQgQ2xhdWRlIGJ1dCB0aGlzIGFyY2hpdmUgYXBwZWFycyB0byBiZSBmcm9tIENoYXRHUFQuIFRoZSBzdHJ1Y3R1cmUgZG9lc24ndCBtYXRjaCBDbGF1ZGUgZXhwb3J0cy5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgd3JpdGVJbXBvcnRSZXBvcnQoemlwRmlsZU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCByZXBvcnRXcml0ZXIgPSBuZXcgUmVwb3J0V3JpdGVyKHRoaXMucGx1Z2luLCB0aGlzLnByb3ZpZGVyUmVnaXN0cnkpO1xuICAgICAgICBjb25zdCBjdXJyZW50UHJvdmlkZXIgPSB0aGlzLmNvbnZlcnNhdGlvblByb2Nlc3Nvci5nZXRDdXJyZW50UHJvdmlkZXIoKTtcbiAgICAgICAgYXdhaXQgcmVwb3J0V3JpdGVyLndyaXRlUmVwb3J0KHRoaXMuaW1wb3J0UmVwb3J0LCB6aXBGaWxlTmFtZSwgY3VycmVudFByb3ZpZGVyKTtcbiAgICB9XG59XG5cbmNsYXNzIFJlcG9ydFdyaXRlciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4sIHByaXZhdGUgcHJvdmlkZXJSZWdpc3RyeTogUHJvdmlkZXJSZWdpc3RyeSkge31cblxuICAgIGFzeW5jIHdyaXRlUmVwb3J0KHJlcG9ydDogSW1wb3J0UmVwb3J0LCB6aXBGaWxlTmFtZTogc3RyaW5nLCBwcm92aWRlcjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHsgZW5zdXJlRm9sZGVyRXhpc3RzLCBmb3JtYXRUaW1lc3RhbXAgfSA9IGF3YWl0IGltcG9ydChcIi4uL3V0aWxzXCIpO1xuXG4gICAgICAgIC8vIEdldCBwcm92aWRlci1zcGVjaWZpYyBuYW1pbmcgc3RyYXRlZ3kgYW5kIHNldCBjb2x1bW4gaGVhZGVyXG4gICAgICAgIGNvbnN0IHJlcG9ydEluZm8gPSB0aGlzLmdldFJlcG9ydEdlbmVyYXRpb25JbmZvKHppcEZpbGVOYW1lLCBwcm92aWRlcik7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnByb3ZpZGVyUmVnaXN0cnkuZ2V0QWRhcHRlcihwcm92aWRlcik7XG4gICAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJhdGVneSA9IGFkYXB0ZXIuZ2V0UmVwb3J0TmFtaW5nU3RyYXRlZ3koKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbkluZm8gPSBzdHJhdGVneS5nZXRQcm92aWRlclNwZWNpZmljQ29sdW1uKCk7XG4gICAgICAgICAgICByZXBvcnQuc2V0UHJvdmlkZXJTcGVjaWZpY0NvbHVtbkhlYWRlcihjb2x1bW5JbmZvLmhlYWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgcHJvdmlkZXIgc3ViZm9sZGVyIGV4aXN0c1xuICAgICAgICBjb25zdCBmb2xkZXJSZXN1bHQgPSBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMocmVwb3J0SW5mby5mb2xkZXJQYXRoLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgb3IgYWNjZXNzIGxvZyBmb2xkZXI6ICR7cmVwb3J0SW5mby5mb2xkZXJQYXRofWAsIGZvbGRlclJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGNyZWF0ZSBsb2cgZmlsZS4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgZmlsZW5hbWUgd2l0aCBjb3VudGVyIGlmIG5lZWRlZFxuICAgICAgICBsZXQgbG9nRmlsZVBhdGggPSBgJHtyZXBvcnRJbmZvLmZvbGRlclBhdGh9LyR7cmVwb3J0SW5mby5iYXNlRmlsZU5hbWV9YDtcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAyO1xuICAgICAgICB3aGlsZSAoYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKGxvZ0ZpbGVQYXRoKSkge1xuICAgICAgICAgICAgY29uc3QgYmFzZU5hbWUgPSByZXBvcnRJbmZvLmJhc2VGaWxlTmFtZS5yZXBsYWNlKCcgLSBpbXBvcnQgcmVwb3J0Lm1kJywgJycpO1xuICAgICAgICAgICAgbG9nRmlsZVBhdGggPSBgJHtyZXBvcnRJbmZvLmZvbGRlclBhdGh9LyR7YmFzZU5hbWV9LSR7Y291bnRlcn0gLSBpbXBvcnQgcmVwb3J0Lm1kYDtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuaGFuY2VkIGZyb250bWF0dGVyIHdpdGggYm90aCBkYXRlc1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGAke2Zvcm1hdFRpbWVzdGFtcChEYXRlLm5vdygpIC8gMTAwMCwgXCJkYXRlXCIpfSAke2Zvcm1hdFRpbWVzdGFtcChEYXRlLm5vdygpIC8gMTAwMCwgXCJ0aW1lXCIpfWA7XG4gICAgICAgIGNvbnN0IGFyY2hpdmVEYXRlID0gdGhpcy5leHRyYWN0QXJjaGl2ZURhdGVGcm9tRmlsZW5hbWUoemlwRmlsZU5hbWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbG9nQ29udGVudCA9IGAtLS1cbmltcG9ydGRhdGU6ICR7Y3VycmVudERhdGV9XG5hcmNoaXZlZGF0ZTogJHthcmNoaXZlRGF0ZX1cbnppcEZpbGU6ICR7emlwRmlsZU5hbWV9XG5wcm92aWRlcjogJHtwcm92aWRlcn1cbnRvdGFsU3VjY2Vzc2Z1bEltcG9ydHM6ICR7cmVwb3J0LmdldENyZWF0ZWRDb3VudCgpfVxudG90YWxVcGRhdGVkSW1wb3J0czogJHtyZXBvcnQuZ2V0VXBkYXRlZENvdW50KCl9XG50b3RhbFNraXBwZWRJbXBvcnRzOiAke3JlcG9ydC5nZXRTa2lwcGVkQ291bnQoKX1cbi0tLVxuXG4ke3JlcG9ydC5nZW5lcmF0ZVJlcG9ydENvbnRlbnQoKX1cbmA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUobG9nRmlsZVBhdGgsIGxvZ0NvbnRlbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byB3cml0ZSBpbXBvcnQgbG9nYCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiRmFpbGVkIHRvIGNyZWF0ZSBsb2cgZmlsZS4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFJlcG9ydEdlbmVyYXRpb25JbmZvKHppcEZpbGVOYW1lOiBzdHJpbmcsIHByb3ZpZGVyOiBzdHJpbmcpOiB7IGZvbGRlclBhdGg6IHN0cmluZywgYmFzZUZpbGVOYW1lOiBzdHJpbmcgfSB7XG4gICAgICAgIGNvbnN0IHJlcG9ydEZvbGRlciA9IHRoaXMucGx1Z2luLnNldHRpbmdzLnJlcG9ydEZvbGRlcjtcblxuICAgICAgICAvLyBUcnkgdG8gZ2V0IHByb3ZpZGVyLXNwZWNpZmljIG5hbWluZyBzdHJhdGVneVxuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5wcm92aWRlclJlZ2lzdHJ5LmdldEFkYXB0ZXIocHJvdmlkZXIpO1xuICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBhZGFwdGVyLmdldFJlcG9ydE5hbWluZ1N0cmF0ZWd5KCk7XG4gICAgICAgICAgICBjb25zdCByZXBvcnRQcmVmaXggPSBzdHJhdGVneS5leHRyYWN0UmVwb3J0UHJlZml4KHppcEZpbGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9sZGVyUGF0aDogYCR7cmVwb3J0Rm9sZGVyfS8ke3N0cmF0ZWd5LmdldFByb3ZpZGVyTmFtZSgpfWAsXG4gICAgICAgICAgICAgICAgYmFzZUZpbGVOYW1lOiBgJHtyZXBvcnRQcmVmaXh9IC0gaW1wb3J0IHJlcG9ydC5tZGBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjayBmb3IgdW5rbm93biBwcm92aWRlcnNcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgaW1wb3J0RGF0ZSA9IGAke25vdy5nZXRGdWxsWWVhcigpfS4ke1N0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyl9LiR7U3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICAgICAgY29uc3QgYXJjaGl2ZURhdGUgPSB0aGlzLmV4dHJhY3RBcmNoaXZlRGF0ZUZyb21GaWxlbmFtZSh6aXBGaWxlTmFtZSk7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrUHJlZml4ID0gYGltcG9ydGVkLSR7aW1wb3J0RGF0ZX0tYXJjaGl2ZS0ke2FyY2hpdmVEYXRlfWA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb2xkZXJQYXRoOiBgJHtyZXBvcnRGb2xkZXJ9YCxcbiAgICAgICAgICAgIGJhc2VGaWxlTmFtZTogYCR7ZmFsbGJhY2tQcmVmaXh9IC0gaW1wb3J0IHJlcG9ydC5tZGBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV4dHJhY3RBcmNoaXZlRGF0ZUZyb21GaWxlbmFtZSh6aXBGaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0ZVJlZ2V4ID0gLyhcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pLztcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB6aXBGaWxlTmFtZS5tYXRjaChkYXRlUmVnZXgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBjb25zdCBbLCB5ZWFyLCBtb250aCwgZGF5XSA9IG1hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIGAke3llYXJ9LiR7bW9udGh9LiR7ZGF5fWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZhbGxiYWNrOiB1c2UgY3VycmVudCBkYXRlXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBgJHtub3cuZ2V0RnVsbFllYXIoKX0uJHtTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpfS4ke1N0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gICAgfVxufSIsICIvLyBzcmMvbW9kZWxzL2ltcG9ydC1yZXBvcnQudHNcbmltcG9ydCB7IEF0dGFjaG1lbnRTdGF0cyB9IGZyb20gXCIuLi90eXBlcy9wbHVnaW5cIjtcblxuaW50ZXJmYWNlIFJlcG9ydEVudHJ5IHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGZpbGVQYXRoOiBzdHJpbmc7XG4gICAgY3JlYXRlRGF0ZTogc3RyaW5nO1xuICAgIHVwZGF0ZURhdGU6IHN0cmluZztcbiAgICBtZXNzYWdlQ291bnQ/OiBudW1iZXI7XG4gICAgbmV3TWVzc2FnZUNvdW50PzogbnVtYmVyOyAvLyBGb3IgdXBkYXRlc1xuICAgIHByb3ZpZGVyU3BlY2lmaWNDb3VudD86IG51bWJlcjsgLy8gRm9yIHByb3ZpZGVyLXNwZWNpZmljIGNvbHVtbiAoYXJ0aWZhY3RzLCBhdHRhY2htZW50cywgZXRjLilcbiAgICByZWFzb24/OiBzdHJpbmc7XG4gICAgZXJyb3JNZXNzYWdlPzogc3RyaW5nO1xuICAgIGF0dGFjaG1lbnRTdGF0cz86IEF0dGFjaG1lbnRTdGF0cztcbn1cblxuaW50ZXJmYWNlIFByb2Nlc3NpbmdDb3VudGVycyB7XG4gICAgdG90YWxDb252ZXJzYXRpb25zUHJvY2Vzc2VkOiBudW1iZXI7XG4gICAgdG90YWxOZXdDb252ZXJzYXRpb25zU3VjY2Vzc2Z1bGx5SW1wb3J0ZWQ6IG51bWJlcjtcbiAgICB0b3RhbENvbnZlcnNhdGlvbnNBY3R1YWxseVVwZGF0ZWQ6IG51bWJlcjtcbiAgICB0b3RhbE5vbkVtcHR5TWVzc2FnZXNBZGRlZDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgSW1wb3J0UmVwb3J0IHtcbiAgICBwcml2YXRlIGNyZWF0ZWQ6IFJlcG9ydEVudHJ5W10gPSBbXTtcbiAgICBwcml2YXRlIHVwZGF0ZWQ6IFJlcG9ydEVudHJ5W10gPSBbXTtcbiAgICBwcml2YXRlIHNraXBwZWQ6IFJlcG9ydEVudHJ5W10gPSBbXTtcbiAgICBwcml2YXRlIGZhaWxlZDogUmVwb3J0RW50cnlbXSA9IFtdO1xuICAgIHByaXZhdGUgZ2xvYmFsRXJyb3JzOiB7IG1lc3NhZ2U6IHN0cmluZzsgZGV0YWlsczogc3RyaW5nIH1bXSA9IFtdO1xuICAgIHByaXZhdGUgc3VtbWFyeTogc3RyaW5nID0gXCJcIjtcbiAgICBwcml2YXRlIHByb3ZpZGVyU3BlY2lmaWNDb2x1bW5IZWFkZXI6IHN0cmluZyA9IFwiQXR0YWNobWVudHNcIjtcblxuICAgIHNldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW5IZWFkZXIoaGVhZGVyOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5wcm92aWRlclNwZWNpZmljQ29sdW1uSGVhZGVyID0gaGVhZGVyO1xuICAgIH1cblxuICAgIGFkZFN1bW1hcnkoemlwRmlsZU5hbWU6IHN0cmluZywgY291bnRlcnM6IFByb2Nlc3NpbmdDb3VudGVycykge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdG90YWwgYXR0YWNobWVudCBzdGF0c1xuICAgICAgICBjb25zdCB0b3RhbEF0dGFjaG1lbnRzID0gdGhpcy5nZXRUb3RhbEF0dGFjaG1lbnRTdGF0cygpO1xuICAgICAgICBjb25zdCBhdHRhY2htZW50U3VtbWFyeSA9IHRvdGFsQXR0YWNobWVudHMudG90YWwgPiAwIFxuICAgICAgICAgICAgPyBgXFxuLSAqKkF0dGFjaG1lbnRzKio6ICR7dG90YWxBdHRhY2htZW50cy5mb3VuZH0vJHt0b3RhbEF0dGFjaG1lbnRzLnRvdGFsfSBleHRyYWN0ZWQgKCR7dG90YWxBdHRhY2htZW50cy5taXNzaW5nfSBtaXNzaW5nLCAke3RvdGFsQXR0YWNobWVudHMuZmFpbGVkfSBmYWlsZWQpYFxuICAgICAgICAgICAgOiBcIlwiO1xuXG4gICAgICAgIHRoaXMuc3VtbWFyeSA9IGAjIyBTdW1tYXJ5XG4tICoqWklQIEZpbGUqKjogJHt6aXBGaWxlTmFtZX1cbi0gKipDcmVhdGVkKio6ICR7dGhpcy5jcmVhdGVkLmxlbmd0aH0gbmV3IGNvbnZlcnNhdGlvbnNcbi0gKipVcGRhdGVkKio6ICR7dGhpcy51cGRhdGVkLmxlbmd0aH0gY29udmVyc2F0aW9ucyB3aXRoICR7Y291bnRlcnMudG90YWxOb25FbXB0eU1lc3NhZ2VzQWRkZWR9IG5ldyBtZXNzYWdlc1xuLSAqKlNraXBwZWQqKjogJHt0aGlzLnNraXBwZWQubGVuZ3RofSBjb252ZXJzYXRpb25zIChubyBjaGFuZ2VzKVxuLSAqKkZhaWxlZCoqOiAke3RoaXMuZmFpbGVkLmxlbmd0aH0gY29udmVyc2F0aW9uc1xuLSAqKkVycm9ycyoqOiAke3RoaXMuZ2xvYmFsRXJyb3JzLmxlbmd0aH0gZ2xvYmFsIGVycm9ycyR7YXR0YWNobWVudFN1bW1hcnl9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRvdGFsQXR0YWNobWVudFN0YXRzKCk6IEF0dGFjaG1lbnRTdGF0cyB7XG4gICAgICAgIGNvbnN0IHRvdGFsID0geyB0b3RhbDogMCwgZm91bmQ6IDAsIG1pc3Npbmc6IDAsIGZhaWxlZDogMCB9O1xuICAgICAgICBbLi4udGhpcy5jcmVhdGVkLCAuLi50aGlzLnVwZGF0ZWRdLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmF0dGFjaG1lbnRTdGF0cykge1xuICAgICAgICAgICAgICAgIHRvdGFsLnRvdGFsICs9IGVudHJ5LmF0dGFjaG1lbnRTdGF0cy50b3RhbDtcbiAgICAgICAgICAgICAgICB0b3RhbC5mb3VuZCArPSBlbnRyeS5hdHRhY2htZW50U3RhdHMuZm91bmQ7XG4gICAgICAgICAgICAgICAgdG90YWwubWlzc2luZyArPSBlbnRyeS5hdHRhY2htZW50U3RhdHMubWlzc2luZztcbiAgICAgICAgICAgICAgICB0b3RhbC5mYWlsZWQgKz0gZW50cnkuYXR0YWNobWVudFN0YXRzLmZhaWxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9XG5cbiAgICBhZGRDcmVhdGVkKHRpdGxlOiBzdHJpbmcsIGZpbGVQYXRoOiBzdHJpbmcsIGNyZWF0ZURhdGU6IHN0cmluZywgdXBkYXRlRGF0ZTogc3RyaW5nLCBtZXNzYWdlQ291bnQ6IG51bWJlciwgYXR0YWNobWVudFN0YXRzPzogQXR0YWNobWVudFN0YXRzLCBwcm92aWRlclNwZWNpZmljQ291bnQ/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVkLnB1c2goeyB0aXRsZSwgZmlsZVBhdGgsIGNyZWF0ZURhdGUsIHVwZGF0ZURhdGUsIG1lc3NhZ2VDb3VudCwgYXR0YWNobWVudFN0YXRzLCBwcm92aWRlclNwZWNpZmljQ291bnQgfSk7XG4gICAgfVxuXG4gICAgYWRkVXBkYXRlZCh0aXRsZTogc3RyaW5nLCBmaWxlUGF0aDogc3RyaW5nLCBjcmVhdGVEYXRlOiBzdHJpbmcsIHVwZGF0ZURhdGU6IHN0cmluZywgbmV3TWVzc2FnZUNvdW50OiBudW1iZXIsIGF0dGFjaG1lbnRTdGF0cz86IEF0dGFjaG1lbnRTdGF0cywgcHJvdmlkZXJTcGVjaWZpY0NvdW50PzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudXBkYXRlZC5wdXNoKHsgdGl0bGUsIGZpbGVQYXRoLCBjcmVhdGVEYXRlLCB1cGRhdGVEYXRlLCBuZXdNZXNzYWdlQ291bnQsIGF0dGFjaG1lbnRTdGF0cywgcHJvdmlkZXJTcGVjaWZpY0NvdW50IH0pO1xuICAgIH1cblxuICAgIGFkZFNraXBwZWQodGl0bGU6IHN0cmluZywgZmlsZVBhdGg6IHN0cmluZywgY3JlYXRlRGF0ZTogc3RyaW5nLCB1cGRhdGVEYXRlOiBzdHJpbmcsIG1lc3NhZ2VDb3VudDogbnVtYmVyLCByZWFzb246IHN0cmluZywgYXR0YWNobWVudFN0YXRzPzogQXR0YWNobWVudFN0YXRzLCBwcm92aWRlclNwZWNpZmljQ291bnQ/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5za2lwcGVkLnB1c2goeyB0aXRsZSwgZmlsZVBhdGgsIGNyZWF0ZURhdGUsIHVwZGF0ZURhdGUsIG1lc3NhZ2VDb3VudCwgcmVhc29uLCBhdHRhY2htZW50U3RhdHMsIHByb3ZpZGVyU3BlY2lmaWNDb3VudCB9KTtcbiAgICB9XG5cbiAgICBhZGRGYWlsZWQodGl0bGU6IHN0cmluZywgZmlsZVBhdGg6IHN0cmluZywgY3JlYXRlRGF0ZTogc3RyaW5nLCB1cGRhdGVEYXRlOiBzdHJpbmcsIGVycm9yTWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZmFpbGVkLnB1c2goeyB0aXRsZSwgZmlsZVBhdGgsIGNyZWF0ZURhdGUsIHVwZGF0ZURhdGUsIGVycm9yTWVzc2FnZSB9KTtcbiAgICB9XG5cbiAgICBhZGRFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM6IHN0cmluZykge1xuICAgICAgICB0aGlzLmdsb2JhbEVycm9ycy5wdXNoKHsgbWVzc2FnZSwgZGV0YWlscyB9KTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVJlcG9ydENvbnRlbnQoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBcIiMgTmV4dXMgQUkgQ2hhdCBJbXBvcnRlciBSZXBvcnRcXG5cXG5cIjtcblxuICAgICAgICBpZiAodGhpcy5zdW1tYXJ5KSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IHRoaXMuc3VtbWFyeSArIFwiXFxuXFxuXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IHRhYmxlcyBmb3IgaW1wb3J0YW50IHNlY3Rpb25zIG9ubHlcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IHRoaXMuZ2VuZXJhdGVDcmVhdGVkVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IHRoaXMuZ2VuZXJhdGVVcGRhdGVkVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gT25seSBzaG93IGZhaWx1cmVzIGFuZCBlcnJvcnMgaWYgdGhleSBleGlzdFxuICAgICAgICBpZiAodGhpcy5mYWlsZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29udGVudCArPSB0aGlzLmdlbmVyYXRlRmFpbGVkVGFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZ2xvYmFsRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gdGhpcy5nZW5lcmF0ZUVycm9yVGFibGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVDcmVhdGVkVGFibGUoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRhYmxlID0gYCMjIFx1MjcyOCBDcmVhdGVkIE5vdGVzXFxuXFxuYDtcbiAgICAgICAgdGFibGUgKz0gYHwgfCBUaXRsZSB8IENyZWF0ZWQgfCBNZXNzYWdlcyB8ICR7dGhpcy5wcm92aWRlclNwZWNpZmljQ29sdW1uSGVhZGVyfSB8XFxuYDtcbiAgICAgICAgdGFibGUgKz0gXCJ8Oi0tLTp8Oi0tLXw6LS0tOnw6LS0tOnw6LS0tOnxcXG5cIjtcblxuICAgICAgICB0aGlzLmNyZWF0ZWQuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZFRpdGxlID0gZW50cnkudGl0bGUucmVwbGFjZSgvXFxuL2csIFwiIFwiKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB0aXRsZUxpbmsgPSBgW1ske2VudHJ5LmZpbGVQYXRofVxcXFx8JHtzYW5pdGl6ZWRUaXRsZX1dXWA7XG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclNwZWNpZmljVmFsdWUgPSBlbnRyeS5wcm92aWRlclNwZWNpZmljQ291bnQgfHwgMDtcblxuICAgICAgICAgICAgLy8gQWRkIGdyZWVuIGNoZWNrbWFyayBmb3IgYXJ0aWZhY3RzL2F0dGFjaG1lbnRzIHdoZW4gPiAwXG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclNwZWNpZmljRGlzcGxheSA9IHByb3ZpZGVyU3BlY2lmaWNWYWx1ZSA+IDAgPyBgXHUyNzA1ICR7cHJvdmlkZXJTcGVjaWZpY1ZhbHVlfWAgOiBwcm92aWRlclNwZWNpZmljVmFsdWU7XG5cbiAgICAgICAgICAgIHRhYmxlICs9IGB8IFx1MjcyOCB8ICR7dGl0bGVMaW5rfSB8ICR7ZW50cnkuY3JlYXRlRGF0ZX0gfCAke2VudHJ5Lm1lc3NhZ2VDb3VudCB8fCAwfSB8ICR7cHJvdmlkZXJTcGVjaWZpY0Rpc3BsYXl9IHxcXG5gO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGFibGUgKyBcIlxcblxcblwiO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVVcGRhdGVkVGFibGUoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRhYmxlID0gYCMjIFx1RDgzRFx1REQwNCBVcGRhdGVkIE5vdGVzXFxuXFxuYDtcbiAgICAgICAgdGFibGUgKz0gYHwgfCBUaXRsZSB8IFVwZGF0ZWQgfCBOZXcgTWVzc2FnZXMgfCBOZXcgJHt0aGlzLnByb3ZpZGVyU3BlY2lmaWNDb2x1bW5IZWFkZXJ9IHxcXG5gO1xuICAgICAgICB0YWJsZSArPSBcInw6LS0tOnw6LS0tfDotLS06fDotLS06fDotLS06fFxcblwiO1xuXG4gICAgICAgIHRoaXMudXBkYXRlZC5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVkVGl0bGUgPSBlbnRyeS50aXRsZS5yZXBsYWNlKC9cXG4vZywgXCIgXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlTGluayA9IGBbWyR7ZW50cnkuZmlsZVBhdGh9XFxcXHwke3Nhbml0aXplZFRpdGxlfV1dYDtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyU3BlY2lmaWNWYWx1ZSA9IGVudHJ5LnByb3ZpZGVyU3BlY2lmaWNDb3VudCB8fCAwO1xuXG4gICAgICAgICAgICAvLyBBZGQgZ3JlZW4gY2hlY2ttYXJrIGZvciBhcnRpZmFjdHMvYXR0YWNobWVudHMgd2hlbiA+IDBcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyU3BlY2lmaWNEaXNwbGF5ID0gcHJvdmlkZXJTcGVjaWZpY1ZhbHVlID4gMCA/IGBcdTI3MDUgJHtwcm92aWRlclNwZWNpZmljVmFsdWV9YCA6IHByb3ZpZGVyU3BlY2lmaWNWYWx1ZTtcblxuICAgICAgICAgICAgdGFibGUgKz0gYHwgXHVEODNEXHVERDA0IHwgJHt0aXRsZUxpbmt9IHwgJHtlbnRyeS51cGRhdGVEYXRlfSB8ICR7ZW50cnkubmV3TWVzc2FnZUNvdW50IHx8IDB9IHwgJHtwcm92aWRlclNwZWNpZmljRGlzcGxheX0gfFxcbmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0YWJsZSArIFwiXFxuXFxuXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUZhaWxlZFRhYmxlKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCB0YWJsZSA9IGAjIyBcdUQ4M0RcdURFQUIgRmFpbGVkIEltcG9ydHNcXG5cXG5gO1xuICAgICAgICB0YWJsZSArPSBcInwgfCBUaXRsZSB8IERhdGUgfCBFcnJvciB8XFxuXCI7XG4gICAgICAgIHRhYmxlICs9IFwifDotLS06fDotLS18Oi0tLTp8Oi0tLXxcXG5cIjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZmFpbGVkLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRUaXRsZSA9IGVudHJ5LnRpdGxlLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikudHJpbSgpO1xuICAgICAgICAgICAgdGFibGUgKz0gYHwgXHVEODNEXHVERUFCIHwgJHtzYW5pdGl6ZWRUaXRsZX0gfCAke2VudHJ5LmNyZWF0ZURhdGV9IHwgJHtlbnRyeS5lcnJvck1lc3NhZ2UgfHwgXCJVbmtub3duIGVycm9yXCJ9IHxcXG5gO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0YWJsZSArIFwiXFxuXFxuXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUVycm9yVGFibGUoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRhYmxlID0gYCMjIFx1MjZBMFx1RkUwRiBHbG9iYWwgRXJyb3JzXFxuXFxuYDtcbiAgICAgICAgdGFibGUgKz0gXCJ8IHwgRXJyb3IgfCBEZXRhaWxzIHxcXG5cIjtcbiAgICAgICAgdGFibGUgKz0gXCJ8Oi0tLTp8Oi0tLXw6LS0tfFxcblwiO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5nbG9iYWxFcnJvcnMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIHRhYmxlICs9IGB8IFx1MjZBMFx1RkUwRiB8ICR7ZW50cnkubWVzc2FnZX0gfCAke2VudHJ5LmRldGFpbHN9IHxcXG5gO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0YWJsZSArIFwiXFxuXFxuXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRBdHRhY2htZW50U3RhdHVzKHN0YXRzPzogQXR0YWNobWVudFN0YXRzKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFzdGF0cyB8fCBzdGF0cy50b3RhbCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiMFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB0b3RhbCwgZm91bmQsIG1pc3NpbmcsIGZhaWxlZCB9ID0gc3RhdHM7XG4gICAgICAgIFxuICAgICAgICBpZiAoZm91bmQgPT09IHRvdGFsKSB7XG4gICAgICAgICAgICByZXR1cm4gYFx1MjcwNSAke2ZvdW5kfWA7XG4gICAgICAgIH0gZWxzZSBpZiAoZm91bmQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgXHUyNzRDIDAvJHt0b3RhbH1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBcdTI2QTBcdUZFMEYgJHtmb3VuZH0vJHt0b3RhbH1gO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFzRXJyb3JzKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWlsZWQubGVuZ3RoID4gMCB8fCB0aGlzLmdsb2JhbEVycm9ycy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGdldENyZWF0ZWRDb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVkLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXRVcGRhdGVkQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlZC5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0U2tpcHBlZENvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnNraXBwZWQubGVuZ3RoO1xuICAgIH1cbn0iLCAiLy8gc3JjL3NlcnZpY2VzL2NvbnZlcnNhdGlvbi1wcm9jZXNzb3IudHNcbmltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDb252ZXJzYXRpb25DYXRhbG9nRW50cnkgfSBmcm9tIFwiLi4vdHlwZXMvcGx1Z2luXCI7XG5pbXBvcnQgeyBTdGFuZGFyZENvbnZlcnNhdGlvbiwgU3RhbmRhcmRNZXNzYWdlIH0gZnJvbSBcIi4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBJbXBvcnRSZXBvcnQgfSBmcm9tIFwiLi4vbW9kZWxzL2ltcG9ydC1yZXBvcnRcIjtcbmltcG9ydCB7IE1lc3NhZ2VGb3JtYXR0ZXIgfSBmcm9tIFwiLi4vZm9ybWF0dGVycy9tZXNzYWdlLWZvcm1hdHRlclwiO1xuaW1wb3J0IHsgTm90ZUZvcm1hdHRlciB9IGZyb20gXCIuLi9mb3JtYXR0ZXJzL25vdGUtZm9ybWF0dGVyXCI7XG5pbXBvcnQgeyBGaWxlU2VydmljZSB9IGZyb20gXCIuL2ZpbGUtc2VydmljZVwiO1xuaW1wb3J0IHsgUHJvdmlkZXJSZWdpc3RyeSB9IGZyb20gXCIuLi9wcm92aWRlcnMvcHJvdmlkZXItYWRhcHRlclwiO1xuaW1wb3J0IHsgSW1wb3J0UHJvZ3Jlc3NDYWxsYmFjayB9IGZyb20gXCIuLi91aS9pbXBvcnQtcHJvZ3Jlc3MtbW9kYWxcIjtcbmltcG9ydCBKU1ppcCBmcm9tIFwianN6aXBcIjtcbmltcG9ydCB7XG4gICAgZm9ybWF0VGltZXN0YW1wLFxuICAgIGlzVmFsaWRNZXNzYWdlLFxuICAgIGdlbmVyYXRlRmlsZU5hbWUsXG4gICAgZW5zdXJlRm9sZGVyRXhpc3RzLFxuICAgIGRvZXNGaWxlUGF0aEV4aXN0LFxuICAgIGdlbmVyYXRlVW5pcXVlRmlsZU5hbWUsXG4gICAgZ2VuZXJhdGVDb252ZXJzYXRpb25GaWxlTmFtZVxufSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIENvbnZlcnNhdGlvblByb2Nlc3NvciB7XG4gICAgcHJpdmF0ZSBtZXNzYWdlRm9ybWF0dGVyOiBNZXNzYWdlRm9ybWF0dGVyO1xuICAgIHByaXZhdGUgZmlsZVNlcnZpY2U6IEZpbGVTZXJ2aWNlO1xuICAgIHByaXZhdGUgbm90ZUZvcm1hdHRlcjogTm90ZUZvcm1hdHRlcjtcbiAgICBwcml2YXRlIHByb3ZpZGVyUmVnaXN0cnk6IFByb3ZpZGVyUmVnaXN0cnk7XG4gICAgcHJpdmF0ZSBjb3VudGVycyA9IHtcbiAgICAgICAgdG90YWxFeGlzdGluZ0NvbnZlcnNhdGlvbnM6IDAsXG4gICAgICAgIHRvdGFsTmV3Q29udmVyc2F0aW9uc1RvSW1wb3J0OiAwLFxuICAgICAgICB0b3RhbEV4aXN0aW5nQ29udmVyc2F0aW9uc1RvVXBkYXRlOiAwLFxuICAgICAgICB0b3RhbE5ld0NvbnZlcnNhdGlvbnNTdWNjZXNzZnVsbHlJbXBvcnRlZDogMCxcbiAgICAgICAgdG90YWxDb252ZXJzYXRpb25zQWN0dWFsbHlVcGRhdGVkOiAwLFxuICAgICAgICB0b3RhbENvbnZlcnNhdGlvbnNQcm9jZXNzZWQ6IDAsXG4gICAgICAgIHRvdGFsTm9uRW1wdHlNZXNzYWdlc1RvSW1wb3J0OiAwLFxuICAgICAgICB0b3RhbE5vbkVtcHR5TWVzc2FnZXNUb0FkZDogMCxcbiAgICAgICAgdG90YWxOb25FbXB0eU1lc3NhZ2VzQWRkZWQ6IDAsXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luLCBwcm92aWRlclJlZ2lzdHJ5OiBQcm92aWRlclJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VGb3JtYXR0ZXIgPSBuZXcgTWVzc2FnZUZvcm1hdHRlcihwbHVnaW4ubG9nZ2VyKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVNlcnZpY2UgPSBuZXcgRmlsZVNlcnZpY2UocGx1Z2luKTtcbiAgICAgICAgICAgIHRoaXMubm90ZUZvcm1hdHRlciA9IG5ldyBOb3RlRm9ybWF0dGVyKHBsdWdpbi5sb2dnZXIsIHBsdWdpbi5tYW5pZmVzdC5pZCwgcGx1Z2luLm1hbmlmZXN0LnZlcnNpb24pO1xuICAgICAgICAgICAgdGhpcy5wcm92aWRlclJlZ2lzdHJ5ID0gcHJvdmlkZXJSZWdpc3RyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHJhdyBjb252ZXJzYXRpb25zIChwcm92aWRlciBhZ25vc3RpYyBlbnRyeSBwb2ludClcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzUmF3Q29udmVyc2F0aW9ucyhyYXdDb252ZXJzYXRpb25zOiBhbnlbXSwgaW1wb3J0UmVwb3J0OiBJbXBvcnRSZXBvcnQsIHppcD86IEpTWmlwLCBpc1JlcHJvY2VzczogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZWRQcm92aWRlcj86IHN0cmluZywgcHJvZ3Jlc3NDYWxsYmFjaz86IEltcG9ydFByb2dyZXNzQ2FsbGJhY2spOiBQcm9taXNlPEltcG9ydFJlcG9ydD4ge1xuICAgICAgICAvLyBVc2UgZm9yY2VkIHByb3ZpZGVyIG9yIGRldGVjdCBmcm9tIHJhdyBkYXRhIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCBwcm92aWRlciA9IGZvcmNlZFByb3ZpZGVyIHx8IHRoaXMucHJvdmlkZXJSZWdpc3RyeS5kZXRlY3RQcm92aWRlcihyYXdDb252ZXJzYXRpb25zKTtcblxuICAgICAgICBpZiAocHJvdmlkZXIgPT09ICd1bmtub3duJykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBmb3JjZWRQcm92aWRlclxuICAgICAgICAgICAgICAgID8gYEZvcmNlZCBwcm92aWRlciAnJHtmb3JjZWRQcm92aWRlcn0nIGlzIG5vdCBhdmFpbGFibGUgb3IgcmVnaXN0ZXJlZGBcbiAgICAgICAgICAgICAgICA6IGBDb3VsZCBub3QgZGV0ZWN0IGNvbnZlcnNhdGlvbiBwcm92aWRlciBmcm9tIGRhdGEgc3RydWN0dXJlYDtcbiAgICAgICAgICAgIGltcG9ydFJlcG9ydC5hZGRFcnJvcihcIlVua25vd24gcHJvdmlkZXJcIiwgZXJyb3JNc2cpO1xuICAgICAgICAgICAgcmV0dXJuIGltcG9ydFJlcG9ydDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NDb252ZXJzYXRpb25zV2l0aFByb3ZpZGVyKHByb3ZpZGVyLCByYXdDb252ZXJzYXRpb25zLCBpbXBvcnRSZXBvcnQsIHppcCwgaXNSZXByb2Nlc3MsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwcm92aWRlciBuYW1lIGZvciBjdXJyZW50IHByb2Nlc3Npbmcgc2Vzc2lvblxuICAgICAqL1xuICAgIGdldEN1cnJlbnRQcm92aWRlcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UHJvdmlkZXIgfHwgJ3Vua25vd24nO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3VycmVudFByb3ZpZGVyOiBzdHJpbmcgPSAndW5rbm93bic7XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGNvbnZlcnNhdGlvbnMgdXNpbmcgdGhlIGRldGVjdGVkIHByb3ZpZGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzQ29udmVyc2F0aW9uc1dpdGhQcm92aWRlcihcbiAgICAgICAgcHJvdmlkZXI6IHN0cmluZyxcbiAgICAgICAgcmF3Q29udmVyc2F0aW9uczogYW55W10sXG4gICAgICAgIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LFxuICAgICAgICB6aXA/OiBKU1ppcCxcbiAgICAgICAgaXNSZXByb2Nlc3M6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjaz86IEltcG9ydFByb2dyZXNzQ2FsbGJhY2tcbiAgICApOiBQcm9taXNlPEltcG9ydFJlcG9ydD4ge1xuICAgICAgICB0aGlzLmN1cnJlbnRQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5wcm92aWRlclJlZ2lzdHJ5LmdldEFkYXB0ZXIocHJvdmlkZXIpO1xuXG4gICAgICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICAgICAgaW1wb3J0UmVwb3J0LmFkZEVycm9yKFwiUHJvdmlkZXIgYWRhcHRlciBub3QgZm91bmRcIiwgYE5vIGFkYXB0ZXIgZm91bmQgZm9yIHByb3ZpZGVyOiAke3Byb3ZpZGVyfWApO1xuICAgICAgICAgICAgcmV0dXJuIGltcG9ydFJlcG9ydDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLnBsdWdpbi5nZXRTdG9yYWdlU2VydmljZSgpO1xuXG4gICAgICAgIC8vIFNjYW4gZXhpc3RpbmcgY29udmVyc2F0aW9ucyBmcm9tIHZhdWx0IGluc3RlYWQgb2YgbG9hZGluZyBjYXRhbG9nXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQ29udmVyc2F0aW9uc01hcCA9IGF3YWl0IHN0b3JhZ2Uuc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpO1xuICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsRXhpc3RpbmdDb252ZXJzYXRpb25zID0gZXhpc3RpbmdDb252ZXJzYXRpb25zTWFwLnNpemU7XG5cbiAgICAgICAgbGV0IHByb2Nlc3NlZENvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGF0IG9mIHJhd0NvbnZlcnNhdGlvbnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc1NpbmdsZUNoYXQoYWRhcHRlciwgY2hhdCwgZXhpc3RpbmdDb252ZXJzYXRpb25zTWFwLCBpbXBvcnRSZXBvcnQsIHppcCwgaXNSZXByb2Nlc3MpO1xuXG4gICAgICAgICAgICBwcm9jZXNzZWRDb3VudCsrO1xuICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjaz8uKHtcbiAgICAgICAgICAgICAgICBwaGFzZTogJ3Byb2Nlc3NpbmcnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnUHJvY2Vzc2luZyBjb252ZXJzYXRpb25zLi4uJyxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IGBQcm9jZXNzaW5nIGNvbnZlcnNhdGlvbiAke3Byb2Nlc3NlZENvdW50fSBvZiAke3Jhd0NvbnZlcnNhdGlvbnMubGVuZ3RofWAsXG4gICAgICAgICAgICAgICAgY3VycmVudDogcHJvY2Vzc2VkQ291bnQsXG4gICAgICAgICAgICAgICAgdG90YWw6IHJhd0NvbnZlcnNhdGlvbnMubGVuZ3RoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbXBvcnRSZXBvcnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzU2luZ2xlQ2hhdChcbiAgICAgICAgYWRhcHRlcjogYW55LFxuICAgICAgICBjaGF0OiBhbnksXG4gICAgICAgIGV4aXN0aW5nQ29udmVyc2F0aW9uczogTWFwPHN0cmluZywgQ29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5PixcbiAgICAgICAgaW1wb3J0UmVwb3J0OiBJbXBvcnRSZXBvcnQsXG4gICAgICAgIHppcD86IEpTWmlwLFxuICAgICAgICBpc1JlcHJvY2VzczogYm9vbGVhbiA9IGZhbHNlXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjaGF0SWQgPSBhZGFwdGVyLmdldElkKGNoYXQpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdFbnRyeSA9IGV4aXN0aW5nQ29udmVyc2F0aW9ucy5nZXQoY2hhdElkKTtcblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRW50cnkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUV4aXN0aW5nQ2hhdChhZGFwdGVyLCBjaGF0LCBleGlzdGluZ0VudHJ5LCBpbXBvcnRSZXBvcnQsIHppcCwgaXNSZXByb2Nlc3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVGaWxlUGF0aEZvckNoYXQoYWRhcHRlciwgY2hhdCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVOZXdDaGF0KGFkYXB0ZXIsIGNoYXQsIGZpbGVQYXRoLCBpbXBvcnRSZXBvcnQsIHppcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsQ29udmVyc2F0aW9uc1Byb2Nlc3NlZCsrO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgY29uc3QgY2hhdFRpdGxlID0gYWRhcHRlci5nZXRUaXRsZShjaGF0KSB8fCBcIlVudGl0bGVkXCI7XG4gICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkRXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgY2hhdDogJHtjaGF0VGl0bGV9YCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlRXhpc3RpbmdDaGF0KFxuICAgICAgICBhZGFwdGVyOiBhbnksXG4gICAgICAgIGNoYXQ6IGFueSxcbiAgICAgICAgZXhpc3RpbmdSZWNvcmQ6IENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeSxcbiAgICAgICAgaW1wb3J0UmVwb3J0OiBJbXBvcnRSZXBvcnQsXG4gICAgICAgIHppcD86IEpTWmlwLFxuICAgICAgICBpc1JlcHJvY2VzczogYm9vbGVhbiA9IGZhbHNlXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGNoYXRUaXRsZSA9IGFkYXB0ZXIuZ2V0VGl0bGUoY2hhdCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRpbWUgPSBhZGFwdGVyLmdldENyZWF0ZVRpbWUoY2hhdCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVRpbWUgPSBhZGFwdGVyLmdldFVwZGF0ZVRpbWUoY2hhdCk7XG5cbiAgICAgICAgLy8gQ291bnQgbWVzc2FnZXMgdXNpbmcgcHJvdmlkZXItc3BlY2lmaWMgbG9naWNcbiAgICAgICAgY29uc3QgdG90YWxNZXNzYWdlQ291bnQgPSBhd2FpdCB0aGlzLmNvdW50TWVzc2FnZXMoYWRhcHRlciwgY2hhdCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZpbGUgYWN0dWFsbHkgZXhpc3RzXG4gICAgICAgIGNvbnN0IGZpbGVFeGlzdHMgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZXhpc3RpbmdSZWNvcmQucGF0aCk7XG5cbiAgICAgICAgaWYgKCFmaWxlRXhpc3RzKSB7XG4gICAgICAgICAgICAvLyBGaWxlIHdhcyBkZWxldGVkLCByZWNyZWF0ZSBpdFxuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVOZXdDaGF0KGFkYXB0ZXIsIGNoYXQsIGV4aXN0aW5nUmVjb3JkLnBhdGgsIGltcG9ydFJlcG9ydCwgemlwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJFUFJPQ0VTUyBMT0dJQzogRm9yY2UgdXBkYXRlIGlmIHRoaXMgaXMgYSByZXByb2Nlc3Mgb3BlcmF0aW9uXG4gICAgICAgIGlmIChpc1JlcHJvY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmluZm8oYFJlcHJvY2Vzc2luZyBjb252ZXJzYXRpb246ICR7Y2hhdFRpdGxlfWApO1xuICAgICAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbEV4aXN0aW5nQ29udmVyc2F0aW9uc1RvVXBkYXRlKys7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUV4aXN0aW5nTm90ZShhZGFwdGVyLCBjaGF0LCBleGlzdGluZ1JlY29yZC5wYXRoLCB0b3RhbE1lc3NhZ2VDb3VudCwgaW1wb3J0UmVwb3J0LCB6aXAsIHRydWUpOyAvLyBGb3JjZSB1cGRhdGVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vcm1hbCBsb2dpYzogQ2hlY2sgdGltZXN0YW1wc1xuICAgICAgICBpZiAoZXhpc3RpbmdSZWNvcmQudXBkYXRlVGltZSA+PSB1cGRhdGVUaW1lKSB7XG4gICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkU2tpcHBlZChcbiAgICAgICAgICAgICAgICBjaGF0VGl0bGUsXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdSZWNvcmQucGF0aCxcbiAgICAgICAgICAgICAgICBmb3JtYXRUaW1lc3RhbXAoY3JlYXRlVGltZSwgXCJkYXRlXCIpLFxuICAgICAgICAgICAgICAgIGZvcm1hdFRpbWVzdGFtcCh1cGRhdGVUaW1lLCBcImRhdGVcIiksXG4gICAgICAgICAgICAgICAgdG90YWxNZXNzYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgXCJObyBVcGRhdGVzXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsRXhpc3RpbmdDb252ZXJzYXRpb25zVG9VcGRhdGUrKztcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlRXhpc3RpbmdOb3RlKGFkYXB0ZXIsIGNoYXQsIGV4aXN0aW5nUmVjb3JkLnBhdGgsIHRvdGFsTWVzc2FnZUNvdW50LCBpbXBvcnRSZXBvcnQsIHppcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZU5ld0NoYXQoXG4gICAgICAgIGFkYXB0ZXI6IGFueSxcbiAgICAgICAgY2hhdDogYW55LFxuICAgICAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgICAgICBpbXBvcnRSZXBvcnQ6IEltcG9ydFJlcG9ydCxcbiAgICAgICAgemlwPzogSlNaaXBcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbE5ld0NvbnZlcnNhdGlvbnNUb0ltcG9ydCsrO1xuICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZU5ld05vdGUoYWRhcHRlciwgY2hhdCwgZmlsZVBhdGgsIGltcG9ydFJlcG9ydCwgemlwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3VudCBtZXNzYWdlcyBpbiBhIGNoYXQgdXNpbmcgcHJvdmlkZXItc3BlY2lmaWMgbG9naWNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGNvdW50TWVzc2FnZXMoYWRhcHRlcjogYW55LCBjaGF0OiBhbnkpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICAvLyBUcnkgdG8gZ2V0IGEgc3RhbmRhcmQgY29udmVyc2F0aW9uIGFuZCBjb3VudCBpdHMgbWVzc2FnZXNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YW5kYXJkQ29udmVyc2F0aW9uID0gYXdhaXQgYWRhcHRlci5jb252ZXJ0Q2hhdChjaGF0KTtcbiAgICAgICAgICAgIHJldHVybiBzdGFuZGFyZENvbnZlcnNhdGlvbi5tZXNzYWdlcz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogdHJ5IGNvbW1vbiBwYXR0ZXJuc1xuICAgICAgICAgICAgaWYgKGNoYXQubWFwcGluZykge1xuICAgICAgICAgICAgICAgIC8vIENoYXRHUFQtc3R5bGUgbWFwcGluZ1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGNoYXQubWFwcGluZylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigobXNnOiBhbnkpID0+IGlzVmFsaWRNZXNzYWdlKG1zZy5tZXNzYWdlKSkubGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGF0Lm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gRGlyZWN0IG1lc3NhZ2VzIGFycmF5XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY2hhdC5tZXNzYWdlcykgPyBjaGF0Lm1lc3NhZ2VzLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwcm92aWRlci1zcGVjaWZpYyBjb3VudCAoYXJ0aWZhY3RzIGZvciBDbGF1ZGUsIGF0dGFjaG1lbnRzIGZvciBDaGF0R1BUKVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0UHJvdmlkZXJTcGVjaWZpY0NvdW50KGFkYXB0ZXI6IGFueSwgY2hhdDogYW55KTogbnVtYmVyIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gYWRhcHRlci5nZXRSZXBvcnROYW1pbmdTdHJhdGVneSgpO1xuICAgICAgICAgICAgaWYgKHN0cmF0ZWd5ICYmIHN0cmF0ZWd5LmdldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW5JbmZvID0gc3RyYXRlZ3kuZ2V0UHJvdmlkZXJTcGVjaWZpY0NvbHVtbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5JbmZvLmdldFZhbHVlKGFkYXB0ZXIsIGNoYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gMCBpZiBwcm92aWRlciBkb2Vzbid0IHN1cHBvcnQgc3BlY2lmaWMgY291bnRpbmdcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHVwZGF0ZUV4aXN0aW5nTm90ZShcbiAgICAgICAgYWRhcHRlcjogYW55LFxuICAgICAgICBjaGF0OiBhbnksXG4gICAgICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgICAgIHRvdGFsTWVzc2FnZUNvdW50OiBudW1iZXIsXG4gICAgICAgIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LFxuICAgICAgICB6aXA/OiBKU1ppcCxcbiAgICAgICAgZm9yY2VVcGRhdGU6IGJvb2xlYW4gPSBmYWxzZVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxDb250ZW50ID0gY29udGVudDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXRVcGRhdGVUaW1lID0gYWRhcHRlci5nZXRVcGRhdGVUaW1lKGNoYXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXRDcmVhdGVUaW1lID0gYWRhcHRlci5nZXRDcmVhdGVUaW1lKGNoYXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXRUaXRsZSA9IGFkYXB0ZXIuZ2V0VGl0bGUoY2hhdCk7XG5cbiAgICAgICAgICAgICAgICBjb250ZW50ID0gdGhpcy51cGRhdGVNZXRhZGF0YShjb250ZW50LCBjaGF0VXBkYXRlVGltZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdNZXNzYWdlSWRzID0gdGhpcy5leHRyYWN0TWVzc2FnZVVJRHNGcm9tTm90ZShjb250ZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IGFkYXB0ZXIuZ2V0TmV3TWVzc2FnZXMoY2hhdCwgZXhpc3RpbmdNZXNzYWdlSWRzKTtcblxuICAgICAgICAgICAgICAgIGxldCBhdHRhY2htZW50U3RhdHM6IHsgdG90YWw6IG51bWJlcjsgZm91bmQ6IG51bWJlcjsgbWlzc2luZzogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgLy8gUkVQUk9DRVNTIExPR0lDOiBJZiBmb3JjZWQgdXBkYXRlLCByZWNyZWF0ZSB0aGUgZW50aXJlIG5vdGUgd2l0aCBhdHRhY2htZW50IHN1cHBvcnRcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBlbnRpcmUgY2hhdCB0byBzdGFuZGFyZCBmb3JtYXQgd2l0aCBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhbmRhcmRDb252ZXJzYXRpb24gPSBhd2FpdCBhZGFwdGVyLmNvbnZlcnRDaGF0KGNoYXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgYXR0YWNobWVudHMgaWYgWklQIHByb3ZpZGVkIGFuZCBzZXR0aW5ncyBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICh6aXAgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMgJiYgYWRhcHRlci5wcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZENvbnZlcnNhdGlvbi5tZXNzYWdlcyA9IGF3YWl0IGFkYXB0ZXIucHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZENvbnZlcnNhdGlvbi5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLmdldElkKGNoYXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHppcFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGF0dGFjaG1lbnQgc3RhdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0cyA9IHRoaXMuY2FsY3VsYXRlQXR0YWNobWVudFN0YXRzKHN0YW5kYXJkQ29udmVyc2F0aW9uLm1lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZ2VuZXJhdGUgZW50aXJlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IHRoaXMubm90ZUZvcm1hdHRlci5nZW5lcmF0ZU1hcmtkb3duQ29udGVudChzdGFuZGFyZENvbnZlcnNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZmlsZVNlcnZpY2Uud3JpdGVUb0ZpbGUoZmlsZVBhdGgsIG5ld0NvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydFJlcG9ydC5hZGRVcGRhdGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdFRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtmb3JtYXRUaW1lc3RhbXAoY2hhdENyZWF0ZVRpbWUsIFwiZGF0ZVwiKX0gJHtmb3JtYXRUaW1lc3RhbXAoY2hhdENyZWF0ZVRpbWUsIFwidGltZVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNoYXRVcGRhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNoYXRVcGRhdGVUaW1lLCBcInRpbWVcIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTWVzc2FnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRzXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbENvbnZlcnNhdGlvbnNBY3R1YWxseVVwZGF0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE5vcm1hbCB1cGRhdGUgbG9naWMgKGV4aXN0aW5nIG1lc3NhZ2VzKVxuICAgICAgICAgICAgICAgIGlmIChuZXdNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgbWVzc2FnZXMgdG8gc3RhbmRhcmQgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFuZGFyZE1lc3NhZ2VzID0gYXdhaXQgYWRhcHRlci5jb252ZXJ0TWVzc2FnZXMobmV3TWVzc2FnZXMsIGFkYXB0ZXIuZ2V0SWQoY2hhdCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgYXR0YWNobWVudHMgaWYgWklQIHByb3ZpZGVkIGFuZCBzZXR0aW5ncyBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICh6aXAgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMgJiYgYWRhcHRlci5wcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZE1lc3NhZ2VzID0gYXdhaXQgYWRhcHRlci5wcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlci5nZXRJZChjaGF0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgY2FsY3VsYXRlIGF0dGFjaG1lbnQgc3RhdHMgKGV2ZW4gaWYgbm90IHByb2Nlc3NlZClcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRzID0gdGhpcy5jYWxjdWxhdGVBdHRhY2htZW50U3RhdHMoc3RhbmRhcmRNZXNzYWdlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29udGVudCArPSBcIlxcblxcblwiICsgdGhpcy5tZXNzYWdlRm9ybWF0dGVyLmZvcm1hdE1lc3NhZ2VzKHN0YW5kYXJkTWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsQ29udmVyc2F0aW9uc0FjdHVhbGx5VXBkYXRlZCsrO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsTm9uRW1wdHlNZXNzYWdlc0FkZGVkICs9IG5ld01lc3NhZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29udGVudCAhPT0gb3JpZ2luYWxDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZmlsZVNlcnZpY2Uud3JpdGVUb0ZpbGUoZmlsZVBhdGgsIGNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydFJlcG9ydC5hZGRVcGRhdGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdFRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtmb3JtYXRUaW1lc3RhbXAoY2hhdENyZWF0ZVRpbWUsIFwiZGF0ZVwiKX0gJHtmb3JtYXRUaW1lc3RhbXAoY2hhdENyZWF0ZVRpbWUsIFwidGltZVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNoYXRVcGRhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNoYXRVcGRhdGVUaW1lLCBcInRpbWVcIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld01lc3NhZ2VzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0c1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydFJlcG9ydC5hZGRTa2lwcGVkKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdFRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtmb3JtYXRUaW1lc3RhbXAoY2hhdENyZWF0ZVRpbWUsIFwiZGF0ZVwiKX0gJHtmb3JtYXRUaW1lc3RhbXAoY2hhdENyZWF0ZVRpbWUsIFwidGltZVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNoYXRVcGRhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNoYXRVcGRhdGVUaW1lLCBcInRpbWVcIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTWVzc2FnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJObyBjaGFuZ2VzIG5lZWRlZFwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBub3RlXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVOZXdOb3RlKFxuICAgICAgICBhZGFwdGVyOiBhbnksXG4gICAgICAgIGNoYXQ6IGFueSxcbiAgICAgICAgZmlsZVBhdGg6IHN0cmluZyxcbiAgICAgICAgaW1wb3J0UmVwb3J0OiBJbXBvcnRSZXBvcnQsXG4gICAgICAgIHppcD86IEpTWmlwXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGZvbGRlciBleGlzdHMgKGluIGNhc2UgaXQgd2FzIGRlbGV0ZWQpXG4gICAgICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gZmlsZVBhdGguc3Vic3RyaW5nKDAsIGZpbGVQYXRoLmxhc3RJbmRleE9mKCcvJykpO1xuICAgICAgICAgICAgY29uc3QgZm9sZGVyUmVzdWx0ID0gYXdhaXQgZW5zdXJlRm9sZGVyRXhpc3RzKGZvbGRlclBhdGgsIHRoaXMucGx1Z2luLmFwcC52YXVsdCk7XG4gICAgICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGZvbGRlclJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBlbnN1cmUgZm9sZGVyIGV4aXN0cy5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gc3RhbmRhcmQgZm9ybWF0XG4gICAgICAgICAgICBsZXQgc3RhbmRhcmRDb252ZXJzYXRpb24gPSBhd2FpdCBhZGFwdGVyLmNvbnZlcnRDaGF0KGNoYXQpO1xuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGF0dGFjaG1lbnRzIGlmIFpJUCBwcm92aWRlZCBhbmQgc2V0dGluZ3MgZW5hYmxlZFxuICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnRTdGF0cyA9IHsgdG90YWw6IDAsIGZvdW5kOiAwLCBtaXNzaW5nOiAwLCBmYWlsZWQ6IDAgfTtcbiAgICAgICAgICAgIGlmICh6aXAgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMgJiYgYWRhcHRlci5wcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgc3RhbmRhcmRDb252ZXJzYXRpb24ubWVzc2FnZXMgPSBhd2FpdCBhZGFwdGVyLnByb2Nlc3NNZXNzYWdlQXR0YWNobWVudHMoXG4gICAgICAgICAgICAgICAgICAgIHN0YW5kYXJkQ29udmVyc2F0aW9uLm1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLmdldElkKGNoYXQpLFxuICAgICAgICAgICAgICAgICAgICB6aXBcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGF0dGFjaG1lbnQgc3RhdHNcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdHMgPSB0aGlzLmNhbGN1bGF0ZUF0dGFjaG1lbnRTdGF0cyhzdGFuZGFyZENvbnZlcnNhdGlvbi5tZXNzYWdlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLm5vdGVGb3JtYXR0ZXIuZ2VuZXJhdGVNYXJrZG93bkNvbnRlbnQoc3RhbmRhcmRDb252ZXJzYXRpb24pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZpbGVTZXJ2aWNlLndyaXRlVG9GaWxlKGZpbGVQYXRoLCBjb250ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZUNvdW50ID0gYXdhaXQgdGhpcy5jb3VudE1lc3NhZ2VzKGFkYXB0ZXIsIGNoYXQpO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlVGltZSA9IGFkYXB0ZXIuZ2V0Q3JlYXRlVGltZShjaGF0KTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVRpbWUgPSBhZGFwdGVyLmdldFVwZGF0ZVRpbWUoY2hhdCk7XG4gICAgICAgICAgICBjb25zdCBjaGF0VGl0bGUgPSBhZGFwdGVyLmdldFRpdGxlKGNoYXQpO1xuXG4gICAgICAgICAgICAvLyBHZXQgcHJvdmlkZXItc3BlY2lmaWMgY291bnQgKGFydGlmYWN0cyBmb3IgQ2xhdWRlLCBhdHRhY2htZW50cyBmb3IgQ2hhdEdQVClcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyU3BlY2lmaWNDb3VudCA9IHRoaXMuZ2V0UHJvdmlkZXJTcGVjaWZpY0NvdW50KGFkYXB0ZXIsIGNoYXQpO1xuXG4gICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkQ3JlYXRlZChcbiAgICAgICAgICAgICAgICBjaGF0VGl0bGUsXG4gICAgICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNyZWF0ZVRpbWUsIFwiZGF0ZVwiKX0gJHtmb3JtYXRUaW1lc3RhbXAoY3JlYXRlVGltZSwgXCJ0aW1lXCIpfWAsXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKHVwZGF0ZVRpbWUsIFwiZGF0ZVwiKX0gJHtmb3JtYXRUaW1lc3RhbXAodXBkYXRlVGltZSwgXCJ0aW1lXCIpfWAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZUNvdW50LFxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0cyxcbiAgICAgICAgICAgICAgICBwcm92aWRlclNwZWNpZmljQ291bnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY291bnRlcnMudG90YWxOZXdDb252ZXJzYXRpb25zU3VjY2Vzc2Z1bGx5SW1wb3J0ZWQrKztcbiAgICAgICAgICAgIHRoaXMuY291bnRlcnMudG90YWxOb25FbXB0eU1lc3NhZ2VzVG9JbXBvcnQgKz0gbWVzc2FnZUNvdW50O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldyBub3RlXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlVGltZSA9IGFkYXB0ZXIuZ2V0Q3JlYXRlVGltZShjaGF0KTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVRpbWUgPSBhZGFwdGVyLmdldFVwZGF0ZVRpbWUoY2hhdCk7XG4gICAgICAgICAgICBjb25zdCBjaGF0VGl0bGUgPSBhZGFwdGVyLmdldFRpdGxlKGNoYXQpO1xuXG4gICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkRmFpbGVkKFxuICAgICAgICAgICAgICAgIGNoYXRUaXRsZSxcbiAgICAgICAgICAgICAgICBmaWxlUGF0aCxcbiAgICAgICAgICAgICAgICBmb3JtYXRUaW1lc3RhbXAoY3JlYXRlVGltZSwgXCJkYXRlXCIpICsgXCIgXCIgKyBmb3JtYXRUaW1lc3RhbXAoY3JlYXRlVGltZSwgXCJ0aW1lXCIpLFxuICAgICAgICAgICAgICAgIGZvcm1hdFRpbWVzdGFtcCh1cGRhdGVUaW1lLCBcImRhdGVcIikgKyBcIiBcIiArIGZvcm1hdFRpbWVzdGFtcCh1cGRhdGVUaW1lLCBcInRpbWVcIiksXG4gICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIHByaXZhdGUgdXBkYXRlTWV0YWRhdGEoY29udGVudDogc3RyaW5nLCB1cGRhdGVUaW1lOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB1cGRhdGVUaW1lU3RyID0gYCR7Zm9ybWF0VGltZXN0YW1wKHVwZGF0ZVRpbWUsIFwiZGF0ZVwiKX0gYXQgJHtmb3JtYXRUaW1lc3RhbXAodXBkYXRlVGltZSwgXCJ0aW1lXCIpfWA7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL151cGRhdGVfdGltZTogLiokL20sIGB1cGRhdGVfdGltZTogJHt1cGRhdGVUaW1lU3RyfWApO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9eTGFzdCBVcGRhdGVkOiAuKiQvbSwgYExhc3QgVXBkYXRlZDogJHt1cGRhdGVUaW1lU3RyfWApO1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG5cblxuXG4gICAgcHJpdmF0ZSBleHRyYWN0TWVzc2FnZVVJRHNGcm9tTm90ZShjb250ZW50OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHVpZFJlZ2V4ID0gLzwhLS0gVUlEOiAoLio/KSAtLT4vZztcbiAgICAgICAgY29uc3QgdWlkcyA9IFtdO1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSB1aWRSZWdleC5leGVjKGNvbnRlbnQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdWlkcy5wdXNoKG1hdGNoWzFdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdWlkcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlRmlsZVBhdGhGb3JDaGF0KGFkYXB0ZXI6IGFueSwgY2hhdDogYW55KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgY3JlYXRlVGltZSA9IGFkYXB0ZXIuZ2V0Q3JlYXRlVGltZShjaGF0KTtcbiAgICAgICAgY29uc3QgY2hhdFRpdGxlID0gYWRhcHRlci5nZXRUaXRsZShjaGF0KTtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJOYW1lID0gYWRhcHRlci5nZXRQcm92aWRlck5hbWUoKTtcblxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoY3JlYXRlVGltZSAqIDEwMDApO1xuICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cbiAgICAgICAgLy8gTmV3IHN0cnVjdHVyZTogPGFyY2hpdmVGb2xkZXI+Lzxwcm92aWRlcj4vPHllYXI+Lzxtb250aD4vXG4gICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyfS8ke3Byb3ZpZGVyTmFtZX0vJHt5ZWFyfS8ke21vbnRofWA7XG5cbiAgICAgICAgY29uc3QgZm9sZGVyUmVzdWx0ID0gYXdhaXQgZW5zdXJlRm9sZGVyRXhpc3RzKGZvbGRlclBhdGgsIHRoaXMucGx1Z2luLmFwcC52YXVsdCk7XG4gICAgICAgIGlmICghZm9sZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihmb2xkZXJSZXN1bHQuZXJyb3IgfHwgXCJGYWlsZWQgdG8gZW5zdXJlIGZvbGRlciBleGlzdHMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpbGVOYW1lID0gZ2VuZXJhdGVDb252ZXJzYXRpb25GaWxlTmFtZShcbiAgICAgICAgICAgIGNoYXRUaXRsZSxcbiAgICAgICAgICAgIGNyZWF0ZVRpbWUsXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGREYXRlUHJlZml4LFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdFxuICAgICAgICApICsgXCIubWRcIjtcblxuICAgICAgICBsZXQgZmlsZVBhdGggPSBgJHtmb2xkZXJQYXRofS8ke2ZpbGVOYW1lfWA7XG4gICAgICAgIGlmIChhd2FpdCBkb2VzRmlsZVBhdGhFeGlzdChmaWxlUGF0aCwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0KSkge1xuICAgICAgICAgICAgZmlsZVBhdGggPSBhd2FpdCBnZW5lcmF0ZVVuaXF1ZUZpbGVOYW1lKGZpbGVQYXRoLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsZVBhdGg7XG4gICAgfVxuXG4gICAgZ2V0Q291bnRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBhdHRhY2htZW50IHN0YXRpc3RpY3MgZnJvbSBwcm9jZXNzZWQgbWVzc2FnZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbGN1bGF0ZUF0dGFjaG1lbnRTdGF0cyhtZXNzYWdlczogU3RhbmRhcmRNZXNzYWdlW10pOiB7IHRvdGFsOiBudW1iZXI7IGZvdW5kOiBudW1iZXI7IG1pc3Npbmc6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfSB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0geyB0b3RhbDogMCwgZm91bmQ6IDAsIG1pc3Npbmc6IDAsIGZhaWxlZDogMCB9O1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5hdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0YWNobWVudCBvZiBtZXNzYWdlLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLnRvdGFsKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRhY2htZW50LnN0YXR1cz8uZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLmZvdW5kKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0YWNobWVudC5zdGF0dXM/LnJlYXNvbiA9PT0gJ21pc3NpbmdfZnJvbV9leHBvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0cy5taXNzaW5nKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0YWNobWVudC5zdGF0dXM/LnJlYXNvbiA9PT0gJ2V4dHJhY3Rpb25fZmFpbGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMuZmFpbGVkKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzdGF0cztcbiAgICB9XG59IiwgIi8vIHNyYy9mb3JtYXR0ZXJzL21lc3NhZ2UtZm9ybWF0dGVyLnRzXG5pbXBvcnQgeyBTdGFuZGFyZE1lc3NhZ2UsIFN0YW5kYXJkQXR0YWNobWVudCB9IGZyb20gXCIuLi90eXBlcy9zdGFuZGFyZFwiO1xuaW1wb3J0IHsgZm9ybWF0VGltZXN0YW1wIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlRm9ybWF0dGVyIHtcbiAgICAvLyBOZXh1cyBjdXN0b20gY2FsbG91dHMgd2l0aCBpY29uc1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENBTExPVVRTID0ge1xuICAgICAgICBVU0VSOiAnbmV4dXNfdXNlcicsICAgICAgICAgLy8gXHVEODNEXHVEQzY0IFVzZXIgbWVzc2FnZXNcbiAgICAgICAgQUdFTlQ6ICduZXh1c19hZ2VudCcsICAgICAgIC8vIFx1RDgzRVx1REQxNiBBc3Npc3RhbnQvQWdlbnQgbWVzc2FnZXNcbiAgICAgICAgQVRUQUNITUVOVDogJ25leHVzX2F0dGFjaG1lbnQnLCAvLyBcdUQ4M0RcdURDQ0UgQXR0YWNobWVudHNcbiAgICAgICAgQVJUSUZBQ1Q6ICduZXh1c19hcnRpZmFjdCcsICAgICAvLyBcdUQ4M0RcdURFRTBcdUZFMEYgQ2xhdWRlIGFydGlmYWN0c1xuICAgICAgICBQUk9NUFQ6ICduZXh1c19wcm9tcHQnICAgICAgICAgIC8vIFx1RDgzRFx1RENBRCBTeXN0ZW0gcHJvbXB0c1xuICAgIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGxvZ2dlcjogTG9nZ2VyKSB7fVxuXG4gICAgZm9ybWF0TWVzc2FnZXMobWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzXG4gICAgICAgICAgICAuZmlsdGVyKG1lc3NhZ2UgPT4gbWVzc2FnZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgLm1hcChtZXNzYWdlID0+IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlKSlcbiAgICAgICAgICAgIC5maWx0ZXIoZm9ybWF0dGVkTWVzc2FnZSA9PiBmb3JtYXR0ZWRNZXNzYWdlICE9PSBcIlwiKVxuICAgICAgICAgICAgLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgfVxuXG4gICAgZm9ybWF0TWVzc2FnZShtZXNzYWdlOiBTdGFuZGFyZE1lc3NhZ2UpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiTWVzc2FnZSBpcyBudWxsIG9yIHVuZGVmaW5lZDpcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUaW1lID1cbiAgICAgICAgICAgIGZvcm1hdFRpbWVzdGFtcChtZXNzYWdlLnRpbWVzdGFtcCwgXCJkYXRlXCIpICtcbiAgICAgICAgICAgIFwiIGF0IFwiICtcbiAgICAgICAgICAgIGZvcm1hdFRpbWVzdGFtcChtZXNzYWdlLnRpbWVzdGFtcCwgXCJ0aW1lXCIpO1xuXG4gICAgICAgIGNvbnN0IGF1dGhvck5hbWUgPSBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiID8gXCJVc2VyXCIgOiBcIkFzc2lzdGFudFwiO1xuICAgICAgICBjb25zdCBjYWxsb3V0VHlwZSA9IG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgPyBNZXNzYWdlRm9ybWF0dGVyLkNBTExPVVRTLlVTRVIgOiBNZXNzYWdlRm9ybWF0dGVyLkNBTExPVVRTLkFHRU5UO1xuXG4gICAgICAgIC8vIENyZWF0ZSBjYWxsb3V0IHdpdGggdGltZXN0YW1wIGFuZCBjb250ZW50XG4gICAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGA+WyEke2NhbGxvdXRUeXBlfV0gKioke2F1dGhvck5hbWV9KiogLSAke21lc3NhZ2VUaW1lfVxcbmA7XG5cbiAgICAgICAgLy8gRm9ybWF0IG1haW4gbWVzc2FnZSBjb250ZW50XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIC8vIEFkZCBjb250ZW50IGluc2lkZSB0aGUgY2FsbG91dCAobm8gbmVlZCBmb3IgcXVvdGUgY2hhcnMpXG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCArPSBgPiAke21lc3NhZ2UuY29udGVudC5zcGxpdChcIlxcblwiKS5qb2luKFwiXFxuPiBcIil9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50ICs9IGA+IFtObyBjb250ZW50IGZvdW5kXWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3JtYXQgYXR0YWNobWVudHMgaWYgYW55XG4gICAgICAgIGlmIChtZXNzYWdlLmF0dGFjaG1lbnRzICYmIG1lc3NhZ2UuYXR0YWNobWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgKz0gXCJcXG5cXG5cIiArIHRoaXMuZm9ybWF0QXR0YWNobWVudHMobWVzc2FnZS5hdHRhY2htZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgVUlEIGZvciB1cGRhdGUgdHJhY2tpbmdcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgKz0gYFxcbjwhLS0gVUlEOiAke21lc3NhZ2UuaWR9IC0tPlxcbmA7XG5cbiAgICAgICAgLy8gQWRkIHNlcGFyYXRvciBmb3IgYXNzaXN0YW50IG1lc3NhZ2VzXG4gICAgICAgIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50ICs9IFwiXFxuLS0tXFxuXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZUNvbnRlbnQgKyBcIlxcblxcblwiO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0QXR0YWNobWVudHMoYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnRzLm1hcChhdHRhY2htZW50ID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFNpbmdsZUF0dGFjaG1lbnQoYXR0YWNobWVudCk7XG4gICAgICAgIH0pLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHNpbmdsZSBhdHRhY2htZW50IHdpdGggTmV4dXMgY2FsbG91dCBzdHlsaW5nXG4gICAgICovXG4gICAgcHJpdmF0ZSBmb3JtYXRTaW5nbGVBdHRhY2htZW50KGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudCk6IHN0cmluZyB7XG4gICAgICAgIC8vIEZvciBDbGF1ZGUgYXR0YWNobWVudHMsIGNoZWNrIGlmIGFscmVhZHkgZm9ybWF0dGVkIGFzIGNhbGxvdXRcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuZXh0cmFjdGVkQ29udGVudCAmJiBhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQuaW5jbHVkZXMoJ25leHVzX2F0dGFjaG1lbnQnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnQuZXh0cmFjdGVkQ29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhdHRhY2htZW50IGNhbGxvdXRcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBgPlshJHtNZXNzYWdlRm9ybWF0dGVyLkNBTExPVVRTLkFUVEFDSE1FTlR9XSBgO1xuXG4gICAgICAgIC8vIFN0YXR1cy1hd2FyZSBoZWFkZXJcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuc3RhdHVzPy5mb3VuZCkge1xuICAgICAgICAgICAgY29udGVudCArPSBgKioke2F0dGFjaG1lbnQuZmlsZU5hbWV9KipgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGVudCArPSBgKioke2F0dGFjaG1lbnQuZmlsZU5hbWV9KiogKihtaXNzaW5nKSpgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGZpbGUgbWV0YWRhdGFcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuZmlsZVR5cGUpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYCAoJHthdHRhY2htZW50LmZpbGVUeXBlfSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuZmlsZVNpemUpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYCAtICR7dGhpcy5mb3JtYXRGaWxlU2l6ZShhdHRhY2htZW50LmZpbGVTaXplKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudCArPSAnXFxuJztcblxuICAgICAgICAvLyBIYW5kbGUgc3VjY2Vzc2Z1bCBleHRyYWN0aW9uXG4gICAgICAgIGlmIChhdHRhY2htZW50LnN0YXR1cz8uZm91bmQgJiYgYXR0YWNobWVudC51cmwpIHtcbiAgICAgICAgICAgIC8vIFNraXAgc2FuZGJveDovLyBVUkxzIC0gdGhleSBkb24ndCB3b3JrIGluIE9ic2lkaWFuXG4gICAgICAgICAgICBpZiAoIWF0dGFjaG1lbnQudXJsLnN0YXJ0c1dpdGgoJ3NhbmRib3g6Ly8nKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSW1hZ2VGaWxlKGF0dGFjaG1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gIVtbJHthdHRhY2htZW50LnVybH1dXWA7IC8vIEVtYmVkIGltYWdlc1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gW1ske2F0dGFjaG1lbnQudXJsfV1dYDsgLy8gTGluayBkb2N1bWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNhbmRib3ggVVJMIC0gZXhwbGFpbiB0byB1c2VyXG4gICAgICAgICAgICAgICAgY29udGVudCArPSBgPiBcdTI2QTBcdUZFMEYgRmlsZSBub3QgYXZhaWxhYmxlIGluIGFyY2hpdmUuIFZpc2l0IHRoZSBvcmlnaW5hbCBjb252ZXJzYXRpb24gdG8gYWNjZXNzIGl0YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBtaXNzaW5nL2ZhaWxlZCBhdHRhY2htZW50cyB3aXRoIGluZm9ybWF0aXZlIG5vdGVzXG4gICAgICAgIGVsc2UgaWYgKGF0dGFjaG1lbnQuc3RhdHVzICYmICFhdHRhY2htZW50LnN0YXR1cy5mb3VuZCkge1xuICAgICAgICAgICAgY29udGVudCArPSBgPiBcdTI2QTBcdUZFMEYgJHt0aGlzLmdldFN0YXR1c01lc3NhZ2UoYXR0YWNobWVudC5zdGF0dXMucmVhc29uKX1gO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC5zdGF0dXMubm90ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gYFxcbj4gKipOb3RlOioqICR7YXR0YWNobWVudC5zdGF0dXMubm90ZX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgbGluayB0byBvcmlnaW5hbCBjb252ZXJzYXRpb24gZm9yIG1pc3NpbmcgYXR0YWNobWVudHNcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LnN0YXR1cy5yZWFzb24gPT09ICdtaXNzaW5nX2Zyb21fZXhwb3J0Jykge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGNvbnZlcnNhdGlvbiBVUkwgZnJvbSBhdHRhY2htZW50IG9yIHVzZSBnZW5lcmljIENoYXRHUFQgbGlua1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvblVybCA9IGF0dGFjaG1lbnQudXJsPy5pbmNsdWRlcygnY2hhdGdwdC5jb20nKVxuICAgICAgICAgICAgICAgICAgICA/IGF0dGFjaG1lbnQudXJsXG4gICAgICAgICAgICAgICAgICAgIDogJ2h0dHBzOi8vY2hhdGdwdC5jb20vJztcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IGBcXG4+IFtPcGVuIG9yaWdpbmFsIGNvbnZlcnNhdGlvbl0oJHtjb252ZXJzYXRpb25Vcmx9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgREFMTC1FIHByb21wdCBhcyBzZXBhcmF0ZSBjYWxsb3V0IChzcGVjaWFsIGNhc2UgZm9yIERBTEwtRSBpbWFnZXMpXG4gICAgICAgIGVsc2UgaWYgKGF0dGFjaG1lbnQuZXh0cmFjdGVkQ29udGVudCAmJiB0aGlzLmlzRGFsbGVJbWFnZShhdHRhY2htZW50KSkge1xuICAgICAgICAgICAgY29udGVudCArPSBgPiAke3RoaXMuaXNJbWFnZUZpbGUoYXR0YWNobWVudCkgPyAnIVtbJyArIGF0dGFjaG1lbnQudXJsICsgJ11dJyA6ICdbWycgKyBhdHRhY2htZW50LnVybCArICddXSd9YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgZXh0cmFjdGVkIGNvbnRlbnQgZm9yIG90aGVyIHR5cGVzICh0cmFuc2NyaXB0aW9ucywgT0NSLCBjb2RlLCBldGMuKVxuICAgICAgICBlbHNlIGlmIChhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gJHthdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCByYXcgY29udGVudCBmb3IgdGV4dCBmaWxlcyAtIGFsd2F5cyBzaG93IGlmIGF2YWlsYWJsZVxuICAgICAgICBlbHNlIGlmIChhdHRhY2htZW50LmNvbnRlbnQgJiYgIWF0dGFjaG1lbnQuZXh0cmFjdGVkQ29udGVudCkge1xuICAgICAgICAgICAgY29udGVudCArPSBgPiAke2F0dGFjaG1lbnQuY29udGVudH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIERBTEwtRSBwcm9tcHQgYXMgc2VwYXJhdGUgY2FsbG91dCBhZnRlciB0aGUgYXR0YWNobWVudFxuICAgICAgICBsZXQgZGFsbGVQcm9tcHQgPSAnJztcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuZXh0cmFjdGVkQ29udGVudCAmJiB0aGlzLmlzRGFsbGVJbWFnZShhdHRhY2htZW50KSkge1xuICAgICAgICAgICAgZGFsbGVQcm9tcHQgPSBgXFxuXFxuPlshJHtNZXNzYWdlRm9ybWF0dGVyLkNBTExPVVRTLlBST01QVH1dICoqREFMTC1FIFByb21wdCoqXFxuPiBcXGBcXGBcXGBcXG4+ICR7YXR0YWNobWVudC5leHRyYWN0ZWRDb250ZW50fVxcbj4gXFxgXFxgXFxgYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZW50ICsgZGFsbGVQcm9tcHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYXR0YWNobWVudCBpcyBhIERBTEwtRSBnZW5lcmF0ZWQgaW1hZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzRGFsbGVJbWFnZShhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZW5hbWUgZm9sbG93cyBEQUxMLUUgcGF0dGVybjogZGFsbGVfZ2VuSWRfd2lkdGh4aGVpZ2h0LnBuZ1xuICAgICAgICByZXR1cm4gYXR0YWNobWVudC5maWxlTmFtZS5zdGFydHNXaXRoKCdkYWxsZV8nKSAmJiBcbiAgICAgICAgICAgICAgIGF0dGFjaG1lbnQuZmlsZU5hbWUuaW5jbHVkZXMoJ18nKSAmJiBcbiAgICAgICAgICAgICAgIGF0dGFjaG1lbnQuZmlsZVR5cGUgPT09ICdpbWFnZS9wbmcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB1c2VyLWZyaWVuZGx5IHN0YXR1cyBtZXNzYWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRTdGF0dXNNZXNzYWdlKHJlYXNvbj86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAocmVhc29uKSB7XG4gICAgICAgICAgICBjYXNlICdtaXNzaW5nX2Zyb21fZXhwb3J0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ05vdCBpbmNsdWRlZCBpbiBleHBvcnQnO1xuICAgICAgICAgICAgY2FzZSAnZXh0cmFjdGlvbl9mYWlsZWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnRXh0cmFjdGlvbiBmYWlsZWQnO1xuICAgICAgICAgICAgY2FzZSAnY29ycnVwdGVkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0ZpbGUgYXBwZWFycyBjb3JydXB0ZWQnO1xuICAgICAgICAgICAgY2FzZSAndW5zdXBwb3J0ZWRfZm9ybWF0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Vuc3VwcG9ydGVkIGZpbGUgZm9ybWF0JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdQcm9jZXNzaW5nIGlzc3VlJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGF0dGFjaG1lbnQgaXMgYW4gaW1hZ2UgZmlsZSBmb3IgZW1iZWRkaW5nXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0ltYWdlRmlsZShhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQ2hlY2sgTUlNRSB0eXBlIGZpcnN0IChtb3N0IHJlbGlhYmxlKVxuICAgICAgICBpZiAoYXR0YWNobWVudC5maWxlVHlwZT8uc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gZmlsZSBleHRlbnNpb25cbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBhdHRhY2htZW50LmZpbGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGltYWdlRXh0ZW5zaW9ucyA9IFsnLnBuZycsICcuanBnJywgJy5qcGVnJywgJy5naWYnLCAnLndlYnAnLCAnLnN2ZycsICcuYm1wJywgJy50aWZmJ107XG4gICAgICAgIHJldHVybiBpbWFnZUV4dGVuc2lvbnMuc29tZShleHQgPT4gZmlsZU5hbWUuZW5kc1dpdGgoZXh0KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRGaWxlU2l6ZShieXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gICAgICAgIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEJ5dGVzJztcbiAgICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coMTAyNCkpO1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChieXRlcyAvIE1hdGgucG93KDEwMjQsIGkpICogMTAwKSAvIDEwMCArICcgJyArIHNpemVzW2ldO1xuICAgIH1cbn0iLCAiLy8gc3JjL2Zvcm1hdHRlcnMvbm90ZS1mb3JtYXR0ZXIudHNcbmltcG9ydCB7IFN0YW5kYXJkQ29udmVyc2F0aW9uIH0gZnJvbSBcIi4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBmb3JtYXRUaW1lc3RhbXAsIGdlbmVyYXRlU2FmZUFsaWFzIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBNZXNzYWdlRm9ybWF0dGVyIH0gZnJvbSBcIi4vbWVzc2FnZS1mb3JtYXR0ZXJcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7IFVSTF9HRU5FUkFUT1JTIH0gZnJvbSBcIi4uL3R5cGVzL3N0YW5kYXJkXCI7XG5cbmV4cG9ydCBjbGFzcyBOb3RlRm9ybWF0dGVyIHtcbiAgICBwcml2YXRlIG1lc3NhZ2VGb3JtYXR0ZXI6IE1lc3NhZ2VGb3JtYXR0ZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGxvZ2dlcjogTG9nZ2VyLCBwcml2YXRlIHBsdWdpbklkOiBzdHJpbmcsIHByaXZhdGUgcGx1Z2luVmVyc2lvbjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZUZvcm1hdHRlciA9IG5ldyBNZXNzYWdlRm9ybWF0dGVyKGxvZ2dlcik7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVNYXJrZG93bkNvbnRlbnQoY29udmVyc2F0aW9uOiBTdGFuZGFyZENvbnZlcnNhdGlvbik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNhZmVUaXRsZSA9IGdlbmVyYXRlU2FmZUFsaWFzKGNvbnZlcnNhdGlvbi50aXRsZSk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRpbWVTdHIgPSBgJHtmb3JtYXRUaW1lc3RhbXAoY29udmVyc2F0aW9uLmNyZWF0ZVRpbWUsIFwiZGF0ZVwiKX0gYXQgJHtmb3JtYXRUaW1lc3RhbXAoY29udmVyc2F0aW9uLmNyZWF0ZVRpbWUsIFwidGltZVwiKX1gO1xuICAgICAgICBjb25zdCB1cGRhdGVUaW1lU3RyID0gYCR7Zm9ybWF0VGltZXN0YW1wKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lLCBcImRhdGVcIil9IGF0ICR7Zm9ybWF0VGltZXN0YW1wKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lLCBcInRpbWVcIil9YDtcblxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuZ2VuZXJhdGVIZWFkZXIoc2FmZVRpdGxlLCBjb252ZXJzYXRpb24uaWQsIGNyZWF0ZVRpbWVTdHIsIHVwZGF0ZVRpbWVTdHIsIGNvbnZlcnNhdGlvbik7XG4gICAgICAgIGNvbnRlbnQgKz0gdGhpcy5nZW5lcmF0ZU1lc3NhZ2VzQ29udGVudChjb252ZXJzYXRpb24pO1xuXG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVIZWFkZXIoXG4gICAgICAgIHRpdGxlOiBzdHJpbmcsIFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLCBcbiAgICAgICAgY3JlYXRlVGltZVN0cjogc3RyaW5nLCBcbiAgICAgICAgdXBkYXRlVGltZVN0cjogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb246IFN0YW5kYXJkQ29udmVyc2F0aW9uXG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgLy8gR2VuZXJhdGUgY2hhdCBVUkxcbiAgICAgICAgbGV0IGNoYXRVcmwgPSBjb252ZXJzYXRpb24uY2hhdFVybDtcbiAgICAgICAgaWYgKCFjaGF0VXJsICYmIFVSTF9HRU5FUkFUT1JTW2NvbnZlcnNhdGlvbi5wcm92aWRlcl0pIHtcbiAgICAgICAgICAgIGNoYXRVcmwgPSBVUkxfR0VORVJBVE9SU1tjb252ZXJzYXRpb24ucHJvdmlkZXJdLmdlbmVyYXRlQ2hhdFVybChjb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCdWlsZCBmcm9udG1hdHRlciB3aXRoIHBsdWdpbl92ZXJzaW9uIGFmdGVyIG5leHVzXG4gICAgICAgIGxldCBmcm9udG1hdHRlciA9IGAtLS1cbm5leHVzOiAke3RoaXMucGx1Z2luSWR9XG5wbHVnaW5fdmVyc2lvbjogXCIke3RoaXMucGx1Z2luVmVyc2lvbn1cIlxucHJvdmlkZXI6ICR7Y29udmVyc2F0aW9uLnByb3ZpZGVyfVxuYWxpYXNlczogJHt0aXRsZX1cbmNvbnZlcnNhdGlvbl9pZDogJHtjb252ZXJzYXRpb25JZH1cbmNyZWF0ZV90aW1lOiAke2NyZWF0ZVRpbWVTdHJ9XG51cGRhdGVfdGltZTogJHt1cGRhdGVUaW1lU3RyfVxuLS0tXG5cbmA7XG5cbiAgICAgICAgLy8gQnVpbGQgaGVhZGVyIGNvbnRlbnQgLSB1c2Ugb3JpZ2luYWwgdGl0bGUgZm9yIGRpc3BsYXksIHNhZmUgdGl0bGUgZm9yIGZyb250bWF0dGVyXG4gICAgICAgIGxldCBoZWFkZXIgPSBgIyBUaXRsZTogJHtjb252ZXJzYXRpb24udGl0bGV9XFxuXFxuYDtcbiAgICAgICAgaGVhZGVyICs9IGBDcmVhdGVkOiAke2NyZWF0ZVRpbWVTdHJ9XFxuYDtcbiAgICAgICAgaGVhZGVyICs9IGBMYXN0IFVwZGF0ZWQ6ICR7dXBkYXRlVGltZVN0cn1cXG5gO1xuXG4gICAgICAgIGlmIChjaGF0VXJsKSB7XG4gICAgICAgICAgICBoZWFkZXIgKz0gYENoYXQgVVJMOiAke2NoYXRVcmx9XFxuYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlciArPSAnXFxuXFxuJztcblxuICAgICAgICByZXR1cm4gZnJvbnRtYXR0ZXIgKyBoZWFkZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZU1lc3NhZ2VzQ29udGVudChjb252ZXJzYXRpb246IFN0YW5kYXJkQ29udmVyc2F0aW9uKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZUZvcm1hdHRlci5mb3JtYXRNZXNzYWdlcyhjb252ZXJzYXRpb24ubWVzc2FnZXMpO1xuICAgIH1cbn0iLCAiLy8gc3JjL3R5cGVzL3N0YW5kYXJkLnRzXG5cbi8qKlxuICogQXR0YWNobWVudCBwcm9jZXNzaW5nIHN0YXR1c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEF0dGFjaG1lbnRTdGF0dXMge1xuICAgIHByb2Nlc3NlZDogYm9vbGVhbjtcbiAgICBmb3VuZDogYm9vbGVhbjtcbiAgICBsb2NhbFBhdGg/OiBzdHJpbmc7XG4gICAgcmVhc29uPzogJ21pc3NpbmdfZnJvbV9leHBvcnQnIHwgJ2NvcnJ1cHRlZCcgfCAndW5zdXBwb3J0ZWRfZm9ybWF0JyB8ICdleHRyYWN0aW9uX2ZhaWxlZCc7XG4gICAgbm90ZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBQcm92aWRlci1hZ25vc3RpYyBhdHRhY2htZW50IGludGVyZmFjZSB3aXRoIHN0YXR1cyB0cmFja2luZ1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YW5kYXJkQXR0YWNobWVudCB7XG4gICAgZmlsZU5hbWU6IHN0cmluZztcbiAgICBmaWxlU2l6ZT86IG51bWJlcjtcbiAgICBmaWxlVHlwZT86IHN0cmluZztcbiAgICBjb250ZW50Pzogc3RyaW5nOyAvLyBGb3IgdGV4dCBmaWxlcywgY29kZSwgZXRjLlxuICAgIGV4dHJhY3RlZENvbnRlbnQ/OiBzdHJpbmc7IC8vIEZvciBwcm9jZXNzZWQgY29udGVudCAoT0NSLCB0cmFuc2NyaXB0aW9ucylcbiAgICB1cmw/OiBzdHJpbmc7IC8vIEZvciBsaW5rZWQgYXR0YWNobWVudHNcbiAgICBmaWxlSWQ/OiBzdHJpbmc7IC8vIFByb3ZpZGVyLXNwZWNpZmljIGZpbGUgSUQgKGZvciBaSVAgbG9va3VwKVxuICAgIFxuICAgIC8vIEF0dGFjaG1lbnQgcHJvY2Vzc2luZyBzdGF0dXNcbiAgICBzdGF0dXM/OiBBdHRhY2htZW50U3RhdHVzO1xufVxuXG4vKipcbiAqIFByb3ZpZGVyLWFnbm9zdGljIG1lc3NhZ2UgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhbmRhcmRNZXNzYWdlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICAgIGNvbnRlbnQ6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjsgLy8gVW5peCB0aW1lc3RhbXBcbiAgICBhdHRhY2htZW50cz86IFN0YW5kYXJkQXR0YWNobWVudFtdO1xufVxuXG4vKipcbiAqIFByb3ZpZGVyLWFnbm9zdGljIGNvbnZlcnNhdGlvbiBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFuZGFyZENvbnZlcnNhdGlvbiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7IC8vICdjaGF0Z3B0JywgJ2NsYXVkZScsIGV0Yy5cbiAgICBjcmVhdGVUaW1lOiBudW1iZXI7IC8vIFVuaXggdGltZXN0YW1wXG4gICAgdXBkYXRlVGltZTogbnVtYmVyOyAvLyBVbml4IHRpbWVzdGFtcFxuICAgIG1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXTtcbiAgICBjaGF0VXJsPzogc3RyaW5nOyAvLyBQcm92aWRlci1zcGVjaWZpYyBVUkxcbiAgICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47IC8vIFByb3ZpZGVyLXNwZWNpZmljIGV4dHJhIGRhdGFcbiAgICBwbHVnaW5fdmVyc2lvbj86IHN0cmluZzsgLy8gVmVyc2lvbiBvZiBwbHVnaW4gdGhhdCBjcmVhdGVkL2xhc3QgbW9kaWZpZWQgdGhpcyBjb252ZXJzYXRpb25cbn1cblxuLyoqXG4gKiBVUkwgZ2VuZXJhdG9yIGludGVyZmFjZSAtIHByb3ZpZGVycyBpbXBsZW1lbnQgdGhpc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVybEdlbmVyYXRvciB7XG4gICAgZ2VuZXJhdGVDaGF0VXJsKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gVVJMIGdlbmVyYXRvcnMgZm9yIGNvbW1vbiBwcm92aWRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IFVSTF9HRU5FUkFUT1JTOiBSZWNvcmQ8c3RyaW5nLCBVcmxHZW5lcmF0b3I+ID0ge1xuICAgIGNoYXRncHQ6IHtcbiAgICAgICAgZ2VuZXJhdGVDaGF0VXJsOiAoaWQ6IHN0cmluZykgPT4gYGh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2MvJHtpZH1gXG4gICAgfSxcbiAgICBjbGF1ZGU6IHtcbiAgICAgICAgZ2VuZXJhdGVDaGF0VXJsOiAoaWQ6IHN0cmluZykgPT4gYGh0dHBzOi8vY2xhdWRlLmFpL2NoYXQvJHtpZH1gXG4gICAgfVxufTtcblxuLyoqXG4gKiBQcm92aWRlci1zcGVjaWZpYyByZXBvcnQgbmFtaW5nIHN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0TmFtaW5nU3RyYXRlZ3kge1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgcmVwb3J0IHByZWZpeCBmcm9tIGFyY2hpdmUgZmlsZW5hbWVcbiAgICAgKiBAcGFyYW0gemlwRmlsZU5hbWUgLSBOYW1lIG9mIHRoZSBpbXBvcnRlZCBaSVAgZmlsZVxuICAgICAqIEByZXR1cm5zIHByZWZpeCBmb3IgcmVwb3J0IG5hbWluZyAoZS5nLiwgXCIyMDI1LjA0LjI1XCIpXG4gICAgICovXG4gICAgZXh0cmFjdFJlcG9ydFByZWZpeCh6aXBGaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHByb3ZpZGVyIG5hbWUgZm9yIGZvbGRlciBvcmdhbml6YXRpb25cbiAgICAgKiBAcmV0dXJucyBwcm92aWRlciBuYW1lIChlLmcuLCBcImNoYXRncHRcIiwgXCJjbGF1ZGVcIilcbiAgICAgKi9cbiAgICBnZXRQcm92aWRlck5hbWUoKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHByb3ZpZGVyLXNwZWNpZmljIGNvbHVtbiBpbmZvIGZvciByZXBvcnRzXG4gICAgICogQHJldHVybnMgY29sdW1uIGhlYWRlciBhbmQgdmFsdWUgZXh0cmFjdG9yXG4gICAgICovXG4gICAgZ2V0UHJvdmlkZXJTcGVjaWZpY0NvbHVtbigpOiB7XG4gICAgICAgIGhlYWRlcjogc3RyaW5nO1xuICAgICAgICBnZXRWYWx1ZTogKGFkYXB0ZXI6IGFueSwgY2hhdDogYW55KSA9PiBudW1iZXI7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXBvcnQgZ2VuZXJhdGlvbiBpbmZvIHJldHVybmVkIGJ5IHByb3ZpZGVyc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcG9ydEdlbmVyYXRpb25JbmZvIHtcbiAgICBwcm92aWRlcjogc3RyaW5nO1xuICAgIHByZWZpeDogc3RyaW5nO1xuICAgIGZvbGRlclBhdGg6IHN0cmluZzsgIC8vIGUuZy4sIFwiUmVwb3J0cy9jaGF0Z3B0XCJcbiAgICBiYXNlRmlsZU5hbWU6IHN0cmluZzsgLy8gZS5nLiwgXCIyMDI1LjA0LjI1IC0gaW1wb3J0IHJlcG9ydC5tZFwiXG59IiwgIi8vIHNyYy9zZXJ2aWNlcy9maWxlLXNlcnZpY2UudHNcbmltcG9ydCB7IFRGaWxlLCBURm9sZGVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDb252ZXJzYXRpb25DYXRhbG9nRW50cnkgfSBmcm9tIFwiLi4vdHlwZXMvcGx1Z2luXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBGaWxlU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4pIHt9XG5cbiAgICBhc3luYyB3cml0ZVRvRmlsZShmaWxlUGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcblxuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgY29udGVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgd3JpdGUgdG8gJyR7ZmlsZVBhdGh9JzsgaXQgaXMgYSBmb2xkZXIuYCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoYEVycm9yIGNyZWF0aW5nIG9yIG1vZGlmeWluZyBmaWxlICcke2ZpbGVQYXRofSdgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlQ29udmVyc2F0aW9uRmlsZURlbGV0aW9uKGZpbGU6IFRGaWxlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgTmV4dXMgY29udmVyc2F0aW9uIGZpbGVcbiAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyID0gdGhpcy5wbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpPy5mcm9udG1hdHRlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlcj8uY29udmVyc2F0aW9uX2lkIHx8IGZyb250bWF0dGVyPy5uZXh1cyAhPT0gdGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIE5vdCBhIE5leHVzIGNvbnZlcnNhdGlvbiBmaWxlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGNvbnZlcnNhdGlvbiBjYXRhbG9nXG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5wbHVnaW4uZ2V0U3RvcmFnZVNlcnZpY2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhdGFsb2cgPSBzdG9yYWdlLmdldENvbnZlcnNhdGlvbkNhdGFsb2coKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBbaWQsIHJlY29yZF0gb2YgT2JqZWN0LmVudHJpZXMoY2F0YWxvZykgYXMgW3N0cmluZywgQ29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5XVtdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5jb252ZXJzYXRpb25JZCA9PT0gZnJvbnRtYXR0ZXIuY29udmVyc2F0aW9uX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UuZGVsZXRlRnJvbUNvbnZlcnNhdGlvbkNhdGFsb2coaWQpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiRXJyb3IgaGFuZGxpbmcgY29udmVyc2F0aW9uIGZpbGUgZGVsZXRpb246XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmaWxlIGV4dGVuc2lvbiBmcm9tIGZpbGVuYW1lIChwcm92aWRlci1hZ25vc3RpYyB1dGlsaXR5KVxuICAgICAqL1xuICAgIGdldEZpbGVFeHRlbnNpb24oZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxhc3REb3QgPSBmaWxlTmFtZS5sYXN0SW5kZXhPZignLicpO1xuICAgICAgICByZXR1cm4gbGFzdERvdCA9PT0gLTEgPyAnJyA6IGZpbGVOYW1lLnN1YnN0cmluZyhsYXN0RG90ICsgMSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBGdXR1cmUgZW5oYW5jZW1lbnQgLSBkZWxldGUgY29udmVyc2F0aW9uIGF0dGFjaG1lbnRzXG4gICAgLy8gYXN5bmMgZGVsZXRlQ29udmVyc2F0aW9uQXR0YWNobWVudHMoY29udmVyc2F0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vICAgICAvLyBJbXBsZW1lbnRhdGlvbiBmb3IgZGVsZXRpbmcgYXR0YWNobWVudHMgd2hlbiBjb252ZXJzYXRpb24gaXMgZGVsZXRlZFxuICAgIC8vIH1cbn0iLCAiLy8gc3JjL21vZGVscy9lcnJvcnMudHNcbmV4cG9ydCBjbGFzcyBOZXh1c0FpQ2hhdEltcG9ydGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBwdWJsaWMgZGV0YWlscz86IGFueSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJOZXh1c0FpQ2hhdEltcG9ydGVyRXJyb3JcIjtcbiAgICB9XG59IiwgIi8vIHNyYy9wcm92aWRlcnMvcHJvdmlkZXItYWRhcHRlci50c1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuaW1wb3J0IHsgUmVwb3J0TmFtaW5nU3RyYXRlZ3ksIFN0YW5kYXJkQ29udmVyc2F0aW9uLCBTdGFuZGFyZE1lc3NhZ2UsIFN0YW5kYXJkQXR0YWNobWVudCB9IGZyb20gXCIuLi90eXBlcy9zdGFuZGFyZFwiO1xuXG4vLyBNaW5pbWFsIHByb3ZpZGVyLWFnbm9zdGljIGFkYXB0ZXIgY29udHJhY3RcbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJBZGFwdGVyPFRDaGF0ID0gYW55PiB7XG4gIC8vIElkZW50aWZ5IHByb3ZpZGVyIGZyb20gcmF3IGNvbnZlcnNhdGlvbiBzYW1wbGVcbiAgZGV0ZWN0KHJhd0NvbnZlcnNhdGlvbnM6IGFueVtdKTogYm9vbGVhbjtcblxuICAvLyBCYXNpYyBjaGF0IGFjY2Vzc29yc1xuICBnZXRJZChjaGF0OiBUQ2hhdCk6IHN0cmluZztcbiAgZ2V0VGl0bGUoY2hhdDogVENoYXQpOiBzdHJpbmc7XG4gIGdldENyZWF0ZVRpbWUoY2hhdDogVENoYXQpOiBudW1iZXI7IC8vIHVuaXggc2Vjb25kc1xuICBnZXRVcGRhdGVUaW1lKGNoYXQ6IFRDaGF0KTogbnVtYmVyOyAvLyB1bml4IHNlY29uZHNcblxuICAvLyBDb252ZXJzaW9uXG4gIGNvbnZlcnRDaGF0KGNoYXQ6IFRDaGF0KTogU3RhbmRhcmRDb252ZXJzYXRpb24gfCBQcm9taXNlPFN0YW5kYXJkQ29udmVyc2F0aW9uPjtcbiAgY29udmVydE1lc3NhZ2VzKG1lc3NhZ2VzOiBhbnlbXSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcpOiBTdGFuZGFyZE1lc3NhZ2VbXSB8IFByb21pc2U8U3RhbmRhcmRNZXNzYWdlW10+O1xuXG4gIC8vIERldGVybWluZSB3aGljaCBwcm92aWRlciBuYW1lIHRvIHNldCBpbiBTdGFuZGFyZENvbnZlcnNhdGlvblxuICBnZXRQcm92aWRlck5hbWUoKTogc3RyaW5nOyAvLyBlLmcuLCAnY2hhdGdwdCcsICdjbGF1ZGUnXG5cbiAgLy8gTmV3IG1lc3NhZ2VzIGRldGVjdGlvbiBnaXZlbiBleGlzdGluZyBtZXNzYWdlIElEcyBleHRyYWN0ZWQgZnJvbSBub3RlXG4gIGdldE5ld01lc3NhZ2VzKGNoYXQ6IFRDaGF0LCBleGlzdGluZ01lc3NhZ2VJZHM6IHN0cmluZ1tdKTogYW55W107XG5cbiAgLy8gQXR0YWNobWVudCBwcm9jZXNzaW5nIChiZXN0LWVmZm9ydCk7IHJldHVybiBtZXNzYWdlcyB3aXRoIHVwZGF0ZWQgYXR0YWNobWVudHNcbiAgcHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cz8oXG4gICAgbWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdLFxuICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgemlwOiBKU1ppcFxuICApOiBQcm9taXNlPFN0YW5kYXJkTWVzc2FnZVtdPjtcblxuICAvLyBSZXBvcnQgbmFtaW5nIHN0cmF0ZWd5IGZvciB0aGlzIHByb3ZpZGVyXG4gIGdldFJlcG9ydE5hbWluZ1N0cmF0ZWd5KCk6IFJlcG9ydE5hbWluZ1N0cmF0ZWd5O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVyUmVnaXN0cnkge1xuICAvLyBSZXR1cm4gYWRhcHRlciBmb3IgYSBwcm92aWRlciBuYW1lXG4gIGdldEFkYXB0ZXIocHJvdmlkZXI6IHN0cmluZyk6IFByb3ZpZGVyQWRhcHRlciB8IHVuZGVmaW5lZDtcblxuICAvLyBEZXRlY3Qgd2hpY2ggYWRhcHRlciBtYXRjaGVzIHJhdyBkYXRhOyByZXR1cm4gcHJvdmlkZXIgbmFtZVxuICBkZXRlY3RQcm92aWRlcihyYXdDb252ZXJzYXRpb25zOiBhbnlbXSk6IHN0cmluZyB8ICd1bmtub3duJztcbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5IGltcGxlbWVudHMgUHJvdmlkZXJSZWdpc3RyeSB7XG4gIHByaXZhdGUgYWRhcHRlcnM6IFJlY29yZDxzdHJpbmcsIFByb3ZpZGVyQWRhcHRlcj4gPSB7fTtcblxuICByZWdpc3Rlcihwcm92aWRlck5hbWU6IHN0cmluZywgYWRhcHRlcjogUHJvdmlkZXJBZGFwdGVyKSB7XG4gICAgdGhpcy5hZGFwdGVyc1twcm92aWRlck5hbWVdID0gYWRhcHRlcjtcbiAgfVxuXG4gIGdldEFkYXB0ZXIocHJvdmlkZXI6IHN0cmluZyk6IFByb3ZpZGVyQWRhcHRlciB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlcnNbcHJvdmlkZXJdO1xuICB9XG5cbiAgZGV0ZWN0UHJvdmlkZXIocmF3Q29udmVyc2F0aW9uczogYW55W10pOiBzdHJpbmcgfCAndW5rbm93bicge1xuICAgIGZvciAoY29uc3QgW25hbWUsIGFkYXB0ZXJdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuYWRhcHRlcnMpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoYWRhcHRlci5kZXRlY3QocmF3Q29udmVyc2F0aW9ucykpIHJldHVybiBuYW1lO1xuICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAvLyBpZ25vcmUgYW5kIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAndW5rbm93bic7XG4gIH1cbn1cblxuIiwgIi8vIHNyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LWNvbnZlcnRlci50c1xuaW1wb3J0IHsgQ2hhdCwgQ2hhdE1lc3NhZ2UgfSBmcm9tIFwiLi9jaGF0Z3B0LXR5cGVzXCI7XG5pbXBvcnQgeyBTdGFuZGFyZENvbnZlcnNhdGlvbiwgU3RhbmRhcmRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBpc1ZhbGlkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2hhdEdQVENvbnZlcnRlciB7XG4gICAgLyoqXG4gICAgICogQ29udmVydCBDaGF0R1BUIENoYXQgdG8gU3RhbmRhcmRDb252ZXJzYXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgY29udmVydENoYXQoY2hhdDogQ2hhdCk6IFN0YW5kYXJkQ29udmVyc2F0aW9uIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmV4dHJhY3RNZXNzYWdlc0Zyb21NYXBwaW5nKGNoYXQpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBjaGF0LmlkIHx8IFwiXCIsXG4gICAgICAgICAgICB0aXRsZTogY2hhdC50aXRsZSB8fCBcIlVudGl0bGVkXCIsXG4gICAgICAgICAgICBwcm92aWRlcjogXCJjaGF0Z3B0XCIsXG4gICAgICAgICAgICBjcmVhdGVUaW1lOiBjaGF0LmNyZWF0ZV90aW1lIHx8IDAsXG4gICAgICAgICAgICB1cGRhdGVUaW1lOiBjaGF0LnVwZGF0ZV90aW1lIHx8IDAsXG4gICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl90ZW1wbGF0ZV9pZDogY2hhdC5jb252ZXJzYXRpb25fdGVtcGxhdGVfaWQsXG4gICAgICAgICAgICAgICAgZ2l6bW9faWQ6IGNoYXQuZ2l6bW9faWQsXG4gICAgICAgICAgICAgICAgZ2l6bW9fdHlwZTogY2hhdC5naXptb190eXBlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRfbW9kZWxfc2x1ZzogY2hhdC5kZWZhdWx0X21vZGVsX3NsdWcsXG4gICAgICAgICAgICAgICAgaXNfYXJjaGl2ZWQ6IGNoYXQuaXNfYXJjaGl2ZWQsXG4gICAgICAgICAgICAgICAgaXNfc3RhcnJlZDogY2hhdC5pc19zdGFycmVkLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRfbm9kZTogY2hhdC5jdXJyZW50X25vZGUsXG4gICAgICAgICAgICAgICAgbWVtb3J5X3Njb3BlOiBjaGF0Lm1lbW9yeV9zY29wZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYXJyYXkgb2YgQ2hhdEdQVCBDaGF0TWVzc2FnZXMgdG8gU3RhbmRhcmRNZXNzYWdlc1xuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXJ0TWVzc2FnZXMoY2hhdE1lc3NhZ2VzOiBDaGF0TWVzc2FnZVtdLCBjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IFN0YW5kYXJkTWVzc2FnZVtdIHtcbiAgICAgICAgcmV0dXJuIGNoYXRNZXNzYWdlc1xuICAgICAgICAgICAgLmZpbHRlcihtc2cgPT4gaXNWYWxpZE1lc3NhZ2UobXNnKSlcbiAgICAgICAgICAgIC5tYXAobXNnID0+IHRoaXMuY29udmVydE1lc3NhZ2UobXNnLCBjb252ZXJzYXRpb25JZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgc2luZ2xlIENoYXRHUFQgQ2hhdE1lc3NhZ2UgdG8gU3RhbmRhcmRNZXNzYWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgY29udmVydE1lc3NhZ2UoY2hhdE1lc3NhZ2U6IENoYXRNZXNzYWdlLCBjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IFN0YW5kYXJkTWVzc2FnZSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRSZXN1bHQgPSB0aGlzLmV4dHJhY3RDb250ZW50KGNoYXRNZXNzYWdlLCBjb252ZXJzYXRpb25JZCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBjaGF0TWVzc2FnZS5pZCB8fCBcIlwiLFxuICAgICAgICAgICAgcm9sZTogY2hhdE1lc3NhZ2UuYXV0aG9yPy5yb2xlID09PSBcInVzZXJcIiA/IFwidXNlclwiIDogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRSZXN1bHQuY29udGVudCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogY2hhdE1lc3NhZ2UuY3JlYXRlX3RpbWUgfHwgMCxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBjb250ZW50UmVzdWx0LmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBtZXNzYWdlcyBmcm9tIENoYXRHUFQgbWFwcGluZyBzdHJ1Y3R1cmUgd2l0aCBEQUxMLUUgcHJvbXB0IGFzc29jaWF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXh0cmFjdE1lc3NhZ2VzRnJvbU1hcHBpbmcoY2hhdDogQ2hhdCk6IFN0YW5kYXJkTWVzc2FnZVtdIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdID0gW107XG4gICAgICAgIGNvbnN0IGRhbGxlUHJvbXB0cyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7IC8vIE1hcCB0b29sIG1lc3NhZ2UgSUQgdG8gcHJvbXB0XG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbklkID0gY2hhdC5pZDsgLy8gUGFzcyBjb252ZXJzYXRpb24gSUQgZm9yIHNtYXJ0IGxpbmtpbmdcbiAgICAgICAgXG4gICAgICAgIC8vIFNJTkdMRSBQQVNTOiBFeHRyYWN0IHByb21wdHMgYW5kIHByb2Nlc3MgbWVzc2FnZXMgaW4gb25lIGdvXG4gICAgICAgIGNvbnN0IG1hcHBpbmdWYWx1ZXMgPSBPYmplY3QudmFsdWVzKGNoYXQubWFwcGluZyk7IC8vIENhY2hlIHRoZSB2YWx1ZXMgYXJyYXlcblxuICAgICAgICAvLyBGaXJzdCBwYXNzOiBFeHRyYWN0IERBTEwtRSBwcm9tcHRzIChxdWljayBzY2FuKVxuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2VPYmogb2YgbWFwcGluZ1ZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VPYmo/Lm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgbWVzc2FnZS5hdXRob3I/LnJvbGUgIT09IFwiYXNzaXN0YW50XCIpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgREFMTC1FIEpTT04gcHJvbXB0IG1lc3NhZ2VcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGFsbGVQcm9tcHRNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gdGhpcy5leHRyYWN0UHJvbXB0RnJvbUpzb24obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIHRvb2wgbWVzc2FnZSAodXN1YWxseSB0aGUgbmV4dCBjaGlsZClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBtZXNzYWdlT2JqLmNoaWxkcmVuIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkSWQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkT2JqID0gY2hhdC5tYXBwaW5nW2NoaWxkSWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkT2JqPy5tZXNzYWdlPy5hdXRob3I/LnJvbGUgPT09IFwidG9vbFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNSZWFsRGFsbGVJbWFnZShjaGlsZE9iai5tZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbGxlUHJvbXB0cy5zZXQoY2hpbGRJZCwgcHJvbXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlY29uZCBwYXNzOiBQcm9jZXNzIGFsbCBtZXNzYWdlcyAocmV1c2UgY2FjaGVkIGFycmF5KVxuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2VPYmogb2YgbWFwcGluZ1ZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VPYmo/Lm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgREFMTC1FIHRvb2wgbWVzc2FnZXMgd2l0aCBhc3NvY2lhdGVkIHByb21wdHNcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmF1dGhvcj8ucm9sZSA9PT0gXCJ0b29sXCIgJiYgdGhpcy5oYXNSZWFsRGFsbGVJbWFnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGRhbGxlUHJvbXB0cy5nZXQobWVzc2FnZU9iai5pZCB8fCBcIlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYWxsZU1lc3NhZ2UgPSB0aGlzLmNyZWF0ZURhbGxlQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlLCBwcm9tcHQpO1xuICAgICAgICAgICAgICAgIGlmIChkYWxsZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaChkYWxsZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhbmRsZSByZWd1bGFyIG1lc3NhZ2VzIChidXQgc2tpcCBEQUxMLUUgSlNPTiBwcm9tcHRzKVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2godGhpcy5jb252ZXJ0TWVzc2FnZShtZXNzYWdlLCBjb252ZXJzYXRpb25JZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTb3J0IGJ5IHRpbWVzdGFtcCB3aXRoIElEIGFzIHNlY29uZGFyeSBzb3J0IGZvciBjaHJvbm9sb2dpY2FsIG9yZGVyXG4gICAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPD0gMSkgcmV0dXJuIG1lc3NhZ2VzO1xuXG4gICAgICAgIC8vIFVzZSBuYXRpdmUgc29ydCB3aXRoIHByb3BlciBjb21wYXJpc29uIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBtZXNzYWdlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAvLyBQcmltYXJ5IHNvcnQ6IHRpbWVzdGFtcFxuICAgICAgICAgICAgaWYgKGEudGltZXN0YW1wICE9PSBiLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnRpbWVzdGFtcCAtIGIudGltZXN0YW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZWNvbmRhcnkgc29ydDogSUQgKGxleGljb2dyYXBoaWMgb3JkZXIgZm9yIHNhbWUgdGltZXN0YW1wKVxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIGNvbnNpc3RlbnQgb3JkZXJpbmcgd2hlbiBtZXNzYWdlcyBoYXZlIGlkZW50aWNhbCB0aW1lc3RhbXBzXG4gICAgICAgICAgICByZXR1cm4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBtZXNzYWdlIGlzIGEgREFMTC1FIEpTT04gcHJvbXB0IG1lc3NhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBpc0RhbGxlUHJvbXB0TWVzc2FnZShtZXNzYWdlOiBDaGF0TWVzc2FnZSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAobWVzc2FnZS5hdXRob3I/LnJvbGUgIT09IFwiYXNzaXN0YW50XCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LnBhcnRzICYmIFxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpICYmXG4gICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQucGFydHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50LnBhcnRzWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQucGFydHNbMF0udHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQuc3RhcnRzV2l0aCgneycpICYmIGNvbnRlbnQuaW5jbHVkZXMoJ1wicHJvbXB0XCInKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgcHJvbXB0IGZyb20gREFMTC1FIEpTT04gbWVzc2FnZVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGV4dHJhY3RQcm9tcHRGcm9tSnNvbihtZXNzYWdlOiBDaGF0TWVzc2FnZSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8ucGFydHMgJiYgbWVzc2FnZS5jb250ZW50LnBhcnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QganNvblN0ciA9IG1lc3NhZ2UuY29udGVudC5wYXJ0c1swXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uU3RyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkLnByb21wdCB8fCBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSW52YWxpZCBKU09OLCBpZ25vcmVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYSBtZXNzYWdlIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGUgY29udmVyc2F0aW9uIC0gRU5IQU5DRUQgVkVSU0lPTlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHNob3VsZEluY2x1ZGVNZXNzYWdlKG1lc3NhZ2U6IENoYXRNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIFNhZmV0eSBjaGVja1xuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgIW1lc3NhZ2UuYXV0aG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vID09PT09IFNUUklDVCBFWENMVVNJT05TID09PT09XG4gICAgICAgIFxuICAgICAgICAvLyAxLiBTa2lwIEFMTCBzeXN0ZW0gbWVzc2FnZXMgKGFsd2F5cyBpbnRlcm5hbCBDaGF0R1BUIHN0dWZmKVxuICAgICAgICBpZiAobWVzc2FnZS5hdXRob3Iucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyAyLiBTa2lwIEFMTCB0b29sIG1lc3NhZ2VzIChicm93c2luZywgY29kZSBleGVjdXRpb24sIGV0Yy4pXG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcInRvb2xcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyAzLiBTa2lwIGhpZGRlbiBtZXNzYWdlcyAodXNlciBwcm9maWxlLCBzeXN0ZW0gaW5zdHJ1Y3Rpb25zKVxuICAgICAgICBpZiAobWVzc2FnZS5tZXRhZGF0YT8uaXNfdmlzdWFsbHlfaGlkZGVuX2Zyb21fY29udmVyc2F0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDQuIFNraXAgdXNlciBzeXN0ZW0gbWVzc2FnZXMgKHVzZXJfZWRpdGFibGVfY29udGV4dClcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWRhdGE/LmlzX3VzZXJfc3lzdGVtX21lc3NhZ2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gNS4gU2tpcCB1c2VyX2VkaXRhYmxlX2NvbnRleHQgY29udGVudCB0eXBlXG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSA9PT0gXCJ1c2VyX2VkaXRhYmxlX2NvbnRleHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyA9PT09PSBBU1NJU1RBTlQgTUVTU0FHRSBGSUxURVJJTkcgPT09PT1cbiAgICAgICAgXG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICAgICAgICAvLyBTa2lwIGVtcHR5IGFzc2lzdGFudCBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8ucGFydHMgJiYgXG4gICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpICYmXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50LnBhcnRzLmV2ZXJ5KHBhcnQgPT4gXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXJ0ID09PSBcInN0cmluZ1wiICYmIHBhcnQudHJpbSgpID09PSBcIlwiXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2tpcCBEQUxMLUUgSlNPTiBwcm9tcHQgbWVzc2FnZXMgKGhhbmRsZWQgc2VwYXJhdGVseSlcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGFsbGVQcm9tcHRNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTa2lwIGNvZGUgZXhlY3V0aW9uIGFzc2lzdGFudCBtZXNzYWdlcyAodGhlc2UgYXJlIGludGVybWVkaWF0ZSBvdXRwdXRzKVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcImNvZGVcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2tpcCBzeXN0ZW0gZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSA9PT0gXCJzeXN0ZW1fZXJyb3JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2tpcCBleGVjdXRpb24gb3V0cHV0IG1lc3NhZ2VzICBcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSA9PT0gXCJleGVjdXRpb25fb3V0cHV0XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEtlZXAgbXVsdGltb2RhbF90ZXh0IG1lc3NhZ2VzIE9OTFkgaWYgdGhleSBoYXZlIGFjdHVhbCB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSA9PT0gXCJtdWx0aW1vZGFsX3RleHRcIikge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhcnRzIGNvbnRhaW4gYWN0dWFsIHRleHQgKG5vdCBqdXN0IG9iamVjdHMpXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8ucGFydHMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1RleHRDb250ZW50ID0gbWVzc2FnZS5jb250ZW50LnBhcnRzLnNvbWUocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsICYmICd0ZXh0JyBpbiBwYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYXJ0LnRleHQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50ZXh0LnRyaW0oKSAhPT0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1RleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFNraXAgbXVsdGltb2RhbCBtZXNzYWdlcyB3aXRob3V0IHRleHRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gPT09PT0gVVNFUiBNRVNTQUdFIEZJTFRFUklORyA9PT09PVxuICAgICAgICBcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgICAgICAvLyBVc2VyIG1lc3NhZ2VzIHNob3VsZCBnZW5lcmFsbHkgYmUga2VwdCwgYnV0IGV4Y2x1ZGUgc3BlY2lhbCBjb250ZW50IHR5cGVzXG4gICAgICAgICAgICBjb25zdCBleGNsdWRlZENvbnRlbnRUeXBlcyA9IFtcbiAgICAgICAgICAgICAgICBcInVzZXJfZWRpdGFibGVfY29udGV4dFwiIC8vIEFscmVhZHkgY292ZXJlZCBhYm92ZSBidXQgZG91YmxlLWNoZWNrXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5jb250ZW50X3R5cGUgJiYgZXhjbHVkZWRDb250ZW50VHlwZXMuaW5jbHVkZXMobWVzc2FnZS5jb250ZW50LmNvbnRlbnRfdHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vID09PT09IEZJTkFMIFZBTElEQVRJT04gPT09PT1cbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBleGlzdGluZyB2YWxpZGF0aW9uIGZvciBiYXNpYyBtZXNzYWdlIHN0cnVjdHVyZVxuICAgICAgICByZXR1cm4gaXNWYWxpZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgbWVzc2FnZSBjb250YWlucyBSRUFMIERBTEwtRSBpbWFnZSAobm90IHVzZXIgdXBsb2FkKVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGhhc1JlYWxEYWxsZUltYWdlKG1lc3NhZ2U6IENoYXRNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWVzc2FnZS5jb250ZW50Py5wYXJ0cyB8fCAhQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQucGFydHMuc29tZShwYXJ0ID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCAhPT0gXCJvYmplY3RcIiB8fCBwYXJ0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRQYXJ0ID0gcGFydCBhcyBhbnk7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudFBhcnQuY29udGVudF90eXBlID09PSBcImltYWdlX2Fzc2V0X3BvaW50ZXJcIiAmJiBcbiAgICAgICAgICAgICAgICAgICBjb250ZW50UGFydC5hc3NldF9wb2ludGVyICYmXG4gICAgICAgICAgICAgICAgICAgY29udGVudFBhcnQubWV0YWRhdGE/LmRhbGxlICYmIFxuICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQYXJ0Lm1ldGFkYXRhLmRhbGxlICE9PSBudWxsOyAvLyBSRUFMIERBTEwtRSBjaGVja1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgQXNzaXN0YW50IChEQUxMLUUpIG1lc3NhZ2UgZnJvbSB0b29sIG1lc3NhZ2Ugd2l0aCBhc3NvY2lhdGVkIHByb21wdFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGNyZWF0ZURhbGxlQXNzaXN0YW50TWVzc2FnZSh0b29sTWVzc2FnZTogQ2hhdE1lc3NhZ2UsIGFzc29jaWF0ZWRQcm9tcHQ/OiBzdHJpbmcpOiBTdGFuZGFyZE1lc3NhZ2UgfCBudWxsIHtcbiAgICAgICAgaWYgKCF0b29sTWVzc2FnZS5jb250ZW50Py5wYXJ0cyB8fCAhQXJyYXkuaXNBcnJheSh0b29sTWVzc2FnZS5jb250ZW50LnBhcnRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhdHRhY2htZW50czogYW55W10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0b29sTWVzc2FnZS5jb250ZW50LnBhcnRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwib2JqZWN0XCIgJiYgcGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRQYXJ0ID0gcGFydCBhcyBhbnk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRQYXJ0LmNvbnRlbnRfdHlwZSA9PT0gXCJpbWFnZV9hc3NldF9wb2ludGVyXCIgJiYgXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQYXJ0LmFzc2V0X3BvaW50ZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFBhcnQubWV0YWRhdGE/LmRhbGxlICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQYXJ0Lm1ldGFkYXRhLmRhbGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGZpbGUgSUQgZnJvbSBhc3NldCBwb2ludGVyXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlSWQgPSBjb250ZW50UGFydC5hc3NldF9wb2ludGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUlkLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUlkID0gZmlsZUlkLnNwbGl0KCc6Ly8nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGRlc2NyaXB0aXZlIGZpbGVuYW1lXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbklkID0gY29udGVudFBhcnQubWV0YWRhdGEuZGFsbGUuZ2VuX2lkIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBjb250ZW50UGFydC53aWR0aCB8fCAxMDI0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBjb250ZW50UGFydC5oZWlnaHQgfHwgMTAyNDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgZGFsbGVfJHtnZW5JZH1fJHt3aWR0aH14JHtoZWlnaHR9LnBuZ2A7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFsbGVBdHRhY2htZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNpemU6IGNvbnRlbnRQYXJ0LnNpemVfYnl0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZTogXCJpbWFnZS9wbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGFzc29jaWF0ZWQgcHJvbXB0IGZyb20gSlNPTiBtZXNzYWdlLCBmYWxsYmFjayB0byBtZXRhZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdGVkQ29udGVudDogYXNzb2NpYXRlZFByb21wdCB8fCBjb250ZW50UGFydC5tZXRhZGF0YS5kYWxsZS5wcm9tcHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzLnB1c2goZGFsbGVBdHRhY2htZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXR0YWNobWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdG9vbE1lc3NhZ2UuaWQgfHwgXCJcIixcbiAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIkltYWdlIGdcdTAwRTluXHUwMEU5clx1MDBFOWUgcGFyIERBTEwtRVwiLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0b29sTWVzc2FnZS5jcmVhdGVfdGltZSB8fCAwLFxuICAgICAgICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBjb250ZW50IGFuZCBhdHRhY2htZW50cyBmcm9tIENoYXRHUFQgbWVzc2FnZSBwYXJ0c1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGV4dHJhY3RDb250ZW50KGNoYXRNZXNzYWdlOiBDaGF0TWVzc2FnZSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcpOiB7Y29udGVudDogc3RyaW5nLCBhdHRhY2htZW50cz86IFN0YW5kYXJkQXR0YWNobWVudFtdfSB7XG4gICAgICAgIGlmICghY2hhdE1lc3NhZ2UuY29udGVudD8ucGFydHMgfHwgIUFycmF5LmlzQXJyYXkoY2hhdE1lc3NhZ2UuY29udGVudC5wYXJ0cykpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNvbnRlbnQ6IFwiXCIgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY2hhdE1lc3NhZ2UuY29udGVudC5wYXJ0cykge1xuICAgICAgICAgICAgbGV0IHRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcInN0cmluZ1wiICYmIHBhcnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgLy8gRklYRUQ6IENoZWNrIGlmIHN0cmluZyBjb250YWlucyBKU09OIHdpdGggdHlwZS9jb250ZW50IHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgIGlmIChwYXJ0LnRyaW0oKS5zdGFydHNXaXRoKCd7JykgJiYgcGFydC50cmltKCkuZW5kc1dpdGgoJ30nKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSAmJiBwYXJzZWQuY29udGVudCAmJiB0eXBlb2YgcGFyc2VkLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZVR5cGUgPSBwYXJzZWQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlQ29udGVudCA9IHBhcnNlZC5jb250ZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVDb250ZW50LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGxhbmd1YWdlIGZyb20gdHlwZSAoZS5nLiwgXCJjb2RlL21hcmtkb3duXCIgLT4gXCJtYXJrZG93blwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5ndWFnZSA9IGNvZGVUeXBlLmluY2x1ZGVzKCcvJykgPyBjb2RlVHlwZS5zcGxpdCgnLycpWzFdIDogY29kZVR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gYFxcYFxcYFxcYCR7bGFuZ3VhZ2V9XFxuJHtjb2RlQ29udGVudH1cXG5cXGBcXGBcXGBgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSlNPTiB3aXRob3V0IHR5cGUvY29udGVudCwgdHJlYXQgYXMgbm9ybWFsIHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdCB2YWxpZCBKU09OLCB0cmVhdCBhcyBub3JtYWwgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGNvZGUgYmxvY2tzIHdpdGggdHlwZSBhbmQgY29udGVudCBzdHJ1Y3R1cmUgKENoYXRHUFQgYXJ0aWZhY3RzKVxuICAgICAgICAgICAgICAgIGlmICgndHlwZScgaW4gcGFydCAmJiAnY29udGVudCcgaW4gcGFydCAmJiB0eXBlb2YgcGFydC5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlVHlwZSA9IHBhcnQudHlwZSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVDb250ZW50ID0gcGFydC5jb250ZW50IGFzIHN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZUNvbnRlbnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGxhbmd1YWdlIGZyb20gdHlwZSAoZS5nLiwgXCJjb2RlL21hcmtkb3duXCIgLT4gXCJtYXJrZG93blwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBjb2RlVHlwZS5pbmNsdWRlcygnLycpID8gY29kZVR5cGUuc3BsaXQoJy8nKVsxXSA6IGNvZGVUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBgXFxgXFxgXFxgJHtsYW5ndWFnZX1cXG4ke2NvZGVDb250ZW50fVxcblxcYFxcYFxcYGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBjb250ZW50IHR5cGVzIHdpdGggcHJvcGVyIHR5cGUgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnY29udGVudF90eXBlJyBpbiBwYXJ0ICYmICd0ZXh0JyBpbiBwYXJ0ICYmIHR5cGVvZiBwYXJ0LnRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LmNvbnRlbnRfdHlwZSA9PT0gXCJhdWRpb190cmFuc2NyaXB0aW9uXCIgJiYgcGFydC50ZXh0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5jb250ZW50X3R5cGUgPT09IFwidGV4dFwiICYmIHBhcnQudGV4dC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gcGFydC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQuY29udGVudF90eXBlID09PSBcIm11bHRpbW9kYWxfdGV4dFwiICYmIHBhcnQudGV4dC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gcGFydC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbWFnZV9hc3NldF9wb2ludGVyIGNvbnRlbnQgdHlwZXMgYXMgYXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnY29udGVudF90eXBlJyBpbiBwYXJ0ICYmIHBhcnQuY29udGVudF90eXBlID09PSAnaW1hZ2VfYXNzZXRfcG9pbnRlcicgJiYgJ2Fzc2V0X3BvaW50ZXInIGluIHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IHRoaXMuZXh0cmFjdEltYWdlQXR0YWNobWVudChwYXJ0LCBjb252ZXJzYXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRhY2htZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50cy5wdXNoKGF0dGFjaG1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBDaGF0R1BUIGNvbnRyb2wgY2hhcmFjdGVycyBhbmQgZm9ybWF0dGluZyBhcnRpZmFjdHNcbiAgICAgICAgICAgIGlmICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gdGhpcy5jbGVhbkNoYXRHUFRBcnRpZmFjdHModGV4dENvbnRlbnQsIGNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dENvbnRlbnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQYXJ0cy5wdXNoKHRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaW5hbENvbnRlbnQgPSBjb250ZW50UGFydHMuam9pbihcIlxcblwiKTtcblxuICAgICAgICAvLyBFeHRyYWN0IGF0dGFjaG1lbnRzIGZyb20gbWVzc2FnZSBtZXRhZGF0YSBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGNoYXRNZXNzYWdlLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dCBvZiBjaGF0TWVzc2FnZS5hdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogYXR0LmZpbGVfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU6IGF0dC5maWxlX3R5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVTaXplOiBhdHQuZmlsZV9zaXplLFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBhdHQuZXh0cmFjdGVkX2NvbnRlbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZW50OiBmaW5hbENvbnRlbnQsXG4gICAgICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMubGVuZ3RoID4gMCA/IGF0dGFjaG1lbnRzIDogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBpbWFnZSBhdHRhY2htZW50IGZyb20gY29udGVudCBwYXJ0XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXh0cmFjdEltYWdlQXR0YWNobWVudChwYXJ0OiBhbnksIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nKTogU3RhbmRhcmRBdHRhY2htZW50IHwgbnVsbCB7XG4gICAgICAgIGlmICghcGFydC5hc3NldF9wb2ludGVyKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBFeHRyYWN0IGZpbGUgSUQgZnJvbSBhc3NldCBwb2ludGVyXG4gICAgICAgIGxldCBmaWxlSWQgPSBwYXJ0LmFzc2V0X3BvaW50ZXI7XG4gICAgICAgIGlmIChmaWxlSWQuaW5jbHVkZXMoJzovLycpKSB7XG4gICAgICAgICAgICBmaWxlSWQgPSBmaWxlSWQuc3BsaXQoJzovLycpWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgZmlsZW5hbWUgYmFzZWQgb24gbWV0YWRhdGFcbiAgICAgICAgbGV0IGZpbGVOYW1lID0gYGltYWdlXyR7ZmlsZUlkfWA7XG4gICAgICAgIGlmIChwYXJ0LndpZHRoICYmIHBhcnQuaGVpZ2h0KSB7XG4gICAgICAgICAgICBmaWxlTmFtZSA9IGBpbWFnZV8ke2ZpbGVJZH1fJHtwYXJ0LndpZHRofXgke3BhcnQuaGVpZ2h0fWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgZmlsZSBleHRlbnNpb24gZnJvbSBtZXRhZGF0YSBvciBkZWZhdWx0IHRvIHBuZ1xuICAgICAgICBjb25zdCBmaWxlVHlwZSA9IHBhcnQubWV0YWRhdGE/Lm1pbWVfdHlwZSB8fCAnaW1hZ2UvcG5nJztcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZVR5cGUuc3BsaXQoJy8nKVsxXSB8fCAncG5nJztcbiAgICAgICAgZmlsZU5hbWUgKz0gYC4ke2V4dGVuc2lvbn1gO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgIGZpbGVUeXBlLFxuICAgICAgICAgICAgZmlsZVNpemU6IHBhcnQuc2l6ZV9ieXRlcyxcbiAgICAgICAgICAgIGZpbGVJZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFByZS1jb21waWxlZCByZWdleCBwYXR0ZXJucyBmb3IgcGVyZm9ybWFuY2VcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDTEVBTlVQX1BBVFRFUk5TID0gW1xuICAgICAgICAvLyBTTUFSVDogUmVwbGFjZSBzYW5kYm94IGxpbmtzIHdpdGggYWN0dWFsIGxpbmtzIHRvIG9yaWdpbmFsIGNvbnZlcnNhdGlvblxuICAgICAgICB7IHBhdHRlcm46IC9cdUQ4M0RcdURDQzQgXFxbKFteXFxdXSspXFxdXFwoc2FuZGJveDpcXC9bXildK1xcKS9nLCByZXBsYWNlbWVudDogKGNoYXRVcmw6IHN0cmluZykgPT4gYFx1RDgzRFx1RENDNCBbJDFdKCR7Y2hhdFVybH0pICoodmlzaXQgb3JpZ2luYWwgY29udmVyc2F0aW9uIHRvIGRvd25sb2FkKSpgIH0sXG4gICAgICAgIHsgcGF0dGVybjogL1x1RDgzRFx1RENDNCAoW14tXFxuXSspIC0gRmlsZSBub3QgYXZhaWxhYmxlIGluIGFyY2hpdmUvZywgcmVwbGFjZW1lbnQ6IChjaGF0VXJsOiBzdHJpbmcpID0+IGBcdUQ4M0RcdURDQzQgWyQxXSgke2NoYXRVcmx9KSAqKHZpc2l0IG9yaWdpbmFsIGNvbnZlcnNhdGlvbiB0byBkb3dubG9hZCkqYCB9LFxuICAgICAgICB7IHBhdHRlcm46IC9cXFsoW15cXF1dKylcXF1cXChzYW5kYm94OlxcL1teKV0rXFwpL2csIHJlcGxhY2VtZW50OiAoY2hhdFVybDogc3RyaW5nKSA9PiBgWyQxXSgke2NoYXRVcmx9KSAqKHZpc2l0IG9yaWdpbmFsIGNvbnZlcnNhdGlvbiB0byBkb3dubG9hZCkqYCB9LFxuICAgICAgICB7IHBhdHRlcm46IC8oW14tXFxuXSspIC0gRmlsZSBub3QgYXZhaWxhYmxlIGluIGFyY2hpdmVcXC4gVmlzaXQgdGhlIG9yaWdpbmFsIGNvbnZlcnNhdGlvbiB0byBhY2Nlc3MgaXQvZywgcmVwbGFjZW1lbnQ6IChjaGF0VXJsOiBzdHJpbmcpID0+IGBbJDFdKCR7Y2hhdFVybH0pICoodmlzaXQgb3JpZ2luYWwgY29udmVyc2F0aW9uIHRvIGRvd25sb2FkKSpgIH0sXG4gICAgICAgIC8vIFJlbW92ZSBwYXR0ZXJucyAoc3RhdGljIHJlcGxhY2VtZW50cylcbiAgICAgICAgeyBwYXR0ZXJuOiAvY2l0ZVthLXpBLVowLTlfXFwtXSsvZywgcmVwbGFjZW1lbnQ6ICgpID0+IFwiXCIgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvbGlua1thLXpBLVowLTlfXFwtXSsvZywgcmVwbGFjZW1lbnQ6ICgpID0+IFwiXCIgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvdHVyblxcZCtzZWFyY2hcXGQrL2csIHJlcGxhY2VtZW50OiAoKSA9PiBcIlwiIH0sXG4gICAgICAgIHsgcGF0dGVybjogL1tcXHVFMDAwLVxcdUY4RkZdL2csIHJlcGxhY2VtZW50OiAoKSA9PiBcIlwiIH0sIC8vIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzXG4gICAgICAgIHsgcGF0dGVybjogLyB7Mix9L2csIHJlcGxhY2VtZW50OiAoKSA9PiBcIiBcIiB9LCAvLyBNdWx0aXBsZSBzcGFjZXNcbiAgICAgICAgeyBwYXR0ZXJuOiAvXFxuezMsfS9nLCByZXBsYWNlbWVudDogKCkgPT4gXCJcXG5cXG5cIiB9IC8vIE11bHRpcGxlIG5ld2xpbmVzXG4gICAgXTtcblxuICAgIC8qKlxuICAgICAqIENsZWFuIENoYXRHUFQgYXJ0aWZhY3RzLCBjaXRhdGlvbnMsIGFuZCBjb250cm9sIGNoYXJhY3RlcnMgLSBTTUFSVCBMSU5LSU5HXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgY2xlYW5DaGF0R1BUQXJ0aWZhY3RzKHRleHQ6IHN0cmluZywgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRleHQgfHwgdHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSByZXR1cm4gJyc7XG5cbiAgICAgICAgY29uc3QgY2hhdFVybCA9IGNvbnZlcnNhdGlvbklkID8gYGh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2MvJHtjb252ZXJzYXRpb25JZH1gIDogXCJodHRwczovL2NoYXQub3BlbmFpLmNvbVwiO1xuXG4gICAgICAgIGxldCBjbGVhblRleHQgPSB0ZXh0O1xuXG4gICAgICAgIC8vIEFwcGx5IGFsbCBjbGVhbnVwIHBhdHRlcm5zIGVmZmljaWVudGx5XG4gICAgICAgIGZvciAoY29uc3QgeyBwYXR0ZXJuLCByZXBsYWNlbWVudCB9IG9mIHRoaXMuQ0xFQU5VUF9QQVRURVJOUykge1xuICAgICAgICAgICAgY2xlYW5UZXh0ID0gY2xlYW5UZXh0LnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZW1lbnQoY2hhdFVybCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNsZWFuVGV4dC50cmltKCk7XG4gICAgfVxufSIsICIvLyBzcmMvcHJvdmlkZXJzL2NoYXRncHQvY2hhdGdwdC1hdHRhY2htZW50LWV4dHJhY3Rvci50c1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuaW1wb3J0IHsgU3RhbmRhcmRBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBlbnN1cmVGb2xkZXJFeGlzdHMgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuLi8uLi9sb2dnZXJcIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uLy4uL21haW5cIjtcblxuXG5leHBvcnQgY2xhc3MgQ2hhdEdQVEF0dGFjaG1lbnRFeHRyYWN0b3Ige1xuICAgIHByaXZhdGUgemlwRmlsZUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIEpTWmlwLkpTWmlwT2JqZWN0IHwgbnVsbD4oKTsgLy8gQ2FjaGUgZm9yIFpJUCBmaWxlIGxvb2t1cHNcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luLCBwcml2YXRlIGxvZ2dlcjogTG9nZ2VyKSB7fVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBhbmQgc2F2ZSBDaGF0R1BUIGF0dGFjaG1lbnRzIHVzaW5nIFwiYmVzdCBlZmZvcnRcIiBzdHJhdGVneVxuICAgICAqIC0gSWYgZmlsZSBleGlzdHMgaW4gWklQOiBleHRyYWN0IGFuZCBsaW5rXG4gICAgICogLSBJZiBmaWxlIG1pc3Npbmc6IGNyZWF0ZSBpbmZvcm1hdGl2ZSBub3RlXG4gICAgICovXG4gICAgYXN5bmMgZXh0cmFjdEF0dGFjaG1lbnRzKFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W11cbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudFtdPiB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMgfHwgYXR0YWNobWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0YWNobWVudHMubWFwKGF0dCA9PiAoeyAuLi5hdHQsIHN0YXR1czogeyBwcm9jZXNzZWQ6IGZhbHNlLCBmb3VuZDogZmFsc2UgfSB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9jZXNzZWRBdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGF0dGFjaG1lbnQgb2YgYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wcm9jZXNzQXR0YWNobWVudEJlc3RFZmZvcnQoemlwLCBjb252ZXJzYXRpb25JZCwgYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkQXR0YWNobWVudHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBwcm9jZXNzIENoYXRHUFQgYXR0YWNobWVudDogJHthdHRhY2htZW50LmZpbGVOYW1lfWAsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gRXZlbiBpZiBwcm9jZXNzaW5nIGZhaWxzLCByZXR1cm4gYXR0YWNobWVudCB3aXRoIGVycm9yIHN0YXR1c1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZEF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246ICdleHRyYWN0aW9uX2ZhaWxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlOiBgUHJvY2Vzc2luZyBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEF0dGFjaG1lbnRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3Mgc2luZ2xlIGF0dGFjaG1lbnQgd2l0aCBiZXN0IGVmZm9ydCBzdHJhdGVneVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0F0dGFjaG1lbnRCZXN0RWZmb3J0KFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnRcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudD4ge1xuICAgICAgICAvLyBUcnkgdG8gZmluZCBmaWxlIGluIFpJUFxuICAgICAgICBjb25zdCB6aXBGaWxlID0gYXdhaXQgdGhpcy5maW5kQ2hhdEdQVEZpbGVCeUlkKHppcCwgYXR0YWNobWVudCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXppcEZpbGUpIHtcbiAgICAgICAgICAgIC8vIEZpbGUgbm90IGZvdW5kIC0gY3JlYXRlIGluZm9ybWF0aXZlIHN0YXR1c1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnbWlzc2luZ19mcm9tX2V4cG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIG5vdGU6ICdUaGlzIGZpbGUgd2FzIHJlZmVyZW5jZWQgaW4gdGhlIGNvbnZlcnNhdGlvbiBidXQgbm90IGluY2x1ZGVkIGluIHRoZSBDaGF0R1BUIGV4cG9ydC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdUaGlzIGNhbiBoYXBwZW4gd2l0aCBvbGRlciBjb252ZXJzYXRpb25zIG9yIGNlcnRhaW4gZmlsZSB0eXBlcy4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbGUgZm91bmQgLSB0cnkgdG8gZXh0cmFjdCBpdFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZXh0cmFjdFJlc3VsdCA9IGF3YWl0IHRoaXMuZXh0cmFjdFNpbmdsZUF0dGFjaG1lbnQoemlwLCBjb252ZXJzYXRpb25JZCwgYXR0YWNobWVudCwgemlwRmlsZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChleHRyYWN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGV4dHJhY3RSZXN1bHQuZmluYWxGaWxlTmFtZSwgLy8gVXBkYXRlIHdpdGggYWN0dWFsIGV4dHJhY3RlZCBmaWxlbmFtZVxuICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZTogZXh0cmFjdFJlc3VsdC5hY3R1YWxGaWxlVHlwZSwgLy8gVXBkYXRlIHdpdGggZGV0ZWN0ZWQgZmlsZSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHVybDogZXh0cmFjdFJlc3VsdC5sb2NhbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFBhdGg6IGV4dHJhY3RSZXN1bHQubG9jYWxQYXRoXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ2V4dHJhY3Rpb25fZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6ICdGaWxlIHdhcyBmb3VuZCBpbiBleHBvcnQgYnV0IGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgdG8gZGlzay4nXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIGV4dHJhY3RpbmcgQ2hhdEdQVCBhdHRhY2htZW50OiAke2F0dGFjaG1lbnQuZmlsZU5hbWV9YCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBmb3VuZDogdHJ1ZSwgLy8gRmlsZSBleGlzdHMgYnV0IGV4dHJhY3Rpb24gZmFpbGVkXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ2V4dHJhY3Rpb25fZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgbm90ZTogYEV4dHJhY3Rpb24gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3Qgc2luZ2xlIGF0dGFjaG1lbnQgdG8gZGlzayB3aXRoIGNvbmZsaWN0IHJlc29sdXRpb24gYW5kIGZvcm1hdCBkZXRlY3Rpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGV4dHJhY3RTaW5nbGVBdHRhY2htZW50KFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQsXG4gICAgICAgIHppcEZpbGU6IEpTWmlwLkpTWmlwT2JqZWN0XG4gICAgKTogUHJvbWlzZTx7bG9jYWxQYXRoOiBzdHJpbmcsIGZpbmFsRmlsZU5hbWU6IHN0cmluZywgYWN0dWFsRmlsZVR5cGU6IHN0cmluZ30gfCBudWxsPiB7XG4gICAgICAgIC8vIEdldCBmaWxlIGNvbnRlbnQgZm9yIGZvcm1hdCBkZXRlY3Rpb25cbiAgICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB6aXBGaWxlLmFzeW5jKFwidWludDhhcnJheVwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERldGVjdCBhY3R1YWwgZmlsZSBmb3JtYXQgKGVzcGVjaWFsbHkgZm9yIC5kYXQgZmlsZXMpXG4gICAgICAgIGNvbnN0IGZvcm1hdEluZm8gPSB0aGlzLmRldGVjdEZpbGVGb3JtYXQoZmlsZUNvbnRlbnQpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGZpbGVuYW1lIHdpdGggY29ycmVjdCBleHRlbnNpb24gaWYgbmVlZGVkXG4gICAgICAgIGxldCBmaW5hbEZpbGVOYW1lID0gYXR0YWNobWVudC5maWxlTmFtZTtcbiAgICAgICAgaWYgKHppcEZpbGUubmFtZS5lbmRzV2l0aCgnLmRhdCcpICYmIGZvcm1hdEluZm8uZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAvLyBSZXBsYWNlIC5kYXQgd2l0aCBjb3JyZWN0IGV4dGVuc2lvblxuICAgICAgICAgICAgY29uc3QgYmFzZU5hbWUgPSBhdHRhY2htZW50LmZpbGVOYW1lLnJlcGxhY2UoL1xcLihkYXR8cG5nfGpwZ3xqcGVnfGdpZnx3ZWJwKSQvaSwgJycpO1xuICAgICAgICAgICAgZmluYWxGaWxlTmFtZSA9IGAke2Jhc2VOYW1lfS4ke2Zvcm1hdEluZm8uZXh0ZW5zaW9ufWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYXRlIHRhcmdldCBwYXRoIGZvciBzYXZpbmdcbiAgICAgICAgbGV0IHRhcmdldFBhdGggPSB0aGlzLmdlbmVyYXRlTG9jYWxQYXRoKGNvbnZlcnNhdGlvbklkLCB7XG4gICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgZmlsZU5hbWU6IGZpbmFsRmlsZU5hbWUsXG4gICAgICAgICAgICBmaWxlVHlwZTogZm9ybWF0SW5mby5taW1lVHlwZSB8fCBhdHRhY2htZW50LmZpbGVUeXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVuc3VyZSBmb2xkZXIgZXhpc3RzXG4gICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSB0YXJnZXRQYXRoLnN1YnN0cmluZygwLCB0YXJnZXRQYXRoLmxhc3RJbmRleE9mKCcvJykpO1xuICAgICAgICBjb25zdCBmb2xkZXJSZXN1bHQgPSBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMoZm9sZGVyUGF0aCwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0KTtcbiAgICAgICAgaWYgKCFmb2xkZXJSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIENoYXRHUFQgYXR0YWNobWVudCBmb2xkZXI6ICR7Zm9sZGVyUmVzdWx0LmVycm9yfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGZpbGUgY29uZmxpY3RzIGJ5IGFkZGluZyBzdWZmaXggaWYgbmVlZGVkXG4gICAgICAgIHRhcmdldFBhdGggPSBhd2FpdCB0aGlzLnJlc29sdmVGaWxlQ29uZmxpY3QodGFyZ2V0UGF0aCk7XG5cbiAgICAgICAgLy8gU2F2ZSBmaWxlXG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLndyaXRlQmluYXJ5KHRhcmdldFBhdGgsIGZpbGVDb250ZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9jYWxQYXRoOiB0YXJnZXRQYXRoLFxuICAgICAgICAgICAgZmluYWxGaWxlTmFtZTogZmluYWxGaWxlTmFtZSxcbiAgICAgICAgICAgIGFjdHVhbEZpbGVUeXBlOiBmb3JtYXRJbmZvLm1pbWVUeXBlIHx8IGF0dGFjaG1lbnQuZmlsZVR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgZmlsZSBmb3JtYXQgZnJvbSBtYWdpYyBieXRlcyAoZXNwZWNpYWxseSBmb3IgLmRhdCBmaWxlcylcbiAgICAgKi9cbiAgICBwcml2YXRlIGRldGVjdEZpbGVGb3JtYXQoZmlsZUNvbnRlbnQ6IFVpbnQ4QXJyYXkpOiB7ZXh0ZW5zaW9uOiBzdHJpbmcgfCBudWxsLCBtaW1lVHlwZTogc3RyaW5nIHwgbnVsbH0ge1xuICAgICAgICBpZiAoZmlsZUNvbnRlbnQubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRmlsZSB0b28gc21hbGwgZm9yIGZvcm1hdCBkZXRlY3Rpb24nKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXh0ZW5zaW9uOiBudWxsLCBtaW1lVHlwZTogbnVsbH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBtYWdpYyBieXRlc1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBBcnJheS5mcm9tKGZpbGVDb250ZW50LnNsaWNlKDAsIDEyKSkubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBQTkc6IDg5IDUwIDRFIDQ3IDBEIDBBIDFBIDBBXG4gICAgICAgIGlmIChoZWFkZXIuc3RhcnRzV2l0aCgnODk1MDRlNDcnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtleHRlbnNpb246ICdwbmcnLCBtaW1lVHlwZTogJ2ltYWdlL3BuZyd9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBKUEVHOiBGRiBEOCBGRlxuICAgICAgICBpZiAoaGVhZGVyLnN0YXJ0c1dpdGgoJ2ZmZDhmZicpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2V4dGVuc2lvbjogJ2pwZycsIG1pbWVUeXBlOiAnaW1hZ2UvanBlZyd9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBHSUY6IDQ3IDQ5IDQ2IDM4XG4gICAgICAgIGlmIChoZWFkZXIuc3RhcnRzV2l0aCgnNDc0OTQ2MzgnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtleHRlbnNpb246ICdnaWYnLCBtaW1lVHlwZTogJ2ltYWdlL2dpZid9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBXZWJQOiA1MiA0OSA0NiA0NiBbNCBieXRlc10gNTcgNDUgNDIgNTBcbiAgICAgICAgaWYgKGhlYWRlci5zdGFydHNXaXRoKCc1MjQ5NDY0NicpICYmIGhlYWRlci5zdWJzdHJpbmcoMTYsIDI0KSA9PT0gJzU3NDU0MjUwJykge1xuICAgICAgICAgICAgcmV0dXJuIHtleHRlbnNpb246ICd3ZWJwJywgbWltZVR5cGU6ICdpbWFnZS93ZWJwJ307XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJJRkYgKGNvdWxkIGJlIFdlYlAgb3Igb3RoZXIgZm9ybWF0cylcbiAgICAgICAgaWYgKGhlYWRlci5zdGFydHNXaXRoKCc1MjQ5NDY0NicpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2V4dGVuc2lvbjogJ3dlYnAnLCBtaW1lVHlwZTogJ2ltYWdlL3dlYnAnfTsgLy8gQXNzdW1lIFdlYlAgZm9yIFJJRkYgaW4gREFMTC1FIGNvbnRleHRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7ZXh0ZW5zaW9uOiBudWxsLCBtaW1lVHlwZTogbnVsbH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZSBmaWxlIGNvbmZsaWN0cyBieSBhZGRpbmcgbnVtZXJpYyBzdWZmaXhcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHJlc29sdmVGaWxlQ29uZmxpY3Qob3JpZ2luYWxQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBsZXQgZmluYWxQYXRoID0gb3JpZ2luYWxQYXRoO1xuICAgICAgICBsZXQgY291bnRlciA9IDE7XG5cbiAgICAgICAgd2hpbGUgKGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLmV4aXN0cyhmaW5hbFBhdGgpKSB7XG4gICAgICAgICAgICAvLyBGaWxlIGV4aXN0cywgdHJ5IHdpdGggc3VmZml4XG4gICAgICAgICAgICBjb25zdCBsYXN0RG90ID0gb3JpZ2luYWxQYXRoLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgICAgICBpZiAobGFzdERvdCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFBhdGggPSBgJHtvcmlnaW5hbFBhdGh9XyR7Y291bnRlcn1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lV2l0aG91dEV4dCA9IG9yaWdpbmFsUGF0aC5zdWJzdHJpbmcoMCwgbGFzdERvdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gb3JpZ2luYWxQYXRoLnN1YnN0cmluZyhsYXN0RG90KTtcbiAgICAgICAgICAgICAgICBmaW5hbFBhdGggPSBgJHtuYW1lV2l0aG91dEV4dH1fJHtjb3VudGVyfSR7ZXh0ZW5zaW9ufWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmluYWxQYXRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgZmlsZSBpbiBaSVAgLSBFTkhBTkNFRCBXSVRIIENPTVBSRUhFTlNJVkUgU0VBUkNIICsgQ0FDSElOR1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZmluZENoYXRHUFRGaWxlQnlJZCh6aXA6IEpTWmlwLCBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQpOiBQcm9taXNlPEpTWmlwLkpTWmlwT2JqZWN0IHwgbnVsbD4ge1xuICAgICAgICBpZiAoIWF0dGFjaG1lbnQuZmlsZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBmaWxlSWQgcHJvdmlkZWQgZm9yIGF0dGFjaG1lbnQ6JywgYXR0YWNobWVudC5maWxlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7YXR0YWNobWVudC5maWxlSWR9XyR7YXR0YWNobWVudC5maWxlTmFtZX1gO1xuICAgICAgICBpZiAodGhpcy56aXBGaWxlQ2FjaGUuaGFzKGNhY2hlS2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuemlwRmlsZUNhY2hlLmdldChjYWNoZUtleSkhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RyYXRlZ3kgMTogVHJ5IGV4YWN0IGZpbGVuYW1lIG1hdGNoIGZpcnN0XG4gICAgICAgIGxldCB6aXBGaWxlID0gemlwLmZpbGUoYXR0YWNobWVudC5maWxlTmFtZSk7XG4gICAgICAgIGlmICh6aXBGaWxlKSB7XG4gICAgICAgICAgICB0aGlzLnppcEZpbGVDYWNoZS5zZXQoY2FjaGVLZXksIHppcEZpbGUpO1xuICAgICAgICAgICAgcmV0dXJuIHppcEZpbGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdHJhdGVneSAyOiBDb21wcmVoZW5zaXZlIHNlYXJjaCBieSBmaWxlIElEIGluIGVudGlyZSBaSVBcbiAgICAgICAgY29uc3QgZm91bmRGaWxlID0gYXdhaXQgdGhpcy5zZWFyY2haaXBCeUZpbGVJZCh6aXAsIGF0dGFjaG1lbnQuZmlsZUlkKTtcblxuICAgICAgICAvLyBDYWNoZSByZXN1bHQgKGV2ZW4gaWYgbnVsbClcbiAgICAgICAgdGhpcy56aXBGaWxlQ2FjaGUuc2V0KGNhY2hlS2V5LCBmb3VuZEZpbGUpO1xuXG4gICAgICAgIHJldHVybiBmb3VuZEZpbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VhcmNoIGVudGlyZSBaSVAgZm9yIGZpbGUgYnkgZXhhY3QgSURcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHNlYXJjaFppcEJ5RmlsZUlkKHppcDogSlNaaXAsIGZpbGVJZDogc3RyaW5nKTogUHJvbWlzZTxKU1ppcC5KU1ppcE9iamVjdCB8IG51bGw+IHtcbiAgICAgICAgLy8gU2VhcmNoIHRocm91Z2ggYWxsIGZpbGVzIGluIFpJUCBmb3IgZXhhY3QgbWF0Y2hcbiAgICAgICAgZm9yIChjb25zdCBbcGF0aCwgZmlsZV0gb2YgT2JqZWN0LmVudHJpZXMoemlwLmZpbGVzKSkge1xuICAgICAgICAgICAgaWYgKGZpbGUuZGlyKSBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGF0aCBjb250YWlucyB0aGUgZXhhY3QgZmlsZSBJRFxuICAgICAgICAgICAgaWYgKHBhdGguaW5jbHVkZXMoZmlsZUlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBsb2NhbCBwYXRoIGZvciBDaGF0R1BUIGF0dGFjaG1lbnQgdXNpbmcgYXR0YWNobWVudEZvbGRlciBzZXR0aW5nXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUxvY2FsUGF0aChjb252ZXJzYXRpb25JZDogc3RyaW5nLCBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcml6ZUZpbGUoYXR0YWNobWVudCk7XG5cbiAgICAgICAgLy8gQ2xlYW4gZmlsZW5hbWUgZm9yIGZpbGVzeXN0ZW0gLSBrZWVwIG9yaWdpbmFsIG5hbWUgc2luY2UgaXQgc2hvdWxkIGJlIHVuaXF1ZVxuICAgICAgICBjb25zdCBzYWZlRmlsZU5hbWUgPSB0aGlzLnNhbml0aXplRmlsZU5hbWUoYXR0YWNobWVudC5maWxlTmFtZSk7XG5cbiAgICAgICAgLy8gVXNlIGF0dGFjaG1lbnRGb2xkZXIgc2V0dGluZzogPGF0dGFjaG1lbnRGb2xkZXI+L2NoYXRncHQvPGNhdGVnb3J5Pi9maWxlbmFtZS5qcGdcbiAgICAgICAgcmV0dXJuIGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJ9L2NoYXRncHQvJHtjYXRlZ29yeX0vJHtzYWZlRmlsZU5hbWV9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXRlZ29yaXplIGZpbGUgYmFzZWQgb24gTUlNRSB0eXBlIG9yIGV4dGVuc2lvblxuICAgICAqL1xuICAgIHByaXZhdGUgY2F0ZWdvcml6ZUZpbGUoYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50KTogc3RyaW5nIHtcbiAgICAgICAgLy8gVXNlIE1JTUUgdHlwZSBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuZmlsZVR5cGUpIHtcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVUeXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSByZXR1cm4gJ2ltYWdlcyc7XG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC5maWxlVHlwZS5zdGFydHNXaXRoKCdhdWRpby8nKSkgcmV0dXJuICdhdWRpbyc7XG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC5maWxlVHlwZS5zdGFydHNXaXRoKCd2aWRlby8nKSkgcmV0dXJuICd2aWRlbyc7XG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC5maWxlVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicpIHJldHVybiAnZG9jdW1lbnRzJztcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVUeXBlLmluY2x1ZGVzKCd0ZXh0LycpIHx8IGF0dGFjaG1lbnQuZmlsZVR5cGUuaW5jbHVkZXMoJ21hcmtkb3duJykpIHJldHVybiAnZG9jdW1lbnRzJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBmaWxlIGV4dGVuc2lvbiB1c2luZyBGaWxlU2VydmljZVxuICAgICAgICBjb25zdCBleHQgPSB0aGlzLnBsdWdpbi5nZXRGaWxlU2VydmljZSgpLmdldEZpbGVFeHRlbnNpb24oYXR0YWNobWVudC5maWxlTmFtZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhdWRpb0V4dHMgPSBbJ3dhdicsICdtcDMnLCAnb2dnJywgJ200YScsICdmbGFjJ107XG4gICAgICAgIGNvbnN0IGltYWdlRXh0cyA9IFsncG5nJywgJ2pwZycsICdqcGVnJywgJ2dpZicsICd3ZWJwJywgJ3N2ZyddO1xuICAgICAgICBjb25zdCBkb2NFeHRzID0gWydwZGYnLCAnZG9jJywgJ2RvY3gnLCAndHh0JywgJ21kJywgJ3J0ZiddO1xuICAgICAgICBjb25zdCB2aWRlb0V4dHMgPSBbJ21wNCcsICdhdmknLCAnbW92JywgJ21rdiddO1xuXG4gICAgICAgIGlmIChhdWRpb0V4dHMuaW5jbHVkZXMoZXh0KSkgcmV0dXJuICdhdWRpbyc7XG4gICAgICAgIGlmIChpbWFnZUV4dHMuaW5jbHVkZXMoZXh0KSkgcmV0dXJuICdpbWFnZXMnO1xuICAgICAgICBpZiAoZG9jRXh0cy5pbmNsdWRlcyhleHQpKSByZXR1cm4gJ2RvY3VtZW50cyc7XG4gICAgICAgIGlmICh2aWRlb0V4dHMuaW5jbHVkZXMoZXh0KSkgcmV0dXJuICd2aWRlbyc7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gJ2ZpbGVzJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW5pdGl6ZSBmaWxlbmFtZSBhbmQgaGFuZGxlIHBvdGVudGlhbCBjb25mbGljdHNcbiAgICAgKi9cbiAgICBwcml2YXRlIHNhbml0aXplRmlsZU5hbWUoZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBjbGVhbk5hbWUgPSBmaWxlTmFtZVxuICAgICAgICAgICAgLnJlcGxhY2UoL1s8PjpcIlxcL1xcXFx8PypdL2csICdfJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICdfJylcbiAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgLy8gSWYgZmlsZW5hbWUgY29uZmxpY3RzIG1pZ2h0IG9jY3VyLCB3ZSBjb3VsZCBhZGQgYSB0aW1lc3RhbXAgcHJlZml4XG4gICAgICAgIC8vIGJ1dCBmb3Igbm93LCBDaGF0R1BUIGZpbGUgSURzIHNob3VsZCBtYWtlIG5hbWVzIHVuaXF1ZSBlbm91Z2hcbiAgICAgICAgcmV0dXJuIGNsZWFuTmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBaSVAgZmlsZSBjYWNoZSAoY2FsbCBiZXR3ZWVuIGRpZmZlcmVudCBaSVAgZmlsZXMpXG4gICAgICovXG4gICAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy56aXBGaWxlQ2FjaGUuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYXR0YWNobWVudCBwcm9jZXNzaW5nIHN0YXRpc3RpY3NcbiAgICAgKi9cbiAgICBnZXRTdGF0aXN0aWNzKGF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSk6IHtcbiAgICAgICAgdG90YWw6IG51bWJlcjtcbiAgICAgICAgZm91bmQ6IG51bWJlcjtcbiAgICAgICAgbWlzc2luZzogbnVtYmVyO1xuICAgICAgICBmYWlsZWQ6IG51bWJlcjtcbiAgICB9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsOiBhdHRhY2htZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBmb3VuZDogYXR0YWNobWVudHMuZmlsdGVyKGEgPT4gYS5zdGF0dXM/LmZvdW5kICYmIGEuc3RhdHVzPy5wcm9jZXNzZWQpLmxlbmd0aCxcbiAgICAgICAgICAgIG1pc3Npbmc6IGF0dGFjaG1lbnRzLmZpbHRlcihhID0+ICFhLnN0YXR1cz8uZm91bmQgJiYgYS5zdGF0dXM/LnJlYXNvbiA9PT0gJ21pc3NpbmdfZnJvbV9leHBvcnQnKS5sZW5ndGgsXG4gICAgICAgICAgICBmYWlsZWQ6IGF0dGFjaG1lbnRzLmZpbHRlcihhID0+IGEuc3RhdHVzPy5yZWFzb24gPT09ICdleHRyYWN0aW9uX2ZhaWxlZCcpLmxlbmd0aFxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiLy8gc3JjL3Byb3ZpZGVycy9jaGF0Z3B0L2NoYXRncHQtcmVwb3J0LW5hbWluZy50c1xuaW1wb3J0IHsgUmVwb3J0TmFtaW5nU3RyYXRlZ3kgfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3RhbmRhcmRcIjtcblxuZXhwb3J0IGNsYXNzIENoYXRHUFRSZXBvcnROYW1pbmdTdHJhdGVneSBpbXBsZW1lbnRzIFJlcG9ydE5hbWluZ1N0cmF0ZWd5IHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGRhdGUgcHJlZml4IGZyb20gQ2hhdEdQVCBaSVAgZmlsZW5hbWVcbiAgICAgKiBFeGFtcGxlczpcbiAgICAgKiAtIFwiM2IwMGFiYWZiOTIyMmE5NTgwYWE3Y2JiMTk4MTY2ZWQwYzYxNjM0MjIyY2NlOTU3MWJiMDc5YTI4ODZhZWVkNS0yMDI1LTA0LTI1LTE0LTQwLTQyLWZmMTljMmZkODk4ZDQ0ZDliYzU5NDVlZTgwYzE5OWNhLnppcFwiXG4gICAgICogLSBcImNoYXRncHQtZXhwb3J0LTIwMjUtMDQtMjUuemlwXCJcbiAgICAgKiAtIFwiY29udmVyc2F0aW9ucy0yMDI1LTA0LTI1LTE0LTQwLTQyLnppcFwiXG4gICAgICovXG4gICAgZXh0cmFjdFJlcG9ydFByZWZpeCh6aXBGaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgaW1wb3J0IGRhdGVcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgaW1wb3J0WWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBpbXBvcnRNb250aCA9IFN0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGltcG9ydERheSA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCBpbXBvcnREYXRlID0gYCR7aW1wb3J0WWVhcn0uJHtpbXBvcnRNb250aH0uJHtpbXBvcnREYXl9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGFyY2hpdmUgZGF0ZSBpbiBmb3JtYXQgWVlZWS1NTS1ERCBmcm9tIGZpbGVuYW1lXG4gICAgICAgIGNvbnN0IGRhdGVSZWdleCA9IC8oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KS87XG4gICAgICAgIGNvbnN0IG1hdGNoID0gemlwRmlsZU5hbWUubWF0Y2goZGF0ZVJlZ2V4KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBhcmNoaXZlRGF0ZTogc3RyaW5nO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IFssIHllYXIsIG1vbnRoLCBkYXldID0gbWF0Y2g7XG4gICAgICAgICAgICBhcmNoaXZlRGF0ZSA9IGAke3llYXJ9LiR7bW9udGh9LiR7ZGF5fWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjazogdXNlIGN1cnJlbnQgZGF0ZSBpZiBubyBkYXRlIGZvdW5kIGluIGZpbGVuYW1lXG4gICAgICAgICAgICBhcmNoaXZlRGF0ZSA9IGltcG9ydERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvcm1hdDogaW1wb3J0ZWQtWVlZWS5NTS5ERC1hcmNoaXZlLVlZWVkuTU0uRERcbiAgICAgICAgcmV0dXJuIGBpbXBvcnRlZC0ke2ltcG9ydERhdGV9LWFyY2hpdmUtJHthcmNoaXZlRGF0ZX1gO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXQgQ2hhdEdQVCBwcm92aWRlciBuYW1lXG4gICAgICovXG4gICAgZ2V0UHJvdmlkZXJOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImNoYXRncHRcIjtcbiAgICB9XG5cbiAgICBnZXRQcm92aWRlclNwZWNpZmljQ29sdW1uKCk6IHsgaGVhZGVyOiBzdHJpbmc7IGdldFZhbHVlOiAoYWRhcHRlcjogYW55LCBjaGF0OiBhbnkpID0+IG51bWJlciB9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlYWRlcjogXCJBdHRhY2htZW50c1wiLFxuICAgICAgICAgICAgZ2V0VmFsdWU6IChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENvdW50IGF0dGFjaG1lbnRzIGluIENoYXRHUFQgY29udmVyc2F0aW9uXG4gICAgICAgICAgICAgICAgbGV0IGF0dGFjaG1lbnRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXQubWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGNoYXQubWFwcGluZykuZm9yRWFjaCgobm9kZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5tZXNzYWdlPy5tZXRhZGF0YT8uYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50Q291bnQgKz0gbm9kZS5tZXNzYWdlLm1ldGFkYXRhLmF0dGFjaG1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRhY2htZW50Q291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSIsICIvLyBzcmMvcHJvdmlkZXJzL2NoYXRncHQvY2hhdGdwdC1hZGFwdGVyLnRzXG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBQcm92aWRlckFkYXB0ZXIgfSBmcm9tIFwiLi4vcHJvdmlkZXItYWRhcHRlclwiO1xuaW1wb3J0IHsgU3RhbmRhcmRDb252ZXJzYXRpb24sIFN0YW5kYXJkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlcy9zdGFuZGFyZFwiO1xuaW1wb3J0IHsgQ2hhdEdQVENvbnZlcnRlciB9IGZyb20gXCIuL2NoYXRncHQtY29udmVydGVyXCI7XG5pbXBvcnQgeyBDaGF0R1BUQXR0YWNobWVudEV4dHJhY3RvciB9IGZyb20gXCIuL2NoYXRncHQtYXR0YWNobWVudC1leHRyYWN0b3JcIjtcbmltcG9ydCB7IENoYXRHUFRSZXBvcnROYW1pbmdTdHJhdGVneSB9IGZyb20gXCIuL2NoYXRncHQtcmVwb3J0LW5hbWluZ1wiO1xuaW1wb3J0IHsgQ2hhdCwgQ2hhdE1lc3NhZ2UgfSBmcm9tIFwiLi9jaGF0Z3B0LXR5cGVzXCI7XG5pbXBvcnQgeyBpc1ZhbGlkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgQ2hhdEdQVEFkYXB0ZXIgaW1wbGVtZW50cyBQcm92aWRlckFkYXB0ZXI8Q2hhdD4ge1xuICAgIHByaXZhdGUgYXR0YWNobWVudEV4dHJhY3RvcjogQ2hhdEdQVEF0dGFjaG1lbnRFeHRyYWN0b3I7XG4gICAgcHJpdmF0ZSByZXBvcnROYW1pbmdTdHJhdGVneTogQ2hhdEdQVFJlcG9ydE5hbWluZ1N0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4pIHtcbiAgICAgICAgdGhpcy5hdHRhY2htZW50RXh0cmFjdG9yID0gbmV3IENoYXRHUFRBdHRhY2htZW50RXh0cmFjdG9yKHBsdWdpbiwgcGx1Z2luLmxvZ2dlcik7XG4gICAgICAgIHRoaXMucmVwb3J0TmFtaW5nU3RyYXRlZ3kgPSBuZXcgQ2hhdEdQVFJlcG9ydE5hbWluZ1N0cmF0ZWd5KCk7XG4gICAgfVxuXG4gICAgZGV0ZWN0KHJhd0NvbnZlcnNhdGlvbnM6IGFueVtdKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChyYXdDb252ZXJzYXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc2FtcGxlID0gcmF3Q29udmVyc2F0aW9uc1swXTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoYXRHUFQgZGV0ZWN0aW9uOiBoYXMgbWFwcGluZyBwcm9wZXJ0eSBhbmQgdHlwaWNhbCBzdHJ1Y3R1cmVcbiAgICAgICAgcmV0dXJuICEhKHNhbXBsZS5tYXBwaW5nICYmIHNhbXBsZS5jcmVhdGVfdGltZSAmJiBzYW1wbGUudXBkYXRlX3RpbWUgJiYgc2FtcGxlLnRpdGxlKTtcbiAgICB9XG5cbiAgICBnZXRJZChjaGF0OiBDaGF0KTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNoYXQuaWQgfHwgXCJcIjtcbiAgICB9XG5cbiAgICBnZXRUaXRsZShjaGF0OiBDaGF0KTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNoYXQudGl0bGUgfHwgXCJVbnRpdGxlZFwiO1xuICAgIH1cblxuICAgIGdldENyZWF0ZVRpbWUoY2hhdDogQ2hhdCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBjaGF0LmNyZWF0ZV90aW1lIHx8IDA7XG4gICAgfVxuXG4gICAgZ2V0VXBkYXRlVGltZShjaGF0OiBDaGF0KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGNoYXQudXBkYXRlX3RpbWUgfHwgMDtcbiAgICB9XG5cbiAgICBjb252ZXJ0Q2hhdChjaGF0OiBDaGF0KTogU3RhbmRhcmRDb252ZXJzYXRpb24ge1xuICAgICAgICByZXR1cm4gQ2hhdEdQVENvbnZlcnRlci5jb252ZXJ0Q2hhdChjaGF0KTtcbiAgICB9XG5cbiAgICBjb252ZXJ0TWVzc2FnZXMobWVzc2FnZXM6IENoYXRNZXNzYWdlW10sIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nKTogU3RhbmRhcmRNZXNzYWdlW10ge1xuICAgICAgICByZXR1cm4gQ2hhdEdQVENvbnZlcnRlci5jb252ZXJ0TWVzc2FnZXMobWVzc2FnZXMsIGNvbnZlcnNhdGlvbklkKTtcbiAgICB9XG5cbiAgICBnZXRQcm92aWRlck5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiY2hhdGdwdFwiO1xuICAgIH1cblxuICAgIGdldE5ld01lc3NhZ2VzKGNoYXQ6IENoYXQsIGV4aXN0aW5nTWVzc2FnZUlkczogc3RyaW5nW10pOiBDaGF0TWVzc2FnZVtdIHtcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZXM6IENoYXRNZXNzYWdlW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZU9iaiBvZiBPYmplY3QudmFsdWVzKGNoYXQubWFwcGluZykpIHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlT2JqPy5pZCAmJiAhZXhpc3RpbmdNZXNzYWdlSWRzLmluY2x1ZGVzKG1lc3NhZ2VPYmouaWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VPYmoubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBpZiAoIW1lc3NhZ2UpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgc2FtZSBmaWx0ZXJpbmcgbG9naWMgYXMgaW4gQ2hhdEdQVENvbnZlcnRlci5leHRyYWN0TWVzc2FnZXNGcm9tTWFwcGluZ1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmF1dGhvcj8ucm9sZSA9PT0gXCJ0b29sXCIgJiYgdGhpcy5oYXNSZWFsRGFsbGVJbWFnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgQXNzaXN0YW50IChEQUxMLUUpIG1lc3NhZ2UgZm9yIHJlYWwgREFMTC1FIGdlbmVyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhbGxlTWVzc2FnZSA9IHRoaXMuY3JlYXRlRGFsbGVBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGFsbGVNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdNZXNzYWdlcy5wdXNoKGRhbGxlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2hvdWxkSW5jbHVkZU1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciB1c2VyL2Fzc2lzdGFudCBtZXNzYWdlcyB3aXRoIGVuaGFuY2VkIGZpbHRlcmluZ1xuICAgICAgICAgICAgICAgICAgICBuZXdNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzO1xuICAgIH1cblxuICAgIGFzeW5jIHByb2Nlc3NNZXNzYWdlQXR0YWNobWVudHMoXG4gICAgICAgIG1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXSxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgICAgICAgemlwOiBKU1ppcFxuICAgICk6IFByb21pc2U8U3RhbmRhcmRNZXNzYWdlW10+IHtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkTWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmF0dGFjaG1lbnRzICYmIG1lc3NhZ2UuYXR0YWNobWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZEF0dGFjaG1lbnRzID0gYXdhaXQgdGhpcy5hdHRhY2htZW50RXh0cmFjdG9yLmV4dHJhY3RBdHRhY2htZW50cyhcbiAgICAgICAgICAgICAgICAgICAgemlwLFxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBwcm9jZXNzZWRBdHRhY2htZW50c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWRNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkTWVzc2FnZXM7XG4gICAgfVxuXG4gICAgZ2V0UmVwb3J0TmFtaW5nU3RyYXRlZ3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcG9ydE5hbWluZ1N0cmF0ZWd5O1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJjaGF0Z3B0XCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgbWVzc2FnZSBjb250YWlucyBSRUFMIERBTEwtRSBpbWFnZSAobm90IHVzZXIgdXBsb2FkKVxuICAgICAqL1xuICAgIHByaXZhdGUgaGFzUmVhbERhbGxlSW1hZ2UobWVzc2FnZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghbWVzc2FnZS5jb250ZW50Py5wYXJ0cyB8fCAhQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQucGFydHMuc29tZSgocGFydDogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgIT09IFwib2JqZWN0XCIgfHwgcGFydCA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcGFydC5jb250ZW50X3R5cGUgPT09IFwiaW1hZ2VfYXNzZXRfcG9pbnRlclwiICYmIFxuICAgICAgICAgICAgICAgICAgIHBhcnQuYXNzZXRfcG9pbnRlciAmJlxuICAgICAgICAgICAgICAgICAgIHBhcnQubWV0YWRhdGE/LmRhbGxlICYmIFxuICAgICAgICAgICAgICAgICAgIHBhcnQubWV0YWRhdGEuZGFsbGUgIT09IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBBc3Npc3RhbnQgKERBTEwtRSkgbWVzc2FnZSBmcm9tIHRvb2wgbWVzc2FnZVxuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlRGFsbGVBc3Npc3RhbnRNZXNzYWdlKHRvb2xNZXNzYWdlOiBhbnkpOiBDaGF0TWVzc2FnZSB8IG51bGwge1xuICAgICAgICBpZiAoIXRvb2xNZXNzYWdlLmNvbnRlbnQ/LnBhcnRzIHx8ICFBcnJheS5pc0FycmF5KHRvb2xNZXNzYWdlLmNvbnRlbnQucGFydHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnRzOiBhbnlbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRvb2xNZXNzYWdlLmNvbnRlbnQucGFydHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuY29udGVudF90eXBlID09PSBcImltYWdlX2Fzc2V0X3BvaW50ZXJcIiAmJiBcbiAgICAgICAgICAgICAgICAgICAgcGFydC5hc3NldF9wb2ludGVyICYmXG4gICAgICAgICAgICAgICAgICAgIHBhcnQubWV0YWRhdGE/LmRhbGxlICYmXG4gICAgICAgICAgICAgICAgICAgIHBhcnQubWV0YWRhdGEuZGFsbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZmlsZSBJRCBmcm9tIGFzc2V0IHBvaW50ZXJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVJZCA9IHBhcnQuYXNzZXRfcG9pbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVJZC5pbmNsdWRlcygnOi8vJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJZCA9IGZpbGVJZC5zcGxpdCgnOi8vJylbMV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBkZXNjcmlwdGl2ZSBmaWxlbmFtZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW5JZCA9IHBhcnQubWV0YWRhdGEuZGFsbGUuZ2VuX2lkIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBwYXJ0LndpZHRoIHx8IDEwMjQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHBhcnQuaGVpZ2h0IHx8IDEwMjQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGRhbGxlXyR7Z2VuSWR9XyR7d2lkdGh9eCR7aGVpZ2h0fS5wbmdgO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhbGxlQXR0YWNobWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTaXplOiBwYXJ0LnNpemVfYnl0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZTogXCJpbWFnZS9wbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFjdGVkQ29udGVudDogcGFydC5tZXRhZGF0YS5kYWxsZS5wcm9tcHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzLnB1c2goZGFsbGVBdHRhY2htZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXR0YWNobWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdG9vbE1lc3NhZ2UuaWQgfHwgXCJcIixcbiAgICAgICAgICAgIGF1dGhvcjogeyByb2xlOiBcImFzc2lzdGFudFwiIH0sXG4gICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgcGFydHM6IFtcIkltYWdlIGdcdTAwRTluXHUwMEU5clx1MDBFOWUgcGFyIERBTEwtRVwiXSxcbiAgICAgICAgICAgICAgICBjb250ZW50X3R5cGU6IFwidGV4dFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlX3RpbWU6IHRvb2xNZXNzYWdlLmNyZWF0ZV90aW1lIHx8IDAsXG4gICAgICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYSBtZXNzYWdlIHNob3VsZCBiZSBpbmNsdWRlZCAtIHNhbWUgbG9naWMgYXMgQ2hhdEdQVENvbnZlcnRlclxuICAgICAqL1xuICAgIHByaXZhdGUgc2hvdWxkSW5jbHVkZU1lc3NhZ2UobWVzc2FnZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIFNhZmV0eSBjaGVja1xuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgIW1lc3NhZ2UuYXV0aG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNraXAgQUxMIHN5c3RlbSBtZXNzYWdlc1xuICAgICAgICBpZiAobWVzc2FnZS5hdXRob3Iucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTa2lwIEFMTCB0b29sIG1lc3NhZ2VzXG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcInRvb2xcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTa2lwIGhpZGRlbiBtZXNzYWdlc1xuICAgICAgICBpZiAobWVzc2FnZS5tZXRhZGF0YT8uaXNfdmlzdWFsbHlfaGlkZGVuX2Zyb21fY29udmVyc2F0aW9uID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNraXAgdXNlciBzeXN0ZW0gbWVzc2FnZXNcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWRhdGE/LmlzX3VzZXJfc3lzdGVtX21lc3NhZ2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2tpcCB1c2VyX2VkaXRhYmxlX2NvbnRleHQgY29udGVudCB0eXBlXG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSA9PT0gXCJ1c2VyX2VkaXRhYmxlX2NvbnRleHRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBc3Npc3RhbnQgbWVzc2FnZSBmaWx0ZXJpbmdcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgICAgIC8vIFNraXAgZW1wdHkgYXNzaXN0YW50IG1lc3NhZ2VzXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5wYXJ0cyAmJiBcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykgJiZcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQucGFydHMuZXZlcnkoKHBhcnQ6IGFueSkgPT4gXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXJ0ID09PSBcInN0cmluZ1wiICYmIHBhcnQudHJpbSgpID09PSBcIlwiXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2tpcCBhc3Npc3RhbnQgbWVzc2FnZXMgdGhhdCBhcmUganVzdCBEQUxMLUUgSlNPTiBwcm9tcHRzXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5wYXJ0cyAmJiBcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykgJiZcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQucGFydHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UuY29udGVudC5wYXJ0c1swXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQucGFydHNbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ3snKSAmJiBjb250ZW50LmluY2x1ZGVzKCdcInByb21wdFwiJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2tpcCB2YXJpb3VzIHRlY2huaWNhbCBjb250ZW50IHR5cGVzXG4gICAgICAgICAgICBjb25zdCBleGNsdWRlZENvbnRlbnRUeXBlcyA9IFtcImNvZGVcIiwgXCJzeXN0ZW1fZXJyb3JcIiwgXCJleGVjdXRpb25fb3V0cHV0XCJdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlICYmIGV4Y2x1ZGVkQ29udGVudFR5cGVzLmluY2x1ZGVzKG1lc3NhZ2UuY29udGVudC5jb250ZW50X3R5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3IgbXVsdGltb2RhbF90ZXh0LCBjaGVjayBpZiBpdCBoYXMgYWN0dWFsIHRleHQgY29udGVudFxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcIm11bHRpbW9kYWxfdGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8ucGFydHMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlLmNvbnRlbnQucGFydHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1RleHRDb250ZW50ID0gbWVzc2FnZS5jb250ZW50LnBhcnRzLnNvbWUoKHBhcnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcInN0cmluZ1wiICYmIHBhcnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwib2JqZWN0XCIgJiYgcGFydCAhPT0gbnVsbCAmJiAndGV4dCcgaW4gcGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcGFydC50ZXh0ID09PSBcInN0cmluZ1wiICYmIHBhcnQudGV4dC50cmltKCkgIT09IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNUZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVc2VyIG1lc3NhZ2UgZmlsdGVyaW5nXG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcInVzZXJcIikge1xuICAgICAgICAgICAgY29uc3QgZXhjbHVkZWRDb250ZW50VHlwZXMgPSBbXCJ1c2VyX2VkaXRhYmxlX2NvbnRleHRcIl07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSAmJiBleGNsdWRlZENvbnRlbnRUeXBlcy5pbmNsdWRlcyhtZXNzYWdlLmNvbnRlbnQuY29udGVudF90eXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmluYWwgdmFsaWRhdGlvbiB1c2luZyBleGlzdGluZyBmdW5jdGlvblxuICAgICAgICByZXR1cm4gaXNWYWxpZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxufVxuIiwgIi8vIHNyYy9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS1jb252ZXJ0ZXIudHNcbmltcG9ydCB7IFN0YW5kYXJkQ29udmVyc2F0aW9uLCBTdGFuZGFyZE1lc3NhZ2UsIFN0YW5kYXJkQXR0YWNobWVudCB9IGZyb20gXCIuLi8uLi90eXBlcy9zdGFuZGFyZFwiO1xuaW1wb3J0IHsgQ2xhdWRlQ29udmVyc2F0aW9uLCBDbGF1ZGVNZXNzYWdlLCBDbGF1ZGVDb250ZW50QmxvY2sgfSBmcm9tIFwiLi9jbGF1ZGUtdHlwZXNcIjtcbmltcG9ydCB7IGdlbmVyYXRlU2FmZUFsaWFzIH0gZnJvbSBcIi4uLy4uL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGF1ZGVDb252ZXJ0ZXIge1xuICAgIHByaXZhdGUgc3RhdGljIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbjtcblxuICAgIC8vIE5leHVzIGN1c3RvbSBjYWxsb3V0cyB3aXRoIGljb25zXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ0FMTE9VVFMgPSB7XG4gICAgICAgIFVTRVI6ICduZXh1c191c2VyJywgICAgICAvLyBcdUQ4M0RcdURDNjQgVXNlciBtZXNzYWdlc1xuICAgICAgICBBR0VOVDogJ25leHVzX2FnZW50JywgICAgLy8gXHVEODNFXHVERDE2IEFzc2lzdGFudC9BZ2VudCBtZXNzYWdlc1xuICAgICAgICBBVFRBQ0hNRU5UOiAnbmV4dXNfYXR0YWNobWVudCcsIC8vIFx1RDgzRFx1RENDRSBBdHRhY2htZW50c1xuICAgICAgICBBUlRJRkFDVDogJ25leHVzX2FydGlmYWN0JywgICAgIC8vIFx1RDgzRFx1REVFMFx1RkUwRiBDbGF1ZGUgYXJ0aWZhY3RzXG4gICAgICAgIFBST01QVDogJ25leHVzX3Byb21wdCcgICAgICAgICAgLy8gXHVEODNEXHVEQ0FEIFN5c3RlbSBwcm9tcHRzXG4gICAgfTtcblxuICAgIHN0YXRpYyBzZXRQbHVnaW4ocGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBjb252ZXJ0Q2hhdChjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24pOiBQcm9taXNlPFN0YW5kYXJkQ29udmVyc2F0aW9uPiB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRpbWUgPSBjaGF0LmNyZWF0ZWRfYXQgPyBNYXRoLmZsb29yKG5ldyBEYXRlKGNoYXQuY3JlYXRlZF9hdCkuZ2V0VGltZSgpIC8gMTAwMCkgOiAwO1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IHRoaXMuY29udmVydE1lc3NhZ2VzKGNoYXQuY2hhdF9tZXNzYWdlcywgY2hhdC51dWlkLCBjaGF0Lm5hbWUsIGNyZWF0ZVRpbWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogY2hhdC51dWlkLFxuICAgICAgICAgICAgdGl0bGU6IGNoYXQubmFtZSB8fCBcIlVudGl0bGVkXCIsXG4gICAgICAgICAgICBjcmVhdGVUaW1lOiBjaGF0LmNyZWF0ZWRfYXQgPyBNYXRoLmZsb29yKG5ldyBEYXRlKGNoYXQuY3JlYXRlZF9hdCkuZ2V0VGltZSgpIC8gMTAwMCkgOiAwLFxuICAgICAgICAgICAgdXBkYXRlVGltZTogY2hhdC51cGRhdGVkX2F0ID8gTWF0aC5mbG9vcihuZXcgRGF0ZShjaGF0LnVwZGF0ZWRfYXQpLmdldFRpbWUoKSAvIDEwMDApIDogMCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBcImNsYXVkZVwiLFxuICAgICAgICAgICAgY2hhdFVybDogYGh0dHBzOi8vY2xhdWRlLmFpL2NoYXQvJHtjaGF0LnV1aWR9YCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IGNoYXQubW9kZWwgfHwgXCJjbGF1ZGUtM1wiLFxuICAgICAgICAgICAgICAgIHN1bW1hcnk6IGNoYXQuc3VtbWFyeSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIGlzX3N0YXJyZWQ6IGNoYXQuaXNfc3RhcnJlZCxcbiAgICAgICAgICAgICAgICBjdXJyZW50X2xlYWZfbWVzc2FnZV91dWlkOiBjaGF0LmN1cnJlbnRfbGVhZl9tZXNzYWdlX3V1aWQsXG4gICAgICAgICAgICAgICAgcHJvamVjdF91dWlkOiBjaGF0LnByb2plY3RfdXVpZFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBjb252ZXJ0TWVzc2FnZXMobWVzc2FnZXM6IENsYXVkZU1lc3NhZ2VbXSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLCBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyKTogUHJvbWlzZTxTdGFuZGFyZE1lc3NhZ2VbXT4ge1xuICAgICAgICBjb25zdCBzdGFuZGFyZE1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXSA9IFtdO1xuXG4gICAgICAgIGlmICghbWVzc2FnZXMgfHwgbWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhbmRhcmRNZXNzYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBIQVNFIDE6IENvbGxlY3QgQUxMIGFydGlmYWN0cyBmcm9tIGVudGlyZSBjb252ZXJzYXRpb25cbiAgICAgICAgY29uc3QgYWxsQXJ0aWZhY3RzOiBBcnJheTx7YXJ0aWZhY3Q6IGFueSwgbWVzc2FnZUluZGV4OiBudW1iZXIsIGJsb2NrSW5kZXg6IG51bWJlcn0+ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgbXNnSW5kZXggPSAwOyBtc2dJbmRleCA8IG1lc3NhZ2VzLmxlbmd0aDsgbXNnSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW21zZ0luZGV4XTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBibG9ja0luZGV4ID0gMDsgYmxvY2tJbmRleCA8IG1lc3NhZ2UuY29udGVudC5sZW5ndGg7IGJsb2NrSW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9jayA9IG1lc3NhZ2UuY29udGVudFtibG9ja0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnR5cGUgPT09ICd0b29sX3VzZScgJiYgYmxvY2submFtZSA9PT0gJ2FydGlmYWN0cycgJiYgYmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBibG9jay5pbnB1dC5jb21tYW5kIHx8ICdjcmVhdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvblV1aWQgPSBibG9jay5pbnB1dC52ZXJzaW9uX3V1aWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgdmlldyBjb21tYW5kcyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCAhPT0gJ3ZpZXcnICYmIHZlcnNpb25VdWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQXJ0aWZhY3RzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdDogYmxvY2suaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJbmRleDogbXNnSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrSW5kZXg6IGJsb2NrSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBIQVNFIDI6IFByb2Nlc3MgQUxMIGFydGlmYWN0cyBhbmQgY3JlYXRlIGZpbGVzXG4gICAgICAgIGNvbnN0IGFydGlmYWN0VmVyc2lvbk1hcCA9IGF3YWl0IHRoaXMucHJvY2Vzc0FsbEFydGlmYWN0cyhhbGxBcnRpZmFjdHMsIGNvbnZlcnNhdGlvbklkLCBjb252ZXJzYXRpb25UaXRsZSwgY29udmVyc2F0aW9uQ3JlYXRlVGltZSk7XG5cbiAgICAgICAgLy8gUEhBU0UgMzogUHJvY2VzcyBtZXNzYWdlcyBhbmQgcmVwbGFjZSBhcnRpZmFjdHMgd2l0aCBsaW5rc1xuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGNvbnRlbnQgYmxvY2tzIHRvIGNyZWF0ZSBtZXNzYWdlIHRleHQgYW5kIGF0dGFjaG1lbnRzXG4gICAgICAgICAgICBjb25zdCB7IHRleHQsIGF0dGFjaG1lbnRzIH0gPSBhd2FpdCB0aGlzLnByb2Nlc3NDb250ZW50QmxvY2tzRm9yRGlzcGxheShcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgYXJ0aWZhY3RWZXJzaW9uTWFwLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBmaWxlIGF0dGFjaG1lbnRzXG4gICAgICAgICAgICBjb25zdCBmaWxlQXR0YWNobWVudHMgPSB0aGlzLnByb2Nlc3NGaWxlQXR0YWNobWVudHMobWVzc2FnZS5maWxlcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YW5kYXJkTWVzc2FnZTogU3RhbmRhcmRNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLnV1aWQsXG4gICAgICAgICAgICAgICAgcm9sZTogbWVzc2FnZS5zZW5kZXIgPT09ICdodW1hbicgPyAndXNlcicgOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0ZXh0IHx8IG1lc3NhZ2UudGV4dCB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogTWF0aC5mbG9vcihuZXcgRGF0ZShtZXNzYWdlLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBbLi4uYXR0YWNobWVudHMsIC4uLmZpbGVBdHRhY2htZW50c11cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHN0YW5kYXJkTWVzc2FnZXMucHVzaChzdGFuZGFyZE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29ydCBtZXNzYWdlcyBieSB0aW1lc3RhbXAgdG8gbWFpbnRhaW4gY2hyb25vbG9naWNhbCBvcmRlclxuICAgICAgICByZXR1cm4gdGhpcy5zb3J0TWVzc2FnZXNCeVRpbWVzdGFtcChzdGFuZGFyZE1lc3NhZ2VzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBzaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlOiBDbGF1ZGVNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEluY2x1ZGUgYWxsIGh1bWFuIGFuZCBhc3Npc3RhbnQgbWVzc2FnZXNcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2VuZGVyID09PSAnaHVtYW4nIHx8IG1lc3NhZ2Uuc2VuZGVyID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLnRleHQgJiYgKCFtZXNzYWdlLmNvbnRlbnQgfHwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvcnQgbWVzc2FnZXMgYnkgdGltZXN0YW1wIHdpdGggVVVJRCBhcyBzZWNvbmRhcnkgc29ydCBmb3IgY2hyb25vbG9naWNhbCBvcmRlclxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHNvcnRNZXNzYWdlc0J5VGltZXN0YW1wKG1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXSk6IFN0YW5kYXJkTWVzc2FnZVtdIHtcbiAgICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA8PSAxKSByZXR1cm4gbWVzc2FnZXM7XG5cbiAgICAgICAgLy8gVXNlIG5hdGl2ZSBzb3J0IHdpdGggcHJvcGVyIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIC8vIFByaW1hcnkgc29ydDogdGltZXN0YW1wXG4gICAgICAgICAgICBpZiAoYS50aW1lc3RhbXAgIT09IGIudGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlY29uZGFyeSBzb3J0OiBVVUlEIChsZXhpY29ncmFwaGljIG9yZGVyIGZvciBzYW1lIHRpbWVzdGFtcClcbiAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyBjb25zaXN0ZW50IG9yZGVyaW5nIHdoZW4gbWVzc2FnZXMgaGF2ZSBpZGVudGljYWwgdGltZXN0YW1wc1xuICAgICAgICAgICAgcmV0dXJuIGEuaWQubG9jYWxlQ29tcGFyZShiLmlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBBTEwgYXJ0aWZhY3RzIGZyb20gZW50aXJlIGNvbnZlcnNhdGlvbiBhbmQgY3JlYXRlIGZpbGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgcHJvY2Vzc0FsbEFydGlmYWN0cyhcbiAgICAgICAgYWxsQXJ0aWZhY3RzOiBBcnJheTx7YXJ0aWZhY3Q6IGFueSwgbWVzc2FnZUluZGV4OiBudW1iZXIsIGJsb2NrSW5kZXg6IG51bWJlcn0+LFxuICAgICAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uVGl0bGU/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWU/OiBudW1iZXJcbiAgICApOiBQcm9taXNlPE1hcDxzdHJpbmcsIHt2ZXJzaW9uTnVtYmVyOiBudW1iZXIsIHRpdGxlOiBzdHJpbmd9Pj4ge1xuXG4gICAgICAgIGNvbnN0IGFydGlmYWN0VmVyc2lvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCB7dmVyc2lvbk51bWJlcjogbnVtYmVyLCB0aXRsZTogc3RyaW5nfT4oKTtcbiAgICAgICAgY29uc3QgdmVyc2lvbkNvdW50ZXJzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICAgICAgY29uc3QgYXJ0aWZhY3RDb250ZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgICAgIGNvbnN0IGFydGlmYWN0TGFuZ3VhZ2VzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTsgLy8gVHJhY2sgbGFuZ3VhZ2UgcGVyIGFydGlmYWN0IElEXG5cbiAgICAgICAgY29uc29sZS5sb2coYENsYXVkZSBjb252ZXJ0ZXI6IFByb2Nlc3NpbmcgJHthbGxBcnRpZmFjdHMubGVuZ3RofSBhcnRpZmFjdHMgZnJvbSBlbnRpcmUgY29udmVyc2F0aW9uYCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB7YXJ0aWZhY3R9IG9mIGFsbEFydGlmYWN0cykge1xuICAgICAgICAgICAgY29uc3QgYXJ0aWZhY3RJZCA9IGFydGlmYWN0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBhcnRpZmFjdC5jb21tYW5kIHx8ICdjcmVhdGUnO1xuXG4gICAgICAgICAgICAvLyBJbmNyZW1lbnQgdmVyc2lvbiBudW1iZXIgZm9yIHRoaXMgYXJ0aWZhY3QgSURcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWZXJzaW9uID0gKHZlcnNpb25Db3VudGVycy5nZXQoYXJ0aWZhY3RJZCkgfHwgMCkgKyAxO1xuICAgICAgICAgICAgdmVyc2lvbkNvdW50ZXJzLnNldChhcnRpZmFjdElkLCBjdXJyZW50VmVyc2lvbik7XG5cbiAgICAgICAgICAgIGxldCBmaW5hbENvbnRlbnQgPSAnJztcblxuICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09ICdjcmVhdGUnIHx8IGNvbW1hbmQgPT09ICdyZXdyaXRlJykge1xuICAgICAgICAgICAgICAgIC8vIENvbXBsZXRlIGNvbnRlbnQgcHJvdmlkZWQgLSBSRVNFVCBjdW11bGF0aXZlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBmaW5hbENvbnRlbnQgPSBhcnRpZmFjdC5jb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgICAgIGFydGlmYWN0Q29udGVudHMuc2V0KGFydGlmYWN0SWQsIGZpbmFsQ29udGVudCk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb3IgY3JlYXRlL3Jld3JpdGU6IGRldGVjdCBhbmQgc3RvcmUgdGhlIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgY29uc3QgZGV0ZWN0ZWRMYW5ndWFnZSA9IHRoaXMuZGV0ZWN0TGFuZ3VhZ2VGcm9tQ29udGVudChmaW5hbENvbnRlbnQsIGFydGlmYWN0LnR5cGUpO1xuICAgICAgICAgICAgICAgIGFydGlmYWN0TGFuZ3VhZ2VzLnNldChhcnRpZmFjdElkLCBkZXRlY3RlZExhbmd1YWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSB1cGRhdGUgdG8gUFJFVklPVVMgY29udGVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ29udGVudCA9IGFydGlmYWN0Q29udGVudHMuZ2V0KGFydGlmYWN0SWQpIHx8ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFydGlmYWN0Lm9sZF9zdHIgJiYgYXJ0aWZhY3QubmV3X3N0cikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWQtbGlrZSByZXBsYWNlbWVudCBvbiBwcmV2aW91cyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IHByZXZpb3VzQ29udGVudC5yZXBsYWNlKGFydGlmYWN0Lm9sZF9zdHIsIGFydGlmYWN0Lm5ld19zdHIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJ0aWZhY3QuY29udGVudCAmJiBhcnRpZmFjdC5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcGxldGUgdXBkYXRlZCBjb250ZW50IHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IGFydGlmYWN0LmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgdXBkYXRlIC0ga2VlcCBwcmV2aW91cyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IHByZXZpb3VzQ29udGVudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY3VtdWxhdGl2ZSBjb250ZW50IGZvciBuZXh0IHZlcnNpb25cbiAgICAgICAgICAgICAgICBhcnRpZmFjdENvbnRlbnRzLnNldChhcnRpZmFjdElkLCBmaW5hbENvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBzdG9yZWQgbGFuZ3VhZ2UgKGZyb20gY3JlYXRlL3Jld3JpdGUpIG9yIGRldGVjdCBmb3IgdGhpcyB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkTGFuZ3VhZ2UgPSBhcnRpZmFjdExhbmd1YWdlcy5nZXQoYXJ0aWZhY3RJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2VUb1VzZSA9IHN0b3JlZExhbmd1YWdlIHx8IHRoaXMuZGV0ZWN0TGFuZ3VhZ2VGcm9tQ29udGVudChmaW5hbENvbnRlbnQsIGFydGlmYWN0LnR5cGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHNwZWNpZmljIHZlcnNpb25cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTaW5nbGVBcnRpZmFjdFZlcnNpb25XaXRoQ29udGVudChcbiAgICAgICAgICAgICAgICAgICAgYXJ0aWZhY3RJZCxcbiAgICAgICAgICAgICAgICAgICAgYXJ0aWZhY3QsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBmaW5hbENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VUb1VzZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBUcmFjayB2ZXJzaW9uIGluZm8gZm9yIGxpbmtpbmdcbiAgICAgICAgICAgICAgICBhcnRpZmFjdFZlcnNpb25NYXAuc2V0KGFydGlmYWN0LnZlcnNpb25fdXVpZCwge1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uTnVtYmVyOiBjdXJyZW50VmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGFydGlmYWN0LnRpdGxlIHx8IGFydGlmYWN0SWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2F2ZSAke2FydGlmYWN0SWR9IHYke2N1cnJlbnRWZXJzaW9ufTpgLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJ0aWZhY3RWZXJzaW9uTWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgY29udGVudCBibG9ja3MgZm9yIGRpc3BsYXkgKHdpdGggYXJ0aWZhY3QgbGlua3MpXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgcHJvY2Vzc0NvbnRlbnRCbG9ja3NGb3JEaXNwbGF5KFxuICAgICAgICBjb250ZW50QmxvY2tzOiBDbGF1ZGVDb250ZW50QmxvY2tbXSxcbiAgICAgICAgYXJ0aWZhY3RWZXJzaW9uTWFwOiBNYXA8c3RyaW5nLCB7dmVyc2lvbk51bWJlcjogbnVtYmVyLCB0aXRsZTogc3RyaW5nfT4sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlclxuICAgICk6IFByb21pc2U8eyB0ZXh0OiBzdHJpbmc7IGF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSB9PiB7XG4gICAgICAgIGNvbnN0IHRleHRQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdID0gW107XG5cbiAgICAgICAgLy8gSGFuZGxlIGVtcHR5IG9yIG51bGwgY29udGVudCBibG9ja3NcbiAgICAgICAgaWYgKCFjb250ZW50QmxvY2tzIHx8IGNvbnRlbnRCbG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBcIlwiLCBhdHRhY2htZW50czogW10gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgY29udGVudCBibG9ja3MgZm9yIGRpc3BsYXlcbiAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiBjb250ZW50QmxvY2tzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGJsb2NrLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQYXJ0cy5wdXNoKGJsb2NrLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndGhpbmtpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoaW5raW5nIGJsb2NrcyAtIG5vdCB1c2VmdWwgZm9yIHVzZXJzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9vbF91c2UnOlxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc3BlY2lmaWMgYXJ0aWZhY3QgbGlua3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLm5hbWUgPT09ICdhcnRpZmFjdHMnICYmIGJsb2NrLmlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYmxvY2suaW5wdXQuY29tbWFuZCB8fCAnY3JlYXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25VdWlkID0gYmxvY2suaW5wdXQudmVyc2lvbl91dWlkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHZpZXcgY29tbWFuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kID09PSAndmlldycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25VdWlkICYmIGFydGlmYWN0VmVyc2lvbk1hcC5oYXModmVyc2lvblV1aWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbkluZm8gPSBhcnRpZmFjdFZlcnNpb25NYXAuZ2V0KHZlcnNpb25VdWlkKSE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJ0aWZhY3RJZCA9IGJsb2NrLmlucHV0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25Gb2xkZXIgPSBgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2htZW50Rm9sZGVyfS9jbGF1ZGUvYXJ0aWZhY3RzLyR7Y29udmVyc2F0aW9uSWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uRmlsZSA9IGAke2NvbnZlcnNhdGlvbkZvbGRlcn0vJHthcnRpZmFjdElkfV92JHt2ZXJzaW9uSW5mby52ZXJzaW9uTnVtYmVyfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BlY2lmaWNMaW5rID0gYD5bISR7dGhpcy5DQUxMT1VUUy5BUlRJRkFDVH1dICoqJHt2ZXJzaW9uSW5mby50aXRsZX0qKiB2JHt2ZXJzaW9uSW5mby52ZXJzaW9uTnVtYmVyfVxcbj4gXHVEODNDXHVERkE4IFtbJHt2ZXJzaW9uRmlsZX18VmlldyBBcnRpZmFjdF1dYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGFydHMucHVzaChzcGVjaWZpY0xpbmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm5hbWUgPT09ICd3ZWJfc2VhcmNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIG91dCB3ZWJfc2VhcmNoIHRvb2xzIC0gbm90IHVzZWZ1bCBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm5hbWUgJiYgYmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIHRvb2xzIChrZWVwIGZvciBub3csIGNhbiBiZSBmaWx0ZXJlZCBsYXRlciBpZiBuZWVkZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gYmxvY2suaW5wdXQuY29kZSB8fCBKU09OLnN0cmluZ2lmeShibG9jay5pbnB1dCwgbnVsbCwgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGFydHMucHVzaChgKipbVG9vbDogJHtibG9jay5uYW1lfV0qKlxcblxcYFxcYFxcYFxcbiR7Y29kZX1cXG5cXGBcXGBcXGBgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2xfcmVzdWx0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBhbGwgdG9vbCByZXN1bHRzIC0gbm90IHVzZWZ1bCBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogdGV4dFBhcnRzLmpvaW4oJ1xcblxcbicpLFxuICAgICAgICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgcHJvY2Vzc0NvbnRlbnRCbG9ja3MoXG4gICAgICAgIGNvbnRlbnRCbG9ja3M6IENsYXVkZUNvbnRlbnRCbG9ja1tdLFxuICAgICAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uVGl0bGU/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWU/OiBudW1iZXIsXG4gICAgICAgIHZlcnNpb25Db3VudGVycz86IE1hcDxzdHJpbmcsIG51bWJlcj4sXG4gICAgICAgIGFydGlmYWN0U3VtbWFyaWVzPzogTWFwPHN0cmluZywgYW55PlxuICAgICk6IFByb21pc2U8eyB0ZXh0OiBzdHJpbmc7IGF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSB9PiB7XG4gICAgICAgIGNvbnN0IHRleHRQYXJ0czogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdID0gW107XG4gICAgICAgIGNvbnN0IGFydGlmYWN0VmVyc2lvbnNNYXAgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7IC8vIFRyYWNrIGFsbCB2ZXJzaW9ucyBieSBhcnRpZmFjdCBJRFxuXG4gICAgICAgIC8vIEhhbmRsZSBlbXB0eSBvciBudWxsIGNvbnRlbnQgYmxvY2tzXG4gICAgICAgIGlmICghY29udGVudEJsb2NrcyB8fCBjb250ZW50QmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogXCJcIiwgYXR0YWNobWVudHM6IFtdIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJzdCBwYXNzOiBjb2xsZWN0IEFMTCBzaWduaWZpY2FudCBhcnRpZmFjdCB2ZXJzaW9uc1xuICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnRCbG9ja3MpIHtcbiAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSAndG9vbF91c2UnICYmIGJsb2NrLm5hbWUgPT09ICdhcnRpZmFjdHMnICYmIGJsb2NrLmlucHV0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJ0aWZhY3RJZCA9IGJsb2NrLmlucHV0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYmxvY2suaW5wdXQuY29udGVudCB8fCAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYmxvY2suaW5wdXQuY29tbWFuZCB8fCAnY3JlYXRlJztcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uVXVpZCA9IGJsb2NrLmlucHV0LnZlcnNpb25fdXVpZDtcblxuICAgICAgICAgICAgICAgIC8vIFNraXAgZW1wdHkgdXBkYXRlcyBhbmQgdmlldyBjb21tYW5kcyAtIHRoZXkncmUganVzdCBVSSB1cGRhdGVzIHdpdGhvdXQgY29udGVudFxuICAgICAgICAgICAgICAgIGlmICgoY29tbWFuZCA9PT0gJ3VwZGF0ZScgJiYgY29udGVudC5sZW5ndGggPT09IDApIHx8IGNvbW1hbmQgPT09ICd2aWV3Jykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBPbmx5IGtlZXAgc2lnbmlmaWNhbnQgdmVyc2lvbnMgKGNyZWF0ZSwgcmV3cml0ZSwgb3Igc3Vic3RhbnRpYWwgdXBkYXRlcylcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NpZ25pZmljYW50ID0gY29tbWFuZCA9PT0gJ2NyZWF0ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPT09ICdyZXdyaXRlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbW1hbmQgPT09ICd1cGRhdGUnICYmIGNvbnRlbnQubGVuZ3RoID4gMTAwKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1NpZ25pZmljYW50ICYmIHZlcnNpb25VdWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGF1ZGUgY29udmVydGVyOiBGb3VuZCBzaWduaWZpY2FudCBhcnRpZmFjdCB2ZXJzaW9uIC0gSUQ6ICR7YXJ0aWZhY3RJZH0sIENvbW1hbmQ6ICR7Y29tbWFuZH0sIENvbnRlbnQgbGVuZ3RoOiAke2NvbnRlbnQubGVuZ3RofSwgVVVJRDogJHt2ZXJzaW9uVXVpZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcnRpZmFjdFZlcnNpb25zTWFwLmhhcyhhcnRpZmFjdElkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWZhY3RWZXJzaW9uc01hcC5zZXQoYXJ0aWZhY3RJZCwgW10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFydGlmYWN0VmVyc2lvbnNNYXAuZ2V0KGFydGlmYWN0SWQpIS5wdXNoKGJsb2NrLmlucHV0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xhdWRlIGNvbnZlcnRlcjogU2tpcHBlZCBhcnRpZmFjdCAtIElEOiAke2FydGlmYWN0SWR9LCBDb21tYW5kOiAke2NvbW1hbmR9LCBDb250ZW50IGxlbmd0aDogJHtjb250ZW50Lmxlbmd0aH0sIFNpZ25pZmljYW50OiAke2lzU2lnbmlmaWNhbnR9LCBIYXMgVVVJRDogJHshIXZlcnNpb25VdWlkfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlY29uZCBwYXNzOiBwcm9jZXNzIGFydGlmYWN0cyBpbiBtZXNzYWdlcyBhbmQgY3JlYXRlIHNwZWNpZmljIGxpbmtzXG4gICAgICAgIC8vIFVzZSBwcm92aWRlZCBjb3VudGVycyBvciBjcmVhdGUgbmV3IG9uZXMgKGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuICAgICAgICBpZiAoIXZlcnNpb25Db3VudGVycykgdmVyc2lvbkNvdW50ZXJzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICAgICAgaWYgKCFhcnRpZmFjdFN1bW1hcmllcykgYXJ0aWZhY3RTdW1tYXJpZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgICAgIC8vIEdsb2JhbCBhcnRpZmFjdCBjb250ZW50IHRyYWNraW5nIGZvciBjdW11bGF0aXZlIHVwZGF0ZXNcbiAgICAgICAgY29uc3QgYXJ0aWZhY3RDb250ZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG5cbiAgICAgICAgLy8gVGhpcmQgcGFzczogcHJvY2VzcyBub24tYXJ0aWZhY3QgY29udGVudCBibG9ja3NcbiAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiBjb250ZW50QmxvY2tzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGJsb2NrLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQYXJ0cy5wdXNoKGJsb2NrLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndGhpbmtpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoaW5raW5nIGJsb2NrcyAtIG5vdCB1c2VmdWwgZm9yIHVzZXJzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9vbF91c2UnOlxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IGludGVybmFsIHRvb2wgdXNhZ2UgKGxpa2UgW1Rvb2w6IHJlcGxdKSAtIG5vdCB2YWx1YWJsZSBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLm5hbWUgPT09ICdyZXBsJyB8fCBibG9jay5uYW1lID09PSAnc3RyX3JlcGxhY2VfZWRpdG9yJyB8fCBibG9jay5uYW1lID09PSAnYmFzaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgaW50ZXJuYWwgdG9vbCB1c2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYXJ0aWZhY3RzIHNwZWNpZmljYWxseVxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2submFtZSA9PT0gJ2FydGlmYWN0cycgJiYgYmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFydGlmYWN0SWQgPSBibG9jay5pbnB1dC5pZCB8fCAndW5rbm93bic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21tYW5kID0gYmxvY2suaW5wdXQuY29tbWFuZCB8fCAnY3JlYXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25VdWlkID0gYmxvY2suaW5wdXQudmVyc2lvbl91dWlkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHZpZXcgY29tbWFuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kID09PSAndmlldycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb25VdWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IHZlcnNpb24gbnVtYmVyIGZvciB0aGlzIGFydGlmYWN0IElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFZlcnNpb24gPSAodmVyc2lvbkNvdW50ZXJzLmdldChhcnRpZmFjdElkKSB8fCAwKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbkNvdW50ZXJzLnNldChhcnRpZmFjdElkLCBjdXJyZW50VmVyc2lvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxDb250ZW50ID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCA9PT0gJ2NyZWF0ZScgfHwgY29tbWFuZCA9PT0gJ3Jld3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBsZXRlIGNvbnRlbnQgcHJvdmlkZWQgLSBSRVNFVCBjdW11bGF0aXZlIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gYmxvY2suaW5wdXQuY29udGVudCB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWZhY3RDb250ZW50cy5zZXQoYXJ0aWZhY3RJZCwgZmluYWxDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT09ICd1cGRhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IHVwZGF0ZSB0byBQUkVWSU9VUyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ29udGVudCA9IGFydGlmYWN0Q29udGVudHMuZ2V0KGFydGlmYWN0SWQpIHx8ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jay5pbnB1dC5vbGRfc3RyICYmIGJsb2NrLmlucHV0Lm5ld19zdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZC1saWtlIHJlcGxhY2VtZW50IG9uIHByZXZpb3VzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IHByZXZpb3VzQ29udGVudC5yZXBsYWNlKGJsb2NrLmlucHV0Lm9sZF9zdHIsIGJsb2NrLmlucHV0Lm5ld19zdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLmlucHV0LmNvbnRlbnQgJiYgYmxvY2suaW5wdXQuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21wbGV0ZSB1cGRhdGVkIGNvbnRlbnQgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IGJsb2NrLmlucHV0LmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSB1cGRhdGUgLSBrZWVwIHByZXZpb3VzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IHByZXZpb3VzQ29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjdW11bGF0aXZlIGNvbnRlbnQgZm9yIG5leHQgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdENvbnRlbnRzLnNldChhcnRpZmFjdElkLCBmaW5hbENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nICR7YXJ0aWZhY3RJZH0gdiR7Y3VycmVudFZlcnNpb259ICgke2NvbW1hbmR9LCAke2ZpbmFsQ29udGVudC5sZW5ndGh9IGNoYXJzKWApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHNwZWNpZmljIHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2luZ2xlQXJ0aWZhY3RWZXJzaW9uV2l0aENvbnRlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHNwZWNpZmljIGxpbmsgZm9yIFRISVMgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGJsb2NrLmlucHV0LnRpdGxlIHx8IGFydGlmYWN0SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZvbGRlciA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJ9L2NsYXVkZS9hcnRpZmFjdHMvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uRmlsZSA9IGAke2NvbnZlcnNhdGlvbkZvbGRlcn0vJHthcnRpZmFjdElkfV92JHtjdXJyZW50VmVyc2lvbn1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpY0xpbmsgPSBgPlshJHt0aGlzLkNBTExPVVRTLkFSVElGQUNUfV0gKioke3RpdGxlfSoqIHYke2N1cnJlbnRWZXJzaW9ufVxcbj4gXHVEODNDXHVERkE4IFtbJHt2ZXJzaW9uRmlsZX18VmlldyBBcnRpZmFjdF1dYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBhcnRzLnB1c2goc3BlY2lmaWNMaW5rKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzYXZlICR7YXJ0aWZhY3RJZH0gdiR7Y3VycmVudFZlcnNpb259OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBhcnRzLnB1c2goYD5bISR7dGhpcy5DQUxMT1VUUy5BUlRJRkFDVH1dICoqJHtibG9jay5pbnB1dC50aXRsZSB8fCBhcnRpZmFjdElkfSoqIHYke2N1cnJlbnRWZXJzaW9ufVxcbj4gXHUyNzRDIEVycm9yIHNhdmluZyBhcnRpZmFjdGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChibG9jay5uYW1lID09PSAnd2ViX3NlYXJjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgd2ViX3NlYXJjaCB0b29scyAtIG5vdCB1c2VmdWwgZm9yIHVzZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChibG9jay5uYW1lICYmIGJsb2NrLmlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlciB0b29scyAoa2VlcCBmb3Igbm93LCBjYW4gYmUgZmlsdGVyZWQgbGF0ZXIgaWYgbmVlZGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IGJsb2NrLmlucHV0LmNvZGUgfHwgSlNPTi5zdHJpbmdpZnkoYmxvY2suaW5wdXQsIG51bGwsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBhcnRzLnB1c2goYCoqW1Rvb2w6ICR7YmxvY2submFtZX1dKipcXG5cXGBcXGBcXGBcXG4ke2NvZGV9XFxuXFxgXFxgXFxgYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b29sX3Jlc3VsdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgYWxsIHRvb2wgcmVzdWx0cyAtIG5vdCB1c2VmdWwgZm9yIHVzZXJzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleHQ6IHRleHRQYXJ0cy5qb2luKCdcXG5cXG4nKSxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgcHJvY2Vzc0ZpbGVBdHRhY2htZW50cyhmaWxlczogYW55W10pOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSB7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGVtcHR5IG9yIG51bGwgZmlsZXMgYXJyYXlcbiAgICAgICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRhY2htZW50cztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZSAmJiBmaWxlLmZpbGVfbmFtZSkge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogZmlsZS5maWxlX25hbWUsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVTaXplOiAwLCAvLyBTaXplIG5vdCBwcm92aWRlZCBpbiBDbGF1ZGUgZXhwb3J0XG4gICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiB0aGlzLmdldEZpbGVUeXBlRnJvbU5hbWUoZmlsZS5maWxlX25hbWUpLFxuICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IGZpbGUuZmlsZV9uYW1lLCAvLyBVc2UgZmlsZW5hbWUgYXMgSURcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdGVkQ29udGVudDogXCJcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYXR0YWNobWVudHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0RmlsZVR5cGVGcm9tTmFtZShmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgY2FzZSAncG5nJzpcbiAgICAgICAgICAgIGNhc2UgJ2pwZyc6XG4gICAgICAgICAgICBjYXNlICdqcGVnJzpcbiAgICAgICAgICAgIGNhc2UgJ2dpZic6XG4gICAgICAgICAgICBjYXNlICd3ZWJwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGltYWdlLyR7ZXh0ZW5zaW9ufWA7XG4gICAgICAgICAgICBjYXNlICdwZGYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vcGRmJztcbiAgICAgICAgICAgIGNhc2UgJ3R4dCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICAgICAgICAgIGNhc2UgJ21kJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvbWFya2Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnanNvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHNpbmdsZSBhcnRpZmFjdCB2ZXJzaW9uIHdpdGggY29tcHV0ZWQgY29udGVudFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIHNhdmVTaW5nbGVBcnRpZmFjdFZlcnNpb25XaXRoQ29udGVudChcbiAgICAgICAgYXJ0aWZhY3RJZDogc3RyaW5nLFxuICAgICAgICBhcnRpZmFjdERhdGE6IGFueSxcbiAgICAgICAgdmVyc2lvbk51bWJlcjogbnVtYmVyLFxuICAgICAgICBmaW5hbENvbnRlbnQ6IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyLFxuICAgICAgICBmb3JjZWRMYW5ndWFnZT86IHN0cmluZ1xuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMucGx1Z2luKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbiBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGVuc3VyZUZvbGRlckV4aXN0cyB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vLi4vdXRpbHNcIik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGNvbnZlcnNhdGlvbi1zcGVjaWZpYyBhcnRpZmFjdCBmb2xkZXJcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uRm9sZGVyID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2xhdWRlL2FydGlmYWN0cy8ke2NvbnZlcnNhdGlvbklkfWA7XG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhjb252ZXJzYXRpb25Gb2xkZXIsIHRoaXMucGx1Z2luLmFwcC52YXVsdCk7XG4gICAgICAgIGlmICghZm9sZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBhcnRpZmFjdHMgZm9sZGVyOiAke2ZvbGRlclJlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNhbml0aXplIGFydGlmYWN0SWQgdG8gYXZvaWQgZmlsZXN5c3RlbSBpc3N1ZXNcbiAgICAgICAgY29uc3Qgc2FmZUFydGlmYWN0SWQgPSBhcnRpZmFjdElkLnJlcGxhY2UoL1tcXC9cXFxcOio/XCI8PnxdL2csICdfJyk7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7c2FmZUFydGlmYWN0SWR9X3Yke3ZlcnNpb25OdW1iZXJ9Lm1kYDtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtjb252ZXJzYXRpb25Gb2xkZXJ9LyR7ZmlsZU5hbWV9YDtcblxuICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCBzaG91bGRTa2lwID0gYXdhaXQgdGhpcy5zaG91bGRTa2lwQXJ0aWZhY3RWZXJzaW9uKGZpbGVQYXRoLCBhcnRpZmFjdERhdGEudmVyc2lvbl91dWlkKTtcbiAgICAgICAgaWYgKHNob3VsZFNraXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZUluZGl2aWR1YWxBcnRpZmFjdFZlcnNpb24oXG4gICAgICAgICAgICBhcnRpZmFjdERhdGEsXG4gICAgICAgICAgICBmaWxlUGF0aCxcbiAgICAgICAgICAgIHZlcnNpb25OdW1iZXIsXG4gICAgICAgICAgICBmaW5hbENvbnRlbnQsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZSxcbiAgICAgICAgICAgIGZvcmNlZExhbmd1YWdlXG4gICAgICAgICk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhcnRpZmFjdCBzdW1tYXJ5IGZvciBjb252ZXJzYXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBjcmVhdGVBcnRpZmFjdFN1bW1hcnkoYXJ0aWZhY3RJZDogc3RyaW5nLCBpbmZvOiBhbnksIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBpbmZvLnRpdGxlIHx8IGFydGlmYWN0SWQ7XG4gICAgICAgIGNvbnN0IHRvdGFsVmVyc2lvbnMgPSBpbmZvLnRvdGFsVmVyc2lvbnMgfHwgMTtcbiAgICAgICAgY29uc3QgbGF0ZXN0VmVyc2lvbiA9IGluZm8ubGF0ZXN0VmVyc2lvbiB8fCAxO1xuXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZvbGRlciA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJ9L2NsYXVkZS9hcnRpZmFjdHMvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICBjb25zdCBsYXRlc3RGaWxlID0gYCR7Y29udmVyc2F0aW9uRm9sZGVyfS8ke2FydGlmYWN0SWR9X3Yke2xhdGVzdFZlcnNpb259YDtcblxuICAgICAgICBsZXQgc3VtbWFyeSA9IGA8ZGl2IGNsYXNzPVwibmV4dXMtYXJ0aWZhY3QtYm94XCI+KipcdUQ4M0NcdURGQTggQXJ0aWZhY3Q6ICR7dGl0bGV9KipgO1xuXG4gICAgICAgIGlmICh0b3RhbFZlcnNpb25zID4gMSkge1xuICAgICAgICAgICAgc3VtbWFyeSArPSBgICgke3RvdGFsVmVyc2lvbnN9IHZlcnNpb25zKWA7XG4gICAgICAgIH1cblxuICAgICAgICBzdW1tYXJ5ICs9IGBcXG5cXG5cdUQ4M0RcdURDQ0UgKipbWyR7bGF0ZXN0RmlsZX18VmlldyBMYXRlc3QgVmVyc2lvbl1dKipgO1xuXG4gICAgICAgIGlmICh0b3RhbFZlcnNpb25zID4gMSkge1xuICAgICAgICAgICAgc3VtbWFyeSArPSBgIHwgKipbWyR7Y29udmVyc2F0aW9uRm9sZGVyfS98QWxsIFZlcnNpb25zXV0qKmA7XG4gICAgICAgIH1cblxuICAgICAgICBzdW1tYXJ5ICs9IGA8L2Rpdj5gO1xuICAgICAgICByZXR1cm4gc3VtbWFyeTtcbiAgICB9XG5cblxuXG5cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBhcnRpZmFjdCBzdW1tYXJ5IGZvciBjb252ZXJzYXRpb24gZGlzcGxheVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGZvcm1hdEFydGlmYWN0U3VtbWFyeShmaXJzdFZlcnNpb246IGFueSwgc2F2ZWRWZXJzaW9uczogc3RyaW5nW10sIGxhdGVzdFZlcnNpb246IHN0cmluZywgY29udmVyc2F0aW9uRm9sZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGZpcnN0VmVyc2lvbj8udGl0bGUgfHwgJ1VudGl0bGVkIEFydGlmYWN0JztcbiAgICAgICAgY29uc3QgdmVyc2lvbkNvdW50ID0gc2F2ZWRWZXJzaW9ucy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGF1ZGUgY29udmVydGVyOiBObyBsYXRlc3QgdmVyc2lvbiBhdmFpbGFibGUgZm9yIGFydGlmYWN0IHN1bW1hcnknKTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke3RpdGxlfSoqIChFcnJvcjogTm8gYWNjZXNzaWJsZSB2ZXJzaW9uKTwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZm9ybWF0dGVkQ29udGVudCA9IGA8ZGl2IGNsYXNzPVwibmV4dXMtYXJ0aWZhY3QtYm94XCI+KipcdUQ4M0NcdURGQTggQXJ0aWZhY3Q6ICR7dGl0bGV9KipgO1xuXG4gICAgICAgIGlmICh2ZXJzaW9uQ291bnQgPiAxKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGAgKCR7dmVyc2lvbkNvdW50fSB2ZXJzaW9ucylgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIHZhdWx0LXJlbGF0aXZlIHBhdGhzIGZvciBPYnNpZGlhbiBsaW5rcyAocmVtb3ZlIC5tZCBleHRlbnNpb24gZm9yIGxpbmtzKVxuICAgICAgICBjb25zdCBsYXRlc3RWZXJzaW9uTGluayA9IGxhdGVzdFZlcnNpb24ucmVwbGFjZSgvXFwubWQkLywgJycpO1xuICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGBcXG5cXG5cdUQ4M0RcdURDQ0UgKipbWyR7bGF0ZXN0VmVyc2lvbkxpbmt9fFZpZXcgTGF0ZXN0IFZlcnNpb25dXSoqYDtcblxuICAgICAgICBpZiAodmVyc2lvbkNvdW50ID4gMSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgIHwgKipbWyR7Y29udmVyc2F0aW9uRm9sZGVyfS98QWxsIFZlcnNpb25zXV0qKmA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGA8L2Rpdj5gO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVkQ29udGVudDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHNpbmdsZSBhcnRpZmFjdCB2ZXJzaW9uIHdpdGggc3BlY2lmaWMgY29udGVudFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIHNhdmVJbmRpdmlkdWFsQXJ0aWZhY3RWZXJzaW9uKFxuICAgICAgICBhcnRpZmFjdElucHV0OiBhbnksXG4gICAgICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgICAgIHZlcnNpb25OdW1iZXI6IG51bWJlcixcbiAgICAgICAgdmVyc2lvbkNvbnRlbnQ6IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyLFxuICAgICAgICBmb3JjZWRMYW5ndWFnZT86IHN0cmluZ1xuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGFydGlmYWN0SW5wdXQudGl0bGUgfHwgJ1VudGl0bGVkIEFydGlmYWN0JztcbiAgICAgICAgbGV0IGxhbmd1YWdlID0gYXJ0aWZhY3RJbnB1dC5sYW5ndWFnZSB8fCAndGV4dCc7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBhcnRpZmFjdElucHV0LmNvbW1hbmQgfHwgJ2NyZWF0ZSc7XG4gICAgICAgIGNvbnN0IGFydGlmYWN0SWQgPSBhcnRpZmFjdElucHV0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgY29uc3QgdmVyc2lvblV1aWQgPSBhcnRpZmFjdElucHV0LnZlcnNpb25fdXVpZDtcblxuICAgICAgICAvLyBVc2UgZm9yY2VkIGxhbmd1YWdlIChmcm9tIGNyZWF0ZS9yZXdyaXRlKSBvciBhdXRvLWRldGVjdFxuICAgICAgICBpZiAoZm9yY2VkTGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGxhbmd1YWdlID0gZm9yY2VkTGFuZ3VhZ2U7XG4gICAgICAgIH0gZWxzZSBpZiAoKGxhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0JyB8fCAhbGFuZ3VhZ2UgfHwgbGFuZ3VhZ2UgPT09ICd1bmRlZmluZWQnKSAmJiB2ZXJzaW9uQ29udGVudCkge1xuICAgICAgICAgICAgY29uc3QgZGV0ZWN0ZWRMYW5ndWFnZSA9IHRoaXMuZGV0ZWN0TGFuZ3VhZ2VGcm9tQ29udGVudCh2ZXJzaW9uQ29udGVudCwgYXJ0aWZhY3RJbnB1dC50eXBlKTtcbiAgICAgICAgICAgIGlmIChkZXRlY3RlZExhbmd1YWdlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IGRldGVjdGVkTGFuZ3VhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBjb252ZXJzYXRpb24gbGluayB3aXRoIHByb3BlciBwYXRoIGlmIGNvbnZlcnNhdGlvbklkIGFuZCB0aXRsZSBhcmUgcHJvdmlkZWRcbiAgICAgICAgbGV0IGNvbnZlcnNhdGlvbkxpbmsgPSAnJztcbiAgICAgICAgaWYgKGNvbnZlcnNhdGlvbklkICYmIGNvbnZlcnNhdGlvblRpdGxlICYmIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZURhdGUgPSBuZXcgRGF0ZShjb252ZXJzYXRpb25DcmVhdGVUaW1lICogMTAwMCk7XG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gY3JlYXRlRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoY3JlYXRlRGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblxuICAgICAgICAgICAgLy8gSW1wb3J0IHV0aWxpdGllc1xuICAgICAgICAgICAgY29uc3QgeyBnZW5lcmF0ZUNvbnZlcnNhdGlvbkZpbGVOYW1lIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi91dGlsc1wiKTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGV4YWN0IGZpbGVuYW1lIHRoYXQgd291bGQgYmUgdXNlZCBmb3IgdGhlIGNvbnZlcnNhdGlvblxuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBnZW5lcmF0ZUNvbnZlcnNhdGlvbkZpbGVOYW1lKFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeCxcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlRm9ybWF0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBVc2UgYWJzb2x1dGUgcGF0aCBmcm9tIHZhdWx0IHJvb3QgKHdpdGhvdXQgLm1kIGV4dGVuc2lvbiBmb3IgbGlua3MpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25QYXRoID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcn0vY2xhdWRlLyR7eWVhcn0vJHttb250aH0vJHtmaWxlTmFtZX1gO1xuICAgICAgICAgICAgY29udmVyc2F0aW9uTGluayA9IGBbWyR7Y29udmVyc2F0aW9uUGF0aH18JHtjb252ZXJzYXRpb25UaXRsZX1dXWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBzYWZlIGFsaWFzZXMgZm9yIGZyb250bWF0dGVyXG4gICAgICAgIGNvbnN0IHNhZmVBcnRpZmFjdFRpdGxlID0gZ2VuZXJhdGVTYWZlQWxpYXModGl0bGUpO1xuICAgICAgICBjb25zdCBzYWZlQXJ0aWZhY3RBbGlhcyA9IGdlbmVyYXRlU2FmZUFsaWFzKGAke2FydGlmYWN0SWR9X3Yke3ZlcnNpb25OdW1iZXJ9YCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1hcmtkb3duIGNvbnRlbnQgd2l0aCBlbmhhbmNlZCBmcm9udG1hdHRlclxuICAgICAgICBsZXQgbWFya2Rvd25Db250ZW50ID0gYC0tLVxubmV4dXM6IG5leHVzLWFpLWNoYXQtaW1wb3J0ZXJcbnBsdWdpbl92ZXJzaW9uOiAke3RoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb259XG5wcm92aWRlcjogY2xhdWRlXG5hcnRpZmFjdF9pZDogJHthcnRpZmFjdElkfVxudmVyc2lvbl91dWlkOiAke3ZlcnNpb25VdWlkfVxudmVyc2lvbl9udW1iZXI6ICR7dmVyc2lvbk51bWJlcn1cbmNvbW1hbmQ6ICR7Y29tbWFuZH1cbmNvbnZlcnNhdGlvbl9pZDogJHtjb252ZXJzYXRpb25JZCB8fCAndW5rbm93bid9XG5mb3JtYXQ6ICR7bGFuZ3VhZ2V9XG5hbGlhc2VzOiBbJHtzYWZlQXJ0aWZhY3RUaXRsZX0sICR7c2FmZUFydGlmYWN0QWxpYXN9XVxuLS0tXG5cbiMgJHt0aXRsZX0gKFZlcnNpb24gJHt2ZXJzaW9uTnVtYmVyfSlcblxuKipUeXBlOioqIENsYXVkZSBBcnRpZmFjdFxuKipMYW5ndWFnZToqKiAke2xhbmd1YWdlfWA7XG5cbiAgICAgICAgaWYgKGFydGlmYWN0SW5wdXQubGFuZ3VhZ2UgIT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYCAoZGV0ZWN0ZWQgZnJvbSBjb250ZW50LCBvcmlnaW5hbDogJHthcnRpZmFjdElucHV0Lmxhbmd1YWdlfSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IGBcbioqQ29tbWFuZDoqKiAke2NvbW1hbmR9XG4qKlZlcnNpb246KiogJHt2ZXJzaW9uTnVtYmVyfVxuKipJRDoqKiAke2FydGlmYWN0SWR9XG4qKlVVSUQ6KiogJHt2ZXJzaW9uVXVpZH1gO1xuXG4gICAgICAgIGlmIChjb252ZXJzYXRpb25MaW5rKSB7XG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxuKipDb252ZXJzYXRpb246KiogJHtjb252ZXJzYXRpb25MaW5rfWA7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxcblxcbiMjIENvbnRlbnRcXG5cXG5gO1xuXG4gICAgICAgIC8vIEFkZCBjb250ZW50IGJhc2VkIG9uIGxhbmd1YWdlXG4gICAgICAgIGlmIChsYW5ndWFnZS50b0xvd2VyQ2FzZSgpID09PSAnbWFya2Rvd24nKSB7XG4gICAgICAgICAgICAvLyBGb3IgbWFya2Rvd24sIGluY2x1ZGUgY29udGVudCBkaXJlY3RseVxuICAgICAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IHZlcnNpb25Db250ZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRm9yIG90aGVyIGxhbmd1YWdlcywgdXNlIGNvZGUgYmxvY2tzXG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxcYFxcYFxcYCR7bGFuZ3VhZ2V9XFxuJHt2ZXJzaW9uQ29udGVudH1cXG5cXGBcXGBcXGBgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgYXJ0aWZhY3QgYXMgbWFya2Rvd25cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIG1hcmtkb3duQ29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGFydGlmYWN0IGZpbGUgJHtmaWxlUGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHdlIHNob3VsZCBza2lwIHNhdmluZyB0aGlzIGFydGlmYWN0IHZlcnNpb24gKGFscmVhZHkgZXhpc3RzKVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIHNob3VsZFNraXBBcnRpZmFjdFZlcnNpb24oZmlsZVBhdGg6IHN0cmluZywgdmVyc2lvblV1aWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdGaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nRmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gRmlsZSBkb2Vzbid0IGV4aXN0LCBkb24ndCBza2lwXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGV4aXN0aW5nRmlsZSBhcyBhbnkpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgdmVyc2lvbl91dWlkIG1hdGNoZXMgKHNhbWUgdmVyc2lvbilcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0NvbnRlbnQuaW5jbHVkZXMoYHZlcnNpb25fdXVpZDogJHt2ZXJzaW9uVXVpZH1gKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTYW1lIHZlcnNpb24sIHNraXBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGlmZmVyZW50IHZlcnNpb25fdXVpZCBidXQgc2FtZSBmaWxlIHBhdGggLSB0aGlzIHNob3VsZG4ndCBoYXBwZW4gaW4gbm9ybWFsIGNhc2VzXG4gICAgICAgICAgICAvLyBidXQgY291bGQgaGFwcGVuIGlmIHRoZXJlIGFyZSBjb25mbGljdHMuIExldCdzIHVwZGF0ZSB0aGUgZmlsZS5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGNhbid0IHJlYWQgdGhlIGZpbGUsIGRvbid0IHNraXAgKHRyeSB0byBjcmVhdGUvdXBkYXRlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCByZXBsYWNlIHRoZSBjdXJyZW50IGFydGlmYWN0IHdpdGggYSBuZXcgb25lXG4gICAgICogUHJpb3JpdHk6IGNyZWF0ZSA+IHJld3JpdGUgPiB1cGRhdGUgKHdpdGggY29udGVudCkgPiB2aWV3XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgc2hvdWxkUmVwbGFjZUFydGlmYWN0KGN1cnJlbnQ6IGFueSwgY2FuZGlkYXRlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY3VycmVudENvbW1hbmQgPSBjdXJyZW50LmNvbW1hbmQgfHwgJ2NyZWF0ZSc7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZUNvbW1hbmQgPSBjYW5kaWRhdGUuY29tbWFuZCB8fCAnY3JlYXRlJztcbiAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSAoY3VycmVudC5jb250ZW50IHx8ICcnKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZUNvbnRlbnQgPSAoY2FuZGlkYXRlLmNvbnRlbnQgfHwgJycpLmxlbmd0aDtcblxuICAgICAgICAvLyBDb21tYW5kIHByaW9yaXR5IHNjb3Jlc1xuICAgICAgICBjb25zdCBjb21tYW5kUHJpb3JpdHk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gICAgICAgICAgICAnY3JlYXRlJzogNCxcbiAgICAgICAgICAgICdyZXdyaXRlJzogMyxcbiAgICAgICAgICAgICd1cGRhdGUnOiAyLFxuICAgICAgICAgICAgJ3ZpZXcnOiAxXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY3VycmVudFByaW9yaXR5ID0gY29tbWFuZFByaW9yaXR5W2N1cnJlbnRDb21tYW5kIGFzIHN0cmluZ10gfHwgMTtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlUHJpb3JpdHkgPSBjb21tYW5kUHJpb3JpdHlbY2FuZGlkYXRlQ29tbWFuZCBhcyBzdHJpbmddIHx8IDE7XG5cbiAgICAgICAgLy8gSGlnaGVyIHByaW9yaXR5IGNvbW1hbmQgd2luc1xuICAgICAgICBpZiAoY2FuZGlkYXRlUHJpb3JpdHkgPiBjdXJyZW50UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2FtZSBwcmlvcml0eTogbG9uZ2VyIGNvbnRlbnQgd2luc1xuICAgICAgICBpZiAoY2FuZGlkYXRlUHJpb3JpdHkgPT09IGN1cnJlbnRQcmlvcml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZUNvbnRlbnQgPiBjdXJyZW50Q29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLWRldGVjdCBsYW5ndWFnZSBmcm9tIGNvbnRlbnQgYW5kIGFydGlmYWN0IHR5cGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBkZXRlY3RMYW5ndWFnZUZyb21Db250ZW50KGNvbnRlbnQ6IHN0cmluZywgYXJ0aWZhY3RUeXBlPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFjb250ZW50IHx8IGNvbnRlbnQudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuICd0ZXh0JztcblxuICAgICAgICAvLyBGaXJzdCBjaGVjayBhcnRpZmFjdCB0eXBlIGZvciBoaW50c1xuICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlKSB7XG4gICAgICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlLmluY2x1ZGVzKCdyZWFjdCcpIHx8IGFydGlmYWN0VHlwZS5pbmNsdWRlcygnanN4JykpIHJldHVybiAnanN4JztcbiAgICAgICAgICAgIGlmIChhcnRpZmFjdFR5cGUuaW5jbHVkZXMoJ3Z1ZScpKSByZXR1cm4gJ3Z1ZSc7XG4gICAgICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlLmluY2x1ZGVzKCdzdmVsdGUnKSkgcmV0dXJuICdzdmVsdGUnO1xuICAgICAgICAgICAgaWYgKGFydGlmYWN0VHlwZS5pbmNsdWRlcygnaHRtbCcpKSByZXR1cm4gJ2h0bWwnO1xuICAgICAgICAgICAgaWYgKGFydGlmYWN0VHlwZS5pbmNsdWRlcygnY3NzJykpIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIGlmIChhcnRpZmFjdFR5cGUuaW5jbHVkZXMoJ2pzb24nKSkgcmV0dXJuICdqc29uJztcbiAgICAgICAgICAgIGlmIChhcnRpZmFjdFR5cGUuaW5jbHVkZXMoJ3htbCcpKSByZXR1cm4gJ3htbCc7XG4gICAgICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlLmluY2x1ZGVzKCdzdmcnKSkgcmV0dXJuICd4bWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJpbW1lZENvbnRlbnQgPSBjb250ZW50LnRyaW0oKTtcblxuICAgICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgZmlsZSB0eXBlIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5zdGFydHNXaXRoKCc8P3BocCcpKSByZXR1cm4gJ3BocCc7XG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5zdGFydHNXaXRoKCcjIS9iaW4vYmFzaCcpIHx8IHRyaW1tZWRDb250ZW50LnN0YXJ0c1dpdGgoJyMhL2Jpbi9zaCcpKSByZXR1cm4gJ2Jhc2gnO1xuICAgICAgICBpZiAodHJpbW1lZENvbnRlbnQuc3RhcnRzV2l0aCgnPCFET0NUWVBFIGh0bWwnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnPGh0bWwnKSkgcmV0dXJuICdodG1sJztcblxuICAgICAgICAvLyBDaGVjayBmb3IgUmVhY3QvSlNYIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygnaW1wb3J0IFJlYWN0JykgfHwgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ2Zyb20gXCJyZWFjdFwiJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCd1c2VTdGF0ZScpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCd1c2VFZmZlY3QnKSB8fFxuICAgICAgICAgICAgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ2NsYXNzTmFtZT0nKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnanN4JykpIHtcbiAgICAgICAgICAgIHJldHVybiAnanN4JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBKU09OXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5zdGFydHNXaXRoKCd7JykgJiYgdHJpbW1lZENvbnRlbnQuZW5kc1dpdGgoJ30nKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBKU09OLnBhcnNlKHRyaW1tZWRDb250ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2pzb24nO1xuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIFNWRy9YTUxcbiAgICAgICAgaWYgKHRyaW1tZWRDb250ZW50LnN0YXJ0c1dpdGgoJzxzdmcnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygneG1sbnMnKSkge1xuICAgICAgICAgICAgcmV0dXJuICd4bWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG1hcmtkb3duIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygnIyAnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnIyMgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCcqKicpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdgYGAnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdtYXJrZG93bic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgUHl0aG9uIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygnZGVmICcpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdpbXBvcnQgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdmcm9tICcpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdjbGFzcyAnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdweXRob24nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIEphdmFTY3JpcHQgcGF0dGVybnNcbiAgICAgICAgaWYgKHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdmdW5jdGlvbiAnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnY29uc3QgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdsZXQgJykgfHwgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ3ZhciAnKSB8fFxuICAgICAgICAgICAgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJz0+JykpIHtcbiAgICAgICAgICAgIHJldHVybiAnamF2YXNjcmlwdCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgQ1NTIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygneycpICYmIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCc6JykgJiZcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCc7JykgJiYgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ30nKSkge1xuICAgICAgICAgICAgcmV0dXJuICdjc3MnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIFNRTCBwYXR0ZXJuc1xuICAgICAgICBpZiAodHJpbW1lZENvbnRlbnQudG9VcHBlckNhc2UoKS5pbmNsdWRlcygnU0VMRUNUICcpIHx8XG4gICAgICAgICAgICB0cmltbWVkQ29udGVudC50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKCdJTlNFUlQgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoJ1VQREFURSAnKSB8fFxuICAgICAgICAgICAgdHJpbW1lZENvbnRlbnQudG9VcHBlckNhc2UoKS5pbmNsdWRlcygnQ1JFQVRFIFRBQkxFJykpIHtcbiAgICAgICAgICAgIHJldHVybiAnc3FsJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAndGV4dCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgZXh0ZW5zaW9uIGZyb20gbGFuZ3VhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRFeHRlbnNpb25Gcm9tTGFuZ3VhZ2UobGFuZ3VhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAobGFuZ3VhZ2UudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAncHl0aG9uJzogcmV0dXJuICdweSc7XG4gICAgICAgICAgICBjYXNlICdqYXZhc2NyaXB0JzogcmV0dXJuICdqcyc7XG4gICAgICAgICAgICBjYXNlICd0eXBlc2NyaXB0JzogcmV0dXJuICd0cyc7XG4gICAgICAgICAgICBjYXNlICdodG1sJzogcmV0dXJuICdodG1sJztcbiAgICAgICAgICAgIGNhc2UgJ2Nzcyc6IHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIGNhc2UgJ21hcmtkb3duJzogcmV0dXJuICdtZCc7XG4gICAgICAgICAgICBjYXNlICdqc29uJzogcmV0dXJuICdqc29uJztcbiAgICAgICAgICAgIGNhc2UgJ3lhbWwnOiByZXR1cm4gJ3ltbCc7XG4gICAgICAgICAgICBjYXNlICd4bWwnOiByZXR1cm4gJ3htbCc7XG4gICAgICAgICAgICBjYXNlICdzcWwnOiByZXR1cm4gJ3NxbCc7XG4gICAgICAgICAgICBjYXNlICdiYXNoJzogcmV0dXJuICdzaCc7XG4gICAgICAgICAgICBjYXNlICdzaGVsbCc6IHJldHVybiAnc2gnO1xuICAgICAgICAgICAgY2FzZSAncGhwJzogcmV0dXJuICdwaHAnO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICd0eHQnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ291bnQgdW5pcXVlIGFydGlmYWN0cyBpbiBhIGNvbnZlcnNhdGlvbiAoYnkgYXJ0aWZhY3QgSUQsIG5vdCB2ZXJzaW9ucylcbiAgICAgKi9cbiAgICBzdGF0aWMgY291bnRBcnRpZmFjdHMoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgdW5pcXVlQXJ0aWZhY3RzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNoYXQuY2hhdF9tZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSAndG9vbF91c2UnICYmIGJsb2NrLm5hbWUgPT09ICdhcnRpZmFjdHMnICYmIGJsb2NrLmlucHV0Py5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlQXJ0aWZhY3RzLmFkZChibG9jay5pbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5pcXVlQXJ0aWZhY3RzLnNpemU7XG4gICAgfVxufVxuIiwgIi8vIHNyYy9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS1hdHRhY2htZW50LWV4dHJhY3Rvci50c1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuaW1wb3J0IHsgU3RhbmRhcmRBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vLi4vdHlwZXMvcGx1Z2luXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGF1ZGVBdHRhY2htZW50RXh0cmFjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4sXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJcbiAgICApIHt9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGF0dGFjaG1lbnRzIGZyb20gQ2xhdWRlIFpJUCBhcmNoaXZlXG4gICAgICogTk9URTogQ2xhdWRlIGV4cG9ydHMgdHlwaWNhbGx5IGRvIE5PVCBpbmNsdWRlIHRoZSBhY3R1YWwgZmlsZXMsIG9ubHkgcmVmZXJlbmNlc1xuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIFwiZmlsZXMgbm90IGZvdW5kXCIgY2FzZSBncmFjZWZ1bGx5XG4gICAgICovXG4gICAgYXN5bmMgZXh0cmFjdEF0dGFjaG1lbnRzKFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W11cbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudFtdPiB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMgfHwgYXR0YWNobWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0YWNobWVudHMubWFwKGF0dCA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmF0dCxcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgRmlsZTogJHthdHQuZmlsZU5hbWV9IChhdHRhY2htZW50IGltcG9ydCBkaXNhYmxlZClgXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9jZXNzZWRBdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGF0dGFjaG1lbnQgb2YgYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQXR0YWNobWVudCA9IGF3YWl0IHRoaXMucHJvY2Vzc0F0dGFjaG1lbnQoemlwLCBjb252ZXJzYXRpb25JZCwgYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkQXR0YWNobWVudHMucHVzaChwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBwcm9jZXNzIENsYXVkZSBhdHRhY2htZW50ICR7YXR0YWNobWVudC5maWxlTmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgYXR0YWNobWVudCB3aXRoIGVycm9yIHN0YXR1c1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZEF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgXHUyNzRDICoqRmlsZTogJHthdHRhY2htZW50LmZpbGVOYW1lfSoqXFxuXFxuRXJyb3IgcHJvY2Vzc2luZyBhdHRhY2htZW50OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRBdHRhY2htZW50cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgc2luZ2xlIENsYXVkZSBhdHRhY2htZW50XG4gICAgICogQ2xhdWRlIGV4cG9ydHMgdHlwaWNhbGx5IGRvbid0IGluY2x1ZGUgZmlsZXMsIHNvIHdlIGNyZWF0ZSBpbmZvcm1hdGl2ZSBwbGFjZWhvbGRlcnNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBdHRhY2htZW50KFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnRcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudD4ge1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGF0dGFjaG1lbnQuZmlsZU5hbWU7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIGZpbGUgaW4gdGhlIFpJUCAodW5saWtlbHkgZm9yIENsYXVkZSBleHBvcnRzKVxuICAgICAgICBjb25zdCB6aXBGaWxlID0gdGhpcy5maW5kRmlsZUluWmlwKHppcCwgZmlsZU5hbWUpO1xuXG4gICAgICAgIGlmICghemlwRmlsZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbm9ybWFsIGNhc2UgZm9yIENsYXVkZSAtIGZpbGVzIGFyZSBub3QgaW5jbHVkZWQgaW4gZXhwb3J0XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWxlTm90Rm91bmRQbGFjZWhvbGRlcihhdHRhY2htZW50LCBjb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBmaWxlIGlzIGZvdW5kIChyYXJlKSwgZXh0cmFjdCBpdFxuICAgICAgICBpZiAodGhpcy5pc0ltYWdlRmlsZShmaWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NJbWFnZUF0dGFjaG1lbnQoemlwRmlsZSwgYXR0YWNobWVudCwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUZXh0RmlsZShmaWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NUZXh0QXR0YWNobWVudCh6aXBGaWxlLCBhdHRhY2htZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NCaW5hcnlBdHRhY2htZW50KHppcEZpbGUsIGF0dGFjaG1lbnQsIGNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzaW1wbGUgcGxhY2Vob2xkZXIgZm9yIG1pc3NpbmcgZmlsZXMgKG5vcm1hbCBmb3IgQ2xhdWRlKVxuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlRmlsZU5vdEZvdW5kUGxhY2Vob2xkZXIoYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50LCBjb252ZXJzYXRpb25JZDogc3RyaW5nKTogU3RhbmRhcmRBdHRhY2htZW50IHtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBhdHRhY2htZW50LmZpbGVOYW1lO1xuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25VcmwgPSBgaHR0cHM6Ly9jbGF1ZGUuYWkvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWA7XG4gICAgICAgIGNvbnN0IGZpbGVUeXBlID0gdGhpcy5nZXRGaWxlVHlwZUZyb21FeHRlbnNpb24oZmlsZU5hbWUpO1xuXG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gYD5bIW5leHVzX2F0dGFjaG1lbnRdICoqJHtmaWxlTmFtZX0qKiAoJHtmaWxlVHlwZX0pXFxuPiBcdTI2QTBcdUZFMEYgTm90IGluY2x1ZGVkIGluIGFyY2hpdmUuIFtPcGVuIG9yaWdpbmFsIGNvbnZlcnNhdGlvbl0oJHtjb252ZXJzYXRpb25Vcmx9KWA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBwbGFjZWhvbGRlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmaWxlIHR5cGUgZnJvbSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEZpbGVUeXBlRnJvbUV4dGVuc2lvbihmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgY2FzZSAncG5nJzpcbiAgICAgICAgICAgIGNhc2UgJ2pwZyc6XG4gICAgICAgICAgICBjYXNlICdqcGVnJzpcbiAgICAgICAgICAgIGNhc2UgJ2dpZic6XG4gICAgICAgICAgICBjYXNlICd3ZWJwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGltYWdlLyR7ZXh0ZW5zaW9ufWA7XG4gICAgICAgICAgICBjYXNlICdwZGYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vcGRmJztcbiAgICAgICAgICAgIGNhc2UgJ3R4dCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICAgICAgICAgIGNhc2UgJ21kJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvbWFya2Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnanNvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhIGZpbGUgaW4gdGhlIFpJUCBhcmNoaXZlXG4gICAgICogQ2xhdWRlIGZpbGVzIG1pZ2h0IGJlIGluIHJvb3Qgb3IgaW4gc3ViZGlyZWN0b3JpZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGZpbmRGaWxlSW5aaXAoemlwOiBKU1ppcCwgZmlsZU5hbWU6IHN0cmluZyk6IEpTWmlwLkpTWmlwT2JqZWN0IHwgbnVsbCB7XG4gICAgICAgIC8vIFRyeSBleGFjdCBtYXRjaCBmaXJzdFxuICAgICAgICBsZXQgZmlsZSA9IHppcC5maWxlKGZpbGVOYW1lKTtcbiAgICAgICAgaWYgKGZpbGUpIHJldHVybiBmaWxlO1xuXG4gICAgICAgIC8vIFRyeSBpbiBjb21tb24gc3ViZGlyZWN0b3JpZXNcbiAgICAgICAgY29uc3QgY29tbW9uUGF0aHMgPSBbJ2F0dGFjaG1lbnRzLycsICdmaWxlcy8nLCAndXBsb2Fkcy8nXTtcbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIGNvbW1vblBhdGhzKSB7XG4gICAgICAgICAgICBmaWxlID0gemlwLmZpbGUocGF0aCArIGZpbGVOYW1lKTtcbiAgICAgICAgICAgIGlmIChmaWxlKSByZXR1cm4gZmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlYXJjaCB0aHJvdWdoIGFsbCBmaWxlcyBmb3IgYSBtYXRjaFxuICAgICAgICBjb25zdCBhbGxGaWxlcyA9IE9iamVjdC5rZXlzKHppcC5maWxlcyk7XG4gICAgICAgIGZvciAoY29uc3QgZmlsZVBhdGggb2YgYWxsRmlsZXMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUGF0aC5lbmRzV2l0aChmaWxlTmFtZSkgfHwgZmlsZVBhdGguaW5jbHVkZXMoZmlsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHppcC5maWxlKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgaW1hZ2UgYXR0YWNobWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0ltYWdlQXR0YWNobWVudChcbiAgICAgICAgemlwRmlsZTogSlNaaXAuSlNaaXBPYmplY3QsXG4gICAgICAgIGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudCxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZ1xuICAgICk6IFByb21pc2U8U3RhbmRhcmRBdHRhY2htZW50PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBhd2FpdCB6aXBGaWxlLmFzeW5jKFwiYmFzZTY0XCIpO1xuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmdlbmVyYXRlVW5pcXVlRmlsZU5hbWUoYXR0YWNobWVudC5maWxlTmFtZSwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTYXZlIHRvIHZhdWx0IGlmIGVuYWJsZWRcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgdGhpcy5zYXZlQXR0YWNobWVudFRvVmF1bHQoZmlsZU5hbWUsIGltYWdlRGF0YSwgdHJ1ZSwgXCJpbWFnZXNcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGAhWyR7YXR0YWNobWVudC5maWxlTmFtZX1dKCR7ZmlsZVBhdGh9KWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgSW1hZ2U6ICR7YXR0YWNobWVudC5maWxlTmFtZX0gKG5vdCBpbXBvcnRlZCAtIGF0dGFjaG1lbnQgaW1wb3J0IGRpc2FibGVkKWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgQ2xhdWRlIGltYWdlICR7YXR0YWNobWVudC5maWxlTmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGBFcnJvciBwcm9jZXNzaW5nIGltYWdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRleHQgYXR0YWNobWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1RleHRBdHRhY2htZW50KFxuICAgICAgICB6aXBGaWxlOiBKU1ppcC5KU1ppcE9iamVjdCxcbiAgICAgICAgYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50XG4gICAgKTogUHJvbWlzZTxTdGFuZGFyZEF0dGFjaG1lbnQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gYXdhaXQgemlwRmlsZS5hc3luYyhcInN0cmluZ1wiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGBcXGBcXGBcXGBcXG4ke3RleHRDb250ZW50fVxcblxcYFxcYFxcYGBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBDbGF1ZGUgdGV4dCBmaWxlICR7YXR0YWNobWVudC5maWxlTmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGBFcnJvciByZWFkaW5nIHRleHQgZmlsZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBiaW5hcnkgYXR0YWNobWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0JpbmFyeUF0dGFjaG1lbnQoXG4gICAgICAgIHppcEZpbGU6IEpTWmlwLkpTWmlwT2JqZWN0LFxuICAgICAgICBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmdcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluYXJ5RGF0YSA9IGF3YWl0IHppcEZpbGUuYXN5bmMoXCJiYXNlNjRcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmdlbmVyYXRlVW5pcXVlRmlsZU5hbWUoYXR0YWNobWVudC5maWxlTmFtZSwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgdGhpcy5zYXZlQXR0YWNobWVudFRvVmF1bHQoZmlsZU5hbWUsIGJpbmFyeURhdGEsIHRydWUsIFwiZG9jdW1lbnRzXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgWyR7YXR0YWNobWVudC5maWxlTmFtZX1dKCR7ZmlsZVBhdGh9KWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgRmlsZTogJHthdHRhY2htZW50LmZpbGVOYW1lfSAobm90IGltcG9ydGVkIC0gYXR0YWNobWVudCBpbXBvcnQgZGlzYWJsZWQpYFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBDbGF1ZGUgYmluYXJ5IGZpbGUgJHthdHRhY2htZW50LmZpbGVOYW1lfTpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkQ29udGVudDogYEVycm9yIHByb2Nlc3NpbmcgZmlsZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmlsZSBpcyBhbiBpbWFnZVxuICAgICAqL1xuICAgIHByaXZhdGUgaXNJbWFnZUZpbGUoZmlsZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBpbWFnZUV4dGVuc2lvbnMgPSBbJy5wbmcnLCAnLmpwZycsICcuanBlZycsICcuZ2lmJywgJy53ZWJwJywgJy5zdmcnLCAnLmJtcCddO1xuICAgICAgICByZXR1cm4gaW1hZ2VFeHRlbnNpb25zLnNvbWUoZXh0ID0+IGZpbGVOYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmlsZSBpcyBhIHRleHQgZmlsZVxuICAgICAqL1xuICAgIHByaXZhdGUgaXNUZXh0RmlsZShmaWxlTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHRleHRFeHRlbnNpb25zID0gWycudHh0JywgJy5tZCcsICcuanNvbicsICcuY3N2JywgJy54bWwnLCAnLmh0bWwnLCAnLmNzcycsICcuanMnLCAnLnRzJywgJy5weScsICcuamF2YScsICcuY3BwJywgJy5jJywgJy5oJ107XG4gICAgICAgIHJldHVybiB0ZXh0RXh0ZW5zaW9ucy5zb21lKGV4dCA9PiBmaWxlTmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZSB0byBhdm9pZCBjb25mbGljdHNcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlVW5pcXVlRmlsZU5hbWUob3JpZ2luYWxGaWxlTmFtZTogc3RyaW5nLCBjb252ZXJzYXRpb25JZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3Qgc2hvcnRDb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkLnN1YnN0cmluZygwLCA4KTtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gb3JpZ2luYWxGaWxlTmFtZS5pbmNsdWRlcygnLicpID8gb3JpZ2luYWxGaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpIDogJyc7XG4gICAgICAgIGNvbnN0IGJhc2VOYW1lID0gb3JpZ2luYWxGaWxlTmFtZS5yZXBsYWNlKC9cXC5bXi8uXSskLywgXCJcIik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uIFxuICAgICAgICAgICAgPyBgY2xhdWRlXyR7c2hvcnRDb252ZXJzYXRpb25JZH1fJHt0aW1lc3RhbXB9XyR7YmFzZU5hbWV9LiR7ZXh0ZW5zaW9ufWBcbiAgICAgICAgICAgIDogYGNsYXVkZV8ke3Nob3J0Q29udmVyc2F0aW9uSWR9XyR7dGltZXN0YW1wfV8ke2Jhc2VOYW1lfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBhdHRhY2htZW50IHRvIHZhdWx0IHVzaW5nIGF0dGFjaG1lbnRGb2xkZXIgc2V0dGluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgc2F2ZUF0dGFjaG1lbnRUb1ZhdWx0KGZpbGVOYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgaXNCYXNlNjQ6IGJvb2xlYW4sIGNhdGVnb3J5OiBzdHJpbmcgPSBcImZpbGVzXCIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBhdHRhY2htZW50Rm9sZGVyID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2xhdWRlLyR7Y2F0ZWdvcnl9YDtcblxuICAgICAgICAvLyBFbnN1cmUgZm9sZGVyIGV4aXN0c1xuICAgICAgICBjb25zdCB7IGVuc3VyZUZvbGRlckV4aXN0cyB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vLi4vdXRpbHNcIik7XG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhhdHRhY2htZW50Rm9sZGVyLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgQ2xhdWRlIGF0dGFjaG1lbnQgZm9sZGVyOiAke2ZvbGRlclJlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7YXR0YWNobWVudEZvbGRlcn0vJHtmaWxlTmFtZX1gO1xuXG4gICAgICAgIGlmIChpc0Jhc2U2NCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQgdG8gYXJyYXkgYnVmZmVyIGZvciBiaW5hcnkgZmlsZXNcbiAgICAgICAgICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeVN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZUJpbmFyeShmaWxlUGF0aCwgYnl0ZXMuYnVmZmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbGVQYXRoO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvcHJvdmlkZXJzL2NsYXVkZS9jbGF1ZGUtcmVwb3J0LW5hbWluZy50c1xuaW1wb3J0IHsgUmVwb3J0TmFtaW5nU3RyYXRlZ3kgfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3RhbmRhcmRcIjtcblxuZXhwb3J0IGNsYXNzIENsYXVkZVJlcG9ydE5hbWluZ1N0cmF0ZWd5IGltcGxlbWVudHMgUmVwb3J0TmFtaW5nU3RyYXRlZ3kge1xuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJjbGF1ZGVcIjtcbiAgICB9XG5cbiAgICBleHRyYWN0UmVwb3J0UHJlZml4KHppcEZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBHZXQgY3VycmVudCBpbXBvcnQgZGF0ZVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBpbXBvcnRZZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IGltcG9ydE1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3QgaW1wb3J0RGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGltcG9ydERhdGUgPSBgJHtpbXBvcnRZZWFyfS4ke2ltcG9ydE1vbnRofS4ke2ltcG9ydERheX1gO1xuXG4gICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGFyY2hpdmUgZGF0ZSBmcm9tIENsYXVkZSBmaWxlbmFtZSBwYXR0ZXJuc1xuICAgICAgICAvLyBQYXR0ZXJuIDE6IGRhdGEtWVlZWS1NTS1ERC1ISC1NTS1TUy1iYXRjaC1OTk5OLnppcFxuICAgICAgICBjb25zdCBjbGF1ZGVCYXRjaFBhdHRlcm4gPSAvZGF0YS0oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KS1cXGR7Mn0tXFxkezJ9LVxcZHsyfS1iYXRjaC1cXGR7NH0vO1xuICAgICAgICBjb25zdCBiYXRjaE1hdGNoID0gemlwRmlsZU5hbWUubWF0Y2goY2xhdWRlQmF0Y2hQYXR0ZXJuKTtcblxuICAgICAgICBpZiAoYmF0Y2hNYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheV0gPSBiYXRjaE1hdGNoO1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZURhdGUgPSBgJHt5ZWFyfS4ke21vbnRofS4ke2RheX1gO1xuICAgICAgICAgICAgcmV0dXJuIGBpbXBvcnRlZC0ke2ltcG9ydERhdGV9LWFyY2hpdmUtJHthcmNoaXZlRGF0ZX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGF0dGVybiAyOiBMZWdhY3kgQ2xhdWRlIGZvcm1hdCAobm8gYmF0Y2ggc3VmZml4KVxuICAgICAgICBjb25zdCBsZWdhY3lQYXR0ZXJuID0gLyhcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pLztcbiAgICAgICAgY29uc3QgbGVnYWN5TWF0Y2ggPSB6aXBGaWxlTmFtZS5tYXRjaChsZWdhY3lQYXR0ZXJuKTtcblxuICAgICAgICBpZiAobGVnYWN5TWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IFssIHllYXIsIG1vbnRoLCBkYXldID0gbGVnYWN5TWF0Y2g7XG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRGF0ZSA9IGAke3llYXJ9LiR7bW9udGh9LiR7ZGF5fWA7XG4gICAgICAgICAgICByZXR1cm4gYGltcG9ydGVkLSR7aW1wb3J0RGF0ZX0tYXJjaGl2ZS0ke2FyY2hpdmVEYXRlfWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjazogdXNlIGN1cnJlbnQgZGF0ZSBpZiBubyBkYXRlIGZvdW5kIGluIGZpbGVuYW1lXG4gICAgICAgIHJldHVybiBgaW1wb3J0ZWQtJHtpbXBvcnREYXRlfS1hcmNoaXZlLSR7aW1wb3J0RGF0ZX1gO1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW4oKTogeyBoZWFkZXI6IHN0cmluZzsgZ2V0VmFsdWU6IChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSkgPT4gbnVtYmVyIH0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVhZGVyOiBcIkFydGlmYWN0c1wiLFxuICAgICAgICAgICAgZ2V0VmFsdWU6IChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSkgPT4gYWRhcHRlci5jb3VudEFydGlmYWN0cyA/IGFkYXB0ZXIuY291bnRBcnRpZmFjdHMoY2hhdCkgOiAwXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgIi8vIHNyYy9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS1hZGFwdGVyLnRzXG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBQcm92aWRlckFkYXB0ZXIgfSBmcm9tIFwiLi4vcHJvdmlkZXItYWRhcHRlclwiO1xuaW1wb3J0IHsgU3RhbmRhcmRDb252ZXJzYXRpb24sIFN0YW5kYXJkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlcy9zdGFuZGFyZFwiO1xuaW1wb3J0IHsgQ2xhdWRlQ29udmVydGVyIH0gZnJvbSBcIi4vY2xhdWRlLWNvbnZlcnRlclwiO1xuaW1wb3J0IHsgQ2xhdWRlQXR0YWNobWVudEV4dHJhY3RvciB9IGZyb20gXCIuL2NsYXVkZS1hdHRhY2htZW50LWV4dHJhY3RvclwiO1xuaW1wb3J0IHsgQ2xhdWRlUmVwb3J0TmFtaW5nU3RyYXRlZ3kgfSBmcm9tIFwiLi9jbGF1ZGUtcmVwb3J0LW5hbWluZ1wiO1xuaW1wb3J0IHsgQ2xhdWRlQ29udmVyc2F0aW9uLCBDbGF1ZGVNZXNzYWdlIH0gZnJvbSBcIi4vY2xhdWRlLXR5cGVzXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGF1ZGVBZGFwdGVyIGltcGxlbWVudHMgUHJvdmlkZXJBZGFwdGVyPENsYXVkZUNvbnZlcnNhdGlvbj4ge1xuICAgIHByaXZhdGUgYXR0YWNobWVudEV4dHJhY3RvcjogQ2xhdWRlQXR0YWNobWVudEV4dHJhY3RvcjtcbiAgICBwcml2YXRlIHJlcG9ydE5hbWluZ1N0cmF0ZWd5OiBDbGF1ZGVSZXBvcnROYW1pbmdTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7XG4gICAgICAgIHRoaXMuYXR0YWNobWVudEV4dHJhY3RvciA9IG5ldyBDbGF1ZGVBdHRhY2htZW50RXh0cmFjdG9yKHBsdWdpbiwgcGx1Z2luLmxvZ2dlcik7XG4gICAgICAgIHRoaXMucmVwb3J0TmFtaW5nU3RyYXRlZ3kgPSBuZXcgQ2xhdWRlUmVwb3J0TmFtaW5nU3RyYXRlZ3koKTtcbiAgICB9XG5cbiAgICBkZXRlY3QocmF3Q29udmVyc2F0aW9uczogYW55W10pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHJhd0NvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgc2FtcGxlID0gcmF3Q29udmVyc2F0aW9uc1swXTtcblxuICAgICAgICAvLyBDbGF1ZGUgZGV0ZWN0aW9uOiBoYXMgdXVpZCwgbmFtZSBmaWVsZCwgY2hhdF9tZXNzYWdlcyBhcnJheSwgY3JlYXRlZF9hdC91cGRhdGVkX2F0LCBhbmQgYWNjb3VudFxuICAgICAgICByZXR1cm4gISEoc2FtcGxlLnV1aWQgJiYgJ25hbWUnIGluIHNhbXBsZSAmJiBzYW1wbGUuY2hhdF9tZXNzYWdlcyAmJlxuICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHNhbXBsZS5jaGF0X21lc3NhZ2VzKSAmJiBzYW1wbGUuY3JlYXRlZF9hdCAmJiBzYW1wbGUudXBkYXRlZF9hdCAmJiBzYW1wbGUuYWNjb3VudCk7XG4gICAgfVxuXG4gICAgZ2V0SWQoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNoYXQudXVpZCB8fCBcIlwiO1xuICAgIH1cblxuICAgIGdldFRpdGxlKGNoYXQ6IENsYXVkZUNvbnZlcnNhdGlvbik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBjaGF0Lm5hbWUgfHwgXCJVbnRpdGxlZFwiO1xuICAgIH1cblxuICAgIGdldENyZWF0ZVRpbWUoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGNoYXQuY3JlYXRlZF9hdCA/IE1hdGguZmxvb3IobmV3IERhdGUoY2hhdC5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLyAxMDAwKSA6IDA7XG4gICAgfVxuXG4gICAgZ2V0VXBkYXRlVGltZShjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24pOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY2hhdC51cGRhdGVkX2F0ID8gTWF0aC5mbG9vcihuZXcgRGF0ZShjaGF0LnVwZGF0ZWRfYXQpLmdldFRpbWUoKSAvIDEwMDApIDogMDtcbiAgICB9XG5cbiAgICBhc3luYyBjb252ZXJ0Q2hhdChjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24pOiBQcm9taXNlPFN0YW5kYXJkQ29udmVyc2F0aW9uPiB7XG4gICAgICAgIC8vIFNldCBwbHVnaW4gaW5zdGFuY2UgZm9yIGFydGlmYWN0IHNhdmluZ1xuICAgICAgICBDbGF1ZGVDb252ZXJ0ZXIuc2V0UGx1Z2luKHRoaXMucGx1Z2luKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENsYXVkZUNvbnZlcnRlci5jb252ZXJ0Q2hhdChjaGF0KTtcbiAgICB9XG5cbiAgICBhc3luYyBjb252ZXJ0TWVzc2FnZXMobWVzc2FnZXM6IENsYXVkZU1lc3NhZ2VbXSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLCBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyKTogUHJvbWlzZTxTdGFuZGFyZE1lc3NhZ2VbXT4ge1xuICAgICAgICAvLyBTZXQgcGx1Z2luIGluc3RhbmNlIGZvciBhcnRpZmFjdCBzYXZpbmdcbiAgICAgICAgQ2xhdWRlQ29udmVydGVyLnNldFBsdWdpbih0aGlzLnBsdWdpbik7XG4gICAgICAgIHJldHVybiBhd2FpdCBDbGF1ZGVDb252ZXJ0ZXIuY29udmVydE1lc3NhZ2VzKG1lc3NhZ2VzLCBjb252ZXJzYXRpb25JZCwgY29udmVyc2F0aW9uVGl0bGUsIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUpO1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJjbGF1ZGVcIjtcbiAgICB9XG5cbiAgICBnZXROZXdNZXNzYWdlcyhjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24sIGV4aXN0aW5nTWVzc2FnZUlkczogc3RyaW5nW10pOiBDbGF1ZGVNZXNzYWdlW10ge1xuICAgICAgICBjb25zdCBuZXdNZXNzYWdlczogQ2xhdWRlTWVzc2FnZVtdID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNoYXQuY2hhdF9tZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UudXVpZCAmJiAhZXhpc3RpbmdNZXNzYWdlSWRzLmluY2x1ZGVzKG1lc3NhZ2UudXVpZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdNZXNzYWdlcztcbiAgICB9XG5cbiAgICBhc3luYyBwcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKFxuICAgICAgICBtZXNzYWdlczogU3RhbmRhcmRNZXNzYWdlW10sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgICAgIHppcDogSlNaaXBcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkTWVzc2FnZVtdPiB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZE1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXR0YWNobWVudHMgJiYgbWVzc2FnZS5hdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQXR0YWNobWVudHMgPSBhd2FpdCB0aGlzLmF0dGFjaG1lbnRFeHRyYWN0b3IuZXh0cmFjdEF0dGFjaG1lbnRzKFxuICAgICAgICAgICAgICAgICAgICB6aXAsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogcHJvY2Vzc2VkQXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRNZXNzYWdlcztcbiAgICB9XG5cbiAgICBnZXRSZXBvcnROYW1pbmdTdHJhdGVneSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwb3J0TmFtaW5nU3RyYXRlZ3k7XG4gICAgfVxuXG4gICAgZ2V0UHJvdmlkZXJOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImNsYXVkZVwiO1xuICAgIH1cblxuICAgIGNvdW50QXJ0aWZhY3RzKGNoYXQ6IENsYXVkZUNvbnZlcnNhdGlvbik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBDbGF1ZGVDb252ZXJ0ZXIuY291bnRBcnRpZmFjdHMoY2hhdCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlOiBDbGF1ZGVNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEluY2x1ZGUgYWxsIGh1bWFuIGFuZCBhc3Npc3RhbnQgbWVzc2FnZXNcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2VuZGVyID09PSAnaHVtYW4nIHx8IG1lc3NhZ2Uuc2VuZGVyID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLnRleHQgJiYgKCFtZXNzYWdlLmNvbnRlbnQgfHwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL3Byb3ZpZGVycy9wcm92aWRlci1yZWdpc3RyeS50c1xuaW1wb3J0IHsgRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnkgfSBmcm9tIFwiLi9wcm92aWRlci1hZGFwdGVyXCI7XG5pbXBvcnQgeyBDaGF0R1BUQWRhcHRlciB9IGZyb20gXCIuL2NoYXRncHQvY2hhdGdwdC1hZGFwdGVyXCI7XG5pbXBvcnQgeyBDbGF1ZGVBZGFwdGVyIH0gZnJvbSBcIi4vY2xhdWRlL2NsYXVkZS1hZGFwdGVyXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbi8qKlxuICogQ3JlYXRlIGFuZCBjb25maWd1cmUgdGhlIHByb3ZpZGVyIHJlZ2lzdHJ5IHdpdGggYWxsIGF2YWlsYWJsZSBwcm92aWRlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnkocGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKTogRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnkge1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5KCk7XG5cbiAgICAvLyBSZWdpc3RlciBDaGF0R1BUIHByb3ZpZGVyXG4gICAgcmVnaXN0cnkucmVnaXN0ZXIoXCJjaGF0Z3B0XCIsIG5ldyBDaGF0R1BUQWRhcHRlcihwbHVnaW4pKTtcblxuICAgIC8vIFJlZ2lzdGVyIENsYXVkZSBwcm92aWRlclxuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyKFwiY2xhdWRlXCIsIG5ldyBDbGF1ZGVBZGFwdGVyKHBsdWdpbikpO1xuXG4gICAgLy8gRnV0dXJlIHByb3ZpZGVycyB3aWxsIGJlIHJlZ2lzdGVyZWQgaGVyZTpcbiAgICAvLyByZWdpc3RyeS5yZWdpc3RlcihcImdlbWluaVwiLCBuZXcgR2VtaW5pQWRhcHRlcihwbHVnaW4pKTtcblxuICAgIHJldHVybiByZWdpc3RyeTtcbn1cbiIsICIvLyBzcmMvdWkvaW1wb3J0LXByb2dyZXNzLW1vZGFsLnRzXG5pbXBvcnQgeyBNb2RhbCwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1wb3J0UHJvZ3Jlc3NTdGVwIHtcbiAgICBwaGFzZTogJ3ZhbGlkYXRpb24nIHwgJ3NjYW5uaW5nJyB8ICdwcm9jZXNzaW5nJyB8ICd3cml0aW5nJyB8ICdjb21wbGV0ZScgfCAnZXJyb3InO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZGV0YWlsPzogc3RyaW5nO1xuICAgIGN1cnJlbnQ/OiBudW1iZXI7XG4gICAgdG90YWw/OiBudW1iZXI7XG4gICAgcGVyY2VudGFnZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbXBvcnRQcm9ncmVzc0NhbGxiYWNrIHtcbiAgICAoc3RlcDogSW1wb3J0UHJvZ3Jlc3NTdGVwKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEltcG9ydFByb2dyZXNzTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcHJpdmF0ZSBmaWxlTmFtZTogc3RyaW5nO1xuICAgIHByaXZhdGUgdG90YWxDb252ZXJzYXRpb25zOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgY3VycmVudENvbnZlcnNhdGlvbjogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIGlzU2VsZWN0aXZlSW1wb3J0OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBzZWxlY3RlZENvdW50OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgdG90YWxBdmFpbGFibGU6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIG1vZGFsVGl0bGVFbDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBwaGFzZUVsOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHByb2dyZXNzQmFyRWw6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgc3RhdHVzRWw6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgZGV0YWlsRWw6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgY29udmVyc2F0aW9uQ291bnRFbDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBpbXBvcnRNb2RlRWw6IEhUTUxFbGVtZW50O1xuICAgIHB1YmxpYyBpc0NvbXBsZXRlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgZmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLmZpbGVOYW1lID0gZmlsZU5hbWU7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKFwibmV4dXMtaW1wb3J0LXByb2dyZXNzLW1vZGFsXCIpO1xuXG4gICAgICAgIC8vIFRpdGxlXG4gICAgICAgIHRoaXMubW9kYWxUaXRsZUVsID0gY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyBcbiAgICAgICAgICAgIHRleHQ6IGBJbXBvcnRpbmcgJHt0aGlzLmZpbGVOYW1lfWAsIFxuICAgICAgICAgICAgY2xzOiBcIm1vZGFsLXRpdGxlXCIgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLWNvbnRlbnRcIiB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFBoYXNlIGluZGljYXRvclxuICAgICAgICB0aGlzLnBoYXNlRWwgPSBjb250ZW50Q29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcImltcG9ydC1waGFzZVwiIH0pO1xuICAgICAgICB0aGlzLnBoYXNlRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuMWVtO1xuICAgICAgICBgO1xuXG4gICAgICAgIC8vIEltcG9ydCBtb2RlIGluZGljYXRvclxuICAgICAgICB0aGlzLmltcG9ydE1vZGVFbCA9IGNvbnRlbnRDb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwiaW1wb3J0LW1vZGVcIiB9KTtcbiAgICAgICAgdGhpcy5pbXBvcnRNb2RlRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjogNXB4IDAgMTBweCAwO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBgO1xuXG4gICAgICAgIC8vIENvbnZlcnNhdGlvbiBjb3VudGVyXG4gICAgICAgIHRoaXMuY29udmVyc2F0aW9uQ291bnRFbCA9IGNvbnRlbnRDb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwiY29udmVyc2F0aW9uLWNvdW50ZXJcIiB9KTtcbiAgICAgICAgdGhpcy5jb252ZXJzYXRpb25Db3VudEVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW46IDVweCAwIDE1cHggMDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBQcm9ncmVzcyBiYXIgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gY29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwicHJvZ3Jlc3MtY29udGFpbmVyXCIgfSk7XG4gICAgICAgIHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiA0cHg7XG4gICAgICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBQcm9ncmVzcyBiYXJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhckVsID0gcHJvZ3Jlc3NDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcInByb2dyZXNzLWJhclwiIH0pO1xuICAgICAgICB0aGlzLnByb2dyZXNzQmFyRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSwgdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKSk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICB3aWR0aDogMCU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2U7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gU3RhdHVzIHRleHRcbiAgICAgICAgdGhpcy5zdGF0dXNFbCA9IGNvbnRlbnRDb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwic3RhdHVzLXRleHRcIiB9KTtcbiAgICAgICAgdGhpcy5zdGF0dXNFbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBEZXRhaWwgdGV4dFxuICAgICAgICB0aGlzLmRldGFpbEVsID0gY29udGVudENvbnRhaW5lci5jcmVhdGVFbChcImRpdlwiLCB7IGNsczogXCJkZXRhaWwtdGV4dFwiIH0pO1xuICAgICAgICB0aGlzLmRldGFpbEVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICBtYXJnaW46IDVweCAwO1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiAxLjJlbTtcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBJbml0aWFsIHN0YXRlXG4gICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3Moe1xuICAgICAgICAgICAgcGhhc2U6ICd2YWxpZGF0aW9uJyxcbiAgICAgICAgICAgIHRpdGxlOiAnUHJlcGFyaW5nIGltcG9ydC4uLicsXG4gICAgICAgICAgICBkZXRhaWw6ICdWYWxpZGF0aW5nIFpJUCBmaWxlIHN0cnVjdHVyZSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHByb2dyZXNzIHdpdGggc3RlcCBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIHVwZGF0ZVByb2dyZXNzKHN0ZXA6IEltcG9ydFByb2dyZXNzU3RlcCkge1xuICAgICAgICAvLyBVcGRhdGUgcGhhc2VcbiAgICAgICAgY29uc3QgcGhhc2VMYWJlbHMgPSB7XG4gICAgICAgICAgICAndmFsaWRhdGlvbic6ICdcdUQ4M0RcdUREMEQgVmFsaWRhdGlvbicsXG4gICAgICAgICAgICAnc2Nhbm5pbmcnOiAnXHVEODNEXHVEQ0NCIFNjYW5uaW5nJyxcbiAgICAgICAgICAgICdwcm9jZXNzaW5nJzogJ1x1MjY5OVx1RkUwRiBQcm9jZXNzaW5nJyxcbiAgICAgICAgICAgICd3cml0aW5nJzogJ1x1RDgzRFx1RENCRSBXcml0aW5nJyxcbiAgICAgICAgICAgICdjb21wbGV0ZSc6ICdcdTI3MDUgQ29tcGxldGUnLFxuICAgICAgICAgICAgJ2Vycm9yJzogJ1x1Mjc0QyBFcnJvcidcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucGhhc2VFbC50ZXh0Q29udGVudCA9IHBoYXNlTGFiZWxzW3N0ZXAucGhhc2VdIHx8IHN0ZXAucGhhc2U7XG5cbiAgICAgICAgLy8gVXBkYXRlIGNvbnZlcnNhdGlvbiBjb3VudCBpZiBwcm92aWRlZFxuICAgICAgICBpZiAoc3RlcC50b3RhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRvdGFsQ29udmVyc2F0aW9ucyA9IHN0ZXAudG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXAuY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb252ZXJzYXRpb24gPSBzdGVwLmN1cnJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgY29udmVyc2F0aW9uIGNvdW50ZXIgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy50b3RhbENvbnZlcnNhdGlvbnMgPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGl2ZUltcG9ydCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udmVyc2F0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGAke3RoaXMuY3VycmVudENvbnZlcnNhdGlvbn0vJHt0aGlzLnRvdGFsQ29udmVyc2F0aW9uc30gc2VsZWN0ZWQgY29udmVyc2F0aW9uc2A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udmVyc2F0aW9uQ291bnRFbC50ZXh0Q29udGVudCA9IGAke3RoaXMuY3VycmVudENvbnZlcnNhdGlvbn0vJHt0aGlzLnRvdGFsQ29udmVyc2F0aW9uc30gY29udmVyc2F0aW9uc2A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvbkNvdW50RWwudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhbmQgdXBkYXRlIHByb2dyZXNzIGJhclxuICAgICAgICBsZXQgcGVyY2VudGFnZSA9IDA7XG4gICAgICAgIGlmIChzdGVwLnBlcmNlbnRhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGVyY2VudGFnZSA9IHN0ZXAucGVyY2VudGFnZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRvdGFsQ29udmVyc2F0aW9ucyA+IDAgJiYgc3RlcC5waGFzZSA9PT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgodGhpcy5jdXJyZW50Q29udmVyc2F0aW9uIC8gdGhpcy50b3RhbENvbnZlcnNhdGlvbnMpICogMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBoYXNlLWJhc2VkIHByb2dyZXNzXG4gICAgICAgICAgICBjb25zdCBwaGFzZVByb2dyZXNzID0ge1xuICAgICAgICAgICAgICAgICd2YWxpZGF0aW9uJzogMTAsXG4gICAgICAgICAgICAgICAgJ3NjYW5uaW5nJzogMjAsXG4gICAgICAgICAgICAgICAgJ3Byb2Nlc3NpbmcnOiA4MCxcbiAgICAgICAgICAgICAgICAnd3JpdGluZyc6IDk1LFxuICAgICAgICAgICAgICAgICdjb21wbGV0ZSc6IDEwMCxcbiAgICAgICAgICAgICAgICAnZXJyb3InOiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGVyY2VudGFnZSA9IHBoYXNlUHJvZ3Jlc3Nbc3RlcC5waGFzZV0gfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBlcmNlbnRhZ2UgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIHBlcmNlbnRhZ2UpKTtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhckVsLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYDtcblxuICAgICAgICAvLyBVcGRhdGUgc3RhdHVzIGFuZCBkZXRhaWxcbiAgICAgICAgdGhpcy5zdGF0dXNFbC50ZXh0Q29udGVudCA9IHN0ZXAudGl0bGU7XG4gICAgICAgIHRoaXMuZGV0YWlsRWwudGV4dENvbnRlbnQgPSBzdGVwLmRldGFpbCB8fCBcIlwiO1xuXG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0aW9uXG4gICAgICAgIGlmIChzdGVwLnBoYXNlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dDb21wbGV0ZShzdGVwLnRpdGxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGVwLnBoYXNlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dFcnJvcihzdGVwLnRpdGxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgY29tcGxldGlvbiBzdGF0ZVxuICAgICAqL1xuICAgIHNob3dDb21wbGV0ZShtZXNzYWdlOiBzdHJpbmcgPSBcIkltcG9ydCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpIHtcbiAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhckVsLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXJFbC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS10ZXh0LXN1Y2Nlc3MpXCI7XG4gICAgICAgIHRoaXMuc3RhdHVzRWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmRldGFpbEVsLnRleHRDb250ZW50ID0gXCJZb3UgY2FuIGNsb3NlIHRoaXMgZGlhbG9nXCI7XG4gICAgICAgIFxuICAgICAgICAvLyBBdXRvLWNsb3NlIGFmdGVyIGRlbGF5XG4gICAgICAgIHRoaXMuY2xvc2VBZnRlckRlbGF5KDMwMDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgZXJyb3Igc3RhdGVcbiAgICAgKi9cbiAgICBzaG93RXJyb3IobWVzc2FnZTogc3RyaW5nID0gXCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgaW1wb3J0XCIpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhckVsLnN0eWxlLmJhY2tncm91bmQgPSBcInZhcigtLXRleHQtZXJyb3IpXCI7XG4gICAgICAgIHRoaXMuc3RhdHVzRWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmRldGFpbEVsLnRleHRDb250ZW50ID0gXCJDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzXCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgYWZ0ZXIgZGVsYXlcbiAgICAgKi9cbiAgICBjbG9zZUFmdGVyRGVsYXkoZGVsYXk6IG51bWJlciA9IDIwMDApIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkZWxheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHNlbGVjdGl2ZSBpbXBvcnQgbW9kZVxuICAgICAqL1xuICAgIHNldFNlbGVjdGl2ZUltcG9ydE1vZGUoc2VsZWN0ZWRDb3VudDogbnVtYmVyLCB0b3RhbEF2YWlsYWJsZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaXNTZWxlY3RpdmVJbXBvcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQ291bnQgPSBzZWxlY3RlZENvdW50O1xuICAgICAgICB0aGlzLnRvdGFsQXZhaWxhYmxlID0gdG90YWxBdmFpbGFibGU7XG5cbiAgICAgICAgLy8gU2hvdyBpbXBvcnQgbW9kZSBpbmRpY2F0b3JcbiAgICAgICAgdGhpcy5pbXBvcnRNb2RlRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuaW1wb3J0TW9kZUVsLnRleHRDb250ZW50ID0gYFx1RDgzRFx1RENDQiBTZWxlY3RpdmUgSW1wb3J0OiAke3NlbGVjdGVkQ291bnR9IG9mICR7dG90YWxBdmFpbGFibGV9IGNvbnZlcnNhdGlvbnNgO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwcm9ncmVzcyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAqL1xuICAgIGdldFByb2dyZXNzQ2FsbGJhY2soKTogSW1wb3J0UHJvZ3Jlc3NDYWxsYmFjayB7XG4gICAgICAgIHJldHVybiAoc3RlcDogSW1wb3J0UHJvZ3Jlc3NTdGVwKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHN0ZXApO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL3NlcnZpY2VzL3N0b3JhZ2Utc2VydmljZS50c1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5IH0gZnJvbSBcIi4uL3R5cGVzL3BsdWdpblwiO1xuaW1wb3J0IHsgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VTZXJ2aWNlIHtcbiAgICBwcml2YXRlIGltcG9ydGVkQXJjaGl2ZXM6IFJlY29yZDxzdHJpbmcsIHsgZmlsZU5hbWU6IHN0cmluZzsgZGF0ZTogc3RyaW5nIH0+ID0ge307XG4gICAgcHJpdmF0ZSBpc0RpcnR5ID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBzYXZlVGltZW91dDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge31cblxuICAgIGFzeW5jIGxvYWREYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgICAgICB0aGlzLmltcG9ydGVkQXJjaGl2ZXMgPSBkYXRhPy5pbXBvcnRlZEFyY2hpdmVzIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE1pZ3JhdGlvbjogSWYgb2xkIGNhdGFsb2cgZXhpc3RzLCB3ZSBpZ25vcmUgaXQgKG1pZ3JhdGlvbiBoYW5kbGVkIGluIHVwZ3JhZGUudHMpXG4gICAgICAgICAgICBpZiAoZGF0YT8uY29udmVyc2F0aW9uQ2F0YWxvZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGFsb2dTaXplID0gT2JqZWN0LmtleXMoZGF0YS5jb252ZXJzYXRpb25DYXRhbG9nKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmluZm8oXCJMZWdhY3kgY29udmVyc2F0aW9uIGNhdGFsb2cgZGV0ZWN0ZWQgLSB3aWxsIGJlIG1pZ3JhdGVkIGluIHVwZ3JhZGUgcHJvY2Vzc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmluZm8oXCJTdG9yYWdlIGRhdGEgbG9hZGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihcImxvYWREYXRhIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzYXZlRGF0YShkYXRhOiBhbnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJzYXZlRGF0YSBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZGVib3VuY2VkU2F2ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5zYXZlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEFSQ0hJVkUgVFJBQ0tJTkcgLSBIWUJSSUQgREVURUNUSU9OICgxLjAueCArIDEuMS4wKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBcbiAgICBnZXRJbXBvcnRlZEFyY2hpdmVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbXBvcnRlZEFyY2hpdmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhZQlJJRCBkZXRlY3Rpb246IFdvcmtzIHdpdGggYm90aCAxLjAueCAoZmlsZW5hbWUgYXMga2V5KSBhbmQgMS4xLjAgKGhhc2ggYXMga2V5KVxuICAgICAqIEZJWEVEOiBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChzdHJpbmcgdmFsdWVzKSBhbmQgbmV3IGZvcm1hdCAob2JqZWN0IHZhbHVlcylcbiAgICAgKi9cbiAgICBpc0FyY2hpdmVJbXBvcnRlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBNZXRob2QgMTogRGlyZWN0IGtleSBsb29rdXAgKHdvcmtzIGZvciBib3RoIGhhc2ggYW5kIGZpbGVuYW1lIGtleXMpXG4gICAgICAgIGlmICh0aGlzLmltcG9ydGVkQXJjaGl2ZXNba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIE1ldGhvZCAyOiBTZWFyY2ggYnkgZmlsZW5hbWUgaW4gdmFsdWVzIChmb3IgMS4wLnggXHUyMTkyIDEuMS4wIG1pZ3JhdGlvbilcbiAgICAgICAgLy8gQ1JJVElDQUwgRklYOiBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChzdHJpbmcpIGFuZCBuZXcgZm9ybWF0IChvYmplY3QpXG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuaW1wb3J0ZWRBcmNoaXZlcykuc29tZShhcmNoaXZlID0+IHtcbiAgICAgICAgICAgIC8vIE5ldyBmb3JtYXQgMS4xLjA6IGFyY2hpdmUgPSB7ZmlsZU5hbWU6IFwiZmlsZS56aXBcIiwgZGF0ZTogXCIyMDI0LTAxLTAxXCJ9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyY2hpdmUgPT09ICdvYmplY3QnICYmIGFyY2hpdmUgIT09IG51bGwgJiYgYXJjaGl2ZS5maWxlTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmNoaXZlLmZpbGVOYW1lID09PSBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE9sZCBmb3JtYXQgMS4wLng6IGFyY2hpdmUgPSBcIjIwMjQtMDEtMDFcIiAoc3RyaW5nIGRhdGUpXG4gICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIHdlIGNhbid0IG1hdGNoIGJ5IGZpbGVuYW1lIHNpbmNlIHdlIGRvbid0IGhhdmUgaXRcbiAgICAgICAgICAgIC8vIEJ1dCB0aGUga2V5IG1pZ2h0IGJlIHRoZSBmaWxlbmFtZSBpdHNlbGYsIHdoaWNoIHdlIGFscmVhZHkgY2hlY2tlZCBpbiBNZXRob2QgMVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRJbXBvcnRlZEFyY2hpdmUoZmlsZUhhc2g6IHN0cmluZywgZmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmltcG9ydGVkQXJjaGl2ZXNbZmlsZUhhc2hdID0ge1xuICAgICAgICAgICAgZmlsZU5hbWUsXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWRTYXZlKCk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIE5FVzogVkFVTFQtQkFTRUQgQ09OVkVSU0FUSU9OIERJU0NPVkVSWSAoSFlCUklEKVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFNjYW4gdmF1bHQgZm9yIGV4aXN0aW5nIE5leHVzIGNvbnZlcnNhdGlvbnMgdXNpbmcgSFlCUklEIGFwcHJvYWNoOlxuICAgICAqIDEuIFdhaXQgZm9yIGNhY2hlIHRvIGJlIGNsZWFuIChmYXN0KVxuICAgICAqIDIuIFVzZSBtZXRhZGF0YUNhY2hlIChvcHRpbWFsIHBlcmZvcm1hbmNlKSAgXG4gICAgICogMy4gRmFsbGJhY2sgdG8gbWFudWFsIHBhcnNpbmcgZm9yIHByb2JsZW1hdGljIGZpbGVzXG4gICAgICovXG4gICAgYXN5bmMgc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpOiBQcm9taXNlPE1hcDxzdHJpbmcsIENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeT4+IHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0ZXAgMTogV2FpdCBmb3IgY2FjaGUgdG8gYmUgY2xlYW4gKHdpdGggdGltZW91dClcbiAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yQ2FjaGVDbGVhbigxMDAwKTsgLy8gTWF4IDEgc2Vjb25kIHdhaXRcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbnMgPSBuZXcgTWFwPHN0cmluZywgQ29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5PigpO1xuICAgICAgICBjb25zdCBhcmNoaXZlRm9sZGVyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcjtcbiAgICAgICAgY29uc3QgYWxsRmlsZXMgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmlsdGVyIGNvbnZlcnNhdGlvbiBmaWxlcyAoZXhjbHVkZSBSZXBvcnRzL0F0dGFjaG1lbnRzKVxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgIGlmICghZmlsZS5wYXRoLnN0YXJ0c1dpdGgoYXJjaGl2ZUZvbGRlcikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8IFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ2F0dGFjaG1lbnRzLycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgcHJvY2Vzc2VkID0gMDtcbiAgICAgICAgbGV0IGZvdW5kVmlhQ2FjaGUgPSAwO1xuICAgICAgICBsZXQgZm91bmRWaWFNYW51YWwgPSAwO1xuICAgICAgICBsZXQgZXJyb3JzID0gMDtcbiAgICAgICAgXG4gICAgICAgIC8vIFByb2Nlc3MgZmlsZXMgaW4gYmF0Y2hlc1xuICAgICAgICBjb25zdCBiYXRjaFNpemUgPSAxMDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udmVyc2F0aW9uRmlsZXMubGVuZ3RoOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBjb252ZXJzYXRpb25GaWxlcy5zbGljZShpLCBpICsgYmF0Y2hTaXplKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGJhdGNoKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IG1ldGFkYXRhQ2FjaGUgZmlyc3QgKGZhc3QpXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbnRyeSA9IGF3YWl0IHRoaXMucGFyc2VXaXRoQ2FjaGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9ucy5zZXQoZW50cnkuY29udmVyc2F0aW9uSWQsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kVmlhQ2FjaGUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBtYW51YWwgcGFyc2luZ1xuICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IGF3YWl0IHRoaXMucGFyc2VDb252ZXJzYXRpb25GaWxlTWFudWFsbHkoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9ucy5zZXQoZW50cnkuY29udmVyc2F0aW9uSWQsIGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kVmlhTWFudWFsKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRXJyb3IgcGFyc2luZyBjb252ZXJzYXRpb24gZmlsZSAke2ZpbGUucGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU21hbGwgZGVsYXkgYmV0d2VlbiBsYXJnZSBiYXRjaGVzXG4gICAgICAgICAgICBpZiAoaSArIGJhdGNoU2l6ZSA8IGNvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgY29uc3QgdG90YWwgPSBmb3VuZFZpYUNhY2hlICsgZm91bmRWaWFNYW51YWw7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuaW5mbyhgU2Nhbm5lZCB2YXVsdDogZm91bmQgJHt0b3RhbH0gY29udmVyc2F0aW9ucyBpbiAke2R1cmF0aW9ufW1zYCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29udmVyc2F0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXYWl0IGZvciBtZXRhZGF0YSBjYWNoZSB0byBiZSBjbGVhbiB3aXRoIHRpbWVvdXRcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHdhaXRGb3JDYWNoZUNsZWFuKG1heFdhaXRNczogbnVtYmVyID0gMTAwMCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHlwZSBhc3NlcnRpb24gZm9yIHVuZG9jdW1lbnRlZCBPYnNpZGlhbiBBUElcbiAgICAgICAgY29uc3QgbWV0YWRhdGFDYWNoZSA9IHRoaXMucGx1Z2luLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueTtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlICghbWV0YWRhdGFDYWNoZS5pc0NhY2hlQ2xlYW4oKSkge1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydFRpbWUgPiBtYXhXYWl0TXMpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgY29udmVyc2F0aW9uIHVzaW5nIG1ldGFkYXRhQ2FjaGUgKGZhc3QgYnV0IHBvdGVudGlhbGx5IHVucmVsaWFibGUpXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwYXJzZVdpdGhDYWNoZShmaWxlOiBURmlsZSk6IFByb21pc2U8Q29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5IHwgbnVsbD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSB0aGlzLnBsdWdpbi5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk/LmZyb250bWF0dGVyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyPy5uZXh1cyB8fCBmcm9udG1hdHRlci5uZXh1cyAhPT0gdGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlci5jb252ZXJzYXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY3JlYXRlVGltZSA9IHRoaXMucGFyc2VUaW1lU3RyaW5nKGZyb250bWF0dGVyLmNyZWF0ZV90aW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVRpbWUgPSB0aGlzLnBhcnNlVGltZVN0cmluZyhmcm9udG1hdHRlci51cGRhdGVfdGltZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGZyb250bWF0dGVyLmNvbnZlcnNhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogZnJvbnRtYXR0ZXIucHJvdmlkZXIgfHwgJ3Vua25vd24nLFxuICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICB1cGRhdGVUaW1lOiB1cGRhdGVUaW1lLFxuICAgICAgICAgICAgICAgIGNyZWF0ZV90aW1lOiBjcmVhdGVUaW1lLFxuICAgICAgICAgICAgICAgIHVwZGF0ZV90aW1lOiB1cGRhdGVUaW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBTaWxlbnQgZmFpbCAtIHdpbGwgdHJ5IG1hbnVhbCBwYXJzaW5nXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIHNpbmdsZSBjb252ZXJzYXRpb24gZmlsZSBtYW51YWxseSAocm9idXN0IGZhbGxiYWNrKVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcGFyc2VDb252ZXJzYXRpb25GaWxlTWFudWFsbHkoZmlsZTogVEZpbGUpOiBQcm9taXNlPENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeSB8IG51bGw+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRXh0cmFjdCBmcm9udG1hdHRlciBtYW51YWxseVxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJNYXRjaCA9IGNvbnRlbnQubWF0Y2goL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFmcm9udG1hdHRlck1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyQ29udGVudCA9IGZyb250bWF0dGVyTWF0Y2hbMV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFBhcnNlIGZyb250bWF0dGVyIGxpbmVzIG1hbnVhbGx5XG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlckRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZnJvbnRtYXR0ZXJDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb25JbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgICAgIGlmIChjb2xvbkluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBjb2xvbkluZGV4KS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGxpbmUuc3Vic3RyaW5nKGNvbG9uSW5kZXggKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcXVvdGVzIGlmIHByZXNlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZS5zdGFydHNXaXRoKCdcIicpICYmIHZhbHVlLmVuZHNXaXRoKCdcIicpKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZS5zdGFydHNXaXRoKFwiJ1wiKSAmJiB2YWx1ZS5lbmRzV2l0aChcIidcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXJEYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBOZXh1cyBjb252ZXJzYXRpb24gZmlsZVxuICAgICAgICAgICAgY29uc3QgbmV4dXNJZCA9IHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkO1xuICAgICAgICAgICAgaWYgKGZyb250bWF0dGVyRGF0YS5uZXh1cyAhPT0gbmV4dXNJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyRGF0YS5jb252ZXJzYXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3JlYXRlVGltZSA9IHRoaXMucGFyc2VUaW1lU3RyaW5nKGZyb250bWF0dGVyRGF0YS5jcmVhdGVfdGltZSk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gdGhpcy5wYXJzZVRpbWVTdHJpbmcoZnJvbnRtYXR0ZXJEYXRhLnVwZGF0ZV90aW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogZnJvbnRtYXR0ZXJEYXRhLmNvbnZlcnNhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogZnJvbnRtYXR0ZXJEYXRhLnByb3ZpZGVyIHx8ICd1bmtub3duJyxcbiAgICAgICAgICAgICAgICBwYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgdXBkYXRlVGltZTogdXBkYXRlVGltZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVfdGltZTogY3JlYXRlVGltZSxcbiAgICAgICAgICAgICAgICB1cGRhdGVfdGltZTogdXBkYXRlVGltZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbWFudWFsbHkgcGFyc2luZyAke2ZpbGUucGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aW1lIHN0cmluZyBmcm9tIGZyb250bWF0dGVyIChoYW5kbGUgbXVsdGlwbGUgZm9ybWF0cylcbiAgICAgKiBTdXBwb3J0cyBib3RoIG9sZCBmb3JtYXQgKHdpdGhvdXQgc2Vjb25kcykgYW5kIG5ldyBmb3JtYXQgKHdpdGggc2Vjb25kcylcbiAgICAgKiBVc2VzIG1vbWVudC5qcyB3aXRoIGV4cGxpY2l0IFVTIGZvcm1hdCB0byBlbnN1cmUgY29uc2lzdGVuY3kgd2l0aCBmb3JtYXR0aW5nXG4gICAgICogRXhhbXBsZXM6XG4gICAgICogLSBPbGQ6IFwiMDEvMTUvMjAyNCBhdCAyOjMwIFBNXCJcbiAgICAgKiAtIE5ldzogXCIwMS8xNS8yMDI0IGF0IDI6MzA6MDAgUE1cIlxuICAgICAqL1xuICAgIHByaXZhdGUgcGFyc2VUaW1lU3RyaW5nKHRpbWVTdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGlmICghdGltZVN0cikgcmV0dXJuIDA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEltcG9ydCBtb21lbnQgZnJvbSBvYnNpZGlhbiAoc2FtZSBpbnN0YW5jZSB1c2VkIGZvciBmb3JtYXR0aW5nKVxuICAgICAgICAgICAgY29uc3QgeyBtb21lbnQgfSA9IHJlcXVpcmUoXCJvYnNpZGlhblwiKTtcblxuICAgICAgICAgICAgLy8gVHJ5IHBhcnNpbmcgd2l0aCBzZWNvbmRzIGZpcnN0IChuZXcgZm9ybWF0KVxuICAgICAgICAgICAgbGV0IGRhdGUgPSBtb21lbnQodGltZVN0ciwgXCJNTS9ERC9ZWVlZIFthdF0gaDptbTpzcyBBXCIsIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZm9ybWF0IHdpdGhvdXQgc2Vjb25kcyAob2xkIGZvcm1hdClcbiAgICAgICAgICAgICAgICBkYXRlID0gbW9tZW50KHRpbWVTdHIsIFwiTU0vREQvWVlZWSBbYXRdIGg6bW0gQVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IHBhcnNlIGRhdGU6ICR7dGltZVN0cn1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGUudW5peCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEYXRlIHBhcnNpbmcgZXJyb3IgZm9yIFwiJHt0aW1lU3RyfVwiOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFzdCBjaGVjayBpZiBhIHNwZWNpZmljIGNvbnZlcnNhdGlvbiBleGlzdHNcbiAgICAgKi9cbiAgICBhc3luYyBjb252ZXJzYXRpb25FeGlzdHMoY29udmVyc2F0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zID0gYXdhaXQgdGhpcy5zY2FuRXhpc3RpbmdDb252ZXJzYXRpb25zKCk7XG4gICAgICAgIHJldHVybiBjb252ZXJzYXRpb25zLmhhcyhjb252ZXJzYXRpb25JZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGNvbnZlcnNhdGlvbiBlbnRyeSBieSBJRCAoc2luZ2xlIGxvb2t1cClcbiAgICAgKi9cbiAgICBhc3luYyBnZXRDb252ZXJzYXRpb25CeUlkKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeSB8IG51bGw+IHtcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9ucyA9IGF3YWl0IHRoaXMuc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpO1xuICAgICAgICByZXR1cm4gY29udmVyc2F0aW9ucy5nZXQoY29udmVyc2F0aW9uSWQpIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGNvbnZlcnNhdGlvbnMgYnkgcHJvdmlkZXIgKGZvciByZXBvcnRpbmcvc3RhdHMpXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q29udmVyc2F0aW9uc0J5UHJvdmlkZXIocHJvdmlkZXI6IHN0cmluZyk6IFByb21pc2U8Q29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5W10+IHtcbiAgICAgICAgY29uc3QgYWxsQ29udmVyc2F0aW9ucyA9IGF3YWl0IHRoaXMuc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShhbGxDb252ZXJzYXRpb25zLnZhbHVlcygpKS5maWx0ZXIoZW50cnkgPT4gZW50cnkucHJvdmlkZXIgPT09IHByb3ZpZGVyKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gTEVHQUNZIFNVUFBPUlQgJiBDTEVBTlVQXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgYXN5bmMgcmVzZXRDYXRhbG9ncygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaW1wb3J0ZWRBcmNoaXZlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLnNhdmVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2F2ZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YSh7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMucGx1Z2luLnNldHRpbmdzXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogTm8gY29udmVyc2F0aW9uIGNhdGFsb2cgdG8gcmVzZXQgLSBpdCdzIG5vdyB2YXVsdC1iYXNlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5pbmZvKFwiUmVzZXQgYXJjaGl2ZSBjYXRhbG9nIChjb252ZXJzYXRpb24gdHJhY2tpbmcgaXMgbm93IHZhdWx0LWJhc2VkKVwiKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihcInJlc2V0Q2F0YWxvZ3MgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdGF0aXN0aWNzIGZvciBkZWJ1Z2dpbmdcbiAgICBnZXRTdGF0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsQXJjaGl2ZXM6IE9iamVjdC5rZXlzKHRoaXMuaW1wb3J0ZWRBcmNoaXZlcykubGVuZ3RoLFxuICAgICAgICAgICAgaXNEaXJ0eTogdGhpcy5pc0RpcnR5LFxuICAgICAgICAgICAgaGFzUGVuZGluZ1NhdmU6IHRoaXMuc2F2ZVRpbWVvdXQgIT09IG51bGwsXG4gICAgICAgICAgICBjYXRhbG9nTWV0aG9kOiAndmF1bHQtYmFzZWQtaHlicmlkJyxcbiAgICAgICAgICAgIHRyYWNraW5nTWV0aG9kOiAnaHlicmlkLWhhc2gtZmlsZW5hbWUnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXN5bmMgZm9yY2VTYXZlKCkge1xuICAgICAgICBpZiAodGhpcy5zYXZlVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2F2ZVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5zYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gREVQUkVDQVRFRCBNRVRIT0RTIChGb3IgQ29tcGF0aWJpbGl0eSlcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Ugc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpIGluc3RlYWRcbiAgICAgKi9cbiAgICBnZXRDb252ZXJzYXRpb25DYXRhbG9nKCk6IFJlY29yZDxzdHJpbmcsIENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeT4ge1xuICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIud2FybihcImdldENvbnZlcnNhdGlvbkNhdGFsb2coKSBpcyBkZXByZWNhdGVkIC0gdXNlIHNjYW5FeGlzdGluZ0NvbnZlcnNhdGlvbnMoKVwiKTtcbiAgICAgICAgcmV0dXJuIHt9OyAvLyBSZXR1cm4gZW1wdHkgLSBmb3JjZXMgdXNlIG9mIG5ldyBzY2FuIG1ldGhvZFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIENvbnZlcnNhdGlvbnMgYXJlIG5vdyB0cmFja2VkIHZpYSB2YXVsdCBmcm9udG1hdHRlclxuICAgICAqL1xuICAgIHVwZGF0ZUNvbnZlcnNhdGlvbkNhdGFsb2coaWQ6IHN0cmluZywgZW50cnk6IENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeSkge1xuICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIud2FybihcInVwZGF0ZUNvbnZlcnNhdGlvbkNhdGFsb2coKSBpcyBkZXByZWNhdGVkIC0gY29udmVyc2F0aW9ucyB0cmFja2VkIHZpYSBmcm9udG1hdHRlclwiKTtcbiAgICAgICAgLy8gTm8tb3AgLSBmcm9udG1hdHRlciBpcyB0aGUgc291cmNlIG9mIHRydXRoIG5vd1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIENvbnZlcnNhdGlvbnMgYXJlIG5vdyB0cmFja2VkIHZpYSB2YXVsdCBmcm9udG1hdHRlciAgXG4gICAgICovXG4gICAgZGVsZXRlRnJvbUNvbnZlcnNhdGlvbkNhdGFsb2coaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIud2FybihcImRlbGV0ZUZyb21Db252ZXJzYXRpb25DYXRhbG9nKCkgaXMgZGVwcmVjYXRlZCAtIGZpbGVzIHRyYWNrZWQgdmlhIHZhdWx0XCIpO1xuICAgICAgICAvLyBOby1vcCAtIGZpbGUgZGVsZXRpb24gaXMgaGFuZGxlZCBieSBldmVudCBoYW5kbGVyc1xuICAgIH1cbn0iLCAiLy8gc3JjL3VwZ3JhZGUvaW5jcmVtZW50YWwtdXBncmFkZS1tYW5hZ2VyLnRzXG5pbXBvcnQgeyBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFZlcnNpb25VcGdyYWRlLCBVcGdyYWRlQ29udGV4dCB9IGZyb20gXCIuL3VwZ3JhZGUtaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBWZXJzaW9uVXRpbHMgfSBmcm9tIFwiLi91dGlscy92ZXJzaW9uLXV0aWxzXCI7XG5pbXBvcnQgeyBzaG93RGlhbG9nIH0gZnJvbSBcIi4uL2RpYWxvZ3NcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuLi9sb2dnZXJcIjtcbmltcG9ydCB7IEdJVEhVQiB9IGZyb20gXCIuLi9jb25maWcvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBNdWx0aU9wZXJhdGlvblByb2dyZXNzTW9kYWwsIE9wZXJhdGlvblN0YXR1cyB9IGZyb20gXCIuL3V0aWxzL211bHRpLW9wZXJhdGlvbi1wcm9ncmVzcy1tb2RhbFwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5jcmVtZW50YWxVcGdyYWRlUmVzdWx0IHtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIHVwZ3JhZGVzRXhlY3V0ZWQ6IG51bWJlcjtcbiAgICB1cGdyYWRlc1NraXBwZWQ6IG51bWJlcjtcbiAgICB1cGdyYWRlc0ZhaWxlZDogbnVtYmVyO1xuICAgIHJlc3VsdHM6IEFycmF5PHtcbiAgICAgICAgdmVyc2lvbjogc3RyaW5nO1xuICAgICAgICBhdXRvbWF0aWNSZXN1bHRzOiBhbnk7XG4gICAgICAgIG1hbnVhbFJlc3VsdHM6IGFueTtcbiAgICB9Pjtcbn1cblxuZXhwb3J0IGNsYXNzIEluY3JlbWVudGFsVXBncmFkZU1hbmFnZXIge1xuICAgIHByaXZhdGUgYXZhaWxhYmxlVXBncmFkZXM6IFZlcnNpb25VcGdyYWRlW10gPSBbXTtcbiAgICBwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbjtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwZ3JhZGVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYWxsIGF2YWlsYWJsZSB2ZXJzaW9uIHVwZ3JhZGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWdpc3RlclVwZ3JhZGVzKCk6IHZvaWQge1xuICAgICAgICAvLyBJbXBvcnQgYW5kIHJlZ2lzdGVyIHVwZ3JhZGVzXG4gICAgICAgIGNvbnN0IHsgVXBncmFkZTExMCB9ID0gcmVxdWlyZShcIi4vdmVyc2lvbnMvdXBncmFkZS0xLjEuMFwiKTtcbiAgICAgICAgY29uc3QgeyBVcGdyYWRlMTIwIH0gPSByZXF1aXJlKFwiLi92ZXJzaW9ucy91cGdyYWRlLTEuMi4wXCIpO1xuICAgICAgICBjb25zdCB7IFVwZ3JhZGUxMzAgfSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25zL3VwZ3JhZGUtMS4zLjBcIik7XG5cbiAgICAgICAgdGhpcy5hdmFpbGFibGVVcGdyYWRlcyA9IFtcbiAgICAgICAgICAgIG5ldyBVcGdyYWRlMTEwKCksXG4gICAgICAgICAgICBuZXcgVXBncmFkZTEyMCgpLFxuICAgICAgICAgICAgbmV3IFVwZ3JhZGUxMzAoKSxcbiAgICAgICAgICAgIC8vIEZ1dHVyZTogbmV3IFVwZ3JhZGUxMzEoKSwgbmV3IFVwZ3JhZGUxNDAoKSwgZXRjLlxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIFNvcnQgYnkgdmVyc2lvbiBmb3IgaW5jcmVtZW50YWwgZXhlY3V0aW9uXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlVXBncmFkZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25VdGlscy5jb21wYXJlVmVyc2lvbnMoYS52ZXJzaW9uLCBiLnZlcnNpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsb2dnZXIuaW5mbyhgUmVnaXN0ZXJlZCAke3RoaXMuYXZhaWxhYmxlVXBncmFkZXMubGVuZ3RofSB2ZXJzaW9uIHVwZ3JhZGVzYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFpbiBpbmNyZW1lbnRhbCB1cGdyYWRlIGNoZWNrIGFuZCBleGVjdXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBjaGVja0FuZFBlcmZvcm1VcGdyYWRlKCk6IFByb21pc2U8SW5jcmVtZW50YWxVcGdyYWRlUmVzdWx0IHwgbnVsbD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlcnNpb24gPSB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNWZXJzaW9uID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJldmlvdXNWZXJzaW9uOyAvLyBcdTIxOTAgVXNlIHNldHRpbmdzIGluc3RlYWQgb2YgZGF0YVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIEluY3JlbWVudGFsIHVwZ3JhZGUgY2hlY2s6ICR7cHJldmlvdXNWZXJzaW9ufSBcdTIxOTIgJHtjdXJyZW50VmVyc2lvbn1gKTtcblxuICAgICAgICAgICAgLy8gU2tpcCBpZiBubyB2ZXJzaW9uIGNoYW5nZVxuICAgICAgICAgICAgaWYgKHByZXZpb3VzVmVyc2lvbiA9PT0gY3VycmVudFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIE5vIHZlcnNpb24gY2hhbmdlIC0gU0tJUFBJTkcgQUxMYCk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oYE5vIHZlcnNpb24gY2hhbmdlICgke2N1cnJlbnRWZXJzaW9ufSksIHNraXBwaW5nIHVwZ3JhZGUgY2hlY2tzYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgY29tcGxldGVkIHVwZ3JhZGUgdG8gdGhpcyB2ZXJzaW9uIHVzaW5nIG5ldyBzdHJ1Y3R1cmVcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbktleSA9IGN1cnJlbnRWZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpO1xuICAgICAgICAgICAgY29uc3QgaGFzQ29tcGxldGVkVGhpc1VwZ3JhZGUgPSBkYXRhPy51cGdyYWRlSGlzdG9yeT8uY29tcGxldGVkVXBncmFkZXM/Llt2ZXJzaW9uS2V5XT8uY29tcGxldGVkO1xuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIFVwZ3JhZGUgaGlzdG9yeSBjaGVjayBmb3IgJyR7dmVyc2lvbktleX0nOiAke2hhc0NvbXBsZXRlZFRoaXNVcGdyYWRlfWApO1xuXG4gICAgICAgICAgICBpZiAoaGFzQ29tcGxldGVkVGhpc1VwZ3JhZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIFVwZ3JhZGUgYWxyZWFkeSBjb21wbGV0ZWQgLSBTS0lQUElORyBBTExgKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgQWxyZWFkeSBjb21wbGV0ZWQgdXBncmFkZSB0byAke2N1cnJlbnRWZXJzaW9ufSwgc2tpcHBpbmdgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRlJFU0ggSU5TVEFMTCBERVRFQ1RJT04gLSBTa2lwIHVwZ3JhZGVzIGlmIHRoaXMgaXMgYSBuZXcgaW5zdGFsbGF0aW9uXG4gICAgICAgICAgICBjb25zdCBpc0ZyZXNoSW5zdGFsbCA9IGF3YWl0IHRoaXMuZGV0ZWN0RnJlc2hJbnN0YWxsKCk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIEZyZXNoIGluc3RhbGwgZGV0ZWN0aW9uOiAke2lzRnJlc2hJbnN0YWxsfWApO1xuXG4gICAgICAgICAgICBpZiAoaXNGcmVzaEluc3RhbGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIEZyZXNoIGluc3RhbGwgZGV0ZWN0ZWQgLSBtYXJraW5nIGFzIGNvbXBsZXRlIHdpdGhvdXQgdXBncmFkZXNgKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1hcmtVcGdyYWRlQ29tcGxldGUoY3VycmVudFZlcnNpb24pO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBGcmVzaCBpbnN0YWxsYXRpb24gZGV0ZWN0ZWQgLSBtYXJrZWQgYXMgdXAtdG8tZGF0ZSB2JHtjdXJyZW50VmVyc2lvbn1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlc0V4ZWN1dGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlc1NraXBwZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVzRmFpbGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB1cGdyYWRlIGNoYWluOiBhbGwgdXBncmFkZXMgYmV0d2VlbiBwcmV2aW91c1ZlcnNpb24gYW5kIGN1cnJlbnRWZXJzaW9uXG4gICAgICAgICAgICBjb25zdCB1cGdyYWRlQ2hhaW4gPSB0aGlzLmdldFVwZ3JhZGVDaGFpbihwcmV2aW91c1ZlcnNpb24sIGN1cnJlbnRWZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gVXBncmFkZSBjaGFpbjpgLCB1cGdyYWRlQ2hhaW4ubWFwKHUgPT4gdS52ZXJzaW9uKSk7XG5cbiAgICAgICAgICAgIGlmICh1cGdyYWRlQ2hhaW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBObyB1cGdyYWRlcyBuZWVkZWQgLSBtYXJraW5nIGNvbXBsZXRlYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tYXJrVXBncmFkZUNvbXBsZXRlKGN1cnJlbnRWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNob3dVcGdyYWRlRGlhbG9nKGN1cnJlbnRWZXJzaW9uLCBwcmV2aW91c1ZlcnNpb24sIFtdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlc0V4ZWN1dGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlc1NraXBwZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVzRmFpbGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gTmVlZCB0byBleGVjdXRlICR7dXBncmFkZUNoYWluLmxlbmd0aH0gdXBncmFkZXMgLSBzaG93aW5nIGRpYWxvZyBmaXJzdGApO1xuXG4gICAgICAgICAgICAvLyBTaG93IHVwZ3JhZGUgZGlhbG9nIEZJUlNUIC0gSU5GT1JNQVRJT04gT05MWSAobm8gY2FuY2VsIG9wdGlvbilcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2hvd1VwZ3JhZGVEaWFsb2coY3VycmVudFZlcnNpb24sIHByZXZpb3VzVmVyc2lvbiwgdXBncmFkZUNoYWluKTtcblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSB1cGdyYWRlIGNoYWluIHdpdGggbW9kYWwgKG5vIHVzZXIgY2hvaWNlIC0gYXV0b21hdGljKVxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBFeGVjdXRpbmcgdXBncmFkZXMgd2l0aCBtb2RhbC4uLmApO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlVXBncmFkZUNoYWluV2l0aE1vZGFsKHVwZ3JhZGVDaGFpbiwgcHJldmlvdXNWZXJzaW9uLCBjdXJyZW50VmVyc2lvbik7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgb3ZlcmFsbCB1cGdyYWRlIGNvbXBsZXRlIC0gQUxXQVlTIChldmVuIGlmIHNvbWUgb3BlcmF0aW9ucyB3ZXJlIFwibm8tb3BcIilcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gVXBncmFkZSBwcm9jZXNzIGNvbXBsZXRlZCAtIG1hcmtpbmcgb3ZlcmFsbCB1cGdyYWRlIGNvbXBsZXRlYCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1hcmtVcGdyYWRlQ29tcGxldGUoY3VycmVudFZlcnNpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIEluY3JlbWVudGFsIHVwZ3JhZGUgRkFJTEVEOmAsIGVycm9yKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGR1cmluZyBpbmNyZW1lbnRhbCB1cGdyYWRlOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiVXBncmFkZSBmYWlsZWQgLSBzZWUgY29uc29sZSBmb3IgZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXBncmFkZXNFeGVjdXRlZDogMCxcbiAgICAgICAgICAgICAgICB1cGdyYWRlc1NraXBwZWQ6IDAsXG4gICAgICAgICAgICAgICAgdXBncmFkZXNGYWlsZWQ6IDEsXG4gICAgICAgICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgdGhpcyBpcyBhIGZyZXNoIGluc3RhbGxhdGlvbiB3aXRoIG5vIGV4aXN0aW5nIGRhdGFcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGRldGVjdEZyZXNoSW5zdGFsbCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIDE6IE5vIHBsdWdpbiBkYXRhIG9yIHZlcnkgbWluaW1hbCBkYXRhXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0xlZ2FjeURhdGEgPSAhIShkYXRhPy5jb252ZXJzYXRpb25DYXRhbG9nICYmIE9iamVjdC5rZXlzKGRhdGEuY29udmVyc2F0aW9uQ2F0YWxvZykubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICBjb25zdCBoYXNJbXBvcnRlZEFyY2hpdmVzID0gISEoZGF0YT8uaW1wb3J0ZWRBcmNoaXZlcyAmJiBPYmplY3Qua2V5cyhkYXRhLmltcG9ydGVkQXJjaGl2ZXMpLmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayAyOiBObyBleGlzdGluZyBjb252ZXJzYXRpb25zIGluIHZhdWx0XG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRm9sZGVyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcjtcbiAgICAgICAgICAgIGNvbnN0IGFsbEZpbGVzID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDb252ZXJzYXRpb25zID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZmlsZS5wYXRoLnN0YXJ0c1dpdGgoYXJjaGl2ZUZvbGRlcikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBFeGNsdWRlIFJlcG9ydHMgYW5kIEF0dGFjaG1lbnRzIGZvbGRlcnNcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8IFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnQXR0YWNobWVudHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ2F0dGFjaG1lbnRzLycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIE5leHVzIGNvbnZlcnNhdGlvbiBmaWxlXG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSB0aGlzLnBsdWdpbi5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk/LmZyb250bWF0dGVyO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9udG1hdHRlcj8ubmV4dXMgPT09IHRoaXMucGx1Z2luLm1hbmlmZXN0LmlkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhc0V4aXN0aW5nQ29udmVyc2F0aW9ucyA9IGV4aXN0aW5nQ29udmVyc2F0aW9ucy5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICAvLyBGcmVzaCBpbnN0YWxsIGNyaXRlcmlhOiBubyBsZWdhY3kgZGF0YSBBTkQgbm8gaW1wb3J0ZWQgYXJjaGl2ZXMgQU5EIG5vIGV4aXN0aW5nIGNvbnZlcnNhdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IGlzRnJlc2hJbnN0YWxsID0gIWhhc0xlZ2FjeURhdGEgJiYgIWhhc0ltcG9ydGVkQXJjaGl2ZXMgJiYgIWhhc0V4aXN0aW5nQ29udmVyc2F0aW9ucztcblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBGcmVzaCBpbnN0YWxsIGRldGVjdGlvbjpgLCB7XG4gICAgICAgICAgICAgICAgaGFzTGVnYWN5RGF0YSxcbiAgICAgICAgICAgICAgICBoYXNJbXBvcnRlZEFyY2hpdmVzLFxuICAgICAgICAgICAgICAgIGhhc0V4aXN0aW5nQ29udmVyc2F0aW9ucyxcbiAgICAgICAgICAgICAgICBpc0ZyZXNoSW5zdGFsbFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpc0ZyZXNoSW5zdGFsbDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBFcnJvciBkZXRlY3RpbmcgZnJlc2ggaW5zdGFsbDpgLCBlcnJvcik7XG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBkZXRlcm1pbmUsIGFzc3VtZSBpdCdzIG5vdCBmcmVzaCAoc2FmZXIgdG8gcnVuIHVwZ3JhZGVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGNoYWluIG9mIHVwZ3JhZGVzIHRvIGV4ZWN1dGUgaW5jcmVtZW50YWxseVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0VXBncmFkZUNoYWluKGZyb21WZXJzaW9uOiBzdHJpbmcsIHRvVmVyc2lvbjogc3RyaW5nKTogVmVyc2lvblVwZ3JhZGVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZVVwZ3JhZGVzLmZpbHRlcih1cGdyYWRlID0+IFxuICAgICAgICAgICAgdXBncmFkZS5zaG91bGRSdW4oZnJvbVZlcnNpb24sIHRvVmVyc2lvbilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHVwZ3JhZGUgY2hhaW4gd2l0aCBtb2RhbCBwcm9ncmVzcyB0cmFja2luZ1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVVwZ3JhZGVDaGFpbldpdGhNb2RhbChcbiAgICAgICAgdXBncmFkZUNoYWluOiBWZXJzaW9uVXBncmFkZVtdLFxuICAgICAgICBmcm9tVmVyc2lvbjogc3RyaW5nLFxuICAgICAgICB0b1ZlcnNpb246IHN0cmluZ1xuICAgICk6IFByb21pc2U8SW5jcmVtZW50YWxVcGdyYWRlUmVzdWx0PiB7XG4gICAgICAgIFxuICAgICAgICAvLyBDb2xsZWN0IGFsbCBvcGVyYXRpb25zIGZyb20gYWxsIHVwZ3JhZGVzXG4gICAgICAgIGNvbnN0IGFsbE9wZXJhdGlvbnM6IE9wZXJhdGlvblN0YXR1c1tdID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdXBncmFkZSBvZiB1cGdyYWRlQ2hhaW4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIHVwZ3JhZGUuYXV0b21hdGljT3BlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGFsbE9wZXJhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBgJHt1cGdyYWRlLnZlcnNpb259XyR7b3BlcmF0aW9uLmlkfWAsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wZXJhdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuZCBzaG93IG1vZGFsXG4gICAgICAgIGNvbnN0IHByb2dyZXNzTW9kYWwgPSBuZXcgTXVsdGlPcGVyYXRpb25Qcm9ncmVzc01vZGFsKFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxuICAgICAgICAgICAgYFVwZ3JhZGluZyB0byB2JHt0b1ZlcnNpb259YCxcbiAgICAgICAgICAgIGFsbE9wZXJhdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgcHJvZ3Jlc3NNb2RhbC5vcGVuKCk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBsZXQgdXBncmFkZXNFeGVjdXRlZCA9IDA7XG4gICAgICAgIGxldCB1cGdyYWRlc1NraXBwZWQgPSAwO1xuICAgICAgICBsZXQgdXBncmFkZXNGYWlsZWQgPSAwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZ3JhZGUgb2YgdXBncmFkZUNoYWluKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBFeGVjdXRpbmcgdXBncmFkZSAke3VwZ3JhZGUudmVyc2lvbn0uLi5gKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgdGhpcy5jcmVhdGVVcGdyYWRlQ29udGV4dCh1cGdyYWRlLCBmcm9tVmVyc2lvbiwgdG9WZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIGF1dG9tYXRpYyBvcGVyYXRpb25zIHdpdGggcHJvZ3Jlc3MgdXBkYXRlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9tYXRpY1Jlc3VsdHMgPSBhd2FpdCB0aGlzLmV4ZWN1dGVPcGVyYXRpb25zV2l0aFByb2dyZXNzKFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlLmF1dG9tYXRpY09wZXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGUudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBBdXRvbWF0aWMgb3BlcmF0aW9ucyBmb3IgJHt1cGdyYWRlLnZlcnNpb259OmAsIGF1dG9tYXRpY1Jlc3VsdHMpO1xuXG4gICAgICAgICAgICAgICAgLy8gTWFudWFsIG9wZXJhdGlvbnMgd2lsbCBiZSBoYW5kbGVkIHNlcGFyYXRlbHkgaWYgYW55IGV4aXN0XG4gICAgICAgICAgICAgICAgY29uc3QgbWFudWFsUmVzdWx0cyA9IHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0czogW10gfTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHVwZ3JhZGUudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgYXV0b21hdGljUmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsUmVzdWx0c1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQ291bnQgYXMgc3VjY2VzcyBldmVuIGlmIHNvbWUgb3BlcmF0aW9ucyB3ZXJlIFwibm8tb3BcIiAoc21hcnQgc3VjY2VzcyBsb2dpYylcbiAgICAgICAgICAgICAgICB1cGdyYWRlc0V4ZWN1dGVkKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG92ZXJhbGxTdWNjZXNzID0gdHJ1ZTsgLy8gQWx3YXlzIHN1Y2Nlc3MgZm9yIGF1dG9tYXRpYyBvcGVyYXRpb25zXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb2dyZXNzTW9kYWwubWFya0NvbXBsZXRlKGBBbGwgb3BlcmF0aW9ucyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IWApO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgVXBncmFkZSBjb21wbGV0ZWQ6ICR7dXBncmFkZXNFeGVjdXRlZH0gdmVyc2lvbnMgcHJvY2Vzc2VkIHN1Y2Nlc3NmdWxseWApO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IG92ZXJhbGxTdWNjZXNzLFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVzRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgdXBncmFkZXNTa2lwcGVkLFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVzRmFpbGVkLFxuICAgICAgICAgICAgICAgIHJlc3VsdHNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gTW9kYWwgdXBncmFkZSBleGVjdXRpb24gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHByb2dyZXNzTW9kYWwuc2hvd0Vycm9yKGBVcGdyYWRlIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBvcGVyYXRpb25zIHdpdGggcHJvZ3Jlc3MgdXBkYXRlcyB0byBtb2RhbFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZU9wZXJhdGlvbnNXaXRoUHJvZ3Jlc3MoXG4gICAgICAgIG9wZXJhdGlvbnM6IGFueVtdLFxuICAgICAgICBjb250ZXh0OiBVcGdyYWRlQ29udGV4dCxcbiAgICAgICAgdmVyc2lvbjogc3RyaW5nLFxuICAgICAgICBwcm9ncmVzc01vZGFsOiBNdWx0aU9wZXJhdGlvblByb2dyZXNzTW9kYWxcbiAgICApOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTx7b3BlcmF0aW9uSWQ6IHN0cmluZzsgcmVzdWx0OiBhbnl9PiA9IFtdO1xuICAgICAgICBsZXQgY3JpdGljYWxGYWlsdXJlcyA9IDA7IC8vIE9ubHkgY291bnQgYWN0dWFsIGNyaXRpY2FsIGZhaWx1cmVzXG5cbiAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2Ygb3BlcmF0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbW9kYWxPcGVyYXRpb25JZCA9IGAke3ZlcnNpb259XyR7b3BlcmF0aW9uLmlkfWA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICBpZiAoYXdhaXQgdGhpcy5pc09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIHZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwudXBkYXRlT3BlcmF0aW9uKG1vZGFsT3BlcmF0aW9uSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogMTAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIkFscmVhZHkgY29tcGxldGVkXCIgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTWFyayBhcyBydW5uaW5nXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbC51cGRhdGVPcGVyYXRpb24obW9kYWxPcGVyYXRpb25JZCwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdydW5uaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNhbiBydW5cbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCBvcGVyYXRpb24uY2FuUnVuKGNvbnRleHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1QgYSBjcml0aWNhbCBmYWlsdXJlIC0ganVzdCBtZWFucyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwudXBkYXRlT3BlcmF0aW9uKG1vZGFsT3BlcmF0aW9uSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERldGFpbDogXCJOb3RoaW5nIHRvIHByb2Nlc3NcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQcmVyZXF1aXNpdGVzIG5vdCBtZXQgLSBub3RoaW5nIHRvIHByb2Nlc3NcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIG9wZXJhdGlvbiB3aXRoIHByb2dyZXNzIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVPcGVyYXRpb25XaXRoUHJvZ3Jlc3MoXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxPcGVyYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCwgcmVzdWx0IH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWFya09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIHZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc01vZGFsLnVwZGF0ZU9wZXJhdGlvbihtb2RhbE9wZXJhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDEwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNvdW50IGFzIGNyaXRpY2FsIGZhaWx1cmUgaWYgaXQncyBhY3R1YWxseSBjcml0aWNhbFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NyaXRpY2FsID0gdGhpcy5pc0NyaXRpY2FsRmFpbHVyZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDcml0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JpdGljYWxGYWlsdXJlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbC51cGRhdGVPcGVyYXRpb24obW9kYWxPcGVyYXRpb25JZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHJlc3VsdC5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyZWF0IGFzIGNvbXBsZXRlZCB3aXRoIHdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwudXBkYXRlT3BlcmF0aW9uKG1vZGFsT3BlcmF0aW9uSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERldGFpbDogXCJDb21wbGV0ZWQgd2l0aCB3YXJuaW5nc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvclJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBPcGVyYXRpb24gZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCwgcmVzdWx0OiBlcnJvclJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc01vZGFsLnVwZGF0ZU9wZXJhdGlvbihtb2RhbE9wZXJhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBTdHJpbmcoZXJyb3IpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY3JpdGljYWxGYWlsdXJlcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogY3JpdGljYWxGYWlsdXJlcyA9PT0gMCwgcmVzdWx0cyB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiBhbiBvcGVyYXRpb24gZmFpbHVyZSBpcyBjcml0aWNhbFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNDcml0aWNhbEZhaWx1cmUocmVzdWx0OiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgLy8gRm9yIG5vdywgbm8gZmFpbHVyZXMgYXJlIGNyaXRpY2FsIGZvciB1cGdyYWRlIG9wZXJhdGlvbnNcbiAgICAgICAgLy8gVGhleSdyZSBlaXRoZXIgc3VjY2Vzc2Z1bCBvciBcIm5vdGhpbmcgdG8gZG9cIlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBzaW5nbGUgb3BlcmF0aW9uIHdpdGggcHJvZ3Jlc3MgY2FsbGJhY2tzXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlT3BlcmF0aW9uV2l0aFByb2dyZXNzKFxuICAgICAgICBvcGVyYXRpb246IGFueSxcbiAgICAgICAgY29udGV4dDogVXBncmFkZUNvbnRleHQsXG4gICAgICAgIG1vZGFsT3BlcmF0aW9uSWQ6IHN0cmluZyxcbiAgICAgICAgcHJvZ3Jlc3NNb2RhbDogTXVsdGlPcGVyYXRpb25Qcm9ncmVzc01vZGFsXG4gICAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCBleGVjdXRlIHRoZSBvcGVyYXRpb24gbm9ybWFsbHlcbiAgICAgICAgLy8gSW4gdGhlIGZ1dHVyZSwgd2UgY291bGQgbW9kaWZ5IG9wZXJhdGlvbnMgdG8gYWNjZXB0IHByb2dyZXNzIGNhbGxiYWNrc1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24uZXhlY3V0ZShjb250ZXh0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXVsYXRlIHByb2dyZXNzIGZvciBkZW1vIChyZW1vdmUgdGhpcyBpbiBwcm9kdWN0aW9uKVxuICAgICAgICBjb25zdCBzdGVwcyA9IDU7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHN0ZXBzOyBpKyspIHtcbiAgICAgICAgICAgIHByb2dyZXNzTW9kYWwudXBkYXRlT3BlcmF0aW9uKG1vZGFsT3BlcmF0aW9uSWQsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdydW5uaW5nJyxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogKGkgLyBzdGVwcykgKiAxMDAsXG4gICAgICAgICAgICAgICAgY3VycmVudERldGFpbDogcmVzdWx0LmRldGFpbHM/LnByb2Nlc3NlZCA/IGBQcm9jZXNzaW5nLi4uICR7aX0vJHtzdGVwc31gIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdXBncmFkZSBjb250ZXh0XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVVcGdyYWRlQ29udGV4dChcbiAgICAgICAgdXBncmFkZTogVmVyc2lvblVwZ3JhZGUsXG4gICAgICAgIGZyb21WZXJzaW9uOiBzdHJpbmcsXG4gICAgICAgIHRvVmVyc2lvbjogc3RyaW5nXG4gICAgKTogUHJvbWlzZTxVcGdyYWRlQ29udGV4dD4ge1xuICAgICAgICBjb25zdCBwbHVnaW5EYXRhID0gYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwbHVnaW46IHRoaXMucGx1Z2luLFxuICAgICAgICAgICAgZnJvbVZlcnNpb24sXG4gICAgICAgICAgICB0b1ZlcnNpb24sXG4gICAgICAgICAgICBwbHVnaW5EYXRhXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFyayBvdmVyYWxsIHVwZ3JhZGUgYXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIG1hcmtVcGdyYWRlQ29tcGxldGUodmVyc2lvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpIHx8IHt9O1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB1cGdyYWRlIGhpc3Rvcnkgc3RydWN0dXJlIGlmIG5lZWRlZFxuICAgICAgICBpZiAoIWRhdGEudXBncmFkZUhpc3RvcnkpIHtcbiAgICAgICAgICAgIGRhdGEudXBncmFkZUhpc3RvcnkgPSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkVXBncmFkZXM6IHt9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZE9wZXJhdGlvbnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBNYXJrIHVwZ3JhZGUgYXMgY29tcGxldGVkIGluIHN0cnVjdHVyZWQgZm9ybWF0XG4gICAgICAgIGNvbnN0IHZlcnNpb25LZXkgPSB2ZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpO1xuICAgICAgICBkYXRhLnVwZ3JhZGVIaXN0b3J5LmNvbXBsZXRlZFVwZ3JhZGVzW3ZlcnNpb25LZXldID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGNvbXBsZXRlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gTGVnYWN5IGZpZWxkcyBmb3IgY29tcGF0aWJpbGl0eSAoY2FuIGJlIHJlbW92ZWQgaW4gZnV0dXJlIHZlcnNpb25zKVxuICAgICAgICBkYXRhLmxhc3RWZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgZGF0YS5oYXNDb21wbGV0ZWRVcGdyYWRlID0gdHJ1ZTtcbiAgICAgICAgZGF0YS51cGdyYWRlRGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcnNpb24gdHJhY2tpbmdcbiAgICAgICAgaWYgKFZlcnNpb25VdGlscy5jb21wYXJlVmVyc2lvbnModmVyc2lvbiwgXCIxLjEuMFwiKSA+PSAwKSB7XG4gICAgICAgICAgICBkYXRhLnZlcnNpb25UcmFja2luZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShkYXRhKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oYE1hcmtlZCBvdmVyYWxsIHVwZ3JhZGUgdG8gJHt2ZXJzaW9ufSBhcyBjb21wbGV0ZWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdXBncmFkZSBkaWFsb2cgLSBJTkZPUk1BVElPTiBPTkxZIChubyBjYW5jZWwpXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzaG93VXBncmFkZURpYWxvZyhjdXJyZW50VmVyc2lvbjogc3RyaW5nLCBsYXN0VmVyc2lvbjogc3RyaW5nLCB1cGdyYWRlQ2hhaW46IFZlcnNpb25VcGdyYWRlW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEdldCBvdmVydmlldyBjb250ZW50XG4gICAgICAgICAgICBjb25zdCBvdmVydmlldyA9IGF3YWl0IHRoaXMuZmV0Y2hSZWxlYXNlT3ZlcnZpZXcoY3VycmVudFZlcnNpb24pO1xuICAgICAgICAgICAgY29uc3QgYmFzZU1lc3NhZ2UgPSBvdmVydmlldyB8fCBgTmV4dXMgQUkgQ2hhdCBJbXBvcnRlciBoYXMgYmVlbiB1cGdyYWRlZCB0byB2ZXJzaW9uICR7Y3VycmVudFZlcnNpb259LmA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEJ1aWxkIHBhcmFncmFwaHMgYXJyYXkgd2l0aCBwcm9wZXIgc3BhY2luZ1xuICAgICAgICAgICAgY29uc3QgcGFyYWdyYXBoczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT3ZlcnZpZXcgc2VjdGlvblxuICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKGJhc2VNZXNzYWdlKTtcbiAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaCh0aGlzLmdldERvY0xpbmtzKGN1cnJlbnRWZXJzaW9uKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh1cGdyYWRlQ2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBpbmZvcm1hdGlvbiBhYm91dCBvcGVyYXRpb25zIHRoYXQgd2lsbCBydW5cbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2goXCJcIik7IC8vIEVtcHR5IHBhcmFncmFwaCBmb3Igc3BhY2luZ1xuICAgICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChcIioqVXBncmFkZSBPcGVyYXRpb25zIFJlcXVpcmVkKipcIik7XG4gICAgICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKFwiVGhlIGZvbGxvd2luZyBvcGVyYXRpb25zIHdpbGwgYmUgcGVyZm9ybWVkIGF1dG9tYXRpY2FsbHk6XCIpO1xuICAgICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChcIlwiKTsgLy8gRW1wdHkgcGFyYWdyYXBoIGZvciBzcGFjaW5nXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTGlzdCBvcGVyYXRpb25zIGZyb20gYWxsIHVwZ3JhZGVzXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uc0xpc3Q6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB1cGdyYWRlIG9mIHVwZ3JhZGVDaGFpbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiB1cGdyYWRlLmF1dG9tYXRpY09wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnNMaXN0LnB1c2goYFx1MjAyMiAqKiR7b3BlcmF0aW9uLm5hbWV9Kio6ICR7b3BlcmF0aW9uLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChvcGVyYXRpb25zTGlzdC5qb2luKCdcXG4nKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vIG9wZXJhdGlvbnMgbmVlZGVkXG4gICAgICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKFwiXCIpOyAvLyBFbXB0eSBwYXJhZ3JhcGggZm9yIHNwYWNpbmdcbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2goXCJBbGwgc3lzdGVtcyBhcmUgdXAgdG8gZGF0ZS4gTm8gb3BlcmF0aW9ucyByZXF1aXJlZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElORk9STUFUSU9OIERJQUxPRyAtIG5vIGNhbmNlbCBvcHRpb25cbiAgICAgICAgICAgIGlmICh1cGdyYWRlQ2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgdGhlIHYxLjIuMCB1cGdyYWRlIC0gdXNlIGJlYXV0aWZ1bCBtb2RhbFxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVjEyMFVwZ3JhZGUgPSB1cGdyYWRlQ2hhaW4uc29tZSh1cGdyYWRlID0+IHVwZ3JhZGUudmVyc2lvbiA9PT0gXCIxLjIuMFwiKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1YxMjBVcGdyYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBiZWF1dGlmdWwgdXBncmFkZSBtb2RhbCBmb3IgdjEuMi4wXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgTmV4dXNVcGdyYWRlTW9kYWwgfSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25zL3VwZ3JhZGUtMS4yLjBcIik7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTmV4dXNVcGdyYWRlTW9kYWwodGhpcy5wbHVnaW4uYXBwLCB0aGlzLnBsdWdpbiwgXCIxLjIuMFwiLCByZXNvbHZlKS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBzdGFuZGFyZCBkaWFsb2cgZm9yIG90aGVyIHVwZ3JhZGVzXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNob3dEaWFsb2coXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5hcHAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImluZm9ybWF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBgVXBncmFkZSB0byAke1ZlcnNpb25VdGlscy5mb3JtYXRWZXJzaW9uKGN1cnJlbnRWZXJzaW9uKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYWdyYXBocyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkU2hvd1VwZ3JhZGVXYXJuaW5nKGxhc3RWZXJzaW9uKSA/IHRoaXMuZ2V0VXBncmFkZVdhcm5pbmcoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgYnV0dG9uMTogXCJQcm9jZWVkIHdpdGggVXBncmFkZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJpZW4gXHUwMEUwIGZhaXJlXG4gICAgICAgICAgICAgICAgYXdhaXQgc2hvd0RpYWxvZyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxuICAgICAgICAgICAgICAgICAgICBcImluZm9ybWF0aW9uXCIsIFxuICAgICAgICAgICAgICAgICAgICBgVXBncmFkZSB0byAke1ZlcnNpb25VdGlscy5mb3JtYXRWZXJzaW9uKGN1cnJlbnRWZXJzaW9uKX1gLFxuICAgICAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFNob3dVcGdyYWRlV2FybmluZyhsYXN0VmVyc2lvbikgPyB0aGlzLmdldFVwZ3JhZGVXYXJuaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHsgYnV0dG9uMTogXCJHb3QgaXQhXCIgfSAgLy8gXHUyMTkwIEp1c3RlIGluZm9ybWF0aWZcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3Igc2hvd2luZyB1cGdyYWRlIGRpYWxvZzpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgVXBncmFkZWQgdG8gTmV4dXMgQUkgQ2hhdCBJbXBvcnRlciB2JHtjdXJyZW50VmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIG9wZXJhdGlvbiB3YXMgY29tcGxldGVkIHVzaW5nIG5ldyB1cGdyYWRlIGhpc3Rvcnkgc3RydWN0dXJlXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBpc09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb25JZDogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleSA9IGBvcGVyYXRpb25fJHt2ZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpfV8ke29wZXJhdGlvbklkfWA7XG4gICAgICAgIHJldHVybiBkYXRhPy51cGdyYWRlSGlzdG9yeT8uY29tcGxldGVkT3BlcmF0aW9ucz8uW29wZXJhdGlvbktleV0/LmNvbXBsZXRlZCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXJrIG9wZXJhdGlvbiBhcyBjb21wbGV0ZWQgdXNpbmcgc3RydWN0dXJlZCB1cGdyYWRlIGhpc3RvcnlcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIG1hcmtPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uSWQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpIHx8IHt9O1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB1cGdyYWRlIGhpc3Rvcnkgc3RydWN0dXJlIGlmIG5lZWRlZFxuICAgICAgICBpZiAoIWRhdGEudXBncmFkZUhpc3RvcnkpIHtcbiAgICAgICAgICAgIGRhdGEudXBncmFkZUhpc3RvcnkgPSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkVXBncmFkZXM6IHt9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZE9wZXJhdGlvbnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBNYXJrIG9wZXJhdGlvbiBhcyBjb21wbGV0ZWQgaW4gc3RydWN0dXJlZCBmb3JtYXRcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uS2V5ID0gYG9wZXJhdGlvbl8ke3ZlcnNpb24ucmVwbGFjZSgvXFwuL2csICdfJyl9XyR7b3BlcmF0aW9uSWR9YDtcbiAgICAgICAgZGF0YS51cGdyYWRlSGlzdG9yeS5jb21wbGV0ZWRPcGVyYXRpb25zW29wZXJhdGlvbktleV0gPSB7XG4gICAgICAgICAgICBvcGVyYXRpb25JZDogb3BlcmF0aW9uSWQsXG4gICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY29tcGxldGVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRGF0YShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGxvZ2dlci5pbmZvKGBNYXJrZWQgb3BlcmF0aW9uICR7b3BlcmF0aW9uSWR9ICh2JHt2ZXJzaW9ufSkgYXMgY29tcGxldGVkYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGRvY3VtZW50YXRpb24gbGlua3NcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldERvY0xpbmtzKHZlcnNpb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgKipSZXNvdXJjZXM6Kipcblx1MjAyMiBbRnVsbCBSZWxlYXNlIE5vdGVzXSgke0dJVEhVQi5SRVBPX0JBU0V9L2Jsb2IvJHt2ZXJzaW9ufS9SRUxFQVNFX05PVEVTLm1kKVxuXHUyMDIyIFtEb2N1bWVudGF0aW9uXSgke0dJVEhVQi5SRVBPX0JBU0V9L2Jsb2IvJHt2ZXJzaW9ufS9SRUFETUUubWQpYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBzaG91bGQgc2hvdyB1cGdyYWRlIHdhcm5pbmcgZm9yIHZlcnkgb2xkIHZlcnNpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSBzaG91bGRTaG93VXBncmFkZVdhcm5pbmcobGFzdFZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gVmVyc2lvblV0aWxzLmNvbXBhcmVWZXJzaW9ucyhsYXN0VmVyc2lvbiwgXCIxLjAuMlwiKSA8IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHVwZ3JhZGUgd2FybmluZyBmb3IgdmVyeSBvbGQgdmVyc2lvbnNcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFVwZ3JhZGVXYXJuaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgXHUyNkEwXHVGRTBGICoqSW1wb3J0YW50IGZvciB1c2VycyB1cGdyYWRpbmcgZnJvbSB2ZXJzaW9ucyBwcmlvciB0byB2MS4wLjI6KipcblxuVmVyc2lvbiAxLjAuMiBpbnRyb2R1Y2VkIG5ldyBtZXRhZGF0YSBwYXJhbWV0ZXJzIHJlcXVpcmVkIGZvciBjZXJ0YWluIGZlYXR1cmVzLiBGb3Igb3B0aW1hbCBwZXJmb3JtYW5jZSBhbmQgZmVhdHVyZSBjb21wYXRpYmlsaXR5LCBpdCdzIHJlY29tbWVuZGVkIHRvIGRlbGV0ZSBvbGQgZGF0YSBhbmQgcmUtaW1wb3J0IGNvbnZlcnNhdGlvbnMgd2l0aCB0aGlzIG5ldyB2ZXJzaW9uLmA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2ggcmVsZWFzZSBvdmVydmlldyBmcm9tIEdpdEh1YlxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZmV0Y2hSZWxlYXNlT3ZlcnZpZXcodmVyc2lvbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHJlcXVlc3RVcmwgfSA9IHJlcXVpcmUoXCJvYnNpZGlhblwiKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG4gICAgICAgICAgICAgICAgdXJsOiBgJHtHSVRIVUIuUkFXX0JBU0V9LyR7dmVyc2lvbn0vUkVMRUFTRV9OT1RFUy5tZGAsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG92ZXJ2aWV3UmVnZXggPSAvIyMgT3ZlcnZpZXdcXHMrKC4qPykoPz0jI3wkKS9zO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSByZXNwb25zZS50ZXh0Lm1hdGNoKG92ZXJ2aWV3UmVnZXgpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0udHJpbSgpIDogbnVsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiQ291bGQgbm90IGZldGNoIHJlbGVhc2Ugb3ZlcnZpZXc6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG1hbnVhbCBvcGVyYXRpb25zIHN0YXR1cyBmb3Igc2V0dGluZ3MgVUlcbiAgICAgKi9cbiAgICBhc3luYyBnZXRNYW51YWxPcGVyYXRpb25zRm9yU2V0dGluZ3MoKTogUHJvbWlzZTxBcnJheTx7XG4gICAgICAgIHZlcnNpb246IHN0cmluZztcbiAgICAgICAgb3BlcmF0aW9uczogQXJyYXk8e1xuICAgICAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgICAgICAgICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gICAgICAgICAgICBjYW5SdW46IGJvb2xlYW47XG4gICAgICAgIH0+O1xuICAgIH0+PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgdXBncmFkZSBvZiB0aGlzLmF2YWlsYWJsZVVwZ3JhZGVzKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgdGhpcy5jcmVhdGVVcGdyYWRlQ29udGV4dCh1cGdyYWRlLCBcIjAuMC4wXCIsIHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24pO1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uc1N0YXR1cyA9IGF3YWl0IHVwZ3JhZGUuZ2V0TWFudWFsT3BlcmF0aW9uc1N0YXR1cyhjb250ZXh0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbnNTdGF0dXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHVwZ3JhZGUudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uczogb3BlcmF0aW9uc1N0YXR1cy5tYXAoc3RhdHVzID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogc3RhdHVzLm9wZXJhdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0YXR1cy5vcGVyYXRpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdGF0dXMub3BlcmF0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkOiBzdGF0dXMuY29tcGxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUnVuOiBzdGF0dXMuY2FuUnVuXG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHNpbmdsZSBtYW51YWwgb3BlcmF0aW9uIGZyb20gc2V0dGluZ3NcbiAgICAgKi9cbiAgICBhc3luYyBleGVjdXRlTWFudWFsT3BlcmF0aW9uKHZlcnNpb246IHN0cmluZywgb3BlcmF0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8e3N1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZ30+IHtcbiAgICAgICAgY29uc3QgdXBncmFkZSA9IHRoaXMuYXZhaWxhYmxlVXBncmFkZXMuZmluZCh1ID0+IHUudmVyc2lvbiA9PT0gdmVyc2lvbik7XG4gICAgICAgIGlmICghdXBncmFkZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwiVXBncmFkZSB2ZXJzaW9uIG5vdCBmb3VuZFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgdGhpcy5jcmVhdGVVcGdyYWRlQ29udGV4dCh1cGdyYWRlLCBcIjAuMC4wXCIsIHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb24pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGdyYWRlLmV4ZWN1dGVNYW51YWxPcGVyYXRpb24ob3BlcmF0aW9uSWQsIGNvbnRleHQpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICB9XG59IiwgIi8vIHNyYy91cGdyYWRlL3V0aWxzL211bHRpLW9wZXJhdGlvbi1wcm9ncmVzcy1tb2RhbC50c1xuaW1wb3J0IHsgTW9kYWwsIEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9wZXJhdGlvblN0YXR1cyB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgc3RhdHVzOiAncGVuZGluZycgfCAncnVubmluZycgfCAnY29tcGxldGVkJyB8ICdmYWlsZWQnO1xuICAgIHByb2dyZXNzPzogbnVtYmVyOyAvLyAwLTEwMFxuICAgIGN1cnJlbnREZXRhaWw/OiBzdHJpbmc7IC8vIEN1cnJlbnQgZmlsZSBiZWluZyBwcm9jZXNzZWQsIGV0Yy5cbiAgICBlcnJvcj86IHN0cmluZzsgLy8gRXJyb3IgbWVzc2FnZSBpZiBmYWlsZWRcbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpT3BlcmF0aW9uUHJvZ3Jlc3NNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIHRpdGxlOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBvcGVyYXRpb25zOiBPcGVyYXRpb25TdGF0dXNbXTtcbiAgICBwcml2YXRlIGNhbkNsb3NlOiBib29sZWFuID0gZmFsc2U7XG4gICAgXG4gICAgcHJpdmF0ZSBtb2RhbFRpdGxlRWwhOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIG9wZXJhdGlvbnNDb250YWluZXIhOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIG92ZXJhbGxQcm9ncmVzc0VsITogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBjbG9zZUJ1dHRvbkVsPzogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgdGl0bGU6IHN0cmluZywgb3BlcmF0aW9uczogT3BlcmF0aW9uU3RhdHVzW10pIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLm9wZXJhdGlvbnMgPSBbLi4ub3BlcmF0aW9uc107IC8vIENvcHkgYXJyYXlcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJuZXh1cy1haS1jaGF0LWltcG9ydGVyLW1vZGFsXCIpO1xuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoXCJtdWx0aS1vcGVyYXRpb24tcHJvZ3Jlc3MtbW9kYWxcIik7XG5cbiAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgdGhpcy5tb2RhbFRpdGxlRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IFxuICAgICAgICAgICAgdGV4dDogdGhpcy50aXRsZSwgXG4gICAgICAgICAgICBjbHM6IFwibW9kYWwtdGl0bGVcIiBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtY29udGVudFwiIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gT3BlcmF0aW9ucyBjb250YWluZXJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zQ29udGFpbmVyID0gY29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwib3BlcmF0aW9ucy1jb250YWluZXJcIiB9KTtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDMwMHB4O1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBPdmVyYWxsIHByb2dyZXNzXG4gICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwgPSBjb250ZW50Q29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogXCJvdmVyYWxsLXByb2dyZXNzXCIgfSk7XG4gICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgYDtcblxuICAgICAgICAvLyBJbml0aWFsIHJlbmRlclxuICAgICAgICB0aGlzLnJlbmRlck9wZXJhdGlvbnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVPdmVyYWxsUHJvZ3Jlc3MoKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBjbG9zZSBiZWhhdmlvclxuICAgICAgICB0aGlzLm1vZGFsRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmICF0aGlzLmNhbkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBvcGVyYXRpb24gc3RhdHVzXG4gICAgICovXG4gICAgdXBkYXRlT3BlcmF0aW9uKG9wZXJhdGlvbklkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8T3BlcmF0aW9uU3RhdHVzPikge1xuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSB0aGlzLm9wZXJhdGlvbnMuZmluZChvcCA9PiBvcC5pZCA9PT0gb3BlcmF0aW9uSWQpO1xuICAgICAgICBpZiAob3BlcmF0aW9uKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG9wZXJhdGlvbiwgdXBkYXRlcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlck9wZXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlT3ZlcmFsbFByb2dyZXNzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXJrIGFsbCBvcGVyYXRpb25zIGFzIGNvbXBsZXRlIGFuZCBhbGxvdyBjbG9zaW5nXG4gICAgICovXG4gICAgbWFya0NvbXBsZXRlKG1lc3NhZ2U6IHN0cmluZyA9IFwiQWxsIG9wZXJhdGlvbnMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVwiKSB7XG4gICAgICAgIHRoaXMuY2FuQ2xvc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLm92ZXJhbGxQcm9ncmVzc0VsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1zdWNjZXNzKVwiO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGNsb3NlIGJ1dHRvblxuICAgICAgICBpZiAoIXRoaXMuY2xvc2VCdXR0b25FbCkge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLWJ1dHRvbi1jb250YWluZXJcIiB9KTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b25FbCA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7IFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiQ29tcGxldGVcIixcbiAgICAgICAgICAgICAgICBjbHM6IFwibW9kLWN0YVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b25FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgZXJyb3Igc3RhdGVcbiAgICAgKi9cbiAgICBzaG93RXJyb3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2FuQ2xvc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLm92ZXJhbGxQcm9ncmVzc0VsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1lcnJvcilcIjtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBjbG9zZSBidXR0b25cbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlQnV0dG9uRWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogXCJtb2RhbC1idXR0b24tY29udGFpbmVyXCIgfSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uRWwgPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkNsb3NlXCIsXG4gICAgICAgICAgICAgICAgY2xzOiBcIm1vZC13YXJuaW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGFsbCBvcGVyYXRpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSByZW5kZXJPcGVyYXRpb25zKCkge1xuICAgICAgICB0aGlzLm9wZXJhdGlvbnNDb250YWluZXIuZW1wdHkoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiB0aGlzLm9wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbkVsID0gdGhpcy5vcGVyYXRpb25zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogXCJvcGVyYXRpb24taXRlbVwiIH0pO1xuICAgICAgICAgICAgb3BlcmF0aW9uRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAvLyBTdGF0dXMgaWNvblxuICAgICAgICAgICAgY29uc3QgaWNvbkVsID0gb3BlcmF0aW9uRWwuY3JlYXRlRGl2KHsgY2xzOiBcIm9wZXJhdGlvbi1pY29uXCIgfSk7XG4gICAgICAgICAgICBpY29uRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsLnRleHRDb250ZW50ID0gJ1x1MjVDQic7XG4gICAgICAgICAgICAgICAgICAgIGljb25FbC5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3J1bm5pbmcnOlxuICAgICAgICAgICAgICAgICAgICBpY29uRWwudGV4dENvbnRlbnQgPSAnXHUyNkEwJztcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtYWNjZW50KSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgIGljb25FbC50ZXh0Q29udGVudCA9ICdcdTI3MTMnO1xuICAgICAgICAgICAgICAgICAgICBpY29uRWwuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1zdWNjZXNzKSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAgICAgICAgICAgIGljb25FbC50ZXh0Q29udGVudCA9ICdcdTI3MTcnO1xuICAgICAgICAgICAgICAgICAgICBpY29uRWwuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1lcnJvciknO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29udGVudCBjb250YWluZXJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IG9wZXJhdGlvbkVsLmNyZWF0ZURpdih7IGNsczogXCJvcGVyYXRpb24tY29udGVudFwiIH0pO1xuICAgICAgICAgICAgY29udGVudEVsLnN0eWxlLmNzc1RleHQgPSBgZmxleDogMTsgbWluLXdpZHRoOiAwO2A7XG5cbiAgICAgICAgICAgIC8vIE9wZXJhdGlvbiBuYW1lXG4gICAgICAgICAgICBjb25zdCBuYW1lRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm9wZXJhdGlvbi1uYW1lXCIgfSk7XG4gICAgICAgICAgICBuYW1lRWwudGV4dENvbnRlbnQgPSBvcGVyYXRpb24ubmFtZTtcbiAgICAgICAgICAgIG5hbWVFbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAvLyBQcm9ncmVzcyBiYXIgKGlmIG9wZXJhdGlvbiBpcyBydW5uaW5nIG9yIGhhcyBwcm9ncmVzcylcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24uc3RhdHVzID09PSAncnVubmluZycgfHwgKG9wZXJhdGlvbi5wcm9ncmVzcyAhPT0gdW5kZWZpbmVkICYmIG9wZXJhdGlvbi5wcm9ncmVzcyA+IDApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcInByb2dyZXNzLWNvbnRhaW5lclwiIH0pO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwicHJvZ3Jlc3MtYmFyXCIgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBvcGVyYXRpb24ucHJvZ3Jlc3MgfHwgMDtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAke3Byb2dyZXNzfSU7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcbiAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDdXJyZW50IGRldGFpbCAoaWYgcHJvdmlkZWQpXG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uLmN1cnJlbnREZXRhaWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxFbCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwib3BlcmF0aW9uLWRldGFpbFwiIH0pO1xuICAgICAgICAgICAgICAgIGRldGFpbEVsLnRleHRDb250ZW50ID0gdGhpcy50cnVuY2F0ZURldGFpbChvcGVyYXRpb24uY3VycmVudERldGFpbCk7XG4gICAgICAgICAgICAgICAgZGV0YWlsRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDNweDtcbiAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBFcnJvciBtZXNzYWdlIChpZiBmYWlsZWQpXG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uLnN0YXR1cyA9PT0gJ2ZhaWxlZCcgJiYgb3BlcmF0aW9uLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JFbCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwib3BlcmF0aW9uLWVycm9yXCIgfSk7XG4gICAgICAgICAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IG9wZXJhdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICBlcnJvckVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogM3B4O1xuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgb3ZlcmFsbCBwcm9ncmVzcyBkaXNwbGF5XG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVPdmVyYWxsUHJvZ3Jlc3MoKSB7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlZCA9IHRoaXMub3BlcmF0aW9ucy5maWx0ZXIob3AgPT4gb3Auc3RhdHVzID09PSAnY29tcGxldGVkJykubGVuZ3RoO1xuICAgICAgICBjb25zdCBmYWlsZWQgPSB0aGlzLm9wZXJhdGlvbnMuZmlsdGVyKG9wID0+IG9wLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWwgPSB0aGlzLm9wZXJhdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChmYWlsZWQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm92ZXJhbGxQcm9ncmVzc0VsLnRleHRDb250ZW50ID0gYFByb2dyZXNzOiAke2NvbXBsZXRlZH0vJHt0b3RhbH0gb3BlcmF0aW9ucyAoJHtmYWlsZWR9IGZhaWxlZClgO1xuICAgICAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1lcnJvcilcIjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wbGV0ZWQgPT09IHRvdGFsKSB7XG4gICAgICAgICAgICB0aGlzLm92ZXJhbGxQcm9ncmVzc0VsLnRleHRDb250ZW50ID0gYEFsbCAke3RvdGFsfSBvcGVyYXRpb25zIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgO1xuICAgICAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1zdWNjZXNzKVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IGBQcm9ncmVzczogJHtjb21wbGV0ZWR9LyR7dG90YWx9IG9wZXJhdGlvbnNgO1xuICAgICAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1ub3JtYWwpXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZSBkZXRhaWwgdGV4dCB0byBmaXQgaW4gbW9kYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIHRydW5jYXRlRGV0YWlsKGRldGFpbDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbWF4TGVuZ3RoID0gNTA7XG4gICAgICAgIGlmIChkZXRhaWwubGVuZ3RoIDw9IG1heExlbmd0aCkgcmV0dXJuIGRldGFpbDtcbiAgICAgICAgcmV0dXJuICcuLi4nICsgZGV0YWlsLnNsaWNlKC1tYXhMZW5ndGggKyAzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBjbG9zZSB0byByZXNwZWN0IGNhbkNsb3NlIGZsYWdcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuQ2xvc2UpIHtcbiAgICAgICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufSIsICIvLyBzcmMvZGlhbG9ncy9wcm92aWRlci1zZWxlY3Rpb24tZGlhbG9nLnRzXG5pbXBvcnQgeyBBcHAsIE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3Byb3ZpZGVycy9wcm92aWRlci1hZGFwdGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJJbmZvIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGZpbGVGb3JtYXRzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFByb3ZpZGVyU2VsZWN0aW9uRGlhbG9nIGV4dGVuZHMgTW9kYWwge1xuICAgIHByaXZhdGUgc2VsZWN0ZWRQcm92aWRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBvblByb3ZpZGVyU2VsZWN0ZWQ6IChwcm92aWRlcjogc3RyaW5nKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgcHJvdmlkZXJzOiBQcm92aWRlckluZm9bXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhcHA6IEFwcCwgXG4gICAgICAgIHByb3ZpZGVyUmVnaXN0cnk6IFByb3ZpZGVyUmVnaXN0cnksXG4gICAgICAgIG9uUHJvdmlkZXJTZWxlY3RlZDogKHByb3ZpZGVyOiBzdHJpbmcpID0+IHZvaWRcbiAgICApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5vblByb3ZpZGVyU2VsZWN0ZWQgPSBvblByb3ZpZGVyU2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gdGhpcy5nZXRBdmFpbGFibGVQcm92aWRlcnMocHJvdmlkZXJSZWdpc3RyeSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBdmFpbGFibGVQcm92aWRlcnMocmVnaXN0cnk6IFByb3ZpZGVyUmVnaXN0cnkpOiBQcm92aWRlckluZm9bXSB7XG4gICAgICAgIC8vIEdldCBhdmFpbGFibGUgcHJvdmlkZXJzIGZyb20gcmVnaXN0cnlcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzOiBQcm92aWRlckluZm9bXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hhdEdQVFxuICAgICAgICBpZiAocmVnaXN0cnkuZ2V0QWRhcHRlcihcImNoYXRncHRcIikpIHtcbiAgICAgICAgICAgIHByb3ZpZGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogXCJjaGF0Z3B0XCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJDaGF0R1BUXCIsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiT3BlbkFJIENoYXRHUFQgY29udmVyc2F0aW9uIGV4cG9ydHNcIixcbiAgICAgICAgICAgICAgICBmaWxlRm9ybWF0czogW1wiY29udmVyc2F0aW9ucy5qc29uIG9ubHlcIl1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbGF1ZGVcbiAgICAgICAgaWYgKHJlZ2lzdHJ5LmdldEFkYXB0ZXIoXCJjbGF1ZGVcIikpIHtcbiAgICAgICAgICAgIHByb3ZpZGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogXCJjbGF1ZGVcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkNsYXVkZVwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkFudGhyb3BpYyBDbGF1ZGUgY29udmVyc2F0aW9uIGV4cG9ydHNcIixcbiAgICAgICAgICAgICAgICBmaWxlRm9ybWF0czogW1wiY29udmVyc2F0aW9ucy5qc29uICsgdXNlcnMuanNvblwiLCBcInByb2plY3RzLmpzb24gKG9wdGlvbmFsKVwiXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwcm92aWRlcnM7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlNlbGVjdCBBcmNoaXZlIFByb3ZpZGVyXCIgfSk7XG5cbiAgICAgICAgLy8gUHJvdmlkZXIgc2VsZWN0aW9uXG4gICAgICAgIHRoaXMucHJvdmlkZXJzLmZvckVhY2gocHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKHByb3ZpZGVyLm5hbWUpXG4gICAgICAgICAgICAgICAgLnNldERlc2ModGhpcy5jcmVhdGVQcm92aWRlckRlc2NyaXB0aW9uKHByb3ZpZGVyKSlcbiAgICAgICAgICAgICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJTZWxlY3RcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRDdGEoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm92aWRlciA9IHByb3ZpZGVyLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUHJvdmlkZXJTZWxlY3RlZChwcm92aWRlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FuY2VsIGJ1dHRvblxuICAgICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBidXR0b25Db250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gXCIyMHB4XCI7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIkNhbmNlbFwiIH0pO1xuICAgICAgICBjYW5jZWxCdXR0b24uc3R5bGUubWFyZ2luUmlnaHQgPSBcIjEwcHhcIjtcbiAgICAgICAgY2FuY2VsQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm92aWRlckRlc2NyaXB0aW9uKHByb3ZpZGVyOiBQcm92aWRlckluZm8pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gcHJvdmlkZXIuZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvZGlhbG9ncy9lbmhhbmNlZC1maWxlLXNlbGVjdGlvbi1kaWFsb2cudHNcbmltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEZpbGVTZWxlY3Rpb25SZXN1bHQsIEltcG9ydE1vZGUgfSBmcm9tIFwiLi4vdHlwZXMvY29udmVyc2F0aW9uLXNlbGVjdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgRW5oYW5jZWRGaWxlU2VsZWN0aW9uRGlhbG9nIGV4dGVuZHMgTW9kYWwge1xuICAgIHByaXZhdGUgc2VsZWN0ZWRGaWxlczogRmlsZVtdID0gW107XG4gICAgcHJpdmF0ZSBpbXBvcnRNb2RlOiBJbXBvcnRNb2RlID0gJ2FsbCc7XG4gICAgcHJpdmF0ZSBwcm92aWRlcjogc3RyaW5nO1xuICAgIHByaXZhdGUgb25GaWxlU2VsZWN0aW9uQ29tcGxldGU6IChyZXN1bHQ6IEZpbGVTZWxlY3Rpb25SZXN1bHQpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBkcmFnQ291bnRlciA9IDA7XG4gICAgcHJpdmF0ZSBsYXN0SW1wb3J0TW9kZTogSW1wb3J0TW9kZSB8IG51bGwgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwcDogQXBwLFxuICAgICAgICBwcm92aWRlcjogc3RyaW5nLFxuICAgICAgICBvbkZpbGVTZWxlY3Rpb25Db21wbGV0ZTogKHJlc3VsdDogRmlsZVNlbGVjdGlvblJlc3VsdCkgPT4gdm9pZCxcbiAgICAgICAgcHJpdmF0ZSBwbHVnaW4/OiBhbnkgLy8gUGx1Z2luIGluc3RhbmNlIHRvIGFjY2VzcyBzZXR0aW5nc1xuICAgICkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIHRoaXMub25GaWxlU2VsZWN0aW9uQ29tcGxldGUgPSBvbkZpbGVTZWxlY3Rpb25Db21wbGV0ZTtcblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBpbXBvcnQgbW9kZSBiYXNlZCBvbiBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldEluaXRpYWxJbXBvcnRNb2RlKCk7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnbmV4dXMtZmlsZS1zZWxlY3Rpb24tZGlhbG9nJyk7XG5cbiAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgY29uc3QgdGl0bGUgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7IFxuICAgICAgICAgICAgdGV4dDogYEltcG9ydCAke3RoaXMucHJvdmlkZXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnByb3ZpZGVyLnNsaWNlKDEpfSBDb252ZXJzYXRpb25zYCBcbiAgICAgICAgfSk7XG4gICAgICAgIHRpdGxlLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMjBweFwiO1xuXG4gICAgICAgIC8vIEltcG9ydCBtb2RlIHNlbGVjdGlvblxuICAgICAgICB0aGlzLmNyZWF0ZUltcG9ydE1vZGVTZWN0aW9uKGNvbnRlbnRFbCk7XG5cbiAgICAgICAgLy8gRmlsZSBzZWxlY3Rpb24gYXJlYVxuICAgICAgICB0aGlzLmNyZWF0ZUZpbGVTZWxlY3Rpb25BcmVhKGNvbnRlbnRFbCk7XG5cbiAgICAgICAgLy8gU2VsZWN0ZWQgZmlsZXMgcHJldmlld1xuICAgICAgICB0aGlzLmNyZWF0ZUZpbGVQcmV2aWV3QXJlYShjb250ZW50RWwpO1xuXG4gICAgICAgIC8vIEFjdGlvbiBidXR0b25zXG4gICAgICAgIHRoaXMuY3JlYXRlQWN0aW9uQnV0dG9ucyhjb250ZW50RWwpO1xuXG4gICAgICAgIC8vIEFkZCBjdXN0b20gc3R5bGVzXG4gICAgICAgIHRoaXMuYWRkQ3VzdG9tU3R5bGVzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVJbXBvcnRNb2RlU2VjdGlvbihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdpbXBvcnQtbW9kZS1zZWN0aW9uJyk7XG4gICAgICAgIHNlY3Rpb24uc3R5bGUubWFyZ2luQm90dG9tID0gXCIyNXB4XCI7XG4gICAgICAgIHNlY3Rpb24uc3R5bGUucGFkZGluZyA9IFwiMTVweFwiO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKVwiO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiOHB4XCI7XG5cbiAgICAgICAgY29uc3Qgc2VjdGlvblRpdGxlID0gc2VjdGlvbi5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJJbXBvcnQgTW9kZVwiIH0pO1xuICAgICAgICBzZWN0aW9uVGl0bGUuc3R5bGUubWFyZ2luVG9wID0gXCIwXCI7XG4gICAgICAgIHNlY3Rpb25UaXRsZS5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjE1cHhcIjtcblxuICAgICAgICAvLyBJbXBvcnQgQWxsIG9wdGlvblxuICAgICAgICBjb25zdCBhbGxPcHRpb24gPSBzZWN0aW9uLmNyZWF0ZURpdignaW1wb3J0LW9wdGlvbicpO1xuICAgICAgICBhbGxPcHRpb24uc3R5bGUubWFyZ2luQm90dG9tID0gXCIxMHB4XCI7XG5cbiAgICAgICAgY29uc3QgYWxsUmFkaW8gPSBhbGxPcHRpb24uY3JlYXRlRWwoXCJpbnB1dFwiLCB7IHR5cGU6IFwicmFkaW9cIiB9KTtcbiAgICAgICAgYWxsUmFkaW8ubmFtZSA9IFwiaW1wb3J0TW9kZVwiO1xuICAgICAgICBhbGxSYWRpby52YWx1ZSA9IFwiYWxsXCI7XG4gICAgICAgIGFsbFJhZGlvLmNoZWNrZWQgPSB0aGlzLmltcG9ydE1vZGUgPT09ICdhbGwnO1xuICAgICAgICBhbGxSYWRpby5pZCA9IFwiaW1wb3J0LWFsbFwiO1xuICAgICAgICBhbGxSYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmltcG9ydE1vZGUgPSAnYWxsJztcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW1wb3J0TW9kZURlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFsbExhYmVsID0gYWxsT3B0aW9uLmNyZWF0ZUVsKFwibGFiZWxcIik7XG4gICAgICAgIGFsbExhYmVsLmh0bWxGb3IgPSBcImltcG9ydC1hbGxcIjtcbiAgICAgICAgYWxsTGFiZWwuc3R5bGUubWFyZ2luTGVmdCA9IFwiOHB4XCI7XG4gICAgICAgIGFsbExhYmVsLnN0eWxlLmZvbnRXZWlnaHQgPSBcIjUwMFwiO1xuICAgICAgICBhbGxMYWJlbC50ZXh0Q29udGVudCA9IFwiSW1wb3J0IEFsbCBDb252ZXJzYXRpb25zXCI7XG5cbiAgICAgICAgY29uc3QgYWxsRGVzYyA9IGFsbE9wdGlvbi5jcmVhdGVEaXYoKTtcbiAgICAgICAgYWxsRGVzYy5zdHlsZS5tYXJnaW5MZWZ0ID0gXCIyNHB4XCI7XG4gICAgICAgIGFsbERlc2Muc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgIGFsbERlc2Muc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtbXV0ZWQpXCI7XG4gICAgICAgIGFsbERlc2MudGV4dENvbnRlbnQgPSBcIkltcG9ydCBhbGwgY29udmVyc2F0aW9ucyBmcm9tIHRoZSBzZWxlY3RlZCBmaWxlcyAoZmFzdGVyKVwiO1xuXG4gICAgICAgIC8vIFNlbGVjdCBTcGVjaWZpYyBvcHRpb25cbiAgICAgICAgY29uc3Qgc2VsZWN0T3B0aW9uID0gc2VjdGlvbi5jcmVhdGVEaXYoJ2ltcG9ydC1vcHRpb24nKTtcblxuICAgICAgICBjb25zdCBzZWxlY3RSYWRpbyA9IHNlbGVjdE9wdGlvbi5jcmVhdGVFbChcImlucHV0XCIsIHsgdHlwZTogXCJyYWRpb1wiIH0pO1xuICAgICAgICBzZWxlY3RSYWRpby5uYW1lID0gXCJpbXBvcnRNb2RlXCI7XG4gICAgICAgIHNlbGVjdFJhZGlvLnZhbHVlID0gXCJzZWxlY3RpdmVcIjtcbiAgICAgICAgc2VsZWN0UmFkaW8uY2hlY2tlZCA9IHRoaXMuaW1wb3J0TW9kZSA9PT0gJ3NlbGVjdGl2ZSc7XG4gICAgICAgIHNlbGVjdFJhZGlvLmlkID0gXCJpbXBvcnQtc2VsZWN0aXZlXCI7XG4gICAgICAgIHNlbGVjdFJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW1wb3J0TW9kZSA9ICdzZWxlY3RpdmUnO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbXBvcnRNb2RlRGVzY3JpcHRpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0TGFiZWwgPSBzZWxlY3RPcHRpb24uY3JlYXRlRWwoXCJsYWJlbFwiKTtcbiAgICAgICAgc2VsZWN0TGFiZWwuaHRtbEZvciA9IFwiaW1wb3J0LXNlbGVjdGl2ZVwiO1xuICAgICAgICBzZWxlY3RMYWJlbC5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI4cHhcIjtcbiAgICAgICAgc2VsZWN0TGFiZWwuc3R5bGUuZm9udFdlaWdodCA9IFwiNTAwXCI7XG4gICAgICAgIHNlbGVjdExhYmVsLnRleHRDb250ZW50ID0gXCJTZWxlY3QgU3BlY2lmaWMgQ29udmVyc2F0aW9uc1wiO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdERlc2MgPSBzZWxlY3RPcHRpb24uY3JlYXRlRGl2KCk7XG4gICAgICAgIHNlbGVjdERlc2Muc3R5bGUubWFyZ2luTGVmdCA9IFwiMjRweFwiO1xuICAgICAgICBzZWxlY3REZXNjLnN0eWxlLmZvbnRTaXplID0gXCIwLjllbVwiO1xuICAgICAgICBzZWxlY3REZXNjLnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LW11dGVkKVwiO1xuICAgICAgICBzZWxlY3REZXNjLnRleHRDb250ZW50ID0gXCJQcmV2aWV3IGFuZCBjaG9vc2Ugd2hpY2ggY29udmVyc2F0aW9ucyB0byBpbXBvcnRcIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUZpbGVTZWxlY3Rpb25BcmVhKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2ZpbGUtc2VsZWN0aW9uLXNlY3Rpb24nKTtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjIwcHhcIjtcblxuICAgICAgICBjb25zdCBzZWN0aW9uVGl0bGUgPSBzZWN0aW9uLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIlNlbGVjdCBGaWxlc1wiIH0pO1xuICAgICAgICBzZWN0aW9uVGl0bGUuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxNXB4XCI7XG5cbiAgICAgICAgLy8gRHJvcCB6b25lXG4gICAgICAgIGNvbnN0IGRyb3Bab25lID0gc2VjdGlvbi5jcmVhdGVEaXYoJ2Ryb3Atem9uZScpO1xuICAgICAgICBkcm9wWm9uZS5zdHlsZS5ib3JkZXIgPSBcIjJweCBkYXNoZWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgIGRyb3Bab25lLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiOHB4XCI7XG4gICAgICAgIGRyb3Bab25lLnN0eWxlLnBhZGRpbmcgPSBcIjQwcHggMjBweFwiO1xuICAgICAgICBkcm9wWm9uZS5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBkcm9wWm9uZS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgZHJvcFpvbmUuc3R5bGUudHJhbnNpdGlvbiA9IFwiYWxsIDAuMnMgZWFzZVwiO1xuXG4gICAgICAgIGNvbnN0IGRyb3BJY29uID0gZHJvcFpvbmUuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIGRyb3BJY29uLnN0eWxlLmZvbnRTaXplID0gXCI0OHB4XCI7XG4gICAgICAgIGRyb3BJY29uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMTVweFwiO1xuICAgICAgICBkcm9wSWNvbi50ZXh0Q29udGVudCA9IFwiXHVEODNEXHVEQ0MxXCI7XG5cbiAgICAgICAgY29uc3QgZHJvcFRleHQgPSBkcm9wWm9uZS5jcmVhdGVFbChcImRpdlwiKTtcbiAgICAgICAgZHJvcFRleHQuc3R5bGUuZm9udFNpemUgPSBcIjE2cHhcIjtcbiAgICAgICAgZHJvcFRleHQuc3R5bGUubWFyZ2luQm90dG9tID0gXCIxMHB4XCI7XG4gICAgICAgIGRyb3BUZXh0LnRleHRDb250ZW50ID0gXCJEcm9wIFpJUCBmaWxlcyBoZXJlIG9yIGNsaWNrIHRvIGJyb3dzZVwiO1xuXG4gICAgICAgIGNvbnN0IGRyb3BTdWJ0ZXh0ID0gZHJvcFpvbmUuY3JlYXRlRWwoXCJkaXZcIik7XG4gICAgICAgIGRyb3BTdWJ0ZXh0LnN0eWxlLmZvbnRTaXplID0gXCIxNHB4XCI7XG4gICAgICAgIGRyb3BTdWJ0ZXh0LnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LW11dGVkKVwiO1xuICAgICAgICBkcm9wU3VidGV4dC50ZXh0Q29udGVudCA9IFwiU3VwcG9ydHMgbXVsdGlwbGUgZmlsZSBzZWxlY3Rpb25cIjtcblxuICAgICAgICAvLyBGaWxlIGlucHV0IChoaWRkZW4pXG4gICAgICAgIGNvbnN0IGZpbGVJbnB1dCA9IHNlY3Rpb24uY3JlYXRlRWwoXCJpbnB1dFwiLCB7IHR5cGU6IFwiZmlsZVwiIH0pO1xuICAgICAgICBmaWxlSW5wdXQuYWNjZXB0ID0gXCIuemlwXCI7XG4gICAgICAgIGZpbGVJbnB1dC5tdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIGZpbGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgICAgLy8gRXZlbnQgaGFuZGxlcnNcbiAgICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxlSW5wdXQuY2xpY2soKSk7XG4gICAgICAgIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdGhpcy5oYW5kbGVGaWxlU2VsZWN0aW9uKGUpKTtcblxuICAgICAgICAvLyBEcmFnIGFuZCBkcm9wIGhhbmRsZXJzXG4gICAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHRoaXMuaGFuZGxlRHJhZ092ZXIoZSwgZHJvcFpvbmUpKTtcbiAgICAgICAgZHJvcFpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgKGUpID0+IHRoaXMuaGFuZGxlRHJhZ0VudGVyKGUsIGRyb3Bab25lKSk7XG4gICAgICAgIGRyb3Bab25lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB0aGlzLmhhbmRsZURyYWdMZWF2ZShlLCBkcm9wWm9uZSkpO1xuICAgICAgICBkcm9wWm9uZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpID0+IHRoaXMuaGFuZGxlRHJvcChlLCBkcm9wWm9uZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRmlsZVByZXZpZXdBcmVhKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2ZpbGUtcHJldmlldy1zZWN0aW9uJyk7XG4gICAgICAgIHNlY3Rpb24uaWQgPSAnZmlsZS1wcmV2aWV3LXNlY3Rpb24nO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMjBweFwiO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgLy8gSGlkZGVuIGluaXRpYWxseVxuXG4gICAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZSA9IHNlY3Rpb24uY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiU2VsZWN0ZWQgRmlsZXNcIiB9KTtcbiAgICAgICAgc2VjdGlvblRpdGxlLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMTVweFwiO1xuXG4gICAgICAgIGNvbnN0IGZpbGVMaXN0ID0gc2VjdGlvbi5jcmVhdGVEaXYoJ2ZpbGUtbGlzdCcpO1xuICAgICAgICBmaWxlTGlzdC5pZCA9ICdmaWxlLWxpc3QnO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQWN0aW9uQnV0dG9ucyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2FjdGlvbi1idXR0b25zJyk7XG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiZmxleC1lbmRcIjtcbiAgICAgICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLmdhcCA9IFwiMTBweFwiO1xuICAgICAgICBidXR0b25Db250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gXCIyMHB4XCI7XG5cbiAgICAgICAgLy8gQ2FuY2VsIGJ1dHRvblxuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIkNhbmNlbFwiIH0pO1xuICAgICAgICBjYW5jZWxCdXR0b24uc3R5bGUucGFkZGluZyA9IFwiOHB4IDE2cHhcIjtcbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcblxuICAgICAgICAvLyBJbXBvcnQgYnV0dG9uXG4gICAgICAgIGNvbnN0IGltcG9ydEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7IHRleHQ6IFwiQ29udGludWVcIiB9KTtcbiAgICAgICAgaW1wb3J0QnV0dG9uLmlkID0gJ2ltcG9ydC1idXR0b24nO1xuICAgICAgICBpbXBvcnRCdXR0b24uc3R5bGUucGFkZGluZyA9IFwiOHB4IDE2cHhcIjtcbiAgICAgICAgaW1wb3J0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21vZC1jdGEnKTtcbiAgICAgICAgaW1wb3J0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgaW1wb3J0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oYW5kbGVJbXBvcnQoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVGaWxlU2VsZWN0aW9uKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBpZiAoaW5wdXQuZmlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlcyA9IEFycmF5LmZyb20oaW5wdXQuZmlsZXMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGaWxlUHJldmlldygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbXBvcnRCdXR0b24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRHJhZ092ZXIoZXZlbnQ6IERyYWdFdmVudCwgZHJvcFpvbmU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRyb3Bab25lLnN0eWxlLmJvcmRlckNvbG9yID0gXCJ2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpXCI7XG4gICAgICAgIGRyb3Bab25lLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlcilcIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZURyYWdFbnRlcihldmVudDogRHJhZ0V2ZW50LCBkcm9wWm9uZTogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kcmFnQ291bnRlcisrO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRHJhZ0xlYXZlKGV2ZW50OiBEcmFnRXZlbnQsIGRyb3Bab25lOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmRyYWdDb3VudGVyLS07XG4gICAgICAgIGlmICh0aGlzLmRyYWdDb3VudGVyID09PSAwKSB7XG4gICAgICAgICAgICBkcm9wWm9uZS5zdHlsZS5ib3JkZXJDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgICAgICBkcm9wWm9uZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZURyb3AoZXZlbnQ6IERyYWdFdmVudCwgZHJvcFpvbmU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZHJhZ0NvdW50ZXIgPSAwO1xuICAgICAgICBkcm9wWm9uZS5zdHlsZS5ib3JkZXJDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgIGRyb3Bab25lLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcblxuICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyPy5maWxlcykge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcykuZmlsdGVyKGZpbGUgPT4gXG4gICAgICAgICAgICAgICAgZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy56aXAnKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGVzID0gZmlsZXM7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGaWxlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW1wb3J0QnV0dG9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUZpbGVQcmV2aWV3KCkge1xuICAgICAgICBjb25zdCBwcmV2aWV3U2VjdGlvbiA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJyNmaWxlLXByZXZpZXctc2VjdGlvbicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBmaWxlTGlzdCA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJyNmaWxlLWxpc3QnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHByZXZpZXdTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBmaWxlTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmlsZXMuZm9yRWFjaCgoZmlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlSXRlbSA9IGZpbGVMaXN0LmNyZWF0ZURpdignZmlsZS1pdGVtJyk7XG4gICAgICAgICAgICAgICAgZmlsZUl0ZW0uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgIGZpbGVJdGVtLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJzcGFjZS1iZXR3ZWVuXCI7XG4gICAgICAgICAgICAgICAgZmlsZUl0ZW0uc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgZmlsZUl0ZW0uc3R5bGUucGFkZGluZyA9IFwiOHB4IDEycHhcIjtcbiAgICAgICAgICAgICAgICBmaWxlSXRlbS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcilcIjtcbiAgICAgICAgICAgICAgICBmaWxlSXRlbS5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjRweFwiO1xuICAgICAgICAgICAgICAgIGZpbGVJdGVtLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiOHB4XCI7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGZpbGVJdGVtLmNyZWF0ZURpdigpO1xuICAgICAgICAgICAgICAgIGZpbGVJbmZvLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgICAgICBmaWxlSW5mby5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZUluZm8uY3JlYXRlRWwoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIGZpbGVOYW1lLnRleHRDb250ZW50ID0gZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgIGZpbGVOYW1lLnN0eWxlLmZvbnRXZWlnaHQgPSBcIjUwMFwiO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVNpemUgPSBmaWxlSW5mby5jcmVhdGVFbChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgZmlsZVNpemUudGV4dENvbnRlbnQgPSB0aGlzLmZvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSk7XG4gICAgICAgICAgICAgICAgZmlsZVNpemUuc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgICAgICAgICAgZmlsZVNpemUuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtbXV0ZWQpXCI7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVCdXR0b24gPSBmaWxlSXRlbS5jcmVhdGVFbChcImJ1dHRvblwiLCB7IHRleHQ6IFwiUmVtb3ZlXCIgfSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQnV0dG9uLnN0eWxlLnBhZGRpbmcgPSBcIjRweCA4cHhcIjtcbiAgICAgICAgICAgICAgICByZW1vdmVCdXR0b24uc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5yZW1vdmVGaWxlKGluZGV4KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpZXdTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRmlsZShpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZpbGVQcmV2aWV3KCk7XG4gICAgICAgIHRoaXMudXBkYXRlSW1wb3J0QnV0dG9uKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVJbXBvcnRCdXR0b24oKSB7XG4gICAgICAgIGNvbnN0IGltcG9ydEJ1dHRvbiA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJyNpbXBvcnQtYnV0dG9uJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIGltcG9ydEJ1dHRvbi5kaXNhYmxlZCA9IHRoaXMuc2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVJbXBvcnRNb2RlRGVzY3JpcHRpb24oKSB7XG4gICAgICAgIC8vIENvdWxkIGFkZCBkeW5hbWljIGRlc2NyaXB0aW9uIHVwZGF0ZXMgaGVyZSBpZiBuZWVkZWRcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUltcG9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBTYXZlIGxhc3QgaW1wb3J0IG1vZGUgaWYgc2V0dGluZyBpcyBlbmFibGVkXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4/LnNldHRpbmdzPy5yZW1lbWJlckxhc3RJbXBvcnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEltcG9ydE1vZGUgPSB0aGlzLmltcG9ydE1vZGU7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogRmlsZVNlbGVjdGlvblJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBmaWxlczogdGhpcy5zZWxlY3RlZEZpbGVzLFxuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMuaW1wb3J0TW9kZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogdGhpcy5wcm92aWRlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25GaWxlU2VsZWN0aW9uQ29tcGxldGUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0SW5pdGlhbEltcG9ydE1vZGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4/LnNldHRpbmdzKSB7XG4gICAgICAgICAgICB0aGlzLmltcG9ydE1vZGUgPSAnYWxsJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVzZSByZW1lbWJlcmVkIGxhc3QgY2hvaWNlIGlmIGVuYWJsZWQsIG90aGVyd2lzZSB1c2UgZGVmYXVsdFxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVtZW1iZXJMYXN0SW1wb3J0TW9kZSAmJiB0aGlzLmxhc3RJbXBvcnRNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmltcG9ydE1vZGUgPSB0aGlzLmxhc3RJbXBvcnRNb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbXBvcnRNb2RlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEltcG9ydE1vZGUgfHwgJ2FsbCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gICAgICAgIGNvbnN0IGsgPSAxMDI0O1xuICAgICAgICBjb25zdCBzaXplcyA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InXTtcbiAgICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZEN1c3RvbVN0eWxlcygpIHtcbiAgICAgICAgLy8gQWRkIGFueSBhZGRpdGlvbmFsIGN1c3RvbSBzdHlsZXMgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXG4gICAgICAgICAgICAubmV4dXMtZmlsZS1zZWxlY3Rpb24tZGlhbG9nIC5tb2RhbC1jb250ZW50IHtcbiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm5leHVzLWZpbGUtc2VsZWN0aW9uLWRpYWxvZyAuZHJvcC16b25lOmhvdmVyIHtcbiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL2RpYWxvZ3MvY29udmVyc2F0aW9uLXNlbGVjdGlvbi1kaWFsb2cudHNcbmltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IENvbnZlcnNhdGlvbk1ldGFkYXRhLCBBbmFseXNpc0luZm8gfSBmcm9tIFwiLi4vc2VydmljZXMvY29udmVyc2F0aW9uLW1ldGFkYXRhLWV4dHJhY3RvclwiO1xuaW1wb3J0IHtcbiAgICBDb252ZXJzYXRpb25TZWxlY3Rpb25SZXN1bHQsXG4gICAgQ29udmVyc2F0aW9uU2VsZWN0aW9uU3RhdGUsXG4gICAgUGFnaW5hdGlvblNldHRpbmdzLFxuICAgIFNvcnRPcHRpb25zLFxuICAgIEZpbHRlck9wdGlvbnNcbn0gZnJvbSBcIi4uL3R5cGVzL2NvbnZlcnNhdGlvbi1zZWxlY3Rpb25cIjtcblxuZXhwb3J0IGNsYXNzIENvbnZlcnNhdGlvblNlbGVjdGlvbkRpYWxvZyBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIHN0YXRlOiBDb252ZXJzYXRpb25TZWxlY3Rpb25TdGF0ZTtcbiAgICBwcml2YXRlIG9uU2VsZWN0aW9uQ29tcGxldGU6IChyZXN1bHQ6IENvbnZlcnNhdGlvblNlbGVjdGlvblJlc3VsdCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIHBsdWdpbj86IGFueTsgLy8gUGx1Z2luIGluc3RhbmNlIHRvIGFjY2VzcyBzZXR0aW5nc1xuICAgIHByaXZhdGUgYW5hbHlzaXNJbmZvPzogQW5hbHlzaXNJbmZvOyAvLyBJbmZvcm1hdGlvbiBhYm91dCBhbmFseXNpcyBhbmQgZmlsdGVyaW5nXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsXG4gICAgICAgIGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbk1ldGFkYXRhW10sXG4gICAgICAgIG9uU2VsZWN0aW9uQ29tcGxldGU6IChyZXN1bHQ6IENvbnZlcnNhdGlvblNlbGVjdGlvblJlc3VsdCkgPT4gdm9pZCxcbiAgICAgICAgcGx1Z2luPzogYW55LFxuICAgICAgICBhbmFseXNpc0luZm8/OiBBbmFseXNpc0luZm9cbiAgICApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcbiAgICAgICAgdGhpcy5vblNlbGVjdGlvbkNvbXBsZXRlID0gb25TZWxlY3Rpb25Db21wbGV0ZTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuYW5hbHlzaXNJbmZvID0gYW5hbHlzaXNJbmZvO1xuXG4gICAgICAgIC8vIEdldCBwYWdlIHNpemUgZnJvbSBzZXR0aW5ncyBvciB1c2UgZGVmYXVsdFxuICAgICAgICBjb25zdCBwYWdlU2l6ZSA9IHBsdWdpbj8uc2V0dGluZ3M/LmNvbnZlcnNhdGlvblBhZ2VTaXplIHx8IDIwO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgc3RhdGVcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGFsbENvbnZlcnNhdGlvbnM6IGNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICBmaWx0ZXJlZENvbnZlcnNhdGlvbnM6IGNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICBzZWxlY3RlZElkczogbmV3IFNldCgpLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgIHBhZ2VTaXplLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbChjb252ZXJzYXRpb25zLmxlbmd0aCAvIHBhZ2VTaXplKSxcbiAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zOiBjb252ZXJzYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogJ3VwZGF0ZVRpbWUnLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2Rlc2MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgZXhpc3RlbmNlU3RhdHVzOiAnYWxsJyAvLyBEZWZhdWx0IHRvIHNob3cgYWxsIGNvbnZlcnNhdGlvbnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQXV0by1zZWxlY3QgYWxsIGlmIHNldHRpbmcgaXMgZW5hYmxlZFxuICAgICAgICBpZiAocGx1Z2luPy5zZXR0aW5ncz8uYXV0b1NlbGVjdEFsbE9uT3Blbikge1xuICAgICAgICAgICAgY29udmVyc2F0aW9ucy5mb3JFYWNoKGNvbnYgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHMuYWRkKGNvbnYuaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGx5RmlsdGVyc0FuZFNvcnQoKTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKCduZXh1cy1jb252ZXJzYXRpb24tc2VsZWN0aW9uLWRpYWxvZycpO1xuXG4gICAgICAgIC8vIFRpdGxlXG4gICAgICAgIGNvbnN0IHRpdGxlID0gY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIlNlbGVjdCBDb252ZXJzYXRpb25zIHRvIEltcG9ydFwiIH0pO1xuICAgICAgICB0aXRsZS5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjIwcHhcIjtcblxuICAgICAgICAvLyBTdW1tYXJ5XG4gICAgICAgIHRoaXMuY3JlYXRlU3VtbWFyeVNlY3Rpb24oY29udGVudEVsKTtcblxuICAgICAgICAvLyBDb250cm9scyAoc2VhcmNoLCBmaWx0ZXJzLCBzb3J0KVxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRyb2xzU2VjdGlvbihjb250ZW50RWwpO1xuXG4gICAgICAgIC8vIEJ1bGsgYWN0aW9uc1xuICAgICAgICB0aGlzLmNyZWF0ZUJ1bGtBY3Rpb25zU2VjdGlvbihjb250ZW50RWwpO1xuXG4gICAgICAgIC8vIENvbnZlcnNhdGlvbiBsaXN0XG4gICAgICAgIHRoaXMuY3JlYXRlQ29udmVyc2F0aW9uTGlzdFNlY3Rpb24oY29udGVudEVsKTtcblxuICAgICAgICAvLyBQYWdpbmF0aW9uXG4gICAgICAgIHRoaXMuY3JlYXRlUGFnaW5hdGlvblNlY3Rpb24oY29udGVudEVsKTtcblxuICAgICAgICAvLyBBY3Rpb24gYnV0dG9uc1xuICAgICAgICB0aGlzLmNyZWF0ZUFjdGlvbkJ1dHRvbnMoY29udGVudEVsKTtcblxuICAgICAgICAvLyBBZGQgY3VzdG9tIHN0eWxlc1xuICAgICAgICB0aGlzLmFkZEN1c3RvbVN0eWxlcygpO1xuXG4gICAgICAgIC8vIEluaXRpYWwgcmVuZGVyXG4gICAgICAgIHRoaXMucmVuZGVyQ29udmVyc2F0aW9uTGlzdCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdW1tYXJ5U2VjdGlvbihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdzdW1tYXJ5LXNlY3Rpb24nKTtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjIwcHhcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5wYWRkaW5nID0gXCIxNXB4XCI7XG4gICAgICAgIHNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSlcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjhweFwiO1xuXG4gICAgICAgIGNvbnN0IHN1bW1hcnkgPSBzZWN0aW9uLmNyZWF0ZURpdigpO1xuICAgICAgICBzdW1tYXJ5LmlkID0gJ2NvbnZlcnNhdGlvbi1zdW1tYXJ5JztcbiAgICAgICAgLy8gQ29udGVudCB3aWxsIGJlIHVwZGF0ZWQgYnkgdXBkYXRlU3VtbWFyeSgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDb250cm9sc1NlY3Rpb24oY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignY29udHJvbHMtc2VjdGlvbicpO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMjBweFwiO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5nYXAgPSBcIjE1cHhcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5mbGV4V3JhcCA9IFwid3JhcFwiO1xuXG4gICAgICAgIC8vIFNlYXJjaCBpbnB1dFxuICAgICAgICBjb25zdCBzZWFyY2hDb250YWluZXIgPSBzZWN0aW9uLmNyZWF0ZURpdigpO1xuICAgICAgICBzZWFyY2hDb250YWluZXIuc3R5bGUuZmxleCA9IFwiMVwiO1xuICAgICAgICBzZWFyY2hDb250YWluZXIuc3R5bGUubWluV2lkdGggPSBcIjIwMHB4XCI7XG5cbiAgICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzZWFyY2hDb250YWluZXIuY3JlYXRlRWwoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiIH0pO1xuICAgICAgICBzZWFyY2hJbnB1dC5wbGFjZWhvbGRlciA9IFwiU2VhcmNoIGNvbnZlcnNhdGlvbnMuLi5cIjtcbiAgICAgICAgc2VhcmNoSW5wdXQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgc2VhcmNoSW5wdXQuc3R5bGUucGFkZGluZyA9IFwiOHB4IDEycHhcIjtcbiAgICAgICAgc2VhcmNoSW5wdXQuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgIHNlYXJjaElucHV0LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNHB4XCI7XG4gICAgICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmZpbHRlci5zZWFyY2hUZXJtID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5hcHBseUZpbHRlcnNBbmRTb3J0KCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNvbnZlcnNhdGlvbkxpc3QoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNvcnQgZHJvcGRvd25cbiAgICAgICAgY29uc3Qgc29ydENvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCk7XG4gICAgICAgIGNvbnN0IHNvcnRTZWxlY3QgPSBzb3J0Q29udGFpbmVyLmNyZWF0ZUVsKFwic2VsZWN0XCIpO1xuICAgICAgICBzb3J0U2VsZWN0LnN0eWxlLnBhZGRpbmcgPSBcIjhweCAxMnB4XCI7XG4gICAgICAgIHNvcnRTZWxlY3Quc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgIHNvcnRTZWxlY3Quc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI0cHhcIjtcbiAgICAgICAgc29ydFNlbGVjdC5zdHlsZS5mb250U2l6ZSA9IFwiMTRweFwiO1xuICAgICAgICBzb3J0U2VsZWN0LnN0eWxlLmxpbmVIZWlnaHQgPSBcIjEuNFwiO1xuICAgICAgICBzb3J0U2VsZWN0LnN0eWxlLm1pbkhlaWdodCA9IFwiMzZweFwiO1xuICAgICAgICBzb3J0U2VsZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KVwiO1xuICAgICAgICBzb3J0U2VsZWN0LnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LW5vcm1hbClcIjtcblxuICAgICAgICBjb25zdCBzb3J0T3B0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgdmFsdWU6ICd1cGRhdGVUaW1lLWRlc2MnLCB0ZXh0OiAnTGFzdCBVcGRhdGVkIChOZXdlc3QpJyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ3VwZGF0ZVRpbWUtYXNjJywgdGV4dDogJ0xhc3QgVXBkYXRlZCAoT2xkZXN0KScgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdjcmVhdGVUaW1lLWRlc2MnLCB0ZXh0OiAnQ3JlYXRlZCAoTmV3ZXN0KScgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdjcmVhdGVUaW1lLWFzYycsIHRleHQ6ICdDcmVhdGVkIChPbGRlc3QpJyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ3RpdGxlLWFzYycsIHRleHQ6ICdUaXRsZSAoQS1aKScgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICd0aXRsZS1kZXNjJywgdGV4dDogJ1RpdGxlIChaLUEpJyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ21lc3NhZ2VDb3VudC1kZXNjJywgdGV4dDogJ01lc3NhZ2UgQ291bnQgKEhpZ2gpJyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ21lc3NhZ2VDb3VudC1hc2MnLCB0ZXh0OiAnTWVzc2FnZSBDb3VudCAoTG93KScgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHNvcnRPcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkVsID0gc29ydFNlbGVjdC5jcmVhdGVFbChcIm9wdGlvblwiKTtcbiAgICAgICAgICAgIG9wdGlvbkVsLnZhbHVlID0gb3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgb3B0aW9uRWwudGV4dENvbnRlbnQgPSBvcHRpb24udGV4dDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc29ydFNlbGVjdC52YWx1ZSA9IGAke3RoaXMuc3RhdGUuc29ydC5maWVsZH0tJHt0aGlzLnN0YXRlLnNvcnQuZGlyZWN0aW9ufWA7XG4gICAgICAgIHNvcnRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgW2ZpZWxkLCBkaXJlY3Rpb25dID0gdGFyZ2V0LnZhbHVlLnNwbGl0KCctJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNvcnQgPSB7XG4gICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkIGFzIFNvcnRPcHRpb25zWydmaWVsZCddLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uIGFzIFNvcnRPcHRpb25zWydkaXJlY3Rpb24nXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlGaWx0ZXJzQW5kU29ydCgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJDb252ZXJzYXRpb25MaXN0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEV4aXN0ZW5jZSBzdGF0dXMgZmlsdGVyXG4gICAgICAgIGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCk7XG4gICAgICAgIHN0YXR1c0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3AgPSBcIjEwcHhcIjtcblxuICAgICAgICBjb25zdCBzdGF0dXNMYWJlbCA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbChcImxhYmVsXCIpO1xuICAgICAgICBzdGF0dXNMYWJlbC50ZXh0Q29udGVudCA9IFwiRmlsdGVyIGJ5IHN0YXR1czogXCI7XG4gICAgICAgIHN0YXR1c0xhYmVsLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCI4cHhcIjtcbiAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUuZm9udFNpemUgPSBcIjE0cHhcIjtcblxuICAgICAgICBjb25zdCBzdGF0dXNTZWxlY3QgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoXCJzZWxlY3RcIik7XG4gICAgICAgIHN0YXR1c1NlbGVjdC5zdHlsZS5wYWRkaW5nID0gXCI4cHggMTJweFwiO1xuICAgICAgICBzdGF0dXNTZWxlY3Quc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgIHN0YXR1c1NlbGVjdC5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjRweFwiO1xuICAgICAgICBzdGF0dXNTZWxlY3Quc3R5bGUuZm9udFNpemUgPSBcIjE0cHhcIjtcbiAgICAgICAgc3RhdHVzU2VsZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KVwiO1xuICAgICAgICBzdGF0dXNTZWxlY3Quc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtbm9ybWFsKVwiO1xuXG4gICAgICAgIGNvbnN0IHN0YXR1c09wdGlvbnMgPSBbXG4gICAgICAgICAgICB7IHZhbHVlOiAnYWxsJywgdGV4dDogJ0FsbCBDb252ZXJzYXRpb25zJyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ25ldycsIHRleHQ6ICdOZXcgKE5vdCBpbiB2YXVsdCknIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAndXBkYXRlZCcsIHRleHQ6ICdVcGRhdGVkIChOZXdlciB0aGFuIHZhdWx0KScgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICd1bmNoYW5nZWQnLCB0ZXh0OiAnVW5jaGFuZ2VkIChTYW1lIGFzIHZhdWx0KScgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHN0YXR1c09wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uRWwgPSBzdGF0dXNTZWxlY3QuY3JlYXRlRWwoXCJvcHRpb25cIik7XG4gICAgICAgICAgICBvcHRpb25FbC52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbkVsLnRleHRDb250ZW50ID0gb3B0aW9uLnRleHQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YXR1c1NlbGVjdC52YWx1ZSA9IHRoaXMuc3RhdGUuZmlsdGVyLmV4aXN0ZW5jZVN0YXR1cyB8fCAnYWxsJztcbiAgICAgICAgc3RhdHVzU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZmlsdGVyLmV4aXN0ZW5jZVN0YXR1cyA9IHRhcmdldC52YWx1ZSBhcyBGaWx0ZXJPcHRpb25zWydleGlzdGVuY2VTdGF0dXMnXTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlGaWx0ZXJzQW5kU29ydCgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJDb252ZXJzYXRpb25MaXN0KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUJ1bGtBY3Rpb25zU2VjdGlvbihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KCdidWxrLWFjdGlvbnMtc2VjdGlvbicpO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMTVweFwiO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5nYXAgPSBcIjEwcHhcIjtcbiAgICAgICAgc2VjdGlvbi5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcblxuICAgICAgICAvLyBTZWxlY3QgQWxsIGJ1dHRvblxuICAgICAgICBjb25zdCBzZWxlY3RBbGxCdG4gPSBzZWN0aW9uLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJTZWxlY3QgQWxsXCIgfSk7XG4gICAgICAgIHNlbGVjdEFsbEJ0bi5zdHlsZS5wYWRkaW5nID0gXCI2cHggMTJweFwiO1xuICAgICAgICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmZpbHRlcmVkQ29udmVyc2F0aW9ucy5mb3JFYWNoKGNvbnYgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHMuYWRkKGNvbnYuaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNvbnZlcnNhdGlvbkxpc3QoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZWxlY3QgTm9uZSBidXR0b25cbiAgICAgICAgY29uc3Qgc2VsZWN0Tm9uZUJ0biA9IHNlY3Rpb24uY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIlNlbGVjdCBOb25lXCIgfSk7XG4gICAgICAgIHNlbGVjdE5vbmVCdG4uc3R5bGUucGFkZGluZyA9IFwiNnB4IDEycHhcIjtcbiAgICAgICAgc2VsZWN0Tm9uZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHMuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udmVyc2F0aW9uTGlzdCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFF1aWNrIGZpbHRlciBidXR0b25zXG4gICAgICAgIGNvbnN0IHF1aWNrRmlsdGVyc0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCk7XG4gICAgICAgIHF1aWNrRmlsdGVyc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gXCIyMHB4XCI7XG4gICAgICAgIHF1aWNrRmlsdGVyc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIHF1aWNrRmlsdGVyc0NvbnRhaW5lci5zdHlsZS5nYXAgPSBcIjhweFwiO1xuXG4gICAgICAgIGNvbnN0IHF1aWNrRmlsdGVycyA9IFtcbiAgICAgICAgICAgIHsgdGV4dDogXCJOZXcgT25seVwiLCBzdGF0dXM6ICduZXcnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHRleHQ6IFwiVXBkYXRlZCBPbmx5XCIsIHN0YXR1czogJ3VwZGF0ZWQnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHRleHQ6IFwiQWxsXCIsIHN0YXR1czogJ2FsbCcgYXMgY29uc3QgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHF1aWNrRmlsdGVycy5mb3JFYWNoKGZpbHRlciA9PiB7XG4gICAgICAgICAgICBjb25zdCBidG4gPSBxdWlja0ZpbHRlcnNDb250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBmaWx0ZXIudGV4dCB9KTtcbiAgICAgICAgICAgIGJ0bi5zdHlsZS5wYWRkaW5nID0gXCI0cHggOHB4XCI7XG4gICAgICAgICAgICBidG4uc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgICAgICBidG4uc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgICAgICBidG4uc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI0cHhcIjtcbiAgICAgICAgICAgIGJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJhY2tncm91bmQtcHJpbWFyeSlcIjtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZpbHRlci5leGlzdGVuY2VTdGF0dXMgPSBmaWx0ZXIuc3RhdHVzO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlGaWx0ZXJzQW5kU29ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udmVyc2F0aW9uTGlzdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzdGF0dXMgZHJvcGRvd24gdG8gbWF0Y2hcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNTZWxlY3QgPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbdmFsdWVdJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c1NlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNTZWxlY3QudmFsdWUgPSBmaWx0ZXIuc3RhdHVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQYWdlIHNpemUgc2VsZWN0b3JcbiAgICAgICAgY29uc3QgcGFnZVNpemVDb250YWluZXIgPSBzZWN0aW9uLmNyZWF0ZURpdigpO1xuICAgICAgICBwYWdlU2l6ZUNvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gXCJhdXRvXCI7XG4gICAgICAgIHBhZ2VTaXplQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgcGFnZVNpemVDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XG4gICAgICAgIHBhZ2VTaXplQ29udGFpbmVyLnN0eWxlLmdhcCA9IFwiOHB4XCI7XG5cbiAgICAgICAgY29uc3QgcGFnZVNpemVMYWJlbCA9IHBhZ2VTaXplQ29udGFpbmVyLmNyZWF0ZUVsKFwic3BhblwiKTtcbiAgICAgICAgcGFnZVNpemVMYWJlbC50ZXh0Q29udGVudCA9IFwiU2hvdzpcIjtcbiAgICAgICAgcGFnZVNpemVMYWJlbC5zdHlsZS5mb250U2l6ZSA9IFwiMC45ZW1cIjtcblxuICAgICAgICBjb25zdCBwYWdlU2l6ZVNlbGVjdCA9IHBhZ2VTaXplQ29udGFpbmVyLmNyZWF0ZUVsKFwic2VsZWN0XCIpO1xuICAgICAgICBwYWdlU2l6ZVNlbGVjdC5zdHlsZS5wYWRkaW5nID0gXCI0cHggOHB4XCI7XG4gICAgICAgIFsxMCwgMjAsIDUwLCAxMDBdLmZvckVhY2goc2l6ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBwYWdlU2l6ZVNlbGVjdC5jcmVhdGVFbChcIm9wdGlvblwiKTtcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHNpemUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHNpemUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChzaXplID09PSB0aGlzLnN0YXRlLnBhZ2luYXRpb24ucGFnZVNpemUpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwYWdlU2l6ZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnBhZ2luYXRpb24ucGFnZVNpemUgPSBwYXJzZUludCh0YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJDb252ZXJzYXRpb25MaXN0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQ29udmVyc2F0aW9uTGlzdFNlY3Rpb24oY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignY29udmVyc2F0aW9uLWxpc3Qtc2VjdGlvbicpO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMjBweFwiO1xuXG4gICAgICAgIC8vIFRhYmxlIGNvbnRhaW5lclxuICAgICAgICBjb25zdCB0YWJsZUNvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCd0YWJsZS1jb250YWluZXInKTtcbiAgICAgICAgdGFibGVDb250YWluZXIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgIHRhYmxlQ29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiOHB4XCI7XG4gICAgICAgIHRhYmxlQ29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblxuICAgICAgICAvLyBUYWJsZVxuICAgICAgICBjb25zdCB0YWJsZSA9IHRhYmxlQ29udGFpbmVyLmNyZWF0ZUVsKFwidGFibGVcIik7XG4gICAgICAgIHRhYmxlLmlkID0gJ2NvbnZlcnNhdGlvbi10YWJsZSc7XG4gICAgICAgIHRhYmxlLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHRhYmxlLnN0eWxlLmJvcmRlckNvbGxhcHNlID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgIC8vIFRhYmxlIGhlYWRlclxuICAgICAgICBjb25zdCB0aGVhZCA9IHRhYmxlLmNyZWF0ZUVsKFwidGhlYWRcIik7XG4gICAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHRoZWFkLmNyZWF0ZUVsKFwidHJcIik7XG4gICAgICAgIGhlYWRlclJvdy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KVwiO1xuXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBbXG4gICAgICAgICAgICB7IHRleHQ6IFwiXCIsIHdpZHRoOiBcIjQwcHhcIiB9LCAvLyBDaGVja2JveFxuICAgICAgICAgICAgeyB0ZXh0OiBcIlRpdGxlXCIsIHdpZHRoOiBcImF1dG9cIiB9LFxuICAgICAgICAgICAgeyB0ZXh0OiBcIkNyZWF0ZWRcIiwgd2lkdGg6IFwiMTIwcHhcIiB9LFxuICAgICAgICAgICAgeyB0ZXh0OiBcIlVwZGF0ZWRcIiwgd2lkdGg6IFwiMTIwcHhcIiB9LFxuICAgICAgICAgICAgeyB0ZXh0OiBcIk1lc3NhZ2VzXCIsIHdpZHRoOiBcIjgwcHhcIiB9XG4gICAgICAgIF07XG5cbiAgICAgICAgaGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aCA9IGhlYWRlclJvdy5jcmVhdGVFbChcInRoXCIpO1xuICAgICAgICAgICAgdGgudGV4dENvbnRlbnQgPSBoZWFkZXIudGV4dDtcbiAgICAgICAgICAgIHRoLnN0eWxlLnBhZGRpbmcgPSBcIjEycHggOHB4XCI7XG4gICAgICAgICAgICB0aC5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgICAgIHRoLnN0eWxlLmJvcmRlckJvdHRvbSA9IFwiMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKVwiO1xuICAgICAgICAgICAgaWYgKGhlYWRlci53aWR0aCAhPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICB0aC5zdHlsZS53aWR0aCA9IGhlYWRlci53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGFibGUgYm9keVxuICAgICAgICBjb25zdCB0Ym9keSA9IHRhYmxlLmNyZWF0ZUVsKFwidGJvZHlcIik7XG4gICAgICAgIHRib2R5LmlkID0gJ2NvbnZlcnNhdGlvbi10YWJsZS1ib2R5JztcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVBhZ2luYXRpb25TZWN0aW9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3BhZ2luYXRpb24tc2VjdGlvbicpO1xuICAgICAgICBzZWN0aW9uLmlkID0gJ3BhZ2luYXRpb24tc2VjdGlvbic7XG4gICAgICAgIHNlY3Rpb24uc3R5bGUubWFyZ2luQm90dG9tID0gXCIyMHB4XCI7XG4gICAgICAgIHNlY3Rpb24uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBzZWN0aW9uLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJzcGFjZS1iZXR3ZWVuXCI7XG4gICAgICAgIHNlY3Rpb24uc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XG5cbiAgICAgICAgLy8gUGFnZSBpbmZvXG4gICAgICAgIGNvbnN0IHBhZ2VJbmZvID0gc2VjdGlvbi5jcmVhdGVEaXYoKTtcbiAgICAgICAgcGFnZUluZm8uaWQgPSAncGFnZS1pbmZvJztcbiAgICAgICAgcGFnZUluZm8uc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgIHBhZ2VJbmZvLnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LW11dGVkKVwiO1xuXG4gICAgICAgIC8vIFBhZ2UgY29udHJvbHNcbiAgICAgICAgY29uc3QgcGFnZUNvbnRyb2xzID0gc2VjdGlvbi5jcmVhdGVEaXYoKTtcbiAgICAgICAgcGFnZUNvbnRyb2xzLmlkID0gJ3BhZ2UtY29udHJvbHMnO1xuICAgICAgICBwYWdlQ29udHJvbHMuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBwYWdlQ29udHJvbHMuc3R5bGUuZ2FwID0gXCI4cHhcIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUFjdGlvbkJ1dHRvbnMoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdhY3Rpb24tYnV0dG9ucycpO1xuICAgICAgICBidXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBidXR0b25Db250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImZsZXgtZW5kXCI7XG4gICAgICAgIGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5nYXAgPSBcIjEwcHhcIjtcbiAgICAgICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9IFwiMjBweFwiO1xuXG4gICAgICAgIC8vIENhbmNlbCBidXR0b25cbiAgICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJDYW5jZWxcIiB9KTtcbiAgICAgICAgY2FuY2VsQnV0dG9uLnN0eWxlLnBhZGRpbmcgPSBcIjhweCAxNnB4XCI7XG4gICAgICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XG5cbiAgICAgICAgLy8gSW1wb3J0IGJ1dHRvblxuICAgICAgICBjb25zdCBpbXBvcnRCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIkltcG9ydCBTZWxlY3RlZFwiIH0pO1xuICAgICAgICBpbXBvcnRCdXR0b24uaWQgPSAnaW1wb3J0LXNlbGVjdGVkLWJ1dHRvbic7XG4gICAgICAgIGltcG9ydEJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gXCI4cHggMTZweFwiO1xuICAgICAgICBpbXBvcnRCdXR0b24uY2xhc3NMaXN0LmFkZCgnbW9kLWN0YScpO1xuICAgICAgICBpbXBvcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmhhbmRsZUltcG9ydFNlbGVjdGVkKCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXBwbHlGaWx0ZXJzQW5kU29ydCgpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkID0gWy4uLnRoaXMuc3RhdGUuYWxsQ29udmVyc2F0aW9uc107XG5cbiAgICAgICAgLy8gQXBwbHkgc2VhcmNoIGZpbHRlclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maWx0ZXIuc2VhcmNoVGVybSkge1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGVybSA9IHRoaXMuc3RhdGUuZmlsdGVyLnNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGNvbnYgPT5cbiAgICAgICAgICAgICAgICBjb252LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBleGlzdGVuY2Ugc3RhdHVzIGZpbHRlclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maWx0ZXIuZXhpc3RlbmNlU3RhdHVzICYmIHRoaXMuc3RhdGUuZmlsdGVyLmV4aXN0ZW5jZVN0YXR1cyAhPT0gJ2FsbCcpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGNvbnYgPT5cbiAgICAgICAgICAgICAgICBjb252LmV4aXN0ZW5jZVN0YXR1cyA9PT0gdGhpcy5zdGF0ZS5maWx0ZXIuZXhpc3RlbmNlU3RhdHVzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgc29ydGluZ1xuICAgICAgICBmaWx0ZXJlZC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGZpZWxkLCBkaXJlY3Rpb24gfSA9IHRoaXMuc3RhdGUuc29ydDtcbiAgICAgICAgICAgIGxldCBhVmFsOiBhbnkgPSBhW2ZpZWxkXTtcbiAgICAgICAgICAgIGxldCBiVmFsOiBhbnkgPSBiW2ZpZWxkXTtcblxuICAgICAgICAgICAgaWYgKGZpZWxkID09PSAndGl0bGUnKSB7XG4gICAgICAgICAgICAgICAgYVZhbCA9IGFWYWwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBiVmFsID0gYlZhbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYVZhbCA8IGJWYWwpIHJldHVybiBkaXJlY3Rpb24gPT09ICdhc2MnID8gLTEgOiAxO1xuICAgICAgICAgICAgaWYgKGFWYWwgPiBiVmFsKSByZXR1cm4gZGlyZWN0aW9uID09PSAnYXNjJyA/IDEgOiAtMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0YXRlLmZpbHRlcmVkQ29udmVyc2F0aW9ucyA9IGZpbHRlcmVkO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVBhZ2luYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsSXRlbXMgPSB0aGlzLnN0YXRlLmZpbHRlcmVkQ29udmVyc2F0aW9ucy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWxJdGVtcyAvIHRoaXMuc3RhdGUucGFnaW5hdGlvbi5wYWdlU2l6ZSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlLnBhZ2luYXRpb24gPSB7XG4gICAgICAgICAgICAuLi50aGlzLnN0YXRlLnBhZ2luYXRpb24sXG4gICAgICAgICAgICB0b3RhbEl0ZW1zLFxuICAgICAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBNYXRoLm1pbih0aGlzLnN0YXRlLnBhZ2luYXRpb24uY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMgfHwgMSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckNvbnZlcnNhdGlvbkxpc3QoKSB7XG4gICAgICAgIGNvbnN0IHRib2R5ID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignI2NvbnZlcnNhdGlvbi10YWJsZS1ib2R5JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmICghdGJvZHkpIHJldHVybjtcblxuICAgICAgICB0Ym9keS5lbXB0eSgpO1xuXG4gICAgICAgIGNvbnN0IHsgY3VycmVudFBhZ2UsIHBhZ2VTaXplIH0gPSB0aGlzLnN0YXRlLnBhZ2luYXRpb247XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAoY3VycmVudFBhZ2UgLSAxKSAqIHBhZ2VTaXplO1xuICAgICAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBwYWdlU2l6ZTtcbiAgICAgICAgY29uc3QgcGFnZUNvbnZlcnNhdGlvbnMgPSB0aGlzLnN0YXRlLmZpbHRlcmVkQ29udmVyc2F0aW9ucy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG5cbiAgICAgICAgcGFnZUNvbnZlcnNhdGlvbnMuZm9yRWFjaChjb252ZXJzYXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoXCJ0clwiKTtcbiAgICAgICAgICAgIHJvdy5zdHlsZS5ib3JkZXJCb3R0b20gPSBcIjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcilcIjtcblxuICAgICAgICAgICAgLy8gQ2hlY2tib3ggY2VsbFxuICAgICAgICAgICAgY29uc3QgY2hlY2tib3hDZWxsID0gcm93LmNyZWF0ZUVsKFwidGRcIik7XG4gICAgICAgICAgICBjaGVja2JveENlbGwuc3R5bGUucGFkZGluZyA9IFwiOHB4XCI7XG4gICAgICAgICAgICBjaGVja2JveENlbGwuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBjaGVja2JveENlbGwuY3JlYXRlRWwoXCJpbnB1dFwiLCB7IHR5cGU6IFwiY2hlY2tib3hcIiB9KTtcbiAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkSWRzLmhhcyhjb252ZXJzYXRpb24uaWQpO1xuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHMuYWRkKGNvbnZlcnNhdGlvbi5pZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZElkcy5kZWxldGUoY29udmVyc2F0aW9uLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVGl0bGUgY2VsbCB3aXRoIHN0YXR1cyBpbmRpY2F0b3JcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlQ2VsbCA9IHJvdy5jcmVhdGVFbChcInRkXCIpO1xuICAgICAgICAgICAgdGl0bGVDZWxsLnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICAgICAgdGl0bGVDZWxsLnN0eWxlLmZvbnRXZWlnaHQgPSBcIjUwMFwiO1xuXG4gICAgICAgICAgICAvLyBBZGQgc3RhdHVzIGluZGljYXRvclxuICAgICAgICAgICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gdGhpcy5jcmVhdGVTdGF0dXNJbmRpY2F0b3IoY29udmVyc2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXNJbmRpY2F0b3IpIHtcbiAgICAgICAgICAgICAgICB0aXRsZUNlbGwuYXBwZW5kQ2hpbGQoc3RhdHVzSW5kaWNhdG9yKTtcbiAgICAgICAgICAgICAgICB0aXRsZUNlbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGl0bGVDZWxsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnZlcnNhdGlvbi50aXRsZSkpO1xuXG4gICAgICAgICAgICAvLyBBZGQgc291cmNlIGZpbGUgaW5mbyBmb3IgbXVsdGktZmlsZSBpbXBvcnRzXG4gICAgICAgICAgICBpZiAoY29udmVyc2F0aW9uLnNvdXJjZUZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VJbmZvID0gdGl0bGVDZWxsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHNvdXJjZUluZm8uc3R5bGUuZm9udFNpemUgPSBcIjAuOGVtXCI7XG4gICAgICAgICAgICAgICAgc291cmNlSW5mby5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1tdXRlZClcIjtcbiAgICAgICAgICAgICAgICBzb3VyY2VJbmZvLnN0eWxlLm1hcmdpblRvcCA9IFwiMnB4XCI7XG4gICAgICAgICAgICAgICAgc291cmNlSW5mby50ZXh0Q29udGVudCA9IGBGcm9tOiAke2NvbnZlcnNhdGlvbi5zb3VyY2VGaWxlfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZWQgY2VsbFxuICAgICAgICAgICAgY29uc3QgY3JlYXRlZENlbGwgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcbiAgICAgICAgICAgIGNyZWF0ZWRDZWxsLnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICAgICAgY3JlYXRlZENlbGwuc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgICAgICBjcmVhdGVkQ2VsbC50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0RGF0ZShjb252ZXJzYXRpb24uY3JlYXRlVGltZSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZWQgY2VsbFxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZENlbGwgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcbiAgICAgICAgICAgIHVwZGF0ZWRDZWxsLnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICAgICAgdXBkYXRlZENlbGwuc3R5bGUuZm9udFNpemUgPSBcIjAuOWVtXCI7XG4gICAgICAgICAgICB1cGRhdGVkQ2VsbC50ZXh0Q29udGVudCA9IHRoaXMuZm9ybWF0RGF0ZShjb252ZXJzYXRpb24udXBkYXRlVGltZSk7XG5cbiAgICAgICAgICAgIC8vIE1lc3NhZ2VzIGNlbGxcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzQ2VsbCA9IHJvdy5jcmVhdGVFbChcInRkXCIpO1xuICAgICAgICAgICAgbWVzc2FnZXNDZWxsLnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICAgICAgbWVzc2FnZXNDZWxsLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICBtZXNzYWdlc0NlbGwudGV4dENvbnRlbnQgPSBjb252ZXJzYXRpb24ubWVzc2FnZUNvdW50LnRvU3RyaW5nKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVuZGVyUGFnaW5hdGlvbkNvbnRyb2xzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdGF0dXNJbmRpY2F0b3IoY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb25NZXRhZGF0YSk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIGlmICghY29udmVyc2F0aW9uLmV4aXN0ZW5jZVN0YXR1cyB8fCBjb252ZXJzYXRpb24uZXhpc3RlbmNlU3RhdHVzID09PSAndW5rbm93bicpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5mb250U2l6ZSA9IFwiMC44ZW1cIjtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnBhZGRpbmcgPSBcIjJweCA2cHhcIjtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiM3B4XCI7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5mb250V2VpZ2h0ID0gXCJib2xkXCI7XG4gICAgICAgIGluZGljYXRvci5zdHlsZS5tYXJnaW5SaWdodCA9IFwiNHB4XCI7XG5cbiAgICAgICAgc3dpdGNoIChjb252ZXJzYXRpb24uZXhpc3RlbmNlU3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlICduZXcnOlxuICAgICAgICAgICAgICAgIGluZGljYXRvci50ZXh0Q29udGVudCA9IFwiTkVXXCI7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tY29sb3ItZ3JlZW4pXCI7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmNvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgICAgIGluZGljYXRvci50aXRsZSA9IFwiVGhpcyBjb252ZXJzYXRpb24gaXMgbm90IGluIHlvdXIgdmF1bHRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZWQnOlxuICAgICAgICAgICAgICAgIGluZGljYXRvci50ZXh0Q29udGVudCA9IFwiVVBEQVRFRFwiO1xuICAgICAgICAgICAgICAgIGluZGljYXRvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWNvbG9yLW9yYW5nZSlcIjtcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuY29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnRpdGxlID0gYFRoaXMgY29udmVyc2F0aW9uIGhhcyBuZXdlciBjb250ZW50IHRoYW4geW91ciB2YXVsdCAoJHt0aGlzLmZvcm1hdERhdGUoY29udmVyc2F0aW9uLmV4aXN0aW5nVXBkYXRlVGltZSB8fCAwKX0gXHUyMTkyICR7dGhpcy5mb3JtYXREYXRlKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lKX0pYDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3VuY2hhbmdlZCc6XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnRleHRDb250ZW50ID0gXCJTQU1FXCI7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpXCI7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LW11dGVkKVwiO1xuICAgICAgICAgICAgICAgIGluZGljYXRvci50aXRsZSA9IFwiVGhpcyBjb252ZXJzYXRpb24gaXMgdGhlIHNhbWUgYXMgaW4geW91ciB2YXVsdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGljYXRvcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclBhZ2luYXRpb25Db250cm9scygpIHtcbiAgICAgICAgY29uc3QgcGFnZUluZm8gPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcjcGFnZS1pbmZvJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHBhZ2VDb250cm9scyA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJyNwYWdlLWNvbnRyb2xzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBhZ2VJbmZvIHx8ICFwYWdlQ29udHJvbHMpIHJldHVybjtcblxuICAgICAgICBjb25zdCB7IGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzLCB0b3RhbEl0ZW1zLCBwYWdlU2l6ZSB9ID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuICAgICAgICBjb25zdCBzdGFydEl0ZW0gPSAoY3VycmVudFBhZ2UgLSAxKSAqIHBhZ2VTaXplICsgMTtcbiAgICAgICAgY29uc3QgZW5kSXRlbSA9IE1hdGgubWluKGN1cnJlbnRQYWdlICogcGFnZVNpemUsIHRvdGFsSXRlbXMpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBwYWdlIGluZm9cbiAgICAgICAgcGFnZUluZm8udGV4dENvbnRlbnQgPSBgU2hvd2luZyAke3N0YXJ0SXRlbX0tJHtlbmRJdGVtfSBvZiAke3RvdGFsSXRlbXN9IGNvbnZlcnNhdGlvbnNgO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBwYWdlIGNvbnRyb2xzXG4gICAgICAgIHBhZ2VDb250cm9scy5lbXB0eSgpO1xuXG4gICAgICAgIC8vIFByZXZpb3VzIGJ1dHRvblxuICAgICAgICBjb25zdCBwcmV2QnRuID0gcGFnZUNvbnRyb2xzLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJQcmV2aW91c1wiIH0pO1xuICAgICAgICBwcmV2QnRuLmRpc2FibGVkID0gY3VycmVudFBhZ2UgPD0gMTtcbiAgICAgICAgcHJldkJ0bi5zdHlsZS5wYWRkaW5nID0gXCI2cHggMTJweFwiO1xuICAgICAgICBwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZS0tO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udmVyc2F0aW9uTGlzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQYWdlIG51bWJlcnMgKHNpbXBsaWZpZWQgLSBqdXN0IHNob3cgY3VycmVudCBwYWdlKVxuICAgICAgICBjb25zdCBwYWdlU3BhbiA9IHBhZ2VDb250cm9scy5jcmVhdGVFbChcInNwYW5cIik7XG4gICAgICAgIHBhZ2VTcGFuLnRleHRDb250ZW50ID0gYFBhZ2UgJHtjdXJyZW50UGFnZX0gb2YgJHt0b3RhbFBhZ2VzfWA7XG4gICAgICAgIHBhZ2VTcGFuLnN0eWxlLnBhZGRpbmcgPSBcIjZweCAxMnB4XCI7XG5cbiAgICAgICAgLy8gTmV4dCBidXR0b25cbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IHBhZ2VDb250cm9scy5jcmVhdGVFbChcImJ1dHRvblwiLCB7IHRleHQ6IFwiTmV4dFwiIH0pO1xuICAgICAgICBuZXh0QnRuLmRpc2FibGVkID0gY3VycmVudFBhZ2UgPj0gdG90YWxQYWdlcztcbiAgICAgICAgbmV4dEJ0bi5zdHlsZS5wYWRkaW5nID0gXCI2cHggMTJweFwiO1xuICAgICAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDwgdG90YWxQYWdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSsrO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udmVyc2F0aW9uTGlzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVN1bW1hcnkoKSB7XG4gICAgICAgIGNvbnN0IHN1bW1hcnkgPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcjY29udmVyc2F0aW9uLXN1bW1hcnknKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKCFzdW1tYXJ5KSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDb3VudCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHMuc2l6ZTtcbiAgICAgICAgY29uc3QgdG90YWxDb3VudCA9IHRoaXMuc3RhdGUuZmlsdGVyZWRDb252ZXJzYXRpb25zLmxlbmd0aDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgc3RhdHVzIGNvdW50cyBmcm9tIGZpbHRlcmVkIGNvbnZlcnNhdGlvbnMgKHdoYXQncyBjdXJyZW50bHkgc2hvd24pXG4gICAgICAgIGNvbnN0IHN0YXR1c0NvdW50cyA9IHtcbiAgICAgICAgICAgIG5ldzogMCxcbiAgICAgICAgICAgIHVwZGF0ZWQ6IDAsXG4gICAgICAgICAgICB1bmNoYW5nZWQ6IDAsXG4gICAgICAgICAgICB1bmtub3duOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5maWx0ZXJlZENvbnZlcnNhdGlvbnMuZm9yRWFjaChjb252ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGNvbnYuZXhpc3RlbmNlU3RhdHVzIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgIHN0YXR1c0NvdW50c1tzdGF0dXNdKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJ1aWxkIHRoZSBjb21wcmVoZW5zaXZlIHN1bW1hcnlcbiAgICAgICAgc3VtbWFyeS5pbm5lckhUTUwgPSB0aGlzLmJ1aWxkQ29tcHJlaGVuc2l2ZVN1bW1hcnkoc2VsZWN0ZWRDb3VudCwgdG90YWxDb3VudCwgc3RhdHVzQ291bnRzKTtcblxuICAgICAgICAvLyBVcGRhdGUgaW1wb3J0IGJ1dHRvbiBzdGF0ZVxuICAgICAgICBjb25zdCBpbXBvcnRCdXR0b24gPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcjaW1wb3J0LXNlbGVjdGVkLWJ1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBpZiAoaW1wb3J0QnV0dG9uKSB7XG4gICAgICAgICAgICBpbXBvcnRCdXR0b24uZGlzYWJsZWQgPSBzZWxlY3RlZENvdW50ID09PSAwO1xuICAgICAgICAgICAgaW1wb3J0QnV0dG9uLnRleHRDb250ZW50ID0gc2VsZWN0ZWRDb3VudCA+IDAgPyBgSW1wb3J0ICR7c2VsZWN0ZWRDb3VudH0gU2VsZWN0ZWRgIDogJ0ltcG9ydCBTZWxlY3RlZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkQ29tcHJlaGVuc2l2ZVN1bW1hcnkoc2VsZWN0ZWRDb3VudDogbnVtYmVyLCB0b3RhbENvdW50OiBudW1iZXIsIHN0YXR1c0NvdW50czogYW55KTogc3RyaW5nIHtcbiAgICAgICAgLy8gTWFpbiBzZWxlY3Rpb24gaW5mb1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25JbmZvID0gYFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTJweDtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxLjFlbTtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz4ke3NlbGVjdGVkQ291bnR9PC9zdHJvbmc+IG9mIDxzdHJvbmc+JHt0b3RhbENvdW50fTwvc3Ryb25nPiBjb252ZXJzYXRpb25zIHNlbGVjdGVkIGZvciBpbXBvcnRcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgICAgIC8vIEFuYWx5c2lzIGJyZWFrZG93biAtIGNvbXByZWhlbnNpdmUgdmlld1xuICAgICAgICBsZXQgYW5hbHlzaXNCcmVha2Rvd24gPSAnJztcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzaXNJbmZvKSB7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5hbmFseXNpc0luZm87XG5cbiAgICAgICAgICAgIGFuYWx5c2lzQnJlYWtkb3duID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDsgbWFyZ2luLWJvdHRvbTogOHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogOHB4OyBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1wiPlx1RDgzRFx1RENDQSBBbmFseXNpcyBSZXN1bHRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyOyBnYXA6IDEycHg7IGZvbnQtc2l6ZTogMC45ZW07XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA4cHg7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7IGJvcmRlci1yYWRpdXM6IDRweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLWNvbG9yLWdyZWVuKTtcIj4ke2luZm8uY29udmVyc2F0aW9uc05ld308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyBmb250LXNpemU6IDAuOGVtO1wiPk5ldyBjb252ZXJzYXRpb25zPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDhweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTsgYm9yZGVyLXJhZGl1czogNHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXdlaWdodDogNjAwOyBjb2xvcjogdmFyKC0tY29sb3Itb3JhbmdlKTtcIj4ke2luZm8uY29udmVyc2F0aW9uc1VwZGF0ZWR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgZm9udC1zaXplOiAwLjhlbTtcIj5VcGRhdGVkIGNvbnZlcnNhdGlvbnM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpOyBib3JkZXItcmFkaXVzOiA0cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcIj4ke2luZm8uY29udmVyc2F0aW9uc0lnbm9yZWR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgZm9udC1zaXplOiAwLjhlbTtcIj5JZ25vcmVkICh1bmNoYW5nZWQpPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVkdXBsaWNhdGlvbiBpbmZvIChpZiBhcHBsaWNhYmxlKVxuICAgICAgICBsZXQgZGVkdXBsaWNhdGlvbkluZm8gPSAnJztcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzaXNJbmZvICYmIHRoaXMuYW5hbHlzaXNJbmZvLmR1cGxpY2F0ZXNSZW1vdmVkID4gMCkge1xuICAgICAgICAgICAgZGVkdXBsaWNhdGlvbkluZm8gPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMC44NWVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IHBhZGRpbmc6IDhweDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpOyBib3JkZXItcmFkaXVzOiA0cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgIFx1RDgzRFx1RENDQiBGb3VuZCA8c3Ryb25nPiR7dGhpcy5hbmFseXNpc0luZm8udG90YWxDb252ZXJzYXRpb25zRm91bmR9PC9zdHJvbmc+IGNvbnZlcnNhdGlvbnMgYWNyb3NzIGZpbGVzLFxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkIDxzdHJvbmc+JHt0aGlzLmFuYWx5c2lzSW5mby5kdXBsaWNhdGVzUmVtb3ZlZH08L3N0cm9uZz4gZHVwbGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgU2hvd2luZyBvbmx5IGxhdGVzdCB2ZXJzaW9ucyBhbmQgY29udmVyc2F0aW9ucyB0aGF0IG5lZWQgaW1wb3J0aW5nLlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25JbmZvICsgYW5hbHlzaXNCcmVha2Rvd24gKyBkZWR1cGxpY2F0aW9uSW5mbztcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUltcG9ydFNlbGVjdGVkKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZElkcyA9IEFycmF5LmZyb20odGhpcy5zdGF0ZS5zZWxlY3RlZElkcyk7XG4gICAgICAgIGlmIChzZWxlY3RlZElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogQ29udmVyc2F0aW9uU2VsZWN0aW9uUmVzdWx0ID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWRJZHMsXG4gICAgICAgICAgICB0b3RhbEF2YWlsYWJsZTogdGhpcy5zdGF0ZS5hbGxDb252ZXJzYXRpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIG1vZGU6ICdzZWxlY3RpdmUnXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ29tcGxldGUocmVzdWx0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdERhdGUodGltZXN0YW1wOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDApO1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZEN1c3RvbVN0eWxlcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgICAgIC5uZXh1cy1jb252ZXJzYXRpb24tc2VsZWN0aW9uLWRpYWxvZyAubW9kYWwtY29udGVudCB7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA5MDBweDtcbiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiA4MHZoO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubmV4dXMtY29udmVyc2F0aW9uLXNlbGVjdGlvbi1kaWFsb2cgdGFibGUge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubmV4dXMtY29udmVyc2F0aW9uLXNlbGVjdGlvbi1kaWFsb2cgdHI6aG92ZXIge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm5leHVzLWNvbnZlcnNhdGlvbi1zZWxlY3Rpb24tZGlhbG9nIHNlbGVjdCB7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDM2cHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWludGVyZmFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubmV4dXMtY29udmVyc2F0aW9uLXNlbGVjdGlvbi1kaWFsb2cgc2VsZWN0IG9wdGlvbiB7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufVxuIiwgIi8vIHNyYy9zZXJ2aWNlcy9jb252ZXJzYXRpb24tbWV0YWRhdGEtZXh0cmFjdG9yLnRzXG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3Byb3ZpZGVycy9wcm92aWRlci1hZGFwdGVyXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4uL3Byb3ZpZGVycy9jaGF0Z3B0L2NoYXRncHQtdHlwZXNcIjtcbmltcG9ydCB7IENsYXVkZUNvbnZlcnNhdGlvbiwgQ2xhdWRlRXhwb3J0RGF0YSB9IGZyb20gXCIuLi9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS10eXBlc1wiO1xuaW1wb3J0IHsgaXNWYWxpZE1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuLyoqXG4gKiBDb252ZXJzYXRpb24gZXhpc3RlbmNlIHN0YXR1cyBmb3IgaW1wb3J0IHByZXZpZXdcbiAqL1xuZXhwb3J0IHR5cGUgQ29udmVyc2F0aW9uRXhpc3RlbmNlU3RhdHVzID0gJ25ldycgfCAndXBkYXRlZCcgfCAndW5jaGFuZ2VkJyB8ICd1bmtub3duJztcblxuLyoqXG4gKiBBbmFseXNpcyBpbmZvcm1hdGlvbiBmb3IgdXNlciBkaXNwbGF5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW5hbHlzaXNJbmZvIHtcbiAgICB0b3RhbENvbnZlcnNhdGlvbnNGb3VuZDogbnVtYmVyO1xuICAgIHVuaXF1ZUNvbnZlcnNhdGlvbnNLZXB0OiBudW1iZXI7XG4gICAgZHVwbGljYXRlc1JlbW92ZWQ6IG51bWJlcjtcbiAgICBoYXNNdWx0aXBsZUZpbGVzOiBib29sZWFuO1xuXG4gICAgLy8gRGV0YWlsZWQgYnJlYWtkb3duIGZvciBzZWxlY3Rpb25cbiAgICBjb252ZXJzYXRpb25zTmV3OiBudW1iZXI7XG4gICAgY29udmVyc2F0aW9uc1VwZGF0ZWQ6IG51bWJlcjtcbiAgICBjb252ZXJzYXRpb25zSWdub3JlZDogbnVtYmVyOyAvLyB1bmNoYW5nZWQgY29udmVyc2F0aW9ucyBmaWx0ZXJlZCBvdXRcbn1cblxuLyoqXG4gKiBMaWdodHdlaWdodCBjb252ZXJzYXRpb24gbWV0YWRhdGEgZm9yIHByZXZpZXcgcHVycG9zZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb252ZXJzYXRpb25NZXRhZGF0YSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGNyZWF0ZVRpbWU6IG51bWJlcjsgLy8gVW5peCB0aW1lc3RhbXBcbiAgICB1cGRhdGVUaW1lOiBudW1iZXI7IC8vIFVuaXggdGltZXN0YW1wXG4gICAgbWVzc2FnZUNvdW50OiBudW1iZXI7XG4gICAgcHJvdmlkZXI6IHN0cmluZztcbiAgICBpc1N0YXJyZWQ/OiBib29sZWFuO1xuICAgIGlzQXJjaGl2ZWQ/OiBib29sZWFuO1xuXG4gICAgLy8gTXVsdGktZmlsZSBpbXBvcnQgc3VwcG9ydFxuICAgIHNvdXJjZUZpbGU/OiBzdHJpbmc7IC8vIE9yaWdpbmFsIFpJUCBmaWxlbmFtZVxuICAgIHNvdXJjZUZpbGVJbmRleD86IG51bWJlcjsgLy8gSW5kZXggaW4gZmlsZSBhcnJheSBmb3IgcHJvY2Vzc2luZyBvcmRlclxuXG4gICAgLy8gRXhpc3RlbmNlIHN0YXR1cyBmb3IgaW1wb3J0IHByZXZpZXdcbiAgICBleGlzdGVuY2VTdGF0dXM/OiBDb252ZXJzYXRpb25FeGlzdGVuY2VTdGF0dXM7XG4gICAgZXhpc3RpbmdVcGRhdGVUaW1lPzogbnVtYmVyOyAvLyBVcGRhdGUgdGltZSBvZiBleGlzdGluZyBjb252ZXJzYXRpb24gKGlmIGFueSlcbiAgICBoYXNOZXdlckNvbnRlbnQ/OiBib29sZWFuOyAvLyBUcnVlIGlmIFpJUCB2ZXJzaW9uIGlzIG5ld2VyIHRoYW4gZXhpc3Rpbmdcbn1cblxuLyoqXG4gKiBSZXN1bHQgb2YgbWV0YWRhdGEgZXh0cmFjdGlvbiB3aXRoIGFuYWx5c2lzIGluZm9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YUV4dHJhY3Rpb25SZXN1bHQge1xuICAgIGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbk1ldGFkYXRhW107XG4gICAgYW5hbHlzaXNJbmZvPzogQW5hbHlzaXNJbmZvO1xufVxuXG4vKipcbiAqIFNlcnZpY2UgZm9yIGV4dHJhY3RpbmcgY29udmVyc2F0aW9uIG1ldGFkYXRhIHdpdGhvdXQgZnVsbCBwcm9jZXNzaW5nXG4gKiBVc2VkIGZvciBjb252ZXJzYXRpb24gc2VsZWN0aW9uIHByZXZpZXdcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnZlcnNhdGlvbk1ldGFkYXRhRXh0cmFjdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb3ZpZGVyUmVnaXN0cnk6IFByb3ZpZGVyUmVnaXN0cnkpIHt9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGNvbnZlcnNhdGlvbiBtZXRhZGF0YSBmcm9tIFpJUCBmaWxlXG4gICAgICovXG4gICAgYXN5bmMgZXh0cmFjdE1ldGFkYXRhRnJvbVppcChcbiAgICAgICAgemlwOiBKU1ppcCxcbiAgICAgICAgZm9yY2VkUHJvdmlkZXI/OiBzdHJpbmcsXG4gICAgICAgIHNvdXJjZUZpbGVOYW1lPzogc3RyaW5nLFxuICAgICAgICBzb3VyY2VGaWxlSW5kZXg/OiBudW1iZXIsXG4gICAgICAgIGV4aXN0aW5nQ29udmVyc2F0aW9ucz86IE1hcDxzdHJpbmcsIGFueT5cbiAgICApOiBQcm9taXNlPENvbnZlcnNhdGlvbk1ldGFkYXRhW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgcmF3IGNvbnZlcnNhdGlvbiBkYXRhXG4gICAgICAgICAgICBjb25zdCByYXdDb252ZXJzYXRpb25zID0gYXdhaXQgdGhpcy5leHRyYWN0UmF3Q29udmVyc2F0aW9uc0Zyb21aaXAoemlwKTtcblxuICAgICAgICAgICAgaWYgKHJhd0NvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZXRlY3QgcHJvdmlkZXIgaWYgbm90IGZvcmNlZFxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBmb3JjZWRQcm92aWRlciB8fCB0aGlzLnByb3ZpZGVyUmVnaXN0cnkuZGV0ZWN0UHJvdmlkZXIocmF3Q29udmVyc2F0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChwcm92aWRlciA9PT0gJ3Vua25vd24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZGV0ZWN0IGNvbnZlcnNhdGlvbiBwcm92aWRlciBmcm9tIGRhdGEgc3RydWN0dXJlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgbWV0YWRhdGEgYmFzZWQgb24gcHJvdmlkZXJcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5leHRyYWN0TWV0YWRhdGFCeVByb3ZpZGVyKHJhd0NvbnZlcnNhdGlvbnMsIHByb3ZpZGVyKTtcblxuICAgICAgICAgICAgLy8gQWRkIHNvdXJjZSBmaWxlIGluZm9ybWF0aW9uIGFuZCBleGlzdGVuY2Ugc3RhdHVzXG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGEubWFwKGNvbnYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuaGFuY2VkOiBDb252ZXJzYXRpb25NZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY29udixcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRmlsZTogc291cmNlRmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpbGVJbmRleDogc291cmNlRmlsZUluZGV4XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGV4aXN0ZW5jZSBzdGF0dXMgaWYgZXhpc3RpbmcgY29udmVyc2F0aW9ucyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0NvbnZlcnNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBleGlzdGluZ0NvbnZlcnNhdGlvbnMuZ2V0KGNvbnYuaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkLmV4aXN0aW5nVXBkYXRlVGltZSA9IGV4aXN0aW5nLnVwZGF0ZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udi51cGRhdGVUaW1lID4gZXhpc3RpbmcudXBkYXRlVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkLmV4aXN0ZW5jZVN0YXR1cyA9ICd1cGRhdGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZC5oYXNOZXdlckNvbnRlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZC5leGlzdGVuY2VTdGF0dXMgPSAndW5jaGFuZ2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmhhbmNlZC5oYXNOZXdlckNvbnRlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkLmV4aXN0ZW5jZVN0YXR1cyA9ICduZXcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5oYW5jZWQuaGFzTmV3ZXJDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVuaGFuY2VkLmV4aXN0ZW5jZVN0YXR1cyA9ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZW5oYW5jZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGV4dHJhY3QgY29udmVyc2F0aW9uIG1ldGFkYXRhOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgcmF3IGNvbnZlcnNhdGlvbiBkYXRhIGZyb20gWklQIChwcm92aWRlci1hZ25vc3RpYylcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGV4dHJhY3RSYXdDb252ZXJzYXRpb25zRnJvbVppcCh6aXA6IEpTWmlwKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zRmlsZSA9IHppcC5maWxlKFwiY29udmVyc2F0aW9ucy5qc29uXCIpO1xuICAgICAgICBpZiAoIWNvbnZlcnNhdGlvbnNGaWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGNvbnZlcnNhdGlvbnMuanNvbiBmaWxlIGluIFpJUCBhcmNoaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0pzb24gPSBhd2FpdCBjb252ZXJzYXRpb25zRmlsZS5hc3luYyhcInN0cmluZ1wiKTtcbiAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoY29udmVyc2F0aW9uc0pzb24pO1xuXG4gICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgZGF0YSBzdHJ1Y3R1cmVzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZERhdGEpKSB7XG4gICAgICAgICAgICAvLyBEaXJlY3QgYXJyYXkgb2YgY29udmVyc2F0aW9ucyAoQ2hhdEdQVCBmb3JtYXQpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkRGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJzZWREYXRhLmNvbnZlcnNhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShwYXJzZWREYXRhLmNvbnZlcnNhdGlvbnMpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWQgc3RydWN0dXJlIChDbGF1ZGUgZm9ybWF0KVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZERhdGEuY29udmVyc2F0aW9ucztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29udmVyc2F0aW9ucy5qc29uIHN0cnVjdHVyZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgbWV0YWRhdGEgYmFzZWQgb24gZGV0ZWN0ZWQgcHJvdmlkZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGV4dHJhY3RNZXRhZGF0YUJ5UHJvdmlkZXIocmF3Q29udmVyc2F0aW9uczogYW55W10sIHByb3ZpZGVyOiBzdHJpbmcpOiBDb252ZXJzYXRpb25NZXRhZGF0YVtdIHtcbiAgICAgICAgc3dpdGNoIChwcm92aWRlcikge1xuICAgICAgICAgICAgY2FzZSAnY2hhdGdwdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFjdENoYXRHUFRNZXRhZGF0YShyYXdDb252ZXJzYXRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgJ2NsYXVkZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFjdENsYXVkZU1ldGFkYXRhKHJhd0NvbnZlcnNhdGlvbnMpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHByb3ZpZGVyOiAke3Byb3ZpZGVyfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBtZXRhZGF0YSBmcm9tIENoYXRHUFQgY29udmVyc2F0aW9uc1xuICAgICAqL1xuICAgIHByaXZhdGUgZXh0cmFjdENoYXRHUFRNZXRhZGF0YShjb252ZXJzYXRpb25zOiBDaGF0W10pOiBDb252ZXJzYXRpb25NZXRhZGF0YVtdIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbnMubWFwKGNoYXQgPT4gKHtcbiAgICAgICAgICAgIGlkOiBjaGF0LmlkIHx8IFwiXCIsXG4gICAgICAgICAgICB0aXRsZTogY2hhdC50aXRsZSB8fCBcIlVudGl0bGVkXCIsXG4gICAgICAgICAgICBjcmVhdGVUaW1lOiBjaGF0LmNyZWF0ZV90aW1lIHx8IDAsXG4gICAgICAgICAgICB1cGRhdGVUaW1lOiBjaGF0LnVwZGF0ZV90aW1lIHx8IDAsXG4gICAgICAgICAgICBtZXNzYWdlQ291bnQ6IHRoaXMuY291bnRDaGF0R1BUTWVzc2FnZXMoY2hhdCksXG4gICAgICAgICAgICBwcm92aWRlcjogXCJjaGF0Z3B0XCIsXG4gICAgICAgICAgICBpc1N0YXJyZWQ6IGNoYXQuaXNfc3RhcnJlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgIGlzQXJjaGl2ZWQ6IGNoYXQuaXNfYXJjaGl2ZWQgfHwgZmFsc2VcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgbWV0YWRhdGEgZnJvbSBDbGF1ZGUgY29udmVyc2F0aW9uc1xuICAgICAqL1xuICAgIHByaXZhdGUgZXh0cmFjdENsYXVkZU1ldGFkYXRhKGNvbnZlcnNhdGlvbnM6IENsYXVkZUNvbnZlcnNhdGlvbltdKTogQ29udmVyc2F0aW9uTWV0YWRhdGFbXSB7XG4gICAgICAgIHJldHVybiBjb252ZXJzYXRpb25zLm1hcChjaGF0ID0+ICh7XG4gICAgICAgICAgICBpZDogY2hhdC51dWlkIHx8IFwiXCIsXG4gICAgICAgICAgICB0aXRsZTogY2hhdC5uYW1lIHx8IFwiVW50aXRsZWRcIixcbiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IGNoYXQuY3JlYXRlZF9hdCA/IE1hdGguZmxvb3IobmV3IERhdGUoY2hhdC5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLyAxMDAwKSA6IDAsXG4gICAgICAgICAgICB1cGRhdGVUaW1lOiBjaGF0LnVwZGF0ZWRfYXQgPyBNYXRoLmZsb29yKG5ldyBEYXRlKGNoYXQudXBkYXRlZF9hdCkuZ2V0VGltZSgpIC8gMTAwMCkgOiAwLFxuICAgICAgICAgICAgbWVzc2FnZUNvdW50OiB0aGlzLmNvdW50Q2xhdWRlTWVzc2FnZXMoY2hhdCksXG4gICAgICAgICAgICBwcm92aWRlcjogXCJjbGF1ZGVcIixcbiAgICAgICAgICAgIGlzU3RhcnJlZDogY2hhdC5pc19zdGFycmVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgaXNBcmNoaXZlZDogZmFsc2UgLy8gQ2xhdWRlIGRvZXNuJ3QgaGF2ZSBhcmNoaXZlZCBzdGF0dXNcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvdW50IG1lc3NhZ2VzIGluIENoYXRHUFQgY29udmVyc2F0aW9uIChsaWdodHdlaWdodCB2ZXJzaW9uKVxuICAgICAqL1xuICAgIHByaXZhdGUgY291bnRDaGF0R1BUTWVzc2FnZXMoY2hhdDogQ2hhdCk6IG51bWJlciB7XG4gICAgICAgIGlmICghY2hhdC5tYXBwaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZU9iaiBvZiBPYmplY3QudmFsdWVzKGNoYXQubWFwcGluZykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlT2JqPy5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gVXNlIHNhbWUgZmlsdGVyaW5nIGxvZ2ljIGFzIENoYXRHUFRDb252ZXJ0ZXIgYnV0IHdpdGhvdXQgZnVsbCBwcm9jZXNzaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRJbmNsdWRlQ2hhdEdQVE1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvdW50IG1lc3NhZ2VzIGluIENsYXVkZSBjb252ZXJzYXRpb24gKGxpZ2h0d2VpZ2h0IHZlcnNpb24pXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb3VudENsYXVkZU1lc3NhZ2VzKGNoYXQ6IENsYXVkZUNvbnZlcnNhdGlvbik6IG51bWJlciB7XG4gICAgICAgIGlmICghY2hhdC5jaGF0X21lc3NhZ2VzIHx8ICFBcnJheS5pc0FycmF5KGNoYXQuY2hhdF9tZXNzYWdlcykpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNoYXQuY2hhdF9tZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkSW5jbHVkZUNsYXVkZU1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZ2h0d2VpZ2h0IHZlcnNpb24gb2YgQ2hhdEdQVCBtZXNzYWdlIGZpbHRlcmluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgc2hvdWxkSW5jbHVkZUNoYXRHUFRNZXNzYWdlKG1lc3NhZ2U6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgIW1lc3NhZ2UuYXV0aG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTa2lwIHN5c3RlbSBhbmQgdG9vbCBtZXNzYWdlcyAoc2FtZSBsb2dpYyBhcyBDaGF0R1BUQ29udmVydGVyKVxuICAgICAgICBpZiAobWVzc2FnZS5hdXRob3Iucm9sZSA9PT0gXCJzeXN0ZW1cIiB8fCBtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcInRvb2xcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBoaWRkZW4gbWVzc2FnZXNcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWRhdGE/LmlzX3Zpc3VhbGx5X2hpZGRlbl9mcm9tX2NvbnZlcnNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIGV4aXN0aW5nIHZhbGlkYXRpb25cbiAgICAgICAgcmV0dXJuIGlzVmFsaWRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZ2h0d2VpZ2h0IHZlcnNpb24gb2YgQ2xhdWRlIG1lc3NhZ2UgZmlsdGVyaW5nXG4gICAgICovXG4gICAgcHJpdmF0ZSBzaG91bGRJbmNsdWRlQ2xhdWRlTWVzc2FnZShtZXNzYWdlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8ICFtZXNzYWdlLnV1aWQgfHwgIW1lc3NhZ2Uuc2VuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbmNsdWRlIGJvdGggaHVtYW4gYW5kIGFzc2lzdGFudCBtZXNzYWdlc1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5zZW5kZXIgPT09ICdodW1hbicgfHwgbWVzc2FnZS5zZW5kZXIgPT09ICdhc3Npc3RhbnQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgbWV0YWRhdGEgZnJvbSBtdWx0aXBsZSBaSVAgZmlsZXMgKGZvciBtdWx0aS1maWxlIHNlbGVjdGl2ZSBpbXBvcnQpXG4gICAgICogRm9sbG93cyB0aGUgc2FtZSBsb2dpYyBhcyB0aGUgd29ya2luZyBpbXBvcnQgcHJvY2VzczpcbiAgICAgKiAxLiBQcm9jZXNzIGZpbGVzIGNocm9ub2xvZ2ljYWxseVxuICAgICAqIDIuIEJ1aWxkIG1hcCBvZiBiZXN0IHZlcnNpb25zIHBlciBjb252ZXJzYXRpb24gSURcbiAgICAgKiAzLiBDb21wYXJlIHdpdGggdmF1bHQgYW5kIGZpbHRlciBvdXQgdW5jaGFuZ2VkIGNvbnZlcnNhdGlvbnNcbiAgICAgKiA0LiBPbmx5IHJldHVybiBORVcgYW5kIFVQREFURUQgY29udmVyc2F0aW9ucyBmb3Igc2VsZWN0aW9uXG4gICAgICovXG4gICAgYXN5bmMgZXh0cmFjdE1ldGFkYXRhRnJvbU11bHRpcGxlWmlwcyhcbiAgICAgICAgZmlsZXM6IEZpbGVbXSxcbiAgICAgICAgZm9yY2VkUHJvdmlkZXI/OiBzdHJpbmcsXG4gICAgICAgIGV4aXN0aW5nQ29udmVyc2F0aW9ucz86IE1hcDxzdHJpbmcsIGFueT5cbiAgICApOiBQcm9taXNlPE1ldGFkYXRhRXh0cmFjdGlvblJlc3VsdD4ge1xuICAgICAgICAvLyBTdGVwIDE6IFByb2Nlc3MgZmlsZXMgY2hyb25vbG9naWNhbGx5IGFuZCBidWlsZCBjb252ZXJzYXRpb24gbWFwXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBDb252ZXJzYXRpb25NZXRhZGF0YT4oKTtcbiAgICAgICAgY29uc3QgYWxsQ29udmVyc2F0aW9uc0ZvdW5kOiBDb252ZXJzYXRpb25NZXRhZGF0YVtdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzW2ldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIFpJUFxuICAgICAgICAgICAgICAgIGNvbnN0IEpTWmlwID0gKGF3YWl0IGltcG9ydCgnanN6aXAnKSkuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICBjb25zdCB6aXAgPSBuZXcgSlNaaXAoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB6aXBDb250ZW50ID0gYXdhaXQgemlwLmxvYWRBc3luYyhmaWxlKTtcblxuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgbWV0YWRhdGEgV0lUSE9VVCB2YXVsdCBjb21wYXJpc29uICh3ZSdsbCBkbyB0aGF0IGxhdGVyKVxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gYXdhaXQgdGhpcy5leHRyYWN0TWV0YWRhdGFGcm9tWmlwKFxuICAgICAgICAgICAgICAgICAgICB6aXBDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBmb3JjZWRQcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQgLy8gRG9uJ3QgY29tcGFyZSB3aXRoIHZhdWx0IHlldFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBUcmFjayBhbGwgY29udmVyc2F0aW9ucyBmb3VuZCBmb3IgZGVkdXBsaWNhdGlvbiBzdGF0c1xuICAgICAgICAgICAgICAgIGFsbENvbnZlcnNhdGlvbnNGb3VuZC5wdXNoKC4uLm1ldGFkYXRhKTtcblxuICAgICAgICAgICAgICAgIC8vIFN0ZXAgMjogQnVpbGQgbWFwIG9mIGJlc3QgdmVyc2lvbnMgKHNhbWUgbG9naWMgYXMgd29ya2luZyBpbXBvcnQpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb252ZXJzYXRpb24gb2YgbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBjb252ZXJzYXRpb25NYXAuZ2V0KGNvbnZlcnNhdGlvbi5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3Qgb2NjdXJyZW5jZSBvZiB0aGlzIGNvbnZlcnNhdGlvbiBJRFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uTWFwLnNldChjb252ZXJzYXRpb24uaWQsIGNvbnZlcnNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEdXBsaWNhdGUgZm91bmQgLSBrZWVwIHRoZSBvbmUgd2l0aCBsYXRlc3QgdXBkYXRlVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lID4gZXhpc3RpbmcudXBkYXRlVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgY29udmVyc2F0aW9uIGlzIG5ld2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uTWFwLnNldChjb252ZXJzYXRpb24uaWQsIGNvbnZlcnNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lID09PSBleGlzdGluZy51cGRhdGVUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2FtZSB1cGRhdGVUaW1lIC0gcHJlZmVyIHRoZSBvbmUgZnJvbSBsYXRlciBmaWxlIChoaWdoZXIgc291cmNlRmlsZUluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGaWxlSW5kZXggPSBjb252ZXJzYXRpb24uc291cmNlRmlsZUluZGV4IHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdGaWxlSW5kZXggPSBleGlzdGluZy5zb3VyY2VGaWxlSW5kZXggfHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RmlsZUluZGV4ID4gZXhpc3RpbmdGaWxlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uTWFwLnNldChjb252ZXJzYXRpb24uaWQsIGNvbnZlcnNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZXhpc3RpbmcgaXMgbmV3ZXIgb3Igc2FtZSBhZ2UgZnJvbSBsYXRlciBmaWxlLCBrZWVwIGl0IChubyBhY3Rpb24gbmVlZGVkKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBleHRyYWN0aW5nIG1ldGFkYXRhIGZyb20gJHtmaWxlLm5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIG90aGVyIGZpbGVzIGV2ZW4gaWYgb25lIGZhaWxzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGVwIDM6IENvbXBhcmUgYmVzdCB2ZXJzaW9ucyB3aXRoIHZhdWx0IGFuZCBmaWx0ZXIgKHNhbWUgbG9naWMgYXMgd29ya2luZyBpbXBvcnQpXG4gICAgICAgIGNvbnN0IGZpbHRlclJlc3VsdCA9IHRoaXMuZmlsdGVyQ29udmVyc2F0aW9uc0ZvclNlbGVjdGlvbihcbiAgICAgICAgICAgIEFycmF5LmZyb20oY29udmVyc2F0aW9uTWFwLnZhbHVlcygpKSxcbiAgICAgICAgICAgIGV4aXN0aW5nQ29udmVyc2F0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIC8vIFN0ZXAgNDogQnVpbGQgYW5hbHlzaXMgaW5mbyB3aXRoIGRldGFpbGVkIGJyZWFrZG93blxuICAgICAgICBjb25zdCBhbmFseXNpc0luZm86IEFuYWx5c2lzSW5mbyA9IHtcbiAgICAgICAgICAgIHRvdGFsQ29udmVyc2F0aW9uc0ZvdW5kOiBhbGxDb252ZXJzYXRpb25zRm91bmQubGVuZ3RoLFxuICAgICAgICAgICAgdW5pcXVlQ29udmVyc2F0aW9uc0tlcHQ6IGNvbnZlcnNhdGlvbk1hcC5zaXplLFxuICAgICAgICAgICAgZHVwbGljYXRlc1JlbW92ZWQ6IGFsbENvbnZlcnNhdGlvbnNGb3VuZC5sZW5ndGggLSBjb252ZXJzYXRpb25NYXAuc2l6ZSxcbiAgICAgICAgICAgIGhhc011bHRpcGxlRmlsZXM6IGZpbGVzLmxlbmd0aCA+IDEsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25zTmV3OiBmaWx0ZXJSZXN1bHQubmV3Q291bnQsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25zVXBkYXRlZDogZmlsdGVyUmVzdWx0LnVwZGF0ZWRDb3VudCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbnNJZ25vcmVkOiBmaWx0ZXJSZXN1bHQuaWdub3JlZENvdW50XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTG9nIHJlc3VsdHMgZm9yIGRlYnVnZ2luZ1xuICAgICAgICBjb25zb2xlLmxvZyhgQW5hbHlzaXM6IEZvdW5kICR7YW5hbHlzaXNJbmZvLnRvdGFsQ29udmVyc2F0aW9uc0ZvdW5kfSBjb252ZXJzYXRpb25zIGFjcm9zcyAke2ZpbGVzLmxlbmd0aH0gZmlsZXMuIGAgK1xuICAgICAgICAgICAgICAgICAgIGBBZnRlciBkZWR1cGxpY2F0aW9uOiAke2FuYWx5c2lzSW5mby51bmlxdWVDb252ZXJzYXRpb25zS2VwdH0gdW5pcXVlIGNvbnZlcnNhdGlvbnMuIGAgK1xuICAgICAgICAgICAgICAgICAgIGBGb3Igc2VsZWN0aW9uOiAke2ZpbHRlclJlc3VsdC5jb252ZXJzYXRpb25zLmxlbmd0aH0gY29udmVyc2F0aW9ucyBgICtcbiAgICAgICAgICAgICAgICAgICBgKCR7YW5hbHlzaXNJbmZvLmNvbnZlcnNhdGlvbnNOZXd9IG5ldywgJHthbmFseXNpc0luZm8uY29udmVyc2F0aW9uc1VwZGF0ZWR9IHVwZGF0ZWQpLiBgICtcbiAgICAgICAgICAgICAgICAgICBgSWdub3JlZDogJHthbmFseXNpc0luZm8uY29udmVyc2F0aW9uc0lnbm9yZWR9IHVuY2hhbmdlZC5gKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udmVyc2F0aW9uczogZmlsdGVyUmVzdWx0LmNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICBhbmFseXNpc0luZm86IGFuYWx5c2lzSW5mb1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIC0gT2xkIGRlZHVwbGljYXRpb24gbWV0aG9kcywgcmVwbGFjZWQgYnkgbmV3IGNocm9ub2xvZ2ljYWwgYXBwcm9hY2hcbiAgICAgKiBLZXB0IGZvciBjb21wYXRpYmlsaXR5IGJ1dCBubyBsb25nZXIgdXNlZCBpbiB0aGUgbWFpbiBmbG93XG4gICAgICovXG4gICAgcHJpdmF0ZSBkZWR1cGxpY2F0ZUNvbnZlcnNhdGlvbnMoY29udmVyc2F0aW9uczogQ29udmVyc2F0aW9uTWV0YWRhdGFbXSk6IENvbnZlcnNhdGlvbk1ldGFkYXRhW10ge1xuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpcyBubyBsb25nZXIgdXNlZCBpbiB0aGUgbmV3IGxvZ2ljXG4gICAgICAgIHJldHVybiBjb252ZXJzYXRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlciBjb252ZXJzYXRpb25zIGZvciBzZWxlY3Rpb24gZGlhbG9nIChzYW1lIGxvZ2ljIGFzIHdvcmtpbmcgaW1wb3J0IHByb2Nlc3MpXG4gICAgICogT25seSByZXR1cm5zIE5FVyBhbmQgVVBEQVRFRCBjb252ZXJzYXRpb25zIC0gZmlsdGVycyBvdXQgVU5DSEFOR0VEIGNvbXBsZXRlbHlcbiAgICAgKi9cbiAgICBwcml2YXRlIGZpbHRlckNvbnZlcnNhdGlvbnNGb3JTZWxlY3Rpb24oXG4gICAgICAgIGJlc3RWZXJzaW9uczogQ29udmVyc2F0aW9uTWV0YWRhdGFbXSxcbiAgICAgICAgZXhpc3RpbmdDb252ZXJzYXRpb25zPzogTWFwPHN0cmluZywgYW55PlxuICAgICk6IHsgY29udmVyc2F0aW9uczogQ29udmVyc2F0aW9uTWV0YWRhdGFbXSwgbmV3Q291bnQ6IG51bWJlciwgdXBkYXRlZENvdW50OiBudW1iZXIsIGlnbm9yZWRDb3VudDogbnVtYmVyIH0ge1xuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zRm9yU2VsZWN0aW9uOiBDb252ZXJzYXRpb25NZXRhZGF0YVtdID0gW107XG4gICAgICAgIGxldCBuZXdDb3VudCA9IDA7XG4gICAgICAgIGxldCB1cGRhdGVkQ291bnQgPSAwO1xuICAgICAgICBsZXQgaWdub3JlZENvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbnZlcnNhdGlvbiBvZiBiZXN0VmVyc2lvbnMpIHtcbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdDb252ZXJzYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gdmF1bHQgZGF0YSAtIG1hcmsgYWxsIGFzIG5ld1xuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbi5leGlzdGVuY2VTdGF0dXMgPSAnbmV3JztcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24uaGFzTmV3ZXJDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25zRm9yU2VsZWN0aW9uLnB1c2goY29udmVyc2F0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdDb3VudCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2YXVsdENvbnZlcnNhdGlvbiA9IGV4aXN0aW5nQ29udmVyc2F0aW9ucy5nZXQoY29udmVyc2F0aW9uLmlkKTtcblxuICAgICAgICAgICAgaWYgKCF2YXVsdENvbnZlcnNhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFNpIGFic2VudGUgZHUgdmF1bHQgXHUyMTkyIE5FVyAodG91am91cnMgcHJvcG9zZXIpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQwRCBUSU1FU1RBTVAgQ09NUEFSSVNPTiAtIE5FVzpgLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBjb252ZXJzYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBjb252ZXJzYXRpb24udGl0bGUuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nLFxuICAgICAgICAgICAgICAgICAgICB6aXBVcGRhdGVUaW1lOiBjb252ZXJzYXRpb24udXBkYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgdmF1bHRVcGRhdGVUaW1lOiAnTi9BIChub3QgaW4gdmF1bHQpJyxcbiAgICAgICAgICAgICAgICAgICAgemlwRGF0ZTogbmV3IERhdGUoY29udmVyc2F0aW9uLnVwZGF0ZVRpbWUgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogY29udmVyc2F0aW9uLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ291bnQ6IGNvbnZlcnNhdGlvbi5tZXNzYWdlQ291bnRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbi5leGlzdGVuY2VTdGF0dXMgPSAnbmV3JztcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24uaGFzTmV3ZXJDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25zRm9yU2VsZWN0aW9uLnB1c2goY29udmVyc2F0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdDb3VudCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTaSBwclx1MDBFOXNlbnRlIGRhbnMgbGUgdmF1bHQgXHUyMTkyIGNvbXBhcmVyIHVwZGF0ZVRpbWVcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24uZXhpc3RpbmdVcGRhdGVUaW1lID0gdmF1bHRDb252ZXJzYXRpb24udXBkYXRlVGltZTtcblxuICAgICAgICAgICAgICAgIGlmIChjb252ZXJzYXRpb24udXBkYXRlVGltZSA+IHZhdWx0Q29udmVyc2F0aW9uLnVwZGF0ZVRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWklQIHBsdXMgclx1MDBFOWNlbnQgcXVlIHZhdWx0IFx1MjE5MiBVUERBVEVEIChwcm9wb3NlcilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFx1RDgzRFx1REQwRCBUSU1FU1RBTVAgQ09NUEFSSVNPTiAtIFVQREFURUQ6YCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGNvbnZlcnNhdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBjb252ZXJzYXRpb24udGl0bGUuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgemlwVXBkYXRlVGltZTogY29udmVyc2F0aW9uLnVwZGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXVsdFVwZGF0ZVRpbWU6IHZhdWx0Q29udmVyc2F0aW9uLnVwZGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlOiBjb252ZXJzYXRpb24udXBkYXRlVGltZSAtIHZhdWx0Q29udmVyc2F0aW9uLnVwZGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB6aXBEYXRlOiBuZXcgRGF0ZShjb252ZXJzYXRpb24udXBkYXRlVGltZSAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXVsdERhdGU6IG5ldyBEYXRlKHZhdWx0Q29udmVyc2F0aW9uLnVwZGF0ZVRpbWUgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IGNvbnZlcnNhdGlvbi5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDb3VudDogY29udmVyc2F0aW9uLm1lc3NhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhdWx0UGF0aDogdmF1bHRDb252ZXJzYXRpb24ucGF0aFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24uZXhpc3RlbmNlU3RhdHVzID0gJ3VwZGF0ZWQnO1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24uaGFzTmV3ZXJDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uc0ZvclNlbGVjdGlvbi5wdXNoKGNvbnZlcnNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDb3VudCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFpJUCBpZGVudGlxdWUgb3UgcGx1cyBhbmNpZW4gcXVlIHZhdWx0IFx1MjE5MiBVTkNIQU5HRUQgKElHTk9SRVIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBcdUQ4M0RcdUREMEQgVElNRVNUQU1QIENPTVBBUklTT04gLSBJR05PUkVEOmAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBjb252ZXJzYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogY29udmVyc2F0aW9uLnRpdGxlLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHppcFVwZGF0ZVRpbWU6IGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmF1bHRVcGRhdGVUaW1lOiB2YXVsdENvbnZlcnNhdGlvbi51cGRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmVyZW5jZTogY29udmVyc2F0aW9uLnVwZGF0ZVRpbWUgLSB2YXVsdENvbnZlcnNhdGlvbi51cGRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgemlwRGF0ZTogbmV3IERhdGUoY29udmVyc2F0aW9uLnVwZGF0ZVRpbWUgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmF1bHREYXRlOiBuZXcgRGF0ZSh2YXVsdENvbnZlcnNhdGlvbi51cGRhdGVUaW1lICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBjb252ZXJzYXRpb24ucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ291bnQ6IGNvbnZlcnNhdGlvbi5tZXNzYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXVsdFBhdGg6IHZhdWx0Q29udmVyc2F0aW9uLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTmUgcGFzIGFqb3V0ZXIgXHUwMEUwIGNvbnZlcnNhdGlvbnNGb3JTZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2V0dGUgY29udmVyc2F0aW9uIG5lIHNlcmEgcGFzIHByb3Bvc1x1MDBFOWUgZGFucyBsYSBzXHUwMEU5bGVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZ25vcmVkQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udmVyc2F0aW9uczogY29udmVyc2F0aW9uc0ZvclNlbGVjdGlvbixcbiAgICAgICAgICAgIG5ld0NvdW50LFxuICAgICAgICAgICAgdXBkYXRlZENvdW50LFxuICAgICAgICAgICAgaWdub3JlZENvdW50XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgLSBPbGQgZGVkdXBsaWNhdGlvbiBsb2dpYywgcmVwbGFjZWQgYnkgbmV3IGNocm9ub2xvZ2ljYWwgYXBwcm9hY2hcbiAgICAgKi9cbiAgICBwcml2YXRlIGVuc3VyZUNvcnJlY3RFeGlzdGVuY2VTdGF0dXMoXG4gICAgICAgIGtlcHRDb252ZXJzYXRpb246IENvbnZlcnNhdGlvbk1ldGFkYXRhLFxuICAgICAgICBjdXJyZW50Q29udmVyc2F0aW9uOiBDb252ZXJzYXRpb25NZXRhZGF0YSxcbiAgICAgICAgZXhpc3RpbmdDb252ZXJzYXRpb246IENvbnZlcnNhdGlvbk1ldGFkYXRhXG4gICAgKTogQ29udmVyc2F0aW9uTWV0YWRhdGEge1xuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpcyBubyBsb25nZXIgdXNlZCBpbiB0aGUgbmV3IGxvZ2ljXG4gICAgICAgIHJldHVybiBrZXB0Q29udmVyc2F0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0b3RhbCBjb252ZXJzYXRpb24gY291bnQgZnJvbSBaSVAgd2l0aG91dCBleHRyYWN0aW5nIGFsbCBtZXRhZGF0YVxuICAgICAqL1xuICAgIGFzeW5jIGdldENvbnZlcnNhdGlvbkNvdW50KHppcDogSlNaaXApOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmF3Q29udmVyc2F0aW9ucyA9IGF3YWl0IHRoaXMuZXh0cmFjdFJhd0NvbnZlcnNhdGlvbnNGcm9tWmlwKHppcCk7XG4gICAgICAgICAgICByZXR1cm4gcmF3Q29udmVyc2F0aW9ucy5sZW5ndGg7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSxrREFBQUEsU0FBQTtBQVlBLEtBQUMsU0FBUyxHQUFFO0FBQUMsVUFBRyxZQUFVLE9BQU8sV0FBUyxlQUFhLE9BQU9BO0FBQU8sUUFBQUEsUUFBTyxVQUFRLEVBQUU7QUFBQSxlQUFVLGNBQVksT0FBTyxVQUFRLE9BQU87QUFBSSxlQUFPLENBQUMsR0FBRSxDQUFDO0FBQUEsV0FBTTtBQUFDLFNBQUMsZUFBYSxPQUFPLFNBQU8sU0FBTyxlQUFhLE9BQU8sU0FBTyxTQUFPLGVBQWEsT0FBTyxPQUFLLE9BQUssTUFBTSxRQUFNLEVBQUU7QUFBQSxNQUFDO0FBQUEsSUFBQyxFQUFFLFdBQVU7QUFBQyxhQUFPLFNBQVMsRUFBRSxHQUFFLEdBQUUsR0FBRTtBQUFDLGlCQUFTLEVBQUUsR0FBRUMsSUFBRTtBQUFDLGNBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRTtBQUFDLGdCQUFHLENBQUMsRUFBRSxDQUFDLEdBQUU7QUFBQyxrQkFBSSxJQUFFLGNBQVksT0FBTyxXQUFTO0FBQVEsa0JBQUcsQ0FBQ0EsTUFBRztBQUFFLHVCQUFPLEVBQUUsR0FBRSxJQUFFO0FBQUUsa0JBQUc7QUFBRSx1QkFBTyxFQUFFLEdBQUUsSUFBRTtBQUFFLGtCQUFJLElBQUUsSUFB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R0EsR0FBRSxPQUFPLE9BQUssSUFBRSxNQUFJQSxHQUFFLE9BQU8sT0FBSyxJQUFFLE1BQUlBLEdBQUUsT0FBTyxRQUFNLElBQUUsTUFBSUEsR0FBRSxPQUFPLE9BQUssSUFBRSxNQUFJQSxHQUFFLE9BQU8sVUFBUSxLQUFHLEVBQUUsR0FBRSxFQUFFQSxJQUFFLE1BQUlBLEdBQUUsT0FBTyxJQUFJLEdBQUUsRUFBRUEsSUFBRUEsR0FBRSxPQUFPLFFBQU0sSUFBRSxHQUFHLEdBQUUsRUFBRUEsSUFBRUEsR0FBRSxPQUFPLFFBQU0sS0FBRyxHQUFHLEdBQUUsRUFBRUEsSUFBRUEsR0FBRSxPQUFPLFFBQU0sS0FBRyxHQUFHLEdBQUUsRUFBRUEsSUFBRSxNQUFJQSxHQUFFLFFBQU0sSUFBRSxLQUFHQSxHQUFFLFlBQVVBLEdBQUUsUUFBTSxJQUFFLElBQUUsQ0FBQyxHQUFFLEVBQUVBLElBQUUsTUFBSUEsR0FBRSxPQUFPLEVBQUUsR0FBRUEsR0FBRSxPQUFPLFNBQU9BLEdBQUUsT0FBTyxNQUFNLFdBQVMsRUFBRUEsSUFBRSxNQUFJQSxHQUFFLE9BQU8sTUFBTSxNQUFNLEdBQUUsRUFBRUEsSUFBRUEsR0FBRSxPQUFPLE1BQU0sVUFBUSxJQUFFLEdBQUcsSUFBR0EsR0FBRSxPQUFPLFNBQU9KLEdBQUUsUUFBTSxFQUFFQSxHQUFFLE9BQU1JLEdBQUUsYUFBWUEsR0FBRSxTQUFRLENBQUMsSUFBR0EsR0FBRSxVQUFRLEdBQUVBLEdBQUUsU0FBTyxPQUFLLEVBQUVBLElBQUUsQ0FBQyxHQUFFLEVBQUVBLElBQUUsQ0FBQyxHQUFFLEVBQUVBLElBQUUsQ0FBQyxHQUFFLEVBQUVBLElBQUUsQ0FBQyxHQUFFLEVBQUVBLElBQUUsQ0FBQyxHQUFFLEVBQUVBLElBQUUsTUFBSUEsR0FBRSxRQUFNLElBQUUsS0FBR0EsR0FBRSxZQUFVQSxHQUFFLFFBQU0sSUFBRSxJQUFFLENBQUMsR0FBRSxFQUFFQSxJQUFFLENBQUMsR0FBRUEsR0FBRSxTQUFPO0FBQUEsaUJBQU87QUFBQyxrQkFBSUcsS0FBRSxLQUFHSCxH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RSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUU7QUFBRSxVQUFBQSxLQUFFRixHQUFFLE9BQU0sSUFBRUEsR0FBRSxTQUFRLElBQUVBLEdBQUUsT0FBTSxJQUFFLEtBQUdBLEdBQUUsV0FBUyxJQUFHLElBQUVBLEdBQUUsVUFBUyxJQUFFQSxHQUFFLFFBQU8sSUFBRSxLQUFHQyxLQUFFRCxHQUFFLFlBQVcsSUFBRSxLQUFHQSxHQUFFLFlBQVUsTUFBSyxJQUFFRSxHQUFFLE1BQUssSUFBRUEsR0FBRSxPQUFNLElBQUVBLEdBQUUsT0FBTSxJQUFFQSxHQUFFLE9BQU0sSUFBRUEsR0FBRSxRQUFPLElBQUVBLEdBQUUsTUFBSyxJQUFFQSxHQUFFLE1BQUssSUFBRUEsR0FBRSxTQUFRLElBQUVBLEdBQUUsVUFBUyxLQUFHLEtBQUdBLEdBQUUsV0FBUyxHQUFFLEtBQUcsS0FBR0EsR0FBRSxZQUFVO0FBQUU7QUFBRSxlQUFFO0FBQUMsa0JBQUUsT0FBSyxLQUFHLEVBQUUsR0FBRyxLQUFHLEdBQUUsS0FBRyxHQUFFLEtBQUcsRUFBRSxHQUFHLEtBQUcsR0FBRSxLQUFHLElBQUcsSUFBRSxFQUFFLElBQUUsQ0FBQztBQUFFO0FBQUUsMkJBQU87QUFBQyxzQkFBRyxPQUFLLElBQUUsTUFBSSxJQUFHLEtBQUcsR0FBRSxPQUFLLElBQUUsTUFBSSxLQUFHO0FBQUssc0JBQUUsR0FBRyxJQUFFLFFBQU07QUFBQSx1QkFBTTtBQUFDLHdCQUFHLEVBQUUsS0FBRyxJQUFHO0FBQUMsMEJBQUcsTUFBSSxLQUFHLElBQUc7QUFBQyw0QkFBRSxHQUFHLFFBQU0sTUFBSSxLQUFHLEtBQUcsS0FBRyxFQUFFO0FBQUUsaUNBQVM7QUFBQSxzQkFBQztBQUFDLDBCQUFHLEtBQUcsR0FBRTtBQUFDLHdCQUFBQSxHQUFFLE9BQUs7QUFBRyw4QkFBTTtBQUFBLHNCQUFDO0FBQUMsc0JBQUFGLEdBQUUsTUFBSSwrQkFBOEJFLEdBQUUsT0FBSztBQUFHLDRC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S0FBSyxRQUFNLEdBQUUsS0FBSyxTQUFPLE1BQUssS0FBSyxPQUFLLEdBQUUsS0FBSyxPQUFLLEdBQUUsS0FBSyxTQUFPLEdBQUUsS0FBSyxTQUFPLEdBQUUsS0FBSyxRQUFNLEdBQUUsS0FBSyxVQUFRLE1BQUssS0FBSyxXQUFTLE1BQUssS0FBSyxVQUFRLEdBQUUsS0FBSyxXQUFTLEdBQUUsS0FBSyxRQUFNLEdBQUUsS0FBSyxPQUFLLEdBQUUsS0FBSyxRQUFNLEdBQUUsS0FBSyxPQUFLLEdBQUUsS0FBSyxPQUFLLE1BQUssS0FBSyxPQUFLLElBQUksRUFBRSxNQUFNLEdBQUcsR0FBRSxLQUFLLE9BQUssSUFBSSxFQUFFLE1BQU0sR0FBRyxHQUFFLEtBQUssU0FBTyxNQUFLLEtBQUssVUFBUSxNQUFLLEtBQUssT0FBSyxHQUFFLEtBQUssT0FBSyxHQUFFLEtBQUssTUFBSTtBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFQSxJQUFFO0FBQUMsY0FBSUM7QUFBRSxpQkFBT0QsTUFBR0EsR0FBRSxTQUFPQyxLQUFFRCxHQUFFLE9BQU1BLEdBQUUsV0FBU0EsR0FBRSxZQUFVQyxHQUFFLFFBQU0sR0FBRUQsR0FBRSxNQUFJLElBQUdDLEdBQUUsU0FBT0QsR0FBRSxRQUFNLElBQUVDLEdBQUUsT0FBTUEsR0FBRSxPQUFLLEdBQUVBLEdBQUUsT0FBSyxHQUFFQSxHQUFFLFdBQVMsR0FBRUEsR0FBRSxPQUFLLE9BQU1BLEdBQUUsT0FBSyxNQUFLQSxHQUFFLE9BQUssR0FBRUEsR0FBRSxPQUFLLEdBQUVBLEdBQUUsVUFBUUEsR0FBRSxTQUFPLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRUEsR0FBRSxXQUFTQSxHQUFFLFVBQVEsSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFFQSxHQUFFLE9BQUssR0FBRUEsR0FBRSxPQUFLLElBQUcsS0FBRztBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFRCxJQUFFO0FBQUMsY0FBSUM7QUFBRSxpQkFBT0QsTUFBR0EsR0FBRSxVQUFRQyxLQUFFRCxHQUFFLE9BQU8sUUFBTSxHQUFFQyxHQUFFLFFBQU0sR0FBRUEsR0FBRSxRQUFNLEdBQUUsRUFBRUQsRUFBQyxLQUFHO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVBLElBQUVDLElBQUU7QUFBQyxjQUFJQyxJQUFFRTtBQUFFLGlCQUFPSixNQUFHQSxHQUFFLFNBQU9JLEtBQUVKLEdBQUUsT0FBTUMsS0FBRSxLQUFHQyxLQUFFLEdBQUVELEtBQUUsQ0FBQ0EsT0FBSUMsS0FBRSxLQUFHRCxNQUFHLElBQUdBLEtBQUUsT0FBS0EsTUFBRyxNQUFLQSxPQUFJQSxLQUFFLEtBQUcsS0FBR0EsTUFBRyxLQUFHLFNBQU9HLEdBQUUsVUFBUUEsR0FBRSxVQUFRSCxPQUFJRyxHQUFFLFNBQU8sT0FBTUEsR0FBRSxPQUFLRixJQUFFRSxHQUFFLFFBQU1ILElBQUUsRUFBRUQsRUFBQyxNQUFJO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVBLElBQUVDLElBQUU7QUFBQyxjQUFJQyxJQUFFRTtBQUFFLGlCQUFPSixNQUFHSSxLQUFFLElBQUksTUFBR0osR0FBRSxRQUFNSSxJQUFHLFNBQU8sT0FBTUYsS0FBRSxFQUFFRixJQUFFQyxFQUFDLE9BQUssTUFBSUQsR0FBRSxRQUFNLE9BQU1FLE1BQUc7QUFBQSxRQUFDO0FBQUMsWUFBSSxHQUFFLEdBQUUsSUFBRTtBQUFHLGlCQUFTLEVBQUVGLElBQUU7QUFBQyxjQUFHLEdBQUU7QUFBQyxnQkFBSUM7QUFBRSxpQkFBSSxJQUFFLElBQUksRUFBRSxNQUFNLEdBQUcsR0FBRSxJQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRUEsS0FBRSxHQUFFQSxLQUFFO0FBQUssY0FBQUQsR0FBRSxLQUFLQyxJQUFHLElBQUU7QUFBRSxtQkFBS0EsS0FBRTtBQUFLLGNBQUFELEdBQUUsS0FBS0MsSUFBRyxJQUFFO0FBQUUsbUJBQUtBLEtBQUU7QUFBSyxjQUFBRCxHQUFFLEtBQUtDLElBQUcsSUFBRTtBQUFFLG1CQUFLQSxLQUFFO0FBQUssY0FBQUQsR0FBRSxLQUFLQyxJQUFHLElBQUU7QUFBRSxpQkFBSSxFQUFFLEdBQUVELEdBQUUsTUFBSyxHQUFFLEtBQUksR0FBRSxHQUFFQSxHQUFFLE1BQUssRUFBQyxNQUFLLEVBQUMsQ0FBQyxHQUFFQyxLQUFFLEdBQUVBLEtBQUU7QUFBSSxjQUFBRCxHQUFFLEtBQUtDLElBQUcsSUFBRTtBQUFFLGNBQUUsR0FBRUQsR0FBRSxNQUFLLEdBQUUsSUFBRyxHQUFFLEdBQUVBLEdBQUUsTUFBSyxFQUFDLE1BQUssRUFBQyxDQUFDLEdBQUUsSUFBRTtBQUFBLFVBQUU7QUFBQyxVQUFBQSxHQUFFLFVBQVEsR0FBRUEsR0FBRSxVQUFRLEdBQUVBLEdBQUUsV0FBUyxHQUFFQSxHQUFFLFdBQVM7QUFBQSxRQUFDO0FBQUMsaUJBQVMsRUFBRUEsSUFBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLGNBQUlDLElBQUVDLEtBQUVOLEdBQUU7QUFBTSxpQkFBTyxTQUFPTSxHQUFFLFdBQVNBLEdBQUUsUUFBTSxLQUFHQSxHQUFFLE9BQU1BLEdBQUUsUUFBTSxHQUFFQSxHQUFFLFFBQU0sR0FBRUEsR0FBRSxTQUFPLElBQUksRUFBRSxLQUFLQSxHQUFFLEtBQUssSUFBR0YsTUFBR0UsR0FBRSxTQUFPLEVBQUUsU0FBU0EsR0FBRSxRQUFPTCxJQUFFQyxLQUFFSSxHQUFFLE9BQU1BLEdBQUUsT0FBTSxDQUFDLEdBQUVBLEdBQUUsUUFBTSxHQUFFQSxHQUFFLFFBQU1BLEdBQUUsVUFBUUYsTUFBR0MsS0FBRUMsR0FBRSxRQUFNQSxHQUFFLFdBQVNELEtBQUVELEtBQUcsRUFBRSxTQUFTRSxHQUFFLFFBQU9MLElBQUVDLEtBQUVFLElBQUVDLElBQUVDLEdBQUUsS0FBSyxJQUFHRixNQUFHQyxPQUFJLEVBQUUsU0FBU0MsR0FBRSxRQUFPTCxJQUFFQyxLQUFFRSxJQUFFQSxJQUFFLENBQUMsR0FBRUUsR0FBRSxRQUFNRixJQUFFRSxHQUFFLFFBQU1BLEdBQUUsVUFBUUEsR0FBRSxTQUFPRCxJQUFFQyxHQUFFLFVBQVFBLEdBQUUsVUFBUUEsR0FBRSxRQUFNLElBQUdBLEdBQUUsUUFBTUEsR0FBRSxV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S0FBRU4sR0FBRSxTQUFRSSxLQUFFSixHQUFFLE9BQU1RLEtBQUVSLEdBQUUsVUFBU1UsS0FBRVIsR0FBRSxNQUFLUyxLQUFFVCxHQUFFLE1BQUssT0FBS0EsR0FBRSxTQUFPQSxHQUFFLE9BQUs7QUFBSTtBQUFBLGtCQUFLO0FBQUMsdUJBQUlBLEdBQUUsT0FBSyxHQUFFLEtBQUcsSUFBRUEsR0FBRSxRQUFRUSxNQUFHLEtBQUdSLEdBQUUsV0FBUyxDQUFDLE9BQUssS0FBRyxLQUFJLElBQUUsUUFBTSxHQUFFLEdBQUcsSUFBRSxNQUFJLE9BQUtTLE9BQUk7QUFBQyx3QkFBRyxNQUFJSDtBQUFFLDRCQUFNO0FBQUUsb0JBQUFBLE1BQUlFLE1BQUdOLEdBQUVFLElBQUcsS0FBR0ssSUFBRUEsTUFBRztBQUFBLGtCQUFDO0FBQUMsc0JBQUcsS0FBRyxNQUFJLE1BQUksSUFBRztBQUFDLHlCQUFJLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLEtBQUcsSUFBRVQsR0FBRSxRQUFRLE1BQUlRLE1BQUcsS0FBRyxJQUFFLEtBQUcsTUFBSSxFQUFFLE9BQUssS0FBRyxLQUFJLElBQUUsUUFBTSxHQUFFLEVBQUUsS0FBRyxJQUFFLE1BQUksT0FBS0MsT0FBSTtBQUFDLDBCQUFHLE1BQUlIO0FBQUUsOEJBQU07QUFBRSxzQkFBQUEsTUFBSUUsTUFBR04sR0FBRUUsSUFBRyxLQUFHSyxJQUFFQSxNQUFHO0FBQUEsb0JBQUM7QUFBQyxvQkFBQUQsUUFBSyxHQUFFQyxNQUFHLEdBQUVULEdBQUUsUUFBTTtBQUFBLGtCQUFDO0FBQUMsc0JBQUdRLFFBQUssR0FBRUMsTUFBRyxHQUFFVCxHQUFFLFFBQU0sR0FBRUEsR0FBRSxTQUFPLEdBQUUsTUFBSSxHQUFFO0FBQUMsb0JBQUFBLEdBQUUsT0FBSztBQUFHO0FBQUEsa0JBQUs7QUFBQyxzQkFBRyxLQUFHLEdBQUU7QUFBQyxvQkFBQUEsR0FBRSxPQUFLLElBQUdBLEdBQUUsT0FBSztBQUFHO0FBQUEsa0JBQUs7QUFBQyxzQkFBRyxLQUFHLEdBQUU7QUFBQyxv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QUUsR0FBRTtBQUFDO0FBQWEsWUFBSSxJQUFFLEVBQUUsaUJBQWlCLEdBQUUsSUFBRSxDQUFDLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLENBQUMsR0FBRSxJQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLElBQUUsQ0FBQyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksTUFBSyxNQUFLLE1BQUssTUFBSyxNQUFLLE1BQUssTUFBSyxPQUFNLE9BQU0sT0FBTSxHQUFFLENBQUMsR0FBRSxJQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFO0FBQUUsVUFBRSxVQUFRLFNBQVNGLElBQUVDLElBQUVDLElBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFO0FBQUMsY0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFFLEVBQUUsTUFBSyxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxNQUFLLElBQUUsR0FBRSxJQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRSxJQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRSxJQUFFLE1BQUssSUFBRTtBQUFFLGVBQUksSUFBRSxHQUFFLEtBQUcsSUFBRztBQUFJLGNBQUUsQ0FBQyxJQUFFO0FBQUUsZUFBSSxJQUFFLEdBQUUsSUFBRSxHQUFFO0FBQUksY0FBRUQsR0FBRUMsS0FBRSxDQUFDLENBQUM7QUFBSSxlQUFJLElBQUUsR0FBRSxJQUFFLElBQUcsS0FBRyxLQUFHLE1BQUksRUFBRSxDQUFDLEdBQUU7QUFBSTtBQUFDLGNBQUcsSUFBRSxNQUFJLElBQUUsSUFBRyxNQUFJO0FBQUUsbUJBQU8sRUFBRSxHQUFHLElBQUUsVUFBUyxFQUFFLEdBQUcsSUFBRSxVQUFTLEVBQUUsT0FBSyxHQUFFO0FBQUUsZUFBSSxJQUFFLEdBQUUsSUFBRSxLQUFHLE1BQUksRUFBRSxDQUFDLEdBQUU7QUFBSTtBQUFDLGVBQUksSUFBRSxNQUFJLElBQUUsSUFBRyxJQUFFLElBQUUsR0FBRSxLQUFHLElBQUc7QUFBSSxnQkFBRyxNQUFJLElBQUcsS0FBRyxFQUFFLENBQUMsS0FBRztBQUFFLHFCQUFNO0FBQUcsY0FBRyxJQUFFLE1BQUksTUFBSUYsTUFBRyxNQUFJO0FBQUcsbUJBQU07QUFBRyxlQUFJLEVBQUUsQ0FBQyxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsSUFBRztBQUFJLGNBQUUsSUFBRSxDQUFDLElBQUUsRUFBRSxDQUFDLElBQUUsRUFBRSxDQUFDO0FBQUUsZUFBSSxJQUFFLEdBQUUsSUFBRSxHQUFFO0FBQUksa0JBQUlDLEdBQUVDLEtBQUUsQ0FBQyxNQUFJLEVBQUUsRUFBRUQsR0FBRUMsS0FBRSxDQUFDLENBQUMsR0FBRyxJQUFFO0FBQUcsY0FBRyxJQUFFLE1BQUlGLE1BQUcsSUFBRSxJQUFFLEdBQUUsTUFBSSxNQUFJQSxNQUFHLElBQUUsR0FBRSxLQUFHLEtBQUksSUFBRSxHQUFFLEtBQUcsS0FBSSxRQUFNLElBQUUsR0FBRSxJQUFFLEdBQUUsS0FBSSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsSUFBRSxJQUFFLEdBQUUsSUFBRSxJQUFHLEtBQUcsSUFBRSxNQUFJLElBQUUsTUFBSSxHQUFFLE1BQUlBLE1BQUcsTUFBSSxLQUFHLE1BQUlBLE1BQUcsTUFBSTtBQUFFLG1CQUFPO0FBQUUscUJBQU87QUFBQyxpQkFBSSxJQUFFLElBQUUsR0FBRSxJQUFFLEVBQUUsQ0FBQyxJQUFFLEtBQUcsSUFBRSxHQUFFLEVBQUUsQ0FBQyxLQUFHLEVBQUUsQ0FBQyxJQUFFLEtBQUcsSUFBRSxFQUFFLElBQUUsRUFBRSxDQUFDLENBQUMsR0FBRSxFQUFFLElBQUUsRUFBRSxDQUFDLENBQUMsTUFBSSxJQUFFLElBQUcsSUFBRyxJQUFFLEtBQUcsSUFBRSxHQUFFLElBQUUsSUFBRSxLQUFHLEdBQUUsRUFBRSxLQUFHLEtBQUcsTUFBSSxLQUFHLEVBQUUsSUFBRSxLQUFHLEtBQUcsS0FBRyxLQUFHLElBQUUsR0FBRSxNQUFJO0FBQUc7QUFBQyxpQkFBSSxJQUFFLEtBQUcsSUFBRSxHQUFFLElBQUU7QUFBRyxvQkFBSTtBQUFFLGdCQUFHLE1BQUksS0FBRyxLQUFHLElBQUUsR0FBRSxLQUFHLEtBQUcsSUFBRSxHQUFFLEtBQUksS0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFFO0FBQUMsa0JBQUcsTUFBSTtBQUFFO0FBQU0sa0JBQUVDLEdBQUVDLEtBQUUsRUFBRSxDQUFDLENBQUM7QUFBQSxZQUFDO0FBQUMsZ0JBQUcsSUFBRSxNQUFJLElBQUUsT0FBSyxHQUFFO0FBQUMsbUJBQUksTUFBSSxNQUFJLElBQUUsSUFBRyxLQUFHLEdBQUUsSUFBRSxNQUFJLElBQUUsSUFBRSxJQUFHLElBQUUsSUFBRSxLQUFHLEdBQUcsS0FBRyxFQUFFLElBQUUsQ0FBQyxNQUFJO0FBQUkscUJBQUksTUFBSTtBQUFFLGtCQUFHLEtBQUcsS0FBRyxHQUFFLE1BQUlGLE1BQUcsTUFBSSxLQUFHLE1BQUlBLE1BQUcsTUFBSTtBQUFFLHVCQUFPO0FBQUUsZ0JBQUUsSUFBRSxJQUFFLENBQUMsSUFBRSxLQUFHLEtBQUcsS0FBRyxLQUFHLElBQUUsSUFBRTtBQUFBLFlBQUM7QUFBQSxVQUFDO0FBQUMsaUJBQU8sTUFBSSxNQUFJLEVBQUUsSUFBRSxDQUFDLElBQUUsSUFBRSxLQUFHLEtBQUcsTUFBSSxLQUFHLElBQUcsRUFBRSxPQUFLLEdBQUU7QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLEVBQUMsbUJBQWtCLEdBQUUsQ0FBQyxHQUFFLElBQUcsQ0FBQyxTQUFTLEdBQUUsR0FBRSxHQUFFO0FBQUM7QUFBYSxVQUFFLFVBQVEsRUFBQyxHQUFFLG1CQUFrQixHQUFFLGNBQWEsR0FBRSxJQUFHLE1BQUssY0FBYSxNQUFLLGdCQUFlLE1BQUssY0FBYSxNQUFLLHVCQUFzQixNQUFLLGdCQUFlLE1BQUssdUJBQXNCO0FBQUEsTUFBQyxHQUFFLENBQUMsQ0FBQyxHQUFFLElBQUcsQ0FBQyxTQUFTLEdBQUUsR0FBRSxHQUFFO0FBQUM7QUFBYSxZQUFJLElBQUUsRUFBRSxpQkFBaUIsR0FBRSxJQUFFLEdBQUUsSUFBRTtBQUFFLGlCQUFTLEVBQUVBLElBQUU7QUFBQyxtQkFBUUMsS0FBRUQsR0FBRSxRQUFPLEtBQUcsRUFBRUM7QUFBRyxZQUFBRCxHQUFFQyxFQUFDLElBQUU7QUFBQSxRQUFDO0FBQUMsWUFBSSxJQUFFLEdBQUUsSUFBRSxJQUFHLElBQUUsS0FBSSxJQUFFLElBQUUsSUFBRSxHQUFFLElBQUUsSUFBRyxJQUFFLElBQUcsSUFBRSxJQUFFLElBQUUsR0FBRSxJQUFFLElBQUcsSUFBRSxJQUFHLElBQUUsR0FBRSxJQUFFLEtBQUksSUFBRSxJQUFHLElBQUUsSUFBRyxJQUFFLElBQUcsSUFBRSxDQUFDLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUUsQ0FBQyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLElBQUUsQ0FBQyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxJQUFFLElBQUksTUFBTSxLQUFHLElBQUUsRUFBRTtBQUFFLFVBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxJQUFJLE1BQU0sSUFBRSxDQUFDO0FBQUUsVUFBRSxDQUFDO0FBQUUsWUFBSSxJQUFFLElBQUksTUFBTSxHQUFHO0FBQUUsVUFBRSxDQUFDO0FBQUUsWUFBSSxJQUFFLElBQUksTUFBTSxHQUFHO0FBQUUsVUFBRSxDQUFDO0FBQUUsWUFBSSxJQUFFLElBQUksTUFBTSxDQUFDO0FBQUUsVUFBRSxDQUFDO0FBQUUsWUFBSSxHQUFFLEdBQUUsR0FBRSxJQUFFLElBQUksTUFBTSxDQUFDO0FBQUUsaUJBQVMsRUFBRUQsSUFBRUMsSUFBRUMsSUFBRUUsSUFBRUMsSUFBRTtBQUFDLGVBQUssY0FBWUwsSUFBRSxLQUFLLGFBQVdDLElBQUUsS0FBSyxhQUFXQyxJQUFFLEtBQUssUUFBTUUsSUFBRSxLQUFLLGFBQVdDLElBQUUsS0FBSyxZQUFVTCxNQUFHQSxHQUFFO0FBQUEsUUFBTTtBQUFDLGlCQUFTLEVBQUVBLElBQUVDLElBQUU7QUFBQyxlQUFLLFdBQVNELElBQUUsS0FBSyxXQUFTLEdBQUUsS0FBSyxZQUFVQztBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFRCxJQUFFO0FBQUMsaUJBQU9BLEtBQUUsTUFBSSxFQUFFQSxFQUFDLElBQUUsRUFBRSxPQUFLQSxPQUFJLEVBQUU7QUFBQSxRQUFDO0FBQUMsaUJBQVMsRUFBRUEsSUFBRUMsSUFBRTtBQUFDLFVBQUFELEdBQUUsWUFBWUEsR0FBRSxTQUFTLElBQUUsTUFBSUMsSUFBRUQsR0FBRSxZQUFZQSxHQUFFLFNBQVMsSUFBRUMsT0FBSSxJQUFFO0FBQUEsUUFBRztBQUFDLGlCQUFTLEVBQUVELElBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFBRixHQUFFLFdBQVMsSUFBRUUsTUFBR0YsR0FBRSxVQUFRQyxNQUFHRCxHQUFFLFdBQVMsT0FBTSxFQUFFQSxJQUFFQSxHQUFFLE1BQU0sR0FBRUEsR0FBRSxTQUFPQyxNQUFHLElBQUVELEdBQUUsVUFBU0EsR0FBRSxZQUFVRSxLQUFFLE1BQUlGLEdBQUUsVUFBUUMsTUFBR0QsR0FBRSxXQUFTLE9BQU1BLEdBQUUsWUFBVUU7QUFBQSxRQUFFO0FBQUMsaUJBQVMsRUFBRUYsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLFlBQUVGLElBQUVFLEdBQUUsSUFBRUQsRUFBQyxHQUFFQyxHQUFFLElBQUVELEtBQUUsQ0FBQyxDQUFDO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVELElBQUVDLElBQUU7QUFBQyxtQkFBUUMsS0FBRSxHQUFFQSxNQUFHLElBQUVGLElBQUVBLFFBQUssR0FBRUUsT0FBSSxHQUFFLElBQUUsRUFBRUQ7QUFBRztBQUFDLGlCQUFPQyxPQUFJO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVGLElBQUVDLElBQUVDLElBQUU7QUFBQyxjQUFJRSxJQUFFQyxJQUFFQyxLQUFFLElBQUksTUFBTSxJQUFFLENBQUMsR0FBRUMsS0FBRTtBQUFFLGVBQUlILEtBQUUsR0FBRUEsTUFBRyxHQUFFQTtBQUFJLFlBQUFFLEdBQUVGLEVBQUMsSUFBRUcsS0FBRUEsS0FBRUwsR0FBRUUsS0FBRSxDQUFDLEtBQUc7QUFBRSxlQUFJQyxLQUFFLEdBQUVBLE1BQUdKLElBQUVJLE1BQUk7QUFBQyxnQkFBSUcsS0FBRVIsR0FBRSxJQUFFSyxLQUFFLENBQUM7QUFBRSxrQkFBSUcsT0FBSVIsR0FBRSxJQUFFSyxFQUFDLElBQUUsRUFBRUMsR0FBRUUsRUFBQyxLQUFJQSxFQUFDO0FBQUEsVUFBRTtBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFUixJQUFFO0FBQUMsY0FBSUM7QUFBRSxlQUFJQSxLQUFFLEdBQUVBLEtBQUUsR0FBRUE7QUFBSSxZQUFBRCxHQUFFLFVBQVUsSUFBRUMsRUFBQyxJQUFFO0FBQUUsZUFBSUEsS0FBRSxHQUFFQSxLQUFFLEdBQUVBO0FBQUksWUFBQUQsR0FBRSxVQUFVLElBQUVDLEVBQUMsSUFBRTtBQUFFLGVBQUlBLEtBQUUsR0FBRUEsS0FBRSxHQUFFQTtBQUFJLFlBQUFELEdBQUUsUUFBUSxJQUFFQyxFQUFDLElBQUU7QUFBRSxVQUFBRCxHQUFFLFVBQVUsSUFBRSxDQUFDLElBQUUsR0FBRUEsR0FBRSxVQUFRQSxHQUFFLGFBQVcsR0FBRUEsR0FBRSxXQUFTQSxHQUFFLFVBQVE7QUFBQSxRQUFDO0FBQUMsaUJBQVMsRUFBRUEsSUFBRTtBQUFDLGNBQUVBLEdBQUUsV0FBUyxFQUFFQSxJQUFFQSxHQUFFLE1BQU0sSUFBRSxJQUFFQSxHQUFFLGFBQVdBLEdBQUUsWUFBWUEsR0FBRSxTQUFTLElBQUVBLEdBQUUsU0FBUUEsR0FBRSxTQUFPLEdBQUVBLEdBQUUsV0FBUztBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFQSxJQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsY0FBSUMsS0FBRSxJQUFFSixJQUFFSyxLQUFFLElBQUVKO0FBQUUsaUJBQU9GLEdBQUVLLEVBQUMsSUFBRUwsR0FBRU0sRUFBQyxLQUFHTixHQUFFSyxFQUFDLE1BQUlMLEdBQUVNLEVBQUMsS0FBR0YsR0FBRUgsRUFBQyxLQUFHRyxHQUFFRixFQUFDO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVGLElBQUVDLElBQUVDLElBQUU7QUFBQyxtQkFBUUUsS0FBRUosR0FBRSxLQUFLRSxFQUFDLEdBQUVHLEtBQUVILE1BQUcsR0FBRUcsTUFBR0wsR0FBRSxhQUFXSyxLQUFFTCxHQUFFLFlBQVUsRUFBRUMsSUFBRUQsR0FBRSxLQUFLSyxLQUFFLENBQUMsR0FBRUwsR0FBRSxLQUFLSyxFQUFDLEdBQUVMLEdBQUUsS0FBSyxLQUFHSyxNQUFJLENBQUMsRUFBRUosSUFBRUcsSUFBRUosR0FBRSxLQUFLSyxFQUFDLEdBQUVMLEdBQUUsS0FBSztBQUFJLFlBQUFBLEdBQUUsS0FBS0UsRUFBQyxJQUFFRixHQUFFLEtBQUtLLEVBQUMsR0FBRUgsS0FBRUcsSUFBRUEsT0FBSTtBQUFFLFVBQUFMLEdBQUUsS0FBS0UsRUFBQyxJQUFFRTtBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFSixJQUFFQyxJQUFFQyxJQUFFO0FBQUMsY0FBSUUsSUFBRUMsSUFBRUMsSUFBRUMsSUFBRUMsS0FBRTtBQUFFLGNBQUcsTUFBSVIsR0FBRTtBQUFTLG1CQUFLSSxLQUFFSixHQUFFLFlBQVlBLEdBQUUsUUFBTSxJQUFFUSxFQUFDLEtBQUcsSUFBRVIsR0FBRSxZQUFZQSxHQUFFLFFBQU0sSUFBRVEsS0FBRSxDQUFDLEdBQUVILEtBQUVMLEdBQUUsWUFBWUEsR0FBRSxRQUFNUSxFQUFDLEdBQUVBLE1BQUksTUFBSUosS0FBRSxFQUFFSixJQUFFSyxJQUFFSixFQUFDLEtBQUcsRUFBRUQsS0FBR00sS0FBRSxFQUFFRCxFQUFDLEtBQUcsSUFBRSxHQUFFSixFQUFDLEdBQUUsT0FBS00sS0FBRSxFQUFFRCxFQUFDLE1BQUksRUFBRU4sSUFBRUssTUFBRyxFQUFFQyxFQUFDLEdBQUVDLEVBQUMsR0FBRSxFQUFFUCxJQUFFTSxLQUFFLEVBQUUsRUFBRUYsRUFBQyxHQUFFRixFQUFDLEdBQUUsT0FBS0ssS0FBRSxFQUFFRCxFQUFDLE1BQUksRUFBRU4sSUFBRUksTUFBRyxFQUFFRSxFQUFDLEdBQUVDLEVBQUMsSUFBR0MsS0FBRVIsR0FBRTtBQUFVO0FBQUMsWUFBRUEsSUFBRSxHQUFFQyxFQUFDO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVELElBQUVDLElBQUU7QUFBQyxjQUFJQyxJQUFFRSxJQUFFQyxJQUFFQyxLQUFFTCxHQUFFLFVBQVNNLEtBQUVOLEdBQUUsVUFBVSxhQUFZTyxLQUFFUCxHQUFFLFVBQVUsV0FBVVEsS0FBRVIsR0FBRSxVQUFVLE9BQU1TLEtBQUU7QUFBRyxlQUFJVixHQUFFLFdBQVMsR0FBRUEsR0FBRSxXQUFTLEdBQUVFLEtBQUUsR0FBRUEsS0FBRU8sSUFBRVA7QUFBSSxrQkFBSUksR0FBRSxJQUFFSixFQUFDLEtBQUdGLEdBQUUsS0FBSyxFQUFFQSxHQUFFLFFBQVEsSUFBRVUsS0FBRVIsSUFBRUYsR0FBRSxNQUFNRSxFQUFDLElBQUUsS0FBR0ksR0FBRSxJQUFFSixLQUFFLENBQUMsSUFBRTtBQUFFLGlCQUFLRixHQUFFLFdBQVM7QUFBRyxZQUFBTSxHQUFFLEtBQUdELEtBQUVMLEdBQUUsS0FBSyxFQUFFQSxHQUFFLFFBQVEsSUFBRVUsS0FBRSxJQUFFLEVBQUVBLEtBQUUsRUFBRSxJQUFFLEdBQUVWLEdBQUUsTUFBTUssRUFBQyxJQUFFLEdBQUVMLEdBQUUsV0FBVVEsT0FBSVIsR0FBRSxjQUFZTyxHQUFFLElBQUVGLEtBQUUsQ0FBQztBQUFHLGVBQUlKLEdBQUUsV0FBU1MsSUFBRVIsS0FBRUYsR0FBRSxZQUFVLEdBQUUsS0FBR0UsSUFBRUE7QUFBSSxjQUFFRixJQUFFTSxJQUFFSixFQUFDO0FBQUUsZUFBSUcsS0FBRUksSUFBRVAsS0FBRUYsR0FBRSxLQUFLLENBQUMsR0FBRUEsR0FBRSxLQUFLLENBQUMsSUFBRUEsR0FBRSxLQUFLQSxHQUFFLFVBQVUsR0FBRSxFQUFFQSxJQUFFTSxJQUFFLENBQUMsR0FBRUYsS0FBRUosR0FBRSxLQUFLLENBQUMsR0FBRUEsR0FBRSxLQUFLLEVBQUVBLEdBQUUsUUFBUSxJQUFFRSxJQUFFRixHQUFFLEtBQUssRUFBRUEsR0FBRSxRQUFRLElBQUVJLElBQUVFLEdBQUUsSUFBRUQsRUFBQyxJQUFFQyxHQUFFLElBQUVKLEVBQUMsSUFBRUksR0FBRSxJQUFFRixFQUFDLEdBQUVKLEdBQUUsTUFBTUssRUFBQyxLQUFHTCxHQUFFLE1BQU1FLEVBQUMsS0FBR0YsR0FBRSxNQUFNSSxFQUFDLElBQUVKLEdBQUUsTUFBTUUsRUFBQyxJQUFFRixHQUFFLE1BQU1JLEVBQUMsS0FBRyxHQUFFRSxHQUFFLElBQUVKLEtBQUUsQ0FBQyxJQUFFSSxHQUFFLElBQUVGLEtBQUUsQ0FBQyxJQUFFQyxJQUFFTCxHQUFFLEtBQUssQ0FBQyxJQUFFSyxNQUFJLEVBQUVMLElBQUVNLElBQUUsQ0FBQyxHQUFFLEtBQUdOLEdBQUU7QUFBVTtBQUFDLFVBQUFBLEdBQUUsS0FBSyxFQUFFQSxHQUFFLFFBQVEsSUFBRUEsR0FBRSxLQUFLLENBQUMsR0FBRSxTQUFTQSxJQUFFQyxJQUFFO0FBQUMsZ0JBQUlDLElBQUVFLElBQUVDLElBQUVDLElBQUVDLElBQUVDLElBQUVDLEtBQUVSLEdBQUUsVUFBU1MsS0FBRVQsR0FBRSxVQUFTVSxLQUFFVixHQUFFLFVBQVUsYUFBWVcsS0FBRVgsR0FBRSxVQUFVLFdBQVVFLEtBQUVGLEdBQUUsVUFBVSxZQUFXWSxLQUFFWixHQUFFLFVBQVUsWUFBV2EsS0FBRWIsR0FBRSxVQUFVLFlBQVdjLEtBQUU7QUFBRSxpQkFBSVQsS0FBRSxHQUFFQSxNQUFHLEdBQUVBO0FBQUksY0FBQU4sR0FBRSxTQUFTTSxFQUFDLElBQUU7QUFBRSxpQkFBSUcsR0FBRSxJQUFFVCxHQUFFLEtBQUtBLEdBQUUsUUFBUSxJQUFFLENBQUMsSUFBRSxHQUFFRSxLQUFFRixHQUFFLFdBQVMsR0FBRUUsS0FBRSxHQUFFQTtBQUFJLGNBQUFZLE1BQUdSLEtBQUVHLEdBQUUsSUFBRUEsR0FBRSxLQUFHTCxLQUFFSixHQUFFLEtBQUtFLEVBQUMsS0FBRyxDQUFDLElBQUUsQ0FBQyxJQUFFLE9BQUtJLEtBQUVRLElBQUVDLE9BQUtOLEdBQUUsSUFBRUwsS0FBRSxDQUFDLElBQUVFLElBQUVJLEtBQUVOLE9BQUlKLEdBQUUsU0FBU00sRUFBQyxLQUFJQyxLQUFFLEdBQUVNLE1BQUdULE9BQUlHLEtBQUVKLEdBQUVDLEtBQUVTLEVBQUMsSUFBR0wsS0FBRUMsR0FBRSxJQUFFTCxFQUFDLEdBQUVKLEdBQUUsV0FBU1EsTUFBR0YsS0FBRUMsS0FBR0ssT0FBSVosR0FBRSxjQUFZUSxNQUFHRyxHQUFFLElBQUVQLEtBQUUsQ0FBQyxJQUFFRztBQUFLLGdCQUFHLE1BQUlRLElBQUU7QUFBQyxpQkFBRTtBQUFDLHFCQUFJVCxLQUFFUSxLQUFFLEdBQUUsTUFBSWQsR0FBRSxTQUFTTSxFQUFDO0FBQUcsa0JBQUFBO0FBQUksZ0JBQUFOLEdBQUUsU0FBU00sRUFBQyxLQUFJTixHQUFFLFNBQVNNLEtBQUUsQ0FBQyxLQUFHLEdBQUVOLEdBQUUsU0FBU2MsRUFBQyxLQUFJQyxNQUFHO0FBQUEsY0FBQyxTQUFPLElBQUVBO0FBQUcsbUJBQUlULEtBQUVRLElBQUUsTUFBSVIsSUFBRUE7QUFBSSxxQkFBSUYsS0FBRUosR0FBRSxTQUFTTSxFQUFDLEdBQUUsTUFBSUY7QUFBRyxrQkFBQU0sTUFBR0wsS0FBRUwsR0FBRSxLQUFLLEVBQUVFLEVBQUMsT0FBS08sR0FBRSxJQUFFSixLQUFFLENBQUMsTUFBSUMsT0FBSU4sR0FBRSxZQUFVTSxLQUFFRyxHQUFFLElBQUVKLEtBQUUsQ0FBQyxLQUFHSSxHQUFFLElBQUVKLEVBQUMsR0FBRUksR0FBRSxJQUFFSixLQUFFLENBQUMsSUFBRUMsS0FBR0Y7QUFBQSxZQUFJO0FBQUEsVUFBQyxFQUFFSixJQUFFQyxFQUFDLEdBQUUsRUFBRUssSUFBRUksSUFBRVYsR0FBRSxRQUFRO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVBLElBQUVDLElBQUVDLElBQUU7QUFBQyxjQUFJRSxJQUFFQyxJQUFFQyxLQUFFLElBQUdDLEtBQUVOLEdBQUUsQ0FBQyxHQUFFTyxLQUFFLEdBQUVDLEtBQUUsR0FBRUMsS0FBRTtBQUFFLGVBQUksTUFBSUgsT0FBSUUsS0FBRSxLQUFJQyxLQUFFLElBQUdULEdBQUUsS0FBR0MsS0FBRSxLQUFHLENBQUMsSUFBRSxPQUFNRSxLQUFFLEdBQUVBLE1BQUdGLElBQUVFO0FBQUksWUFBQUMsS0FBRUUsSUFBRUEsS0FBRU4sR0FBRSxLQUFHRyxLQUFFLEtBQUcsQ0FBQyxHQUFFLEVBQUVJLEtBQUVDLE1BQUdKLE9BQUlFLE9BQUlDLEtBQUVFLEtBQUVWLEdBQUUsUUFBUSxJQUFFSyxFQUFDLEtBQUdHLEtBQUUsTUFBSUgsTUFBR0EsT0FBSUMsTUFBR04sR0FBRSxRQUFRLElBQUVLLEVBQUMsS0FBSUwsR0FBRSxRQUFRLElBQUUsQ0FBQyxPQUFLUSxNQUFHLEtBQUdSLEdBQUUsUUFBUSxJQUFFLENBQUMsTUFBSUEsR0FBRSxRQUFRLElBQUUsQ0FBQyxLQUFJTSxLQUFFRCxJQUFFSyxNQUFHRixLQUFFLE9BQUtELE1BQUdFLEtBQUUsS0FBSSxLQUFHSixPQUFJRSxNQUFHRSxLQUFFLEdBQUUsTUFBSUEsS0FBRSxHQUFFO0FBQUEsUUFBRztBQUFDLGlCQUFTLEVBQUVULElBQUVDLElBQUVDLElBQUU7QUFBQyxjQUFJRSxJQUFFQyxJQUFFQyxLQUFFLElBQUdDLEtBQUVOLEdBQUUsQ0FBQyxHQUFFTyxLQUFFLEdBQUVDLEtBQUUsR0FBRUMsS0FBRTtBQUFFLGVBQUksTUFBSUgsT0FBSUUsS0FBRSxLQUFJQyxLQUFFLElBQUdOLEtBQUUsR0FBRUEsTUFBR0YsSUFBRUU7QUFBSSxnQkFBR0MsS0FBRUUsSUFBRUEsS0FBRU4sR0FBRSxLQUFHRyxLQUFFLEtBQUcsQ0FBQyxHQUFFLEVBQUUsRUFBRUksS0FBRUMsTUFBR0osT0FBSUUsS0FBRztBQUFDLGtCQUFHQyxLQUFFRTtBQUFFLHVCQUFLLEVBQUVWLElBQUVLLElBQUVMLEdBQUUsT0FBTyxHQUFFLEtBQUcsRUFBRVE7QUFBRztBQUFBO0FBQU0sc0JBQUlILE1BQUdBLE9BQUlDLE9BQUksRUFBRU4sSUFBRUssSUFBRUwsR0FBRSxPQUFPLEdBQUVRLE9BQUssRUFBRVIsSUFBRSxHQUFFQSxHQUFFLE9BQU8sR0FBRSxFQUFFQSxJQUFFUSxLQUFFLEdBQUUsQ0FBQyxLQUFHQSxNQUFHLE1BQUksRUFBRVIsSUFBRSxHQUFFQSxHQUFFLE9BQU8sR0FBRSxFQUFFQSxJQUFFUSxLQUFFLEdBQUUsQ0FBQyxNQUFJLEVBQUVSLElBQUUsR0FBRUEsR0FBRSxPQUFPLEdBQUUsRUFBRUEsSUFBRVEsS0FBRSxJQUFHLENBQUM7QUFBRyxjQUFBRixLQUFFRCxJQUFFSyxNQUFHRixLQUFFLE9BQUtELE1BQUdFLEtBQUUsS0FBSSxLQUFHSixPQUFJRSxNQUFHRSxLQUFFLEdBQUUsTUFBSUEsS0FBRSxHQUFFO0FBQUEsWUFBRTtBQUFBLFFBQUM7QUFBQyxVQUFFLENBQUM7QUFBRSxZQUFJLElBQUU7QUFBRyxpQkFBUyxFQUFFVCxJQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsWUFBRUosS0FBRyxLQUFHLE1BQUlJLEtBQUUsSUFBRSxJQUFHLENBQUMsR0FBRSxTQUFTSixJQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsY0FBRUosRUFBQyxHQUFFSSxPQUFJLEVBQUVKLElBQUVFLEVBQUMsR0FBRSxFQUFFRixJQUFFLENBQUNFLEVBQUMsSUFBRyxFQUFFLFNBQVNGLEdBQUUsYUFBWUEsR0FBRSxRQUFPQyxJQUFFQyxJQUFFRixHQUFFLE9BQU8sR0FBRUEsR0FBRSxXQUFTRTtBQUFBLFVBQUMsRUFBRUYsSUFBRUMsSUFBRUMsSUFBRSxJQUFFO0FBQUEsUUFBQztBQUFDLFVBQUUsV0FBUyxTQUFTRixJQUFFO0FBQUMsZ0JBQUksV0FBVTtBQUFDLGdCQUFJQSxJQUFFQyxJQUFFQyxJQUFFRSxJQUFFQyxJQUFFQyxLQUFFLElBQUksTUFBTSxJQUFFLENBQUM7QUFBRSxpQkFBSUYsS0FBRUYsS0FBRSxHQUFFRSxLQUFFLElBQUUsR0FBRUE7QUFBSSxtQkFBSSxFQUFFQSxFQUFDLElBQUVGLElBQUVGLEtBQUUsR0FBRUEsS0FBRSxLQUFHLEVBQUVJLEVBQUMsR0FBRUo7QUFBSSxrQkFBRUUsSUFBRyxJQUFFRTtBQUFFLGlCQUFJLEVBQUVGLEtBQUUsQ0FBQyxJQUFFRSxJQUFFQSxLQUFFQyxLQUFFLEdBQUVELEtBQUUsSUFBR0E7QUFBSSxtQkFBSSxFQUFFQSxFQUFDLElBQUVDLElBQUVMLEtBQUUsR0FBRUEsS0FBRSxLQUFHLEVBQUVJLEVBQUMsR0FBRUo7QUFBSSxrQkFBRUssSUFBRyxJQUFFRDtBQUFFLGlCQUFJQyxPQUFJLEdBQUVELEtBQUUsR0FBRUE7QUFBSSxtQkFBSSxFQUFFQSxFQUFDLElBQUVDLE1BQUcsR0FBRUwsS0FBRSxHQUFFQSxLQUFFLEtBQUcsRUFBRUksRUFBQyxJQUFFLEdBQUVKO0FBQUksa0JBQUUsTUFBSUssSUFBRyxJQUFFRDtBQUFFLGlCQUFJSCxLQUFFLEdBQUVBLE1BQUcsR0FBRUE7QUFBSSxjQUFBSyxHQUFFTCxFQUFDLElBQUU7QUFBRSxpQkFBSUQsS0FBRSxHQUFFQSxNQUFHO0FBQUssZ0JBQUUsSUFBRUEsS0FBRSxDQUFDLElBQUUsR0FBRUEsTUFBSU0sR0FBRSxDQUFDO0FBQUksbUJBQUtOLE1BQUc7QUFBSyxnQkFBRSxJQUFFQSxLQUFFLENBQUMsSUFBRSxHQUFFQSxNQUFJTSxHQUFFLENBQUM7QUFBSSxtQkFBS04sTUFBRztBQUFLLGdCQUFFLElBQUVBLEtBQUUsQ0FBQyxJQUFFLEdBQUVBLE1BQUlNLEdBQUUsQ0FBQztBQUFJLG1CQUFLTixNQUFHO0FBQUssZ0JBQUUsSUFBRUEsS0FBRSxDQUFDLElBQUUsR0FBRUEsTUFBSU0sR0FBRSxDQUFDO0FBQUksaUJBQUksRUFBRSxHQUFFLElBQUUsR0FBRUEsRUFBQyxHQUFFTixLQUFFLEdBQUVBLEtBQUUsR0FBRUE7QUFBSSxnQkFBRSxJQUFFQSxLQUFFLENBQUMsSUFBRSxHQUFFLEVBQUUsSUFBRUEsRUFBQyxJQUFFLEVBQUVBLElBQUUsQ0FBQztBQUFFLGdCQUFFLElBQUksRUFBRSxHQUFFLEdBQUUsSUFBRSxHQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUUsSUFBSSxFQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUUsSUFBSSxFQUFFLElBQUksTUFBTSxDQUFDLEdBQUUsR0FBRSxHQUFFLEdBQUUsQ0FBQztBQUFBLFVBQUMsRUFBRSxHQUFFLElBQUUsT0FBSUEsR0FBRSxTQUFPLElBQUksRUFBRUEsR0FBRSxXQUFVLENBQUMsR0FBRUEsR0FBRSxTQUFPLElBQUksRUFBRUEsR0FBRSxXQUFVLENBQUMsR0FBRUEsR0FBRSxVQUFRLElBQUksRUFBRUEsR0FBRSxTQUFRLENBQUMsR0FBRUEsR0FBRSxTQUFPLEdBQUVBLEdBQUUsV0FBUyxHQUFFLEVBQUVBLEVBQUM7QUFBQSxRQUFDLEdBQUUsRUFBRSxtQkFBaUIsR0FBRSxFQUFFLGtCQUFnQixTQUFTQSxJQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsY0FBSUMsSUFBRUMsSUFBRUMsS0FBRTtBQUFFLGNBQUVQLEdBQUUsU0FBTyxNQUFJQSxHQUFFLEtBQUssY0FBWUEsR0FBRSxLQUFLLFlBQVUsU0FBU0EsSUFBRTtBQUFDLGdCQUFJQyxJQUFFQyxLQUFFO0FBQVcsaUJBQUlELEtBQUUsR0FBRUEsTUFBRyxJQUFHQSxNQUFJQyxRQUFLO0FBQUUsa0JBQUcsSUFBRUEsTUFBRyxNQUFJRixHQUFFLFVBQVUsSUFBRUMsRUFBQztBQUFFLHVCQUFPO0FBQUUsZ0JBQUcsTUFBSUQsR0FBRSxVQUFVLEVBQUUsS0FBRyxNQUFJQSxHQUFFLFVBQVUsRUFBRSxLQUFHLE1BQUlBLEdBQUUsVUFBVSxFQUFFO0FBQUUscUJBQU87QUFBRSxpQkFBSUMsS0FBRSxJQUFHQSxLQUFFLEdBQUVBO0FBQUksa0JBQUcsTUFBSUQsR0FBRSxVQUFVLElBQUVDLEVBQUM7QUFBRSx1QkFBTztBQUFFLG1CQUFPO0FBQUEsVUFBQyxFQUFFRCxFQUFDLElBQUcsRUFBRUEsSUFBRUEsR0FBRSxNQUFNLEdBQUUsRUFBRUEsSUFBRUEsR0FBRSxNQUFNLEdBQUVPLEtBQUUsU0FBU1AsSUFBRTtBQUFDLGdCQUFJQztBQUFFLGlCQUFJLEVBQUVELElBQUVBLEdBQUUsV0FBVUEsR0FBRSxPQUFPLFFBQVEsR0FBRSxFQUFFQSxJQUFFQSxHQUFFLFdBQVVBLEdBQUUsT0FBTyxRQUFRLEdBQUUsRUFBRUEsSUFBRUEsR0FBRSxPQUFPLEdBQUVDLEtBQUUsSUFBRSxHQUFFLEtBQUdBLE1BQUcsTUFBSUQsR0FBRSxRQUFRLElBQUUsRUFBRUMsRUFBQyxJQUFFLENBQUMsR0FBRUE7QUFBSTtBQUFDLG1CQUFPRCxHQUFFLFdBQVMsS0FBR0MsS0FBRSxLQUFHLElBQUUsSUFBRSxHQUFFQTtBQUFBLFVBQUMsRUFBRUQsRUFBQyxHQUFFSyxLQUFFTCxHQUFFLFVBQVEsSUFBRSxNQUFJLElBQUdNLEtBQUVOLEdBQUUsYUFBVyxJQUFFLE1BQUksTUFBSUssT0FBSUEsS0FBRUMsT0FBSUQsS0FBRUMsS0FBRUosS0FBRSxHQUFFQSxLQUFFLEtBQUdHLE1BQUcsT0FBS0osS0FBRSxFQUFFRCxJQUFFQyxJQUFFQyxJQUFFRSxFQUFDLElBQUUsTUFBSUosR0FBRSxZQUFVTSxPQUFJRCxNQUFHLEVBQUVMLElBQUUsS0FBR0ksS0FBRSxJQUFFLElBQUcsQ0FBQyxHQUFFLEVBQUVKLElBQUUsR0FBRSxDQUFDLE1BQUksRUFBRUEsSUFBRSxLQUFHSSxLQUFFLElBQUUsSUFBRyxDQUFDLEdBQUUsU0FBU0osSUFBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLGdCQUFJQztBQUFFLGlCQUFJLEVBQUVMLElBQUVDLEtBQUUsS0FBSSxDQUFDLEdBQUUsRUFBRUQsSUFBRUUsS0FBRSxHQUFFLENBQUMsR0FBRSxFQUFFRixJQUFFSSxLQUFFLEdBQUUsQ0FBQyxHQUFFQyxLQUFFLEdBQUVBLEtBQUVELElBQUVDO0FBQUksZ0JBQUVMLElBQUVBLEdBQUUsUUFBUSxJQUFFLEVBQUVLLEVBQUMsSUFBRSxDQUFDLEdBQUUsQ0FBQztBQUFFLGNBQUVMLElBQUVBLEdBQUUsV0FBVUMsS0FBRSxDQUFDLEdBQUUsRUFBRUQsSUFBRUEsR0FBRSxXQUFVRSxLQUFFLENBQUM7QUFBQSxVQUFDLEVBQUVGLElBQUVBLEdBQUUsT0FBTyxXQUFTLEdBQUVBLEdBQUUsT0FBTyxXQUFTLEdBQUVPLEtBQUUsQ0FBQyxHQUFFLEVBQUVQLElBQUVBLEdBQUUsV0FBVUEsR0FBRSxTQUFTLElBQUcsRUFBRUEsRUFBQyxHQUFFSSxNQUFHLEVBQUVKLEVBQUM7QUFBQSxRQUFDLEdBQUUsRUFBRSxZQUFVLFNBQVNBLElBQUVDLElBQUVDLElBQUU7QUFBQyxpQkFBT0YsR0FBRSxZQUFZQSxHQUFFLFFBQU0sSUFBRUEsR0FBRSxRQUFRLElBQUVDLE9BQUksSUFBRSxLQUFJRCxHQUFFLFlBQVlBLEdBQUUsUUFBTSxJQUFFQSxHQUFFLFdBQVMsQ0FBQyxJQUFFLE1BQUlDLElBQUVELEdBQUUsWUFBWUEsR0FBRSxRQUFNQSxHQUFFLFFBQVEsSUFBRSxNQUFJRSxJQUFFRixHQUFFLFlBQVcsTUFBSUMsS0FBRUQsR0FBRSxVQUFVLElBQUVFLEVBQUMsT0FBS0YsR0FBRSxXQUFVQyxNQUFJRCxHQUFFLFVBQVUsS0FBRyxFQUFFRSxFQUFDLElBQUUsSUFBRSxFQUFFLEtBQUlGLEdBQUUsVUFBVSxJQUFFLEVBQUVDLEVBQUMsQ0FBQyxNQUFLRCxHQUFFLGFBQVdBLEdBQUUsY0FBWTtBQUFBLFFBQUMsR0FBRSxFQUFFLFlBQVUsU0FBU0EsSUFBRTtBQUFDLFlBQUVBLElBQUUsR0FBRSxDQUFDLEdBQUUsRUFBRUEsSUFBRSxHQUFFLENBQUMsR0FBRSxTQUFTQSxJQUFFO0FBQUMsbUJBQUtBLEdBQUUsWUFBVSxFQUFFQSxJQUFFQSxHQUFFLE1BQU0sR0FBRUEsR0FBRSxTQUFPLEdBQUVBLEdBQUUsV0FBUyxLQUFHLEtBQUdBLEdBQUUsYUFBV0EsR0FBRSxZQUFZQSxHQUFFLFNBQVMsSUFBRSxNQUFJQSxHQUFFLFFBQU9BLEdBQUUsV0FBUyxHQUFFQSxHQUFFLFlBQVU7QUFBQSxVQUFFLEVBQUVBLEVBQUM7QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLEVBQUMsbUJBQWtCLEdBQUUsQ0FBQyxHQUFFLElBQUcsQ0FBQyxTQUFTLEdBQUUsR0FBRSxHQUFFO0FBQUM7QUFBYSxVQUFFLFVBQVEs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QWlCLGVBQWU7QUFDdkQsWUFBSSxlQUFlLElBQUksYUFBYSxFQUFFLEtBQUssYUFBYSxZQUFZO0FBQ2hFLGdCQUFNLG9CQUFvQixvQkFBb0IsSUFBSSxhQUFhLFVBQVUsS0FBSyxDQUFDO0FBQy9FLDRCQUFrQixLQUFLLGFBQWEsRUFBRTtBQUN0Qyw4QkFBb0IsSUFBSSxhQUFhLFlBQVksaUJBQWlCO0FBQUEsUUFDdEU7QUFBQSxNQUNKO0FBQUEsSUFDSixTQUFTLE9BQVA7QUFDRSxXQUFLLE9BQU8sTUFBTSx5Q0FBeUMsS0FBSztBQUVoRSwwQkFBb0IsSUFBSSxNQUFNLENBQUMsRUFBRSxNQUFNLE9BQU8sV0FBVztBQUFBLElBQzdEO0FBRUEsV0FBTztBQUFBLEVBQ1g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLHFCQUFxQixPQUF1QjtBQUNoRCxXQUFPLE1BQU0sS0FBSyxDQUFDLEdBQUcsTUFBTTtBQUN4QixZQUFNLGlCQUFpQjtBQUN2QixZQUFNLGVBQWUsQ0FBQyxhQUFxQjtBQUN2QyxjQUFNLFFBQVEsU0FBUyxNQUFNLGNBQWM7QUFDM0MsWUFBSSxDQUFDLE9BQU87QUFDUixlQUFLLE9BQU8sS0FBSyxtQ0FBbUMsVUFBVTtBQUM5RCxpQkFBTztBQUFBLFFBQ1g7QUFDQSxlQUFPLE1BQU0sQ0FBQztBQUFBLE1BQ2xCO0FBQ0EsYUFBTyxhQUFhLEVBQUUsSUFBSSxFQUFFLGNBQWMsYUFBYSxFQUFFLElBQUksQ0FBQztBQUFBLElBQ2xFLENBQUM7QUFBQSxFQUNMO0FBQ0o7IiwKICAibmFtZXMiOiBbIm1vZHVsZSIsICJlIiwgInQiLCAiciIsICJjIiwgIm4iLCAiaSIsICJzIiwgImEiLCAibyIsICJoIiwgInUiLCAibCIsICJmIiwgImQiLCAicCIsICJtIiwgIkxvZ0xldmVsIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAibG9nZ2VyIiwgImltcG9ydF9vYnNpZGlhbiIsICJjb250ZW50IiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImxvZ2dlciIsICJsb2dnZXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgImxvZ2dlciIsICJfYSIsICJlbnN1cmVGb2xkZXJFeGlzdHMiLCAiZ2VuZXJhdGVDb252ZXJzYXRpb25GaWxlTmFtZSIsICJsb2dnZXIiLCAiZW5zdXJlRm9sZGVyRXhpc3RzIiwgImltcG9ydF9vYnNpZGlhbiIsICJKU1ppcCIsICJlbnN1cmVGb2xkZXJFeGlzdHMiLCAiZm9ybWF0VGltZXN0YW1wIiwgIm1vbWVudCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImxvZ2dlciIsICJVcGdyYWRlMTEwIiwgIlVwZ3JhZGUxMjAiLCAiVXBncmFkZTEzMCIsICJOZXh1c1VwZ3JhZGVNb2RhbCIsICJyZXF1ZXN0VXJsIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIkpTWmlwIl0KfQo=

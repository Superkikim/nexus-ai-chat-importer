/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/jszip/dist/jszip.min.js
var require_jszip_min = __commonJS({
  "node_modules/jszip/dist/jszip.min.js"(exports, module2) {
    !function(e) {
      if ("object" == typeof exports && "undefined" != typeof module2)
        module2.exports = e();
      else if ("function" == typeof define && define.amd)
        define([], e);
      else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).JSZip = e();
      }
    }(function() {
      return function s(a, o, h) {
        function u(r, e2) {
          if (!o[r]) {
            if (!a[r]) {
              var t = "function" == typeof require && require;
              if (!e2 && t)
                return t(r, true);
              if (l)
                return l(r, true);
              var n = new Error("Cannot find module '" + r + "'");
              throw n.code = "MODULE_NOT_FOUND", n;
            }
            var i = o[r] = { exports: {} };
            a[r][0].call(i.exports, function(e3) {
              var t2 = a[r][1][e3];
              return u(t2 || e3);
            }, i, i.exports, s, a, o, h);
          }
          return o[r].exports;
        }
        for (var l = "function" == typeof require && require, e = 0; e < h.length; e++)
          u(h[e]);
        return u;
      }({ 1: [function(e, t, r) {
        "use strict";
        var d = e("./utils"), c = e("./support"), p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        r.encode = function(e2) {
          for (var t2, r2, n, i, s, a, o, h = [], u = 0, l = e2.length, f = l, c2 = "string" !== d.getTypeOf(e2); u < e2.length; )
            f = l - u, n = c2 ? (t2 = e2[u++], r2 = u < l ? e2[u++] : 0, u < l ? e2[u++] : 0) : (t2 = e2.charCodeAt(u++), r2 = u < l ? e2.charCodeAt(u++) : 0, u < l ? e2.charCodeAt(u++) : 0), i = t2 >> 2, s = (3 & t2) << 4 | r2 >> 4, a = 1 < f ? (15 & r2) << 2 | n >> 6 : 64, o = 2 < f ? 63 & n : 64, h.push(p.charAt(i) + p.charAt(s) + p.charAt(a) + p.charAt(o));
          return h.join("");
        }, r.decode = function(e2) {
          var t2, r2, n, i, s, a, o = 0, h = 0, u = "data:";
          if (e2.substr(0, u.length) === u)
            throw new Error("Invalid base64 input, it looks like a data url.");
          var l, f = 3 * (e2 = e2.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4;
          if (e2.charAt(e2.length - 1) === p.charAt(64) && f--, e2.charAt(e2.length - 2) === p.charAt(64) && f--, f % 1 != 0)
            throw new Error("Invalid base64 input, bad content length.");
          for (l = c.uint8array ? new Uint8Array(0 | f) : new Array(0 | f); o < e2.length; )
            t2 = p.indexOf(e2.charAt(o++)) << 2 | (i = p.indexOf(e2.charAt(o++))) >> 4, r2 = (15 & i) << 4 | (s = p.indexOf(e2.charAt(o++))) >> 2, n = (3 & s) << 6 | (a = p.indexOf(e2.charAt(o++))), l[h++] = t2, 64 !== s && (l[h++] = r2), 64 !== a && (l[h++] = n);
          return l;
        };
      }, { "./support": 30, "./utils": 32 }], 2: [function(e, t, r) {
        "use strict";
        var n = e("./external"), i = e("./stream/DataWorker"), s = e("./stream/Crc32Probe"), a = e("./stream/DataLengthProbe");
        function o(e2, t2, r2, n2, i2) {
          this.compressedSize = e2, this.uncompressedSize = t2, this.crc32 = r2, this.compression = n2, this.compressedContent = i2;
        }
        o.prototype = { getContentWorker: function() {
          var e2 = new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")), t2 = this;
          return e2.on("end", function() {
            if (this.streamInfo.data_length !== t2.uncompressedSize)
              throw new Error("Bug : uncompressed data size mismatch");
          }), e2;
        }, getCompressedWorker: function() {
          return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression);
        } }, o.createWorkerFrom = function(e2, t2, r2) {
          return e2.pipe(new s()).pipe(new a("uncompressedSize")).pipe(t2.compressWorker(r2)).pipe(new a("compressedSize")).withStreamInfo("compression", t2);
        }, t.exports = o;
      }, { "./external": 6, "./stream/Crc32Probe": 25, "./stream/DataLengthProbe": 26, "./stream/DataWorker": 27 }], 3: [function(e, t, r) {
        "use strict";
        var n = e("./stream/GenericWorker");
        r.STORE = { magic: "\0\0", compressWorker: function() {
          return new n("STORE compression");
        }, uncompressWorker: function() {
          return new n("STORE decompression");
        } }, r.DEFLATE = e("./flate");
      }, { "./flate": 7, "./stream/GenericWorker": 28 }], 4: [function(e, t, r) {
        "use strict";
        var n = e("./utils");
        var o = function() {
          for (var e2, t2 = [], r2 = 0; r2 < 256; r2++) {
            e2 = r2;
            for (var n2 = 0; n2 < 8; n2++)
              e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
            t2[r2] = e2;
          }
          return t2;
        }();
        t.exports = function(e2, t2) {
          return void 0 !== e2 && e2.length ? "string" !== n.getTypeOf(e2) ? function(e3, t3, r2, n2) {
            var i = o, s = n2 + r2;
            e3 ^= -1;
            for (var a = n2; a < s; a++)
              e3 = e3 >>> 8 ^ i[255 & (e3 ^ t3[a])];
            return -1 ^ e3;
          }(0 | t2, e2, e2.length, 0) : function(e3, t3, r2, n2) {
            var i = o, s = n2 + r2;
            e3 ^= -1;
            for (var a = n2; a < s; a++)
              e3 = e3 >>> 8 ^ i[255 & (e3 ^ t3.charCodeAt(a))];
            return -1 ^ e3;
          }(0 | t2, e2, e2.length, 0) : 0;
        };
      }, { "./utils": 32 }], 5: [function(e, t, r) {
        "use strict";
        r.base64 = false, r.binary = false, r.dir = false, r.createFolders = true, r.date = null, r.compression = null, r.compressionOptions = null, r.comment = null, r.unixPermissions = null, r.dosPermissions = null;
      }, {}], 6: [function(e, t, r) {
        "use strict";
        var n = null;
        n = "undefined" != typeof Promise ? Promise : e("lie"), t.exports = { Promise: n };
      }, { lie: 37 }], 7: [function(e, t, r) {
        "use strict";
        var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array, i = e("pako"), s = e("./utils"), a = e("./stream/GenericWorker"), o = n ? "uint8array" : "array";
        function h(e2, t2) {
          a.call(this, "FlateWorker/" + e2), this._pako = null, this._pakoAction = e2, this._pakoOptions = t2, this.meta = {};
        }
        r.magic = "\b\0", s.inherits(h, a), h.prototype.processChunk = function(e2) {
          this.meta = e2.meta, null === this._pako && this._createPako(), this._pako.push(s.transformTo(o, e2.data), false);
        }, h.prototype.flush = function() {
          a.prototype.flush.call(this), null === this._pako && this._createPako(), this._pako.push([], true);
        }, h.prototype.cleanUp = function() {
          a.prototype.cleanUp.call(this), this._pako = null;
        }, h.prototype._createPako = function() {
          this._pako = new i[this._pakoAction]({ raw: true, level: this._pakoOptions.level || -1 });
          var t2 = this;
          this._pako.onData = function(e2) {
            t2.push({ data: e2, meta: t2.meta });
          };
        }, r.compressWorker = function(e2) {
          return new h("Deflate", e2);
        }, r.uncompressWorker = function() {
          return new h("Inflate", {});
        };
      }, { "./stream/GenericWorker": 28, "./utils": 32, pako: 38 }], 8: [function(e, t, r) {
        "use strict";
        function A(e2, t2) {
          var r2, n2 = "";
          for (r2 = 0; r2 < t2; r2++)
            n2 += String.fromCharCode(255 & e2), e2 >>>= 8;
          return n2;
        }
        function n(e2, t2, r2, n2, i2, s2) {
          var a, o, h = e2.file, u = e2.compression, l = s2 !== O.utf8encode, f = I.transformTo("string", s2(h.name)), c = I.transformTo("string", O.utf8encode(h.name)), d = h.comment, p = I.transformTo("string", s2(d)), m = I.transformTo("string", O.utf8encode(d)), _ = c.length !== h.name.length, g = m.length !== d.length, b = "", v = "", y = "", w = h.dir, k = h.date, x = { crc32: 0, compressedSize: 0, uncompressedSize: 0 };
          t2 && !r2 || (x.crc32 = e2.crc32, x.compressedSize = e2.compressedSize, x.uncompressedSize = e2.uncompressedSize);
          var S = 0;
          t2 && (S |= 8), l || !_ && !g || (S |= 2048);
          var z = 0, C = 0;
          w && (z |= 16), "UNIX" === i2 ? (C = 798, z |= function(e3, t3) {
            var r3 = e3;
            return e3 || (r3 = t3 ? 16893 : 33204), (65535 & r3) << 16;
          }(h.unixPermissions, w)) : (C = 20, z |= function(e3) {
            return 63 & (e3 || 0);
          }(h.dosPermissions)), a = k.getUTCHours(), a <<= 6, a |= k.getUTCMinutes(), a <<= 5, a |= k.getUTCSeconds() / 2, o = k.getUTCFullYear() - 1980, o <<= 4, o |= k.getUTCMonth() + 1, o <<= 5, o |= k.getUTCDate(), _ && (v = A(1, 1) + A(B(f), 4) + c, b += "up" + A(v.length, 2) + v), g && (y = A(1, 1) + A(B(p), 4) + m, b += "uc" + A(y.length, 2) + y);
          var E = "";
          return E += "\n\0", E += A(S, 2), E += u.magic, E += A(a, 2), E += A(o, 2), E += A(x.crc32, 4), E += A(x.compressedSize, 4), E += A(x.uncompressedSize, 4), E += A(f.length, 2), E += A(b.length, 2), { fileRecord: R.LOCAL_FILE_HEADER + E + f + b, dirRecord: R.CENTRAL_FILE_HEADER + A(C, 2) + E + A(p.length, 2) + "\0\0\0\0" + A(z, 4) + A(n2, 4) + f + b + p };
        }
        var I = e("../utils"), i = e("../stream/GenericWorker"), O = e("../utf8"), B = e("../crc32"), R = e("../signature");
        function s(e2, t2, r2, n2) {
          i.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = t2, this.zipPlatform = r2, this.encodeFileName = n2, this.streamFiles = e2, this.accumulate = false, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [];
        }
        I.inherits(s, i), s.prototype.push = function(e2) {
          var t2 = e2.meta.percent || 0, r2 = this.entriesCount, n2 = this._sources.length;
          this.accumulate ? this.contentBuffer.push(e2) : (this.bytesWritten += e2.data.length, i.prototype.push.call(this, { data: e2.data, meta: { currentFile: this.currentFile, percent: r2 ? (t2 + 100 * (r2 - n2 - 1)) / r2 : 100 } }));
        }, s.prototype.openedSource = function(e2) {
          this.currentSourceOffset = this.bytesWritten, this.currentFile = e2.file.name;
          var t2 = this.streamFiles && !e2.file.dir;
          if (t2) {
            var r2 = n(e2, t2, false, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
            this.push({ data: r2.fileRecord, meta: { percent: 0 } });
          } else
            this.accumulate = true;
        }, s.prototype.closedSource = function(e2) {
          this.accumulate = false;
          var t2 = this.streamFiles && !e2.file.dir, r2 = n(e2, t2, true, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
          if (this.dirRecords.push(r2.dirRecord), t2)
            this.push({ data: function(e3) {
              return R.DATA_DESCRIPTOR + A(e3.crc32, 4) + A(e3.compressedSize, 4) + A(e3.uncompressedSize, 4);
            }(e2), meta: { percent: 100 } });
          else
            for (this.push({ data: r2.fileRecord, meta: { percent: 0 } }); this.contentBuffer.length; )
              this.push(this.contentBuffer.shift());
          this.currentFile = null;
        }, s.prototype.flush = function() {
          for (var e2 = this.bytesWritten, t2 = 0; t2 < this.dirRecords.length; t2++)
            this.push({ data: this.dirRecords[t2], meta: { percent: 100 } });
          var r2 = this.bytesWritten - e2, n2 = function(e3, t3, r3, n3, i2) {
            var s2 = I.transformTo("string", i2(n3));
            return R.CENTRAL_DIRECTORY_END + "\0\0\0\0" + A(e3, 2) + A(e3, 2) + A(t3, 4) + A(r3, 4) + A(s2.length, 2) + s2;
          }(this.dirRecords.length, r2, e2, this.zipComment, this.encodeFileName);
          this.push({ data: n2, meta: { percent: 100 } });
        }, s.prototype.prepareNextSource = function() {
          this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume();
        }, s.prototype.registerPrevious = function(e2) {
          this._sources.push(e2);
          var t2 = this;
          return e2.on("data", function(e3) {
            t2.processChunk(e3);
          }), e2.on("end", function() {
            t2.closedSource(t2.previous.streamInfo), t2._sources.length ? t2.prepareNextSource() : t2.end();
          }), e2.on("error", function(e3) {
            t2.error(e3);
          }), this;
        }, s.prototype.resume = function() {
          return !!i.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), true) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), true));
        }, s.prototype.error = function(e2) {
          var t2 = this._sources;
          if (!i.prototype.error.call(this, e2))
            return false;
          for (var r2 = 0; r2 < t2.length; r2++)
            try {
              t2[r2].error(e2);
            } catch (e3) {
            }
          return true;
        }, s.prototype.lock = function() {
          i.prototype.lock.call(this);
          for (var e2 = this._sources, t2 = 0; t2 < e2.length; t2++)
            e2[t2].lock();
        }, t.exports = s;
      }, { "../crc32": 4, "../signature": 23, "../stream/GenericWorker": 28, "../utf8": 31, "../utils": 32 }], 9: [function(e, t, r) {
        "use strict";
        var u = e("../compressions"), n = e("./ZipFileWorker");
        r.generateWorker = function(e2, a, t2) {
          var o = new n(a.streamFiles, t2, a.platform, a.encodeFileName), h = 0;
          try {
            e2.forEach(function(e3, t3) {
              h++;
              var r2 = function(e4, t4) {
                var r3 = e4 || t4, n3 = u[r3];
                if (!n3)
                  throw new Error(r3 + " is not a valid compression method !");
                return n3;
              }(t3.options.compression, a.compression), n2 = t3.options.compressionOptions || a.compressionOptions || {}, i = t3.dir, s = t3.date;
              t3._compressWorker(r2, n2).withStreamInfo("file", { name: e3, dir: i, date: s, comment: t3.comment || "", unixPermissions: t3.unixPermissions, dosPermissions: t3.dosPermissions }).pipe(o);
            }), o.entriesCount = h;
          } catch (e3) {
            o.error(e3);
          }
          return o;
        };
      }, { "../compressions": 3, "./ZipFileWorker": 8 }], 10: [function(e, t, r) {
        "use strict";
        function n() {
          if (!(this instanceof n))
            return new n();
          if (arguments.length)
            throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
          this.files = /* @__PURE__ */ Object.create(null), this.comment = null, this.root = "", this.clone = function() {
            var e2 = new n();
            for (var t2 in this)
              "function" != typeof this[t2] && (e2[t2] = this[t2]);
            return e2;
          };
        }
        (n.prototype = e("./object")).loadAsync = e("./load"), n.support = e("./support"), n.defaults = e("./defaults"), n.version = "3.10.1", n.loadAsync = function(e2, t2) {
          return new n().loadAsync(e2, t2);
        }, n.external = e("./external"), t.exports = n;
      }, { "./defaults": 5, "./external": 6, "./load": 11, "./object": 15, "./support": 30 }], 11: [function(e, t, r) {
        "use strict";
        var u = e("./utils"), i = e("./external"), n = e("./utf8"), s = e("./zipEntries"), a = e("./stream/Crc32Probe"), l = e("./nodejsUtils");
        function f(n2) {
          return new i.Promise(function(e2, t2) {
            var r2 = n2.decompressed.getContentWorker().pipe(new a());
            r2.on("error", function(e3) {
              t2(e3);
            }).on("end", function() {
              r2.streamInfo.crc32 !== n2.decompressed.crc32 ? t2(new Error("Corrupted zip : CRC32 mismatch")) : e2();
            }).resume();
          });
        }
        t.exports = function(e2, o) {
          var h = this;
          return o = u.extend(o || {}, { base64: false, checkCRC32: false, optimizedBinaryString: false, createFolders: false, decodeFileName: n.utf8decode }), l.isNode && l.isStream(e2) ? i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : u.prepareContent("the loaded zip file", e2, true, o.optimizedBinaryString, o.base64).then(function(e3) {
            var t2 = new s(o);
            return t2.load(e3), t2;
          }).then(function(e3) {
            var t2 = [i.Promise.resolve(e3)], r2 = e3.files;
            if (o.checkCRC32)
              for (var n2 = 0; n2 < r2.length; n2++)
                t2.push(f(r2[n2]));
            return i.Promise.all(t2);
          }).then(function(e3) {
            for (var t2 = e3.shift(), r2 = t2.files, n2 = 0; n2 < r2.length; n2++) {
              var i2 = r2[n2], s2 = i2.fileNameStr, a2 = u.resolve(i2.fileNameStr);
              h.file(a2, i2.decompressed, { binary: true, optimizedBinaryString: true, date: i2.date, dir: i2.dir, comment: i2.fileCommentStr.length ? i2.fileCommentStr : null, unixPermissions: i2.unixPermissions, dosPermissions: i2.dosPermissions, createFolders: o.createFolders }), i2.dir || (h.file(a2).unsafeOriginalName = s2);
            }
            return t2.zipComment.length && (h.comment = t2.zipComment), h;
          });
        };
      }, { "./external": 6, "./nodejsUtils": 14, "./stream/Crc32Probe": 25, "./utf8": 31, "./utils": 32, "./zipEntries": 33 }], 12: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("../stream/GenericWorker");
        function s(e2, t2) {
          i.call(this, "Nodejs stream input adapter for " + e2), this._upstreamEnded = false, this._bindStream(t2);
        }
        n.inherits(s, i), s.prototype._bindStream = function(e2) {
          var t2 = this;
          (this._stream = e2).pause(), e2.on("data", function(e3) {
            t2.push({ data: e3, meta: { percent: 0 } });
          }).on("error", function(e3) {
            t2.isPaused ? this.generatedError = e3 : t2.error(e3);
          }).on("end", function() {
            t2.isPaused ? t2._upstreamEnded = true : t2.end();
          });
        }, s.prototype.pause = function() {
          return !!i.prototype.pause.call(this) && (this._stream.pause(), true);
        }, s.prototype.resume = function() {
          return !!i.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), true);
        }, t.exports = s;
      }, { "../stream/GenericWorker": 28, "../utils": 32 }], 13: [function(e, t, r) {
        "use strict";
        var i = e("readable-stream").Readable;
        function n(e2, t2, r2) {
          i.call(this, t2), this._helper = e2;
          var n2 = this;
          e2.on("data", function(e3, t3) {
            n2.push(e3) || n2._helper.pause(), r2 && r2(t3);
          }).on("error", function(e3) {
            n2.emit("error", e3);
          }).on("end", function() {
            n2.push(null);
          });
        }
        e("../utils").inherits(n, i), n.prototype._read = function() {
          this._helper.resume();
        }, t.exports = n;
      }, { "../utils": 32, "readable-stream": 16 }], 14: [function(e, t, r) {
        "use strict";
        t.exports = { isNode: "undefined" != typeof Buffer, newBufferFrom: function(e2, t2) {
          if (Buffer.from && Buffer.from !== Uint8Array.from)
            return Buffer.from(e2, t2);
          if ("number" == typeof e2)
            throw new Error('The "data" argument must not be a number');
          return new Buffer(e2, t2);
        }, allocBuffer: function(e2) {
          if (Buffer.alloc)
            return Buffer.alloc(e2);
          var t2 = new Buffer(e2);
          return t2.fill(0), t2;
        }, isBuffer: function(e2) {
          return Buffer.isBuffer(e2);
        }, isStream: function(e2) {
          return e2 && "function" == typeof e2.on && "function" == typeof e2.pause && "function" == typeof e2.resume;
        } };
      }, {}], 15: [function(e, t, r) {
        "use strict";
        function s(e2, t2, r2) {
          var n2, i2 = u.getTypeOf(t2), s2 = u.extend(r2 || {}, f);
          s2.date = s2.date || new Date(), null !== s2.compression && (s2.compression = s2.compression.toUpperCase()), "string" == typeof s2.unixPermissions && (s2.unixPermissions = parseInt(s2.unixPermissions, 8)), s2.unixPermissions && 16384 & s2.unixPermissions && (s2.dir = true), s2.dosPermissions && 16 & s2.dosPermissions && (s2.dir = true), s2.dir && (e2 = g(e2)), s2.createFolders && (n2 = _(e2)) && b.call(this, n2, true);
          var a2 = "string" === i2 && false === s2.binary && false === s2.base64;
          r2 && void 0 !== r2.binary || (s2.binary = !a2), (t2 instanceof c && 0 === t2.uncompressedSize || s2.dir || !t2 || 0 === t2.length) && (s2.base64 = false, s2.binary = true, t2 = "", s2.compression = "STORE", i2 = "string");
          var o2 = null;
          o2 = t2 instanceof c || t2 instanceof l ? t2 : p.isNode && p.isStream(t2) ? new m(e2, t2) : u.prepareContent(e2, t2, s2.binary, s2.optimizedBinaryString, s2.base64);
          var h2 = new d(e2, o2, s2);
          this.files[e2] = h2;
        }
        var i = e("./utf8"), u = e("./utils"), l = e("./stream/GenericWorker"), a = e("./stream/StreamHelper"), f = e("./defaults"), c = e("./compressedObject"), d = e("./zipObject"), o = e("./generate"), p = e("./nodejsUtils"), m = e("./nodejs/NodejsStreamInputAdapter"), _ = function(e2) {
          "/" === e2.slice(-1) && (e2 = e2.substring(0, e2.length - 1));
          var t2 = e2.lastIndexOf("/");
          return 0 < t2 ? e2.substring(0, t2) : "";
        }, g = function(e2) {
          return "/" !== e2.slice(-1) && (e2 += "/"), e2;
        }, b = function(e2, t2) {
          return t2 = void 0 !== t2 ? t2 : f.createFolders, e2 = g(e2), this.files[e2] || s.call(this, e2, null, { dir: true, createFolders: t2 }), this.files[e2];
        };
        function h(e2) {
          return "[object RegExp]" === Object.prototype.toString.call(e2);
        }
        var n = { load: function() {
          throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
        }, forEach: function(e2) {
          var t2, r2, n2;
          for (t2 in this.files)
            n2 = this.files[t2], (r2 = t2.slice(this.root.length, t2.length)) && t2.slice(0, this.root.length) === this.root && e2(r2, n2);
        }, filter: function(r2) {
          var n2 = [];
          return this.forEach(function(e2, t2) {
            r2(e2, t2) && n2.push(t2);
          }), n2;
        }, file: function(e2, t2, r2) {
          if (1 !== arguments.length)
            return e2 = this.root + e2, s.call(this, e2, t2, r2), this;
          if (h(e2)) {
            var n2 = e2;
            return this.filter(function(e3, t3) {
              return !t3.dir && n2.test(e3);
            });
          }
          var i2 = this.files[this.root + e2];
          return i2 && !i2.dir ? i2 : null;
        }, folder: function(r2) {
          if (!r2)
            return this;
          if (h(r2))
            return this.filter(function(e3, t3) {
              return t3.dir && r2.test(e3);
            });
          var e2 = this.root + r2, t2 = b.call(this, e2), n2 = this.clone();
          return n2.root = t2.name, n2;
        }, remove: function(r2) {
          r2 = this.root + r2;
          var e2 = this.files[r2];
          if (e2 || ("/" !== r2.slice(-1) && (r2 += "/"), e2 = this.files[r2]), e2 && !e2.dir)
            delete this.files[r2];
          else
            for (var t2 = this.filter(function(e3, t3) {
              return t3.name.slice(0, r2.length) === r2;
            }), n2 = 0; n2 < t2.length; n2++)
              delete this.files[t2[n2].name];
          return this;
        }, generate: function() {
          throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
        }, generateInternalStream: function(e2) {
          var t2, r2 = {};
          try {
            if ((r2 = u.extend(e2 || {}, { streamFiles: false, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: i.utf8encode })).type = r2.type.toLowerCase(), r2.compression = r2.compression.toUpperCase(), "binarystring" === r2.type && (r2.type = "string"), !r2.type)
              throw new Error("No output type specified.");
            u.checkSupport(r2.type), "darwin" !== r2.platform && "freebsd" !== r2.platform && "linux" !== r2.platform && "sunos" !== r2.platform || (r2.platform = "UNIX"), "win32" === r2.platform && (r2.platform = "DOS");
            var n2 = r2.comment || this.comment || "";
            t2 = o.generateWorker(this, r2, n2);
          } catch (e3) {
            (t2 = new l("error")).error(e3);
          }
          return new a(t2, r2.type || "string", r2.mimeType);
        }, generateAsync: function(e2, t2) {
          return this.generateInternalStream(e2).accumulate(t2);
        }, generateNodeStream: function(e2, t2) {
          return (e2 = e2 || {}).type || (e2.type = "nodebuffer"), this.generateInternalStream(e2).toNodejsStream(t2);
        } };
        t.exports = n;
      }, { "./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 12, "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31, "./utils": 32, "./zipObject": 35 }], 16: [function(e, t, r) {
        "use strict";
        t.exports = e("stream");
      }, { stream: void 0 }], 17: [function(e, t, r) {
        "use strict";
        var n = e("./DataReader");
        function i(e2) {
          n.call(this, e2);
          for (var t2 = 0; t2 < this.data.length; t2++)
            e2[t2] = 255 & e2[t2];
        }
        e("../utils").inherits(i, n), i.prototype.byteAt = function(e2) {
          return this.data[this.zero + e2];
        }, i.prototype.lastIndexOfSignature = function(e2) {
          for (var t2 = e2.charCodeAt(0), r2 = e2.charCodeAt(1), n2 = e2.charCodeAt(2), i2 = e2.charCodeAt(3), s = this.length - 4; 0 <= s; --s)
            if (this.data[s] === t2 && this.data[s + 1] === r2 && this.data[s + 2] === n2 && this.data[s + 3] === i2)
              return s - this.zero;
          return -1;
        }, i.prototype.readAndCheckSignature = function(e2) {
          var t2 = e2.charCodeAt(0), r2 = e2.charCodeAt(1), n2 = e2.charCodeAt(2), i2 = e2.charCodeAt(3), s = this.readData(4);
          return t2 === s[0] && r2 === s[1] && n2 === s[2] && i2 === s[3];
        }, i.prototype.readData = function(e2) {
          if (this.checkOffset(e2), 0 === e2)
            return [];
          var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./DataReader": 18 }], 18: [function(e, t, r) {
        "use strict";
        var n = e("../utils");
        function i(e2) {
          this.data = e2, this.length = e2.length, this.index = 0, this.zero = 0;
        }
        i.prototype = { checkOffset: function(e2) {
          this.checkIndex(this.index + e2);
        }, checkIndex: function(e2) {
          if (this.length < this.zero + e2 || e2 < 0)
            throw new Error("End of data reached (data length = " + this.length + ", asked index = " + e2 + "). Corrupted zip ?");
        }, setIndex: function(e2) {
          this.checkIndex(e2), this.index = e2;
        }, skip: function(e2) {
          this.setIndex(this.index + e2);
        }, byteAt: function() {
        }, readInt: function(e2) {
          var t2, r2 = 0;
          for (this.checkOffset(e2), t2 = this.index + e2 - 1; t2 >= this.index; t2--)
            r2 = (r2 << 8) + this.byteAt(t2);
          return this.index += e2, r2;
        }, readString: function(e2) {
          return n.transformTo("string", this.readData(e2));
        }, readData: function() {
        }, lastIndexOfSignature: function() {
        }, readAndCheckSignature: function() {
        }, readDate: function() {
          var e2 = this.readInt(4);
          return new Date(Date.UTC(1980 + (e2 >> 25 & 127), (e2 >> 21 & 15) - 1, e2 >> 16 & 31, e2 >> 11 & 31, e2 >> 5 & 63, (31 & e2) << 1));
        } }, t.exports = i;
      }, { "../utils": 32 }], 19: [function(e, t, r) {
        "use strict";
        var n = e("./Uint8ArrayReader");
        function i(e2) {
          n.call(this, e2);
        }
        e("../utils").inherits(i, n), i.prototype.readData = function(e2) {
          this.checkOffset(e2);
          var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./Uint8ArrayReader": 21 }], 20: [function(e, t, r) {
        "use strict";
        var n = e("./DataReader");
        function i(e2) {
          n.call(this, e2);
        }
        e("../utils").inherits(i, n), i.prototype.byteAt = function(e2) {
          return this.data.charCodeAt(this.zero + e2);
        }, i.prototype.lastIndexOfSignature = function(e2) {
          return this.data.lastIndexOf(e2) - this.zero;
        }, i.prototype.readAndCheckSignature = function(e2) {
          return e2 === this.readData(4);
        }, i.prototype.readData = function(e2) {
          this.checkOffset(e2);
          var t2 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./DataReader": 18 }], 21: [function(e, t, r) {
        "use strict";
        var n = e("./ArrayReader");
        function i(e2) {
          n.call(this, e2);
        }
        e("../utils").inherits(i, n), i.prototype.readData = function(e2) {
          if (this.checkOffset(e2), 0 === e2)
            return new Uint8Array(0);
          var t2 = this.data.subarray(this.zero + this.index, this.zero + this.index + e2);
          return this.index += e2, t2;
        }, t.exports = i;
      }, { "../utils": 32, "./ArrayReader": 17 }], 22: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("../support"), s = e("./ArrayReader"), a = e("./StringReader"), o = e("./NodeBufferReader"), h = e("./Uint8ArrayReader");
        t.exports = function(e2) {
          var t2 = n.getTypeOf(e2);
          return n.checkSupport(t2), "string" !== t2 || i.uint8array ? "nodebuffer" === t2 ? new o(e2) : i.uint8array ? new h(n.transformTo("uint8array", e2)) : new s(n.transformTo("array", e2)) : new a(e2);
        };
      }, { "../support": 30, "../utils": 32, "./ArrayReader": 17, "./NodeBufferReader": 19, "./StringReader": 20, "./Uint8ArrayReader": 21 }], 23: [function(e, t, r) {
        "use strict";
        r.LOCAL_FILE_HEADER = "PK", r.CENTRAL_FILE_HEADER = "PK", r.CENTRAL_DIRECTORY_END = "PK", r.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", r.ZIP64_CENTRAL_DIRECTORY_END = "PK", r.DATA_DESCRIPTOR = "PK\x07\b";
      }, {}], 24: [function(e, t, r) {
        "use strict";
        var n = e("./GenericWorker"), i = e("../utils");
        function s(e2) {
          n.call(this, "ConvertWorker to " + e2), this.destType = e2;
        }
        i.inherits(s, n), s.prototype.processChunk = function(e2) {
          this.push({ data: i.transformTo(this.destType, e2.data), meta: e2.meta });
        }, t.exports = s;
      }, { "../utils": 32, "./GenericWorker": 28 }], 25: [function(e, t, r) {
        "use strict";
        var n = e("./GenericWorker"), i = e("../crc32");
        function s() {
          n.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0);
        }
        e("../utils").inherits(s, n), s.prototype.processChunk = function(e2) {
          this.streamInfo.crc32 = i(e2.data, this.streamInfo.crc32 || 0), this.push(e2);
        }, t.exports = s;
      }, { "../crc32": 4, "../utils": 32, "./GenericWorker": 28 }], 26: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("./GenericWorker");
        function s(e2) {
          i.call(this, "DataLengthProbe for " + e2), this.propName = e2, this.withStreamInfo(e2, 0);
        }
        n.inherits(s, i), s.prototype.processChunk = function(e2) {
          if (e2) {
            var t2 = this.streamInfo[this.propName] || 0;
            this.streamInfo[this.propName] = t2 + e2.data.length;
          }
          i.prototype.processChunk.call(this, e2);
        }, t.exports = s;
      }, { "../utils": 32, "./GenericWorker": 28 }], 27: [function(e, t, r) {
        "use strict";
        var n = e("../utils"), i = e("./GenericWorker");
        function s(e2) {
          i.call(this, "DataWorker");
          var t2 = this;
          this.dataIsReady = false, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = false, e2.then(function(e3) {
            t2.dataIsReady = true, t2.data = e3, t2.max = e3 && e3.length || 0, t2.type = n.getTypeOf(e3), t2.isPaused || t2._tickAndRepeat();
          }, function(e3) {
            t2.error(e3);
          });
        }
        n.inherits(s, i), s.prototype.cleanUp = function() {
          i.prototype.cleanUp.call(this), this.data = null;
        }, s.prototype.resume = function() {
          return !!i.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = true, n.delay(this._tickAndRepeat, [], this)), true);
        }, s.prototype._tickAndRepeat = function() {
          this._tickScheduled = false, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (n.delay(this._tickAndRepeat, [], this), this._tickScheduled = true));
        }, s.prototype._tick = function() {
          if (this.isPaused || this.isFinished)
            return false;
          var e2 = null, t2 = Math.min(this.max, this.index + 16384);
          if (this.index >= this.max)
            return this.end();
          switch (this.type) {
            case "string":
              e2 = this.data.substring(this.index, t2);
              break;
            case "uint8array":
              e2 = this.data.subarray(this.index, t2);
              break;
            case "array":
            case "nodebuffer":
              e2 = this.data.slice(this.index, t2);
          }
          return this.index = t2, this.push({ data: e2, meta: { percent: this.max ? this.index / this.max * 100 : 0 } });
        }, t.exports = s;
      }, { "../utils": 32, "./GenericWorker": 28 }], 28: [function(e, t, r) {
        "use strict";
        function n(e2) {
          this.name = e2 || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = true, this.isFinished = false, this.isLocked = false, this._listeners = { data: [], end: [], error: [] }, this.previous = null;
        }
        n.prototype = { push: function(e2) {
          this.emit("data", e2);
        }, end: function() {
          if (this.isFinished)
            return false;
          this.flush();
          try {
            this.emit("end"), this.cleanUp(), this.isFinished = true;
          } catch (e2) {
            this.emit("error", e2);
          }
          return true;
        }, error: function(e2) {
          return !this.isFinished && (this.isPaused ? this.generatedError = e2 : (this.isFinished = true, this.emit("error", e2), this.previous && this.previous.error(e2), this.cleanUp()), true);
        }, on: function(e2, t2) {
          return this._listeners[e2].push(t2), this;
        }, cleanUp: function() {
          this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [];
        }, emit: function(e2, t2) {
          if (this._listeners[e2])
            for (var r2 = 0; r2 < this._listeners[e2].length; r2++)
              this._listeners[e2][r2].call(this, t2);
        }, pipe: function(e2) {
          return e2.registerPrevious(this);
        }, registerPrevious: function(e2) {
          if (this.isLocked)
            throw new Error("The stream '" + this + "' has already been used.");
          this.streamInfo = e2.streamInfo, this.mergeStreamInfo(), this.previous = e2;
          var t2 = this;
          return e2.on("data", function(e3) {
            t2.processChunk(e3);
          }), e2.on("end", function() {
            t2.end();
          }), e2.on("error", function(e3) {
            t2.error(e3);
          }), this;
        }, pause: function() {
          return !this.isPaused && !this.isFinished && (this.isPaused = true, this.previous && this.previous.pause(), true);
        }, resume: function() {
          if (!this.isPaused || this.isFinished)
            return false;
          var e2 = this.isPaused = false;
          return this.generatedError && (this.error(this.generatedError), e2 = true), this.previous && this.previous.resume(), !e2;
        }, flush: function() {
        }, processChunk: function(e2) {
          this.push(e2);
        }, withStreamInfo: function(e2, t2) {
          return this.extraStreamInfo[e2] = t2, this.mergeStreamInfo(), this;
        }, mergeStreamInfo: function() {
          for (var e2 in this.extraStreamInfo)
            Object.prototype.hasOwnProperty.call(this.extraStreamInfo, e2) && (this.streamInfo[e2] = this.extraStreamInfo[e2]);
        }, lock: function() {
          if (this.isLocked)
            throw new Error("The stream '" + this + "' has already been used.");
          this.isLocked = true, this.previous && this.previous.lock();
        }, toString: function() {
          var e2 = "Worker " + this.name;
          return this.previous ? this.previous + " -> " + e2 : e2;
        } }, t.exports = n;
      }, {}], 29: [function(e, t, r) {
        "use strict";
        var h = e("../utils"), i = e("./ConvertWorker"), s = e("./GenericWorker"), u = e("../base64"), n = e("../support"), a = e("../external"), o = null;
        if (n.nodestream)
          try {
            o = e("../nodejs/NodejsStreamOutputAdapter");
          } catch (e2) {
          }
        function l(e2, o2) {
          return new a.Promise(function(t2, r2) {
            var n2 = [], i2 = e2._internalType, s2 = e2._outputType, a2 = e2._mimeType;
            e2.on("data", function(e3, t3) {
              n2.push(e3), o2 && o2(t3);
            }).on("error", function(e3) {
              n2 = [], r2(e3);
            }).on("end", function() {
              try {
                var e3 = function(e4, t3, r3) {
                  switch (e4) {
                    case "blob":
                      return h.newBlob(h.transformTo("arraybuffer", t3), r3);
                    case "base64":
                      return u.encode(t3);
                    default:
                      return h.transformTo(e4, t3);
                  }
                }(s2, function(e4, t3) {
                  var r3, n3 = 0, i3 = null, s3 = 0;
                  for (r3 = 0; r3 < t3.length; r3++)
                    s3 += t3[r3].length;
                  switch (e4) {
                    case "string":
                      return t3.join("");
                    case "array":
                      return Array.prototype.concat.apply([], t3);
                    case "uint8array":
                      for (i3 = new Uint8Array(s3), r3 = 0; r3 < t3.length; r3++)
                        i3.set(t3[r3], n3), n3 += t3[r3].length;
                      return i3;
                    case "nodebuffer":
                      return Buffer.concat(t3);
                    default:
                      throw new Error("concat : unsupported type '" + e4 + "'");
                  }
                }(i2, n2), a2);
                t2(e3);
              } catch (e4) {
                r2(e4);
              }
              n2 = [];
            }).resume();
          });
        }
        function f(e2, t2, r2) {
          var n2 = t2;
          switch (t2) {
            case "blob":
            case "arraybuffer":
              n2 = "uint8array";
              break;
            case "base64":
              n2 = "string";
          }
          try {
            this._internalType = n2, this._outputType = t2, this._mimeType = r2, h.checkSupport(n2), this._worker = e2.pipe(new i(n2)), e2.lock();
          } catch (e3) {
            this._worker = new s("error"), this._worker.error(e3);
          }
        }
        f.prototype = { accumulate: function(e2) {
          return l(this, e2);
        }, on: function(e2, t2) {
          var r2 = this;
          return "data" === e2 ? this._worker.on(e2, function(e3) {
            t2.call(r2, e3.data, e3.meta);
          }) : this._worker.on(e2, function() {
            h.delay(t2, arguments, r2);
          }), this;
        }, resume: function() {
          return h.delay(this._worker.resume, [], this._worker), this;
        }, pause: function() {
          return this._worker.pause(), this;
        }, toNodejsStream: function(e2) {
          if (h.checkSupport("nodestream"), "nodebuffer" !== this._outputType)
            throw new Error(this._outputType + " is not supported by this method");
          return new o(this, { objectMode: "nodebuffer" !== this._outputType }, e2);
        } }, t.exports = f;
      }, { "../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 13, "../support": 30, "../utils": 32, "./ConvertWorker": 24, "./GenericWorker": 28 }], 30: [function(e, t, r) {
        "use strict";
        if (r.base64 = true, r.array = true, r.string = true, r.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, r.nodebuffer = "undefined" != typeof Buffer, r.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer)
          r.blob = false;
        else {
          var n = new ArrayBuffer(0);
          try {
            r.blob = 0 === new Blob([n], { type: "application/zip" }).size;
          } catch (e2) {
            try {
              var i = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
              i.append(n), r.blob = 0 === i.getBlob("application/zip").size;
            } catch (e3) {
              r.blob = false;
            }
          }
        }
        try {
          r.nodestream = !!e("readable-stream").Readable;
        } catch (e2) {
          r.nodestream = false;
        }
      }, { "readable-stream": 16 }], 31: [function(e, t, s) {
        "use strict";
        for (var o = e("./utils"), h = e("./support"), r = e("./nodejsUtils"), n = e("./stream/GenericWorker"), u = new Array(256), i = 0; i < 256; i++)
          u[i] = 252 <= i ? 6 : 248 <= i ? 5 : 240 <= i ? 4 : 224 <= i ? 3 : 192 <= i ? 2 : 1;
        u[254] = u[254] = 1;
        function a() {
          n.call(this, "utf-8 decode"), this.leftOver = null;
        }
        function l() {
          n.call(this, "utf-8 encode");
        }
        s.utf8encode = function(e2) {
          return h.nodebuffer ? r.newBufferFrom(e2, "utf-8") : function(e3) {
            var t2, r2, n2, i2, s2, a2 = e3.length, o2 = 0;
            for (i2 = 0; i2 < a2; i2++)
              55296 == (64512 & (r2 = e3.charCodeAt(i2))) && i2 + 1 < a2 && 56320 == (64512 & (n2 = e3.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), o2 += r2 < 128 ? 1 : r2 < 2048 ? 2 : r2 < 65536 ? 3 : 4;
            for (t2 = h.uint8array ? new Uint8Array(o2) : new Array(o2), i2 = s2 = 0; s2 < o2; i2++)
              55296 == (64512 & (r2 = e3.charCodeAt(i2))) && i2 + 1 < a2 && 56320 == (64512 & (n2 = e3.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), r2 < 128 ? t2[s2++] = r2 : (r2 < 2048 ? t2[s2++] = 192 | r2 >>> 6 : (r2 < 65536 ? t2[s2++] = 224 | r2 >>> 12 : (t2[s2++] = 240 | r2 >>> 18, t2[s2++] = 128 | r2 >>> 12 & 63), t2[s2++] = 128 | r2 >>> 6 & 63), t2[s2++] = 128 | 63 & r2);
            return t2;
          }(e2);
        }, s.utf8decode = function(e2) {
          return h.nodebuffer ? o.transformTo("nodebuffer", e2).toString("utf-8") : function(e3) {
            var t2, r2, n2, i2, s2 = e3.length, a2 = new Array(2 * s2);
            for (t2 = r2 = 0; t2 < s2; )
              if ((n2 = e3[t2++]) < 128)
                a2[r2++] = n2;
              else if (4 < (i2 = u[n2]))
                a2[r2++] = 65533, t2 += i2 - 1;
              else {
                for (n2 &= 2 === i2 ? 31 : 3 === i2 ? 15 : 7; 1 < i2 && t2 < s2; )
                  n2 = n2 << 6 | 63 & e3[t2++], i2--;
                1 < i2 ? a2[r2++] = 65533 : n2 < 65536 ? a2[r2++] = n2 : (n2 -= 65536, a2[r2++] = 55296 | n2 >> 10 & 1023, a2[r2++] = 56320 | 1023 & n2);
              }
            return a2.length !== r2 && (a2.subarray ? a2 = a2.subarray(0, r2) : a2.length = r2), o.applyFromCharCode(a2);
          }(e2 = o.transformTo(h.uint8array ? "uint8array" : "array", e2));
        }, o.inherits(a, n), a.prototype.processChunk = function(e2) {
          var t2 = o.transformTo(h.uint8array ? "uint8array" : "array", e2.data);
          if (this.leftOver && this.leftOver.length) {
            if (h.uint8array) {
              var r2 = t2;
              (t2 = new Uint8Array(r2.length + this.leftOver.length)).set(this.leftOver, 0), t2.set(r2, this.leftOver.length);
            } else
              t2 = this.leftOver.concat(t2);
            this.leftOver = null;
          }
          var n2 = function(e3, t3) {
            var r3;
            for ((t3 = t3 || e3.length) > e3.length && (t3 = e3.length), r3 = t3 - 1; 0 <= r3 && 128 == (192 & e3[r3]); )
              r3--;
            return r3 < 0 ? t3 : 0 === r3 ? t3 : r3 + u[e3[r3]] > t3 ? r3 : t3;
          }(t2), i2 = t2;
          n2 !== t2.length && (h.uint8array ? (i2 = t2.subarray(0, n2), this.leftOver = t2.subarray(n2, t2.length)) : (i2 = t2.slice(0, n2), this.leftOver = t2.slice(n2, t2.length))), this.push({ data: s.utf8decode(i2), meta: e2.meta });
        }, a.prototype.flush = function() {
          this.leftOver && this.leftOver.length && (this.push({ data: s.utf8decode(this.leftOver), meta: {} }), this.leftOver = null);
        }, s.Utf8DecodeWorker = a, o.inherits(l, n), l.prototype.processChunk = function(e2) {
          this.push({ data: s.utf8encode(e2.data), meta: e2.meta });
        }, s.Utf8EncodeWorker = l;
      }, { "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./support": 30, "./utils": 32 }], 32: [function(e, t, a) {
        "use strict";
        var o = e("./support"), h = e("./base64"), r = e("./nodejsUtils"), u = e("./external");
        function n(e2) {
          return e2;
        }
        function l(e2, t2) {
          for (var r2 = 0; r2 < e2.length; ++r2)
            t2[r2] = 255 & e2.charCodeAt(r2);
          return t2;
        }
        e("setimmediate"), a.newBlob = function(t2, r2) {
          a.checkSupport("blob");
          try {
            return new Blob([t2], { type: r2 });
          } catch (e2) {
            try {
              var n2 = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
              return n2.append(t2), n2.getBlob(r2);
            } catch (e3) {
              throw new Error("Bug : can't construct the Blob.");
            }
          }
        };
        var i = { stringifyByChunk: function(e2, t2, r2) {
          var n2 = [], i2 = 0, s2 = e2.length;
          if (s2 <= r2)
            return String.fromCharCode.apply(null, e2);
          for (; i2 < s2; )
            "array" === t2 || "nodebuffer" === t2 ? n2.push(String.fromCharCode.apply(null, e2.slice(i2, Math.min(i2 + r2, s2)))) : n2.push(String.fromCharCode.apply(null, e2.subarray(i2, Math.min(i2 + r2, s2)))), i2 += r2;
          return n2.join("");
        }, stringifyByChar: function(e2) {
          for (var t2 = "", r2 = 0; r2 < e2.length; r2++)
            t2 += String.fromCharCode(e2[r2]);
          return t2;
        }, applyCanBeUsed: { uint8array: function() {
          try {
            return o.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length;
          } catch (e2) {
            return false;
          }
        }(), nodebuffer: function() {
          try {
            return o.nodebuffer && 1 === String.fromCharCode.apply(null, r.allocBuffer(1)).length;
          } catch (e2) {
            return false;
          }
        }() } };
        function s(e2) {
          var t2 = 65536, r2 = a.getTypeOf(e2), n2 = true;
          if ("uint8array" === r2 ? n2 = i.applyCanBeUsed.uint8array : "nodebuffer" === r2 && (n2 = i.applyCanBeUsed.nodebuffer), n2)
            for (; 1 < t2; )
              try {
                return i.stringifyByChunk(e2, r2, t2);
              } catch (e3) {
                t2 = Math.floor(t2 / 2);
              }
          return i.stringifyByChar(e2);
        }
        function f(e2, t2) {
          for (var r2 = 0; r2 < e2.length; r2++)
            t2[r2] = e2[r2];
          return t2;
        }
        a.applyFromCharCode = s;
        var c = {};
        c.string = { string: n, array: function(e2) {
          return l(e2, new Array(e2.length));
        }, arraybuffer: function(e2) {
          return c.string.uint8array(e2).buffer;
        }, uint8array: function(e2) {
          return l(e2, new Uint8Array(e2.length));
        }, nodebuffer: function(e2) {
          return l(e2, r.allocBuffer(e2.length));
        } }, c.array = { string: s, array: n, arraybuffer: function(e2) {
          return new Uint8Array(e2).buffer;
        }, uint8array: function(e2) {
          return new Uint8Array(e2);
        }, nodebuffer: function(e2) {
          return r.newBufferFrom(e2);
        } }, c.arraybuffer = { string: function(e2) {
          return s(new Uint8Array(e2));
        }, array: function(e2) {
          return f(new Uint8Array(e2), new Array(e2.byteLength));
        }, arraybuffer: n, uint8array: function(e2) {
          return new Uint8Array(e2);
        }, nodebuffer: function(e2) {
          return r.newBufferFrom(new Uint8Array(e2));
        } }, c.uint8array = { string: s, array: function(e2) {
          return f(e2, new Array(e2.length));
        }, arraybuffer: function(e2) {
          return e2.buffer;
        }, uint8array: n, nodebuffer: function(e2) {
          return r.newBufferFrom(e2);
        } }, c.nodebuffer = { string: s, array: function(e2) {
          return f(e2, new Array(e2.length));
        }, arraybuffer: function(e2) {
          return c.nodebuffer.uint8array(e2).buffer;
        }, uint8array: function(e2) {
          return f(e2, new Uint8Array(e2.length));
        }, nodebuffer: n }, a.transformTo = function(e2, t2) {
          if (t2 = t2 || "", !e2)
            return t2;
          a.checkSupport(e2);
          var r2 = a.getTypeOf(t2);
          return c[r2][e2](t2);
        }, a.resolve = function(e2) {
          for (var t2 = e2.split("/"), r2 = [], n2 = 0; n2 < t2.length; n2++) {
            var i2 = t2[n2];
            "." === i2 || "" === i2 && 0 !== n2 && n2 !== t2.length - 1 || (".." === i2 ? r2.pop() : r2.push(i2));
          }
          return r2.join("/");
        }, a.getTypeOf = function(e2) {
          return "string" == typeof e2 ? "string" : "[object Array]" === Object.prototype.toString.call(e2) ? "array" : o.nodebuffer && r.isBuffer(e2) ? "nodebuffer" : o.uint8array && e2 instanceof Uint8Array ? "uint8array" : o.arraybuffer && e2 instanceof ArrayBuffer ? "arraybuffer" : void 0;
        }, a.checkSupport = function(e2) {
          if (!o[e2.toLowerCase()])
            throw new Error(e2 + " is not supported by this platform");
        }, a.MAX_VALUE_16BITS = 65535, a.MAX_VALUE_32BITS = -1, a.pretty = function(e2) {
          var t2, r2, n2 = "";
          for (r2 = 0; r2 < (e2 || "").length; r2++)
            n2 += "\\x" + ((t2 = e2.charCodeAt(r2)) < 16 ? "0" : "") + t2.toString(16).toUpperCase();
          return n2;
        }, a.delay = function(e2, t2, r2) {
          setImmediate(function() {
            e2.apply(r2 || null, t2 || []);
          });
        }, a.inherits = function(e2, t2) {
          function r2() {
          }
          r2.prototype = t2.prototype, e2.prototype = new r2();
        }, a.extend = function() {
          var e2, t2, r2 = {};
          for (e2 = 0; e2 < arguments.length; e2++)
            for (t2 in arguments[e2])
              Object.prototype.hasOwnProperty.call(arguments[e2], t2) && void 0 === r2[t2] && (r2[t2] = arguments[e2][t2]);
          return r2;
        }, a.prepareContent = function(r2, e2, n2, i2, s2) {
          return u.Promise.resolve(e2).then(function(n3) {
            return o.blob && (n3 instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(n3))) && "undefined" != typeof FileReader ? new u.Promise(function(t2, r3) {
              var e3 = new FileReader();
              e3.onload = function(e4) {
                t2(e4.target.result);
              }, e3.onerror = function(e4) {
                r3(e4.target.error);
              }, e3.readAsArrayBuffer(n3);
            }) : n3;
          }).then(function(e3) {
            var t2 = a.getTypeOf(e3);
            return t2 ? ("arraybuffer" === t2 ? e3 = a.transformTo("uint8array", e3) : "string" === t2 && (s2 ? e3 = h.decode(e3) : n2 && true !== i2 && (e3 = function(e4) {
              return l(e4, o.uint8array ? new Uint8Array(e4.length) : new Array(e4.length));
            }(e3))), e3) : u.Promise.reject(new Error("Can't read the data of '" + r2 + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));
          });
        };
      }, { "./base64": 1, "./external": 6, "./nodejsUtils": 14, "./support": 30, setimmediate: 54 }], 33: [function(e, t, r) {
        "use strict";
        var n = e("./reader/readerFor"), i = e("./utils"), s = e("./signature"), a = e("./zipEntry"), o = e("./support");
        function h(e2) {
          this.files = [], this.loadOptions = e2;
        }
        h.prototype = { checkSignature: function(e2) {
          if (!this.reader.readAndCheckSignature(e2)) {
            this.reader.index -= 4;
            var t2 = this.reader.readString(4);
            throw new Error("Corrupted zip or bug: unexpected signature (" + i.pretty(t2) + ", expected " + i.pretty(e2) + ")");
          }
        }, isSignature: function(e2, t2) {
          var r2 = this.reader.index;
          this.reader.setIndex(e2);
          var n2 = this.reader.readString(4) === t2;
          return this.reader.setIndex(r2), n2;
        }, readBlockEndOfCentral: function() {
          this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);
          var e2 = this.reader.readData(this.zipCommentLength), t2 = o.uint8array ? "uint8array" : "array", r2 = i.transformTo(t2, e2);
          this.zipComment = this.loadOptions.decodeFileName(r2);
        }, readBlockZip64EndOfCentral: function() {
          this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
          for (var e2, t2, r2, n2 = this.zip64EndOfCentralSize - 44; 0 < n2; )
            e2 = this.reader.readInt(2), t2 = this.reader.readInt(4), r2 = this.reader.readData(t2), this.zip64ExtensibleData[e2] = { id: e2, length: t2, value: r2 };
        }, readBlockZip64EndOfCentralLocator: function() {
          if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount)
            throw new Error("Multi-volumes zip are not supported");
        }, readLocalFiles: function() {
          var e2, t2;
          for (e2 = 0; e2 < this.files.length; e2++)
            t2 = this.files[e2], this.reader.setIndex(t2.localHeaderOffset), this.checkSignature(s.LOCAL_FILE_HEADER), t2.readLocalPart(this.reader), t2.handleUTF8(), t2.processAttributes();
        }, readCentralDir: function() {
          var e2;
          for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER); )
            (e2 = new a({ zip64: this.zip64 }, this.loadOptions)).readCentralPart(this.reader), this.files.push(e2);
          if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length)
            throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length);
        }, readEndOfCentral: function() {
          var e2 = this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);
          if (e2 < 0)
            throw !this.isSignature(0, s.LOCAL_FILE_HEADER) ? new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html") : new Error("Corrupted zip: can't find end of central directory");
          this.reader.setIndex(e2);
          var t2 = e2;
          if (this.checkSignature(s.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === i.MAX_VALUE_16BITS || this.diskWithCentralDirStart === i.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === i.MAX_VALUE_16BITS || this.centralDirRecords === i.MAX_VALUE_16BITS || this.centralDirSize === i.MAX_VALUE_32BITS || this.centralDirOffset === i.MAX_VALUE_32BITS) {
            if (this.zip64 = true, (e2 = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0)
              throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
            if (this.reader.setIndex(e2), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, s.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0))
              throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");
            this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral();
          }
          var r2 = this.centralDirOffset + this.centralDirSize;
          this.zip64 && (r2 += 20, r2 += 12 + this.zip64EndOfCentralSize);
          var n2 = t2 - r2;
          if (0 < n2)
            this.isSignature(t2, s.CENTRAL_FILE_HEADER) || (this.reader.zero = n2);
          else if (n2 < 0)
            throw new Error("Corrupted zip: missing " + Math.abs(n2) + " bytes.");
        }, prepareReader: function(e2) {
          this.reader = n(e2);
        }, load: function(e2) {
          this.prepareReader(e2), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles();
        } }, t.exports = h;
      }, { "./reader/readerFor": 22, "./signature": 23, "./support": 30, "./utils": 32, "./zipEntry": 34 }], 34: [function(e, t, r) {
        "use strict";
        var n = e("./reader/readerFor"), s = e("./utils"), i = e("./compressedObject"), a = e("./crc32"), o = e("./utf8"), h = e("./compressions"), u = e("./support");
        function l(e2, t2) {
          this.options = e2, this.loadOptions = t2;
        }
        l.prototype = { isEncrypted: function() {
          return 1 == (1 & this.bitFlag);
        }, useUTF8: function() {
          return 2048 == (2048 & this.bitFlag);
        }, readLocalPart: function(e2) {
          var t2, r2;
          if (e2.skip(22), this.fileNameLength = e2.readInt(2), r2 = e2.readInt(2), this.fileName = e2.readData(this.fileNameLength), e2.skip(r2), -1 === this.compressedSize || -1 === this.uncompressedSize)
            throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");
          if (null === (t2 = function(e3) {
            for (var t3 in h)
              if (Object.prototype.hasOwnProperty.call(h, t3) && h[t3].magic === e3)
                return h[t3];
            return null;
          }(this.compressionMethod)))
            throw new Error("Corrupted zip : compression " + s.pretty(this.compressionMethod) + " unknown (inner file : " + s.transformTo("string", this.fileName) + ")");
          this.decompressed = new i(this.compressedSize, this.uncompressedSize, this.crc32, t2, e2.readData(this.compressedSize));
        }, readCentralPart: function(e2) {
          this.versionMadeBy = e2.readInt(2), e2.skip(2), this.bitFlag = e2.readInt(2), this.compressionMethod = e2.readString(2), this.date = e2.readDate(), this.crc32 = e2.readInt(4), this.compressedSize = e2.readInt(4), this.uncompressedSize = e2.readInt(4);
          var t2 = e2.readInt(2);
          if (this.extraFieldsLength = e2.readInt(2), this.fileCommentLength = e2.readInt(2), this.diskNumberStart = e2.readInt(2), this.internalFileAttributes = e2.readInt(2), this.externalFileAttributes = e2.readInt(4), this.localHeaderOffset = e2.readInt(4), this.isEncrypted())
            throw new Error("Encrypted zip are not supported");
          e2.skip(t2), this.readExtraFields(e2), this.parseZIP64ExtraField(e2), this.fileComment = e2.readData(this.fileCommentLength);
        }, processAttributes: function() {
          this.unixPermissions = null, this.dosPermissions = null;
          var e2 = this.versionMadeBy >> 8;
          this.dir = !!(16 & this.externalFileAttributes), 0 == e2 && (this.dosPermissions = 63 & this.externalFileAttributes), 3 == e2 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = true);
        }, parseZIP64ExtraField: function() {
          if (this.extraFields[1]) {
            var e2 = n(this.extraFields[1].value);
            this.uncompressedSize === s.MAX_VALUE_32BITS && (this.uncompressedSize = e2.readInt(8)), this.compressedSize === s.MAX_VALUE_32BITS && (this.compressedSize = e2.readInt(8)), this.localHeaderOffset === s.MAX_VALUE_32BITS && (this.localHeaderOffset = e2.readInt(8)), this.diskNumberStart === s.MAX_VALUE_32BITS && (this.diskNumberStart = e2.readInt(4));
          }
        }, readExtraFields: function(e2) {
          var t2, r2, n2, i2 = e2.index + this.extraFieldsLength;
          for (this.extraFields || (this.extraFields = {}); e2.index + 4 < i2; )
            t2 = e2.readInt(2), r2 = e2.readInt(2), n2 = e2.readData(r2), this.extraFields[t2] = { id: t2, length: r2, value: n2 };
          e2.setIndex(i2);
        }, handleUTF8: function() {
          var e2 = u.uint8array ? "uint8array" : "array";
          if (this.useUTF8())
            this.fileNameStr = o.utf8decode(this.fileName), this.fileCommentStr = o.utf8decode(this.fileComment);
          else {
            var t2 = this.findExtraFieldUnicodePath();
            if (null !== t2)
              this.fileNameStr = t2;
            else {
              var r2 = s.transformTo(e2, this.fileName);
              this.fileNameStr = this.loadOptions.decodeFileName(r2);
            }
            var n2 = this.findExtraFieldUnicodeComment();
            if (null !== n2)
              this.fileCommentStr = n2;
            else {
              var i2 = s.transformTo(e2, this.fileComment);
              this.fileCommentStr = this.loadOptions.decodeFileName(i2);
            }
          }
        }, findExtraFieldUnicodePath: function() {
          var e2 = this.extraFields[28789];
          if (e2) {
            var t2 = n(e2.value);
            return 1 !== t2.readInt(1) ? null : a(this.fileName) !== t2.readInt(4) ? null : o.utf8decode(t2.readData(e2.length - 5));
          }
          return null;
        }, findExtraFieldUnicodeComment: function() {
          var e2 = this.extraFields[25461];
          if (e2) {
            var t2 = n(e2.value);
            return 1 !== t2.readInt(1) ? null : a(this.fileComment) !== t2.readInt(4) ? null : o.utf8decode(t2.readData(e2.length - 5));
          }
          return null;
        } }, t.exports = l;
      }, { "./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 22, "./support": 30, "./utf8": 31, "./utils": 32 }], 35: [function(e, t, r) {
        "use strict";
        function n(e2, t2, r2) {
          this.name = e2, this.dir = r2.dir, this.date = r2.date, this.comment = r2.comment, this.unixPermissions = r2.unixPermissions, this.dosPermissions = r2.dosPermissions, this._data = t2, this._dataBinary = r2.binary, this.options = { compression: r2.compression, compressionOptions: r2.compressionOptions };
        }
        var s = e("./stream/StreamHelper"), i = e("./stream/DataWorker"), a = e("./utf8"), o = e("./compressedObject"), h = e("./stream/GenericWorker");
        n.prototype = { internalStream: function(e2) {
          var t2 = null, r2 = "string";
          try {
            if (!e2)
              throw new Error("No output type specified.");
            var n2 = "string" === (r2 = e2.toLowerCase()) || "text" === r2;
            "binarystring" !== r2 && "text" !== r2 || (r2 = "string"), t2 = this._decompressWorker();
            var i2 = !this._dataBinary;
            i2 && !n2 && (t2 = t2.pipe(new a.Utf8EncodeWorker())), !i2 && n2 && (t2 = t2.pipe(new a.Utf8DecodeWorker()));
          } catch (e3) {
            (t2 = new h("error")).error(e3);
          }
          return new s(t2, r2, "");
        }, async: function(e2, t2) {
          return this.internalStream(e2).accumulate(t2);
        }, nodeStream: function(e2, t2) {
          return this.internalStream(e2 || "nodebuffer").toNodejsStream(t2);
        }, _compressWorker: function(e2, t2) {
          if (this._data instanceof o && this._data.compression.magic === e2.magic)
            return this._data.getCompressedWorker();
          var r2 = this._decompressWorker();
          return this._dataBinary || (r2 = r2.pipe(new a.Utf8EncodeWorker())), o.createWorkerFrom(r2, e2, t2);
        }, _decompressWorker: function() {
          return this._data instanceof o ? this._data.getContentWorker() : this._data instanceof h ? this._data : new i(this._data);
        } };
        for (var u = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], l = function() {
          throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
        }, f = 0; f < u.length; f++)
          n.prototype[u[f]] = l;
        t.exports = n;
      }, { "./compressedObject": 2, "./stream/DataWorker": 27, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31 }], 36: [function(e, l, t) {
        (function(t2) {
          "use strict";
          var r, n, e2 = t2.MutationObserver || t2.WebKitMutationObserver;
          if (e2) {
            var i = 0, s = new e2(u), a = t2.document.createTextNode("");
            s.observe(a, { characterData: true }), r = function() {
              a.data = i = ++i % 2;
            };
          } else if (t2.setImmediate || void 0 === t2.MessageChannel)
            r = "document" in t2 && "onreadystatechange" in t2.document.createElement("script") ? function() {
              var e3 = t2.document.createElement("script");
              e3.onreadystatechange = function() {
                u(), e3.onreadystatechange = null, e3.parentNode.removeChild(e3), e3 = null;
              }, t2.document.documentElement.appendChild(e3);
            } : function() {
              setTimeout(u, 0);
            };
          else {
            var o = new t2.MessageChannel();
            o.port1.onmessage = u, r = function() {
              o.port2.postMessage(0);
            };
          }
          var h = [];
          function u() {
            var e3, t3;
            n = true;
            for (var r2 = h.length; r2; ) {
              for (t3 = h, h = [], e3 = -1; ++e3 < r2; )
                t3[e3]();
              r2 = h.length;
            }
            n = false;
          }
          l.exports = function(e3) {
            1 !== h.push(e3) || n || r();
          };
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, {}], 37: [function(e, t, r) {
        "use strict";
        var i = e("immediate");
        function u() {
        }
        var l = {}, s = ["REJECTED"], a = ["FULFILLED"], n = ["PENDING"];
        function o(e2) {
          if ("function" != typeof e2)
            throw new TypeError("resolver must be a function");
          this.state = n, this.queue = [], this.outcome = void 0, e2 !== u && d(this, e2);
        }
        function h(e2, t2, r2) {
          this.promise = e2, "function" == typeof t2 && (this.onFulfilled = t2, this.callFulfilled = this.otherCallFulfilled), "function" == typeof r2 && (this.onRejected = r2, this.callRejected = this.otherCallRejected);
        }
        function f(t2, r2, n2) {
          i(function() {
            var e2;
            try {
              e2 = r2(n2);
            } catch (e3) {
              return l.reject(t2, e3);
            }
            e2 === t2 ? l.reject(t2, new TypeError("Cannot resolve promise with itself")) : l.resolve(t2, e2);
          });
        }
        function c(e2) {
          var t2 = e2 && e2.then;
          if (e2 && ("object" == typeof e2 || "function" == typeof e2) && "function" == typeof t2)
            return function() {
              t2.apply(e2, arguments);
            };
        }
        function d(t2, e2) {
          var r2 = false;
          function n2(e3) {
            r2 || (r2 = true, l.reject(t2, e3));
          }
          function i2(e3) {
            r2 || (r2 = true, l.resolve(t2, e3));
          }
          var s2 = p(function() {
            e2(i2, n2);
          });
          "error" === s2.status && n2(s2.value);
        }
        function p(e2, t2) {
          var r2 = {};
          try {
            r2.value = e2(t2), r2.status = "success";
          } catch (e3) {
            r2.status = "error", r2.value = e3;
          }
          return r2;
        }
        (t.exports = o).prototype.finally = function(t2) {
          if ("function" != typeof t2)
            return this;
          var r2 = this.constructor;
          return this.then(function(e2) {
            return r2.resolve(t2()).then(function() {
              return e2;
            });
          }, function(e2) {
            return r2.resolve(t2()).then(function() {
              throw e2;
            });
          });
        }, o.prototype.catch = function(e2) {
          return this.then(null, e2);
        }, o.prototype.then = function(e2, t2) {
          if ("function" != typeof e2 && this.state === a || "function" != typeof t2 && this.state === s)
            return this;
          var r2 = new this.constructor(u);
          this.state !== n ? f(r2, this.state === a ? e2 : t2, this.outcome) : this.queue.push(new h(r2, e2, t2));
          return r2;
        }, h.prototype.callFulfilled = function(e2) {
          l.resolve(this.promise, e2);
        }, h.prototype.otherCallFulfilled = function(e2) {
          f(this.promise, this.onFulfilled, e2);
        }, h.prototype.callRejected = function(e2) {
          l.reject(this.promise, e2);
        }, h.prototype.otherCallRejected = function(e2) {
          f(this.promise, this.onRejected, e2);
        }, l.resolve = function(e2, t2) {
          var r2 = p(c, t2);
          if ("error" === r2.status)
            return l.reject(e2, r2.value);
          var n2 = r2.value;
          if (n2)
            d(e2, n2);
          else {
            e2.state = a, e2.outcome = t2;
            for (var i2 = -1, s2 = e2.queue.length; ++i2 < s2; )
              e2.queue[i2].callFulfilled(t2);
          }
          return e2;
        }, l.reject = function(e2, t2) {
          e2.state = s, e2.outcome = t2;
          for (var r2 = -1, n2 = e2.queue.length; ++r2 < n2; )
            e2.queue[r2].callRejected(t2);
          return e2;
        }, o.resolve = function(e2) {
          if (e2 instanceof this)
            return e2;
          return l.resolve(new this(u), e2);
        }, o.reject = function(e2) {
          var t2 = new this(u);
          return l.reject(t2, e2);
        }, o.all = function(e2) {
          var r2 = this;
          if ("[object Array]" !== Object.prototype.toString.call(e2))
            return this.reject(new TypeError("must be an array"));
          var n2 = e2.length, i2 = false;
          if (!n2)
            return this.resolve([]);
          var s2 = new Array(n2), a2 = 0, t2 = -1, o2 = new this(u);
          for (; ++t2 < n2; )
            h2(e2[t2], t2);
          return o2;
          function h2(e3, t3) {
            r2.resolve(e3).then(function(e4) {
              s2[t3] = e4, ++a2 !== n2 || i2 || (i2 = true, l.resolve(o2, s2));
            }, function(e4) {
              i2 || (i2 = true, l.reject(o2, e4));
            });
          }
        }, o.race = function(e2) {
          var t2 = this;
          if ("[object Array]" !== Object.prototype.toString.call(e2))
            return this.reject(new TypeError("must be an array"));
          var r2 = e2.length, n2 = false;
          if (!r2)
            return this.resolve([]);
          var i2 = -1, s2 = new this(u);
          for (; ++i2 < r2; )
            a2 = e2[i2], t2.resolve(a2).then(function(e3) {
              n2 || (n2 = true, l.resolve(s2, e3));
            }, function(e3) {
              n2 || (n2 = true, l.reject(s2, e3));
            });
          var a2;
          return s2;
        };
      }, { immediate: 36 }], 38: [function(e, t, r) {
        "use strict";
        var n = {};
        (0, e("./lib/utils/common").assign)(n, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")), t.exports = n;
      }, { "./lib/deflate": 39, "./lib/inflate": 40, "./lib/utils/common": 41, "./lib/zlib/constants": 44 }], 39: [function(e, t, r) {
        "use strict";
        var a = e("./zlib/deflate"), o = e("./utils/common"), h = e("./utils/strings"), i = e("./zlib/messages"), s = e("./zlib/zstream"), u = Object.prototype.toString, l = 0, f = -1, c = 0, d = 8;
        function p(e2) {
          if (!(this instanceof p))
            return new p(e2);
          this.options = o.assign({ level: f, method: d, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: c, to: "" }, e2 || {});
          var t2 = this.options;
          t2.raw && 0 < t2.windowBits ? t2.windowBits = -t2.windowBits : t2.gzip && 0 < t2.windowBits && t2.windowBits < 16 && (t2.windowBits += 16), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new s(), this.strm.avail_out = 0;
          var r2 = a.deflateInit2(this.strm, t2.level, t2.method, t2.windowBits, t2.memLevel, t2.strategy);
          if (r2 !== l)
            throw new Error(i[r2]);
          if (t2.header && a.deflateSetHeader(this.strm, t2.header), t2.dictionary) {
            var n2;
            if (n2 = "string" == typeof t2.dictionary ? h.string2buf(t2.dictionary) : "[object ArrayBuffer]" === u.call(t2.dictionary) ? new Uint8Array(t2.dictionary) : t2.dictionary, (r2 = a.deflateSetDictionary(this.strm, n2)) !== l)
              throw new Error(i[r2]);
            this._dict_set = true;
          }
        }
        function n(e2, t2) {
          var r2 = new p(t2);
          if (r2.push(e2, true), r2.err)
            throw r2.msg || i[r2.err];
          return r2.result;
        }
        p.prototype.push = function(e2, t2) {
          var r2, n2, i2 = this.strm, s2 = this.options.chunkSize;
          if (this.ended)
            return false;
          n2 = t2 === ~~t2 ? t2 : true === t2 ? 4 : 0, "string" == typeof e2 ? i2.input = h.string2buf(e2) : "[object ArrayBuffer]" === u.call(e2) ? i2.input = new Uint8Array(e2) : i2.input = e2, i2.next_in = 0, i2.avail_in = i2.input.length;
          do {
            if (0 === i2.avail_out && (i2.output = new o.Buf8(s2), i2.next_out = 0, i2.avail_out = s2), 1 !== (r2 = a.deflate(i2, n2)) && r2 !== l)
              return this.onEnd(r2), !(this.ended = true);
            0 !== i2.avail_out && (0 !== i2.avail_in || 4 !== n2 && 2 !== n2) || ("string" === this.options.to ? this.onData(h.buf2binstring(o.shrinkBuf(i2.output, i2.next_out))) : this.onData(o.shrinkBuf(i2.output, i2.next_out)));
          } while ((0 < i2.avail_in || 0 === i2.avail_out) && 1 !== r2);
          return 4 === n2 ? (r2 = a.deflateEnd(this.strm), this.onEnd(r2), this.ended = true, r2 === l) : 2 !== n2 || (this.onEnd(l), !(i2.avail_out = 0));
        }, p.prototype.onData = function(e2) {
          this.chunks.push(e2);
        }, p.prototype.onEnd = function(e2) {
          e2 === l && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = o.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
        }, r.Deflate = p, r.deflate = n, r.deflateRaw = function(e2, t2) {
          return (t2 = t2 || {}).raw = true, n(e2, t2);
        }, r.gzip = function(e2, t2) {
          return (t2 = t2 || {}).gzip = true, n(e2, t2);
        };
      }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/deflate": 46, "./zlib/messages": 51, "./zlib/zstream": 53 }], 40: [function(e, t, r) {
        "use strict";
        var c = e("./zlib/inflate"), d = e("./utils/common"), p = e("./utils/strings"), m = e("./zlib/constants"), n = e("./zlib/messages"), i = e("./zlib/zstream"), s = e("./zlib/gzheader"), _ = Object.prototype.toString;
        function a(e2) {
          if (!(this instanceof a))
            return new a(e2);
          this.options = d.assign({ chunkSize: 16384, windowBits: 0, to: "" }, e2 || {});
          var t2 = this.options;
          t2.raw && 0 <= t2.windowBits && t2.windowBits < 16 && (t2.windowBits = -t2.windowBits, 0 === t2.windowBits && (t2.windowBits = -15)), !(0 <= t2.windowBits && t2.windowBits < 16) || e2 && e2.windowBits || (t2.windowBits += 32), 15 < t2.windowBits && t2.windowBits < 48 && 0 == (15 & t2.windowBits) && (t2.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new i(), this.strm.avail_out = 0;
          var r2 = c.inflateInit2(this.strm, t2.windowBits);
          if (r2 !== m.Z_OK)
            throw new Error(n[r2]);
          this.header = new s(), c.inflateGetHeader(this.strm, this.header);
        }
        function o(e2, t2) {
          var r2 = new a(t2);
          if (r2.push(e2, true), r2.err)
            throw r2.msg || n[r2.err];
          return r2.result;
        }
        a.prototype.push = function(e2, t2) {
          var r2, n2, i2, s2, a2, o2, h = this.strm, u = this.options.chunkSize, l = this.options.dictionary, f = false;
          if (this.ended)
            return false;
          n2 = t2 === ~~t2 ? t2 : true === t2 ? m.Z_FINISH : m.Z_NO_FLUSH, "string" == typeof e2 ? h.input = p.binstring2buf(e2) : "[object ArrayBuffer]" === _.call(e2) ? h.input = new Uint8Array(e2) : h.input = e2, h.next_in = 0, h.avail_in = h.input.length;
          do {
            if (0 === h.avail_out && (h.output = new d.Buf8(u), h.next_out = 0, h.avail_out = u), (r2 = c.inflate(h, m.Z_NO_FLUSH)) === m.Z_NEED_DICT && l && (o2 = "string" == typeof l ? p.string2buf(l) : "[object ArrayBuffer]" === _.call(l) ? new Uint8Array(l) : l, r2 = c.inflateSetDictionary(this.strm, o2)), r2 === m.Z_BUF_ERROR && true === f && (r2 = m.Z_OK, f = false), r2 !== m.Z_STREAM_END && r2 !== m.Z_OK)
              return this.onEnd(r2), !(this.ended = true);
            h.next_out && (0 !== h.avail_out && r2 !== m.Z_STREAM_END && (0 !== h.avail_in || n2 !== m.Z_FINISH && n2 !== m.Z_SYNC_FLUSH) || ("string" === this.options.to ? (i2 = p.utf8border(h.output, h.next_out), s2 = h.next_out - i2, a2 = p.buf2string(h.output, i2), h.next_out = s2, h.avail_out = u - s2, s2 && d.arraySet(h.output, h.output, i2, s2, 0), this.onData(a2)) : this.onData(d.shrinkBuf(h.output, h.next_out)))), 0 === h.avail_in && 0 === h.avail_out && (f = true);
          } while ((0 < h.avail_in || 0 === h.avail_out) && r2 !== m.Z_STREAM_END);
          return r2 === m.Z_STREAM_END && (n2 = m.Z_FINISH), n2 === m.Z_FINISH ? (r2 = c.inflateEnd(this.strm), this.onEnd(r2), this.ended = true, r2 === m.Z_OK) : n2 !== m.Z_SYNC_FLUSH || (this.onEnd(m.Z_OK), !(h.avail_out = 0));
        }, a.prototype.onData = function(e2) {
          this.chunks.push(e2);
        }, a.prototype.onEnd = function(e2) {
          e2 === m.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = d.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
        }, r.Inflate = a, r.inflate = o, r.inflateRaw = function(e2, t2) {
          return (t2 = t2 || {}).raw = true, o(e2, t2);
        }, r.ungzip = o;
      }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/constants": 44, "./zlib/gzheader": 47, "./zlib/inflate": 49, "./zlib/messages": 51, "./zlib/zstream": 53 }], 41: [function(e, t, r) {
        "use strict";
        var n = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
        r.assign = function(e2) {
          for (var t2 = Array.prototype.slice.call(arguments, 1); t2.length; ) {
            var r2 = t2.shift();
            if (r2) {
              if ("object" != typeof r2)
                throw new TypeError(r2 + "must be non-object");
              for (var n2 in r2)
                r2.hasOwnProperty(n2) && (e2[n2] = r2[n2]);
            }
          }
          return e2;
        }, r.shrinkBuf = function(e2, t2) {
          return e2.length === t2 ? e2 : e2.subarray ? e2.subarray(0, t2) : (e2.length = t2, e2);
        };
        var i = { arraySet: function(e2, t2, r2, n2, i2) {
          if (t2.subarray && e2.subarray)
            e2.set(t2.subarray(r2, r2 + n2), i2);
          else
            for (var s2 = 0; s2 < n2; s2++)
              e2[i2 + s2] = t2[r2 + s2];
        }, flattenChunks: function(e2) {
          var t2, r2, n2, i2, s2, a;
          for (t2 = n2 = 0, r2 = e2.length; t2 < r2; t2++)
            n2 += e2[t2].length;
          for (a = new Uint8Array(n2), t2 = i2 = 0, r2 = e2.length; t2 < r2; t2++)
            s2 = e2[t2], a.set(s2, i2), i2 += s2.length;
          return a;
        } }, s = { arraySet: function(e2, t2, r2, n2, i2) {
          for (var s2 = 0; s2 < n2; s2++)
            e2[i2 + s2] = t2[r2 + s2];
        }, flattenChunks: function(e2) {
          return [].concat.apply([], e2);
        } };
        r.setTyped = function(e2) {
          e2 ? (r.Buf8 = Uint8Array, r.Buf16 = Uint16Array, r.Buf32 = Int32Array, r.assign(r, i)) : (r.Buf8 = Array, r.Buf16 = Array, r.Buf32 = Array, r.assign(r, s));
        }, r.setTyped(n);
      }, {}], 42: [function(e, t, r) {
        "use strict";
        var h = e("./common"), i = true, s = true;
        try {
          String.fromCharCode.apply(null, [0]);
        } catch (e2) {
          i = false;
        }
        try {
          String.fromCharCode.apply(null, new Uint8Array(1));
        } catch (e2) {
          s = false;
        }
        for (var u = new h.Buf8(256), n = 0; n < 256; n++)
          u[n] = 252 <= n ? 6 : 248 <= n ? 5 : 240 <= n ? 4 : 224 <= n ? 3 : 192 <= n ? 2 : 1;
        function l(e2, t2) {
          if (t2 < 65537 && (e2.subarray && s || !e2.subarray && i))
            return String.fromCharCode.apply(null, h.shrinkBuf(e2, t2));
          for (var r2 = "", n2 = 0; n2 < t2; n2++)
            r2 += String.fromCharCode(e2[n2]);
          return r2;
        }
        u[254] = u[254] = 1, r.string2buf = function(e2) {
          var t2, r2, n2, i2, s2, a = e2.length, o = 0;
          for (i2 = 0; i2 < a; i2++)
            55296 == (64512 & (r2 = e2.charCodeAt(i2))) && i2 + 1 < a && 56320 == (64512 & (n2 = e2.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), o += r2 < 128 ? 1 : r2 < 2048 ? 2 : r2 < 65536 ? 3 : 4;
          for (t2 = new h.Buf8(o), i2 = s2 = 0; s2 < o; i2++)
            55296 == (64512 & (r2 = e2.charCodeAt(i2))) && i2 + 1 < a && 56320 == (64512 & (n2 = e2.charCodeAt(i2 + 1))) && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320), i2++), r2 < 128 ? t2[s2++] = r2 : (r2 < 2048 ? t2[s2++] = 192 | r2 >>> 6 : (r2 < 65536 ? t2[s2++] = 224 | r2 >>> 12 : (t2[s2++] = 240 | r2 >>> 18, t2[s2++] = 128 | r2 >>> 12 & 63), t2[s2++] = 128 | r2 >>> 6 & 63), t2[s2++] = 128 | 63 & r2);
          return t2;
        }, r.buf2binstring = function(e2) {
          return l(e2, e2.length);
        }, r.binstring2buf = function(e2) {
          for (var t2 = new h.Buf8(e2.length), r2 = 0, n2 = t2.length; r2 < n2; r2++)
            t2[r2] = e2.charCodeAt(r2);
          return t2;
        }, r.buf2string = function(e2, t2) {
          var r2, n2, i2, s2, a = t2 || e2.length, o = new Array(2 * a);
          for (r2 = n2 = 0; r2 < a; )
            if ((i2 = e2[r2++]) < 128)
              o[n2++] = i2;
            else if (4 < (s2 = u[i2]))
              o[n2++] = 65533, r2 += s2 - 1;
            else {
              for (i2 &= 2 === s2 ? 31 : 3 === s2 ? 15 : 7; 1 < s2 && r2 < a; )
                i2 = i2 << 6 | 63 & e2[r2++], s2--;
              1 < s2 ? o[n2++] = 65533 : i2 < 65536 ? o[n2++] = i2 : (i2 -= 65536, o[n2++] = 55296 | i2 >> 10 & 1023, o[n2++] = 56320 | 1023 & i2);
            }
          return l(o, n2);
        }, r.utf8border = function(e2, t2) {
          var r2;
          for ((t2 = t2 || e2.length) > e2.length && (t2 = e2.length), r2 = t2 - 1; 0 <= r2 && 128 == (192 & e2[r2]); )
            r2--;
          return r2 < 0 ? t2 : 0 === r2 ? t2 : r2 + u[e2[r2]] > t2 ? r2 : t2;
        };
      }, { "./common": 41 }], 43: [function(e, t, r) {
        "use strict";
        t.exports = function(e2, t2, r2, n) {
          for (var i = 65535 & e2 | 0, s = e2 >>> 16 & 65535 | 0, a = 0; 0 !== r2; ) {
            for (r2 -= a = 2e3 < r2 ? 2e3 : r2; s = s + (i = i + t2[n++] | 0) | 0, --a; )
              ;
            i %= 65521, s %= 65521;
          }
          return i | s << 16 | 0;
        };
      }, {}], 44: [function(e, t, r) {
        "use strict";
        t.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 };
      }, {}], 45: [function(e, t, r) {
        "use strict";
        var o = function() {
          for (var e2, t2 = [], r2 = 0; r2 < 256; r2++) {
            e2 = r2;
            for (var n = 0; n < 8; n++)
              e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
            t2[r2] = e2;
          }
          return t2;
        }();
        t.exports = function(e2, t2, r2, n) {
          var i = o, s = n + r2;
          e2 ^= -1;
          for (var a = n; a < s; a++)
            e2 = e2 >>> 8 ^ i[255 & (e2 ^ t2[a])];
          return -1 ^ e2;
        };
      }, {}], 46: [function(e, t, r) {
        "use strict";
        var h, c = e("../utils/common"), u = e("./trees"), d = e("./adler32"), p = e("./crc32"), n = e("./messages"), l = 0, f = 4, m = 0, _ = -2, g = -1, b = 4, i = 2, v = 8, y = 9, s = 286, a = 30, o = 19, w = 2 * s + 1, k = 15, x = 3, S = 258, z = S + x + 1, C = 42, E = 113, A = 1, I = 2, O = 3, B = 4;
        function R(e2, t2) {
          return e2.msg = n[t2], t2;
        }
        function T(e2) {
          return (e2 << 1) - (4 < e2 ? 9 : 0);
        }
        function D(e2) {
          for (var t2 = e2.length; 0 <= --t2; )
            e2[t2] = 0;
        }
        function F(e2) {
          var t2 = e2.state, r2 = t2.pending;
          r2 > e2.avail_out && (r2 = e2.avail_out), 0 !== r2 && (c.arraySet(e2.output, t2.pending_buf, t2.pending_out, r2, e2.next_out), e2.next_out += r2, t2.pending_out += r2, e2.total_out += r2, e2.avail_out -= r2, t2.pending -= r2, 0 === t2.pending && (t2.pending_out = 0));
        }
        function N(e2, t2) {
          u._tr_flush_block(e2, 0 <= e2.block_start ? e2.block_start : -1, e2.strstart - e2.block_start, t2), e2.block_start = e2.strstart, F(e2.strm);
        }
        function U(e2, t2) {
          e2.pending_buf[e2.pending++] = t2;
        }
        function P(e2, t2) {
          e2.pending_buf[e2.pending++] = t2 >>> 8 & 255, e2.pending_buf[e2.pending++] = 255 & t2;
        }
        function L(e2, t2) {
          var r2, n2, i2 = e2.max_chain_length, s2 = e2.strstart, a2 = e2.prev_length, o2 = e2.nice_match, h2 = e2.strstart > e2.w_size - z ? e2.strstart - (e2.w_size - z) : 0, u2 = e2.window, l2 = e2.w_mask, f2 = e2.prev, c2 = e2.strstart + S, d2 = u2[s2 + a2 - 1], p2 = u2[s2 + a2];
          e2.prev_length >= e2.good_match && (i2 >>= 2), o2 > e2.lookahead && (o2 = e2.lookahead);
          do {
            if (u2[(r2 = t2) + a2] === p2 && u2[r2 + a2 - 1] === d2 && u2[r2] === u2[s2] && u2[++r2] === u2[s2 + 1]) {
              s2 += 2, r2++;
              do {
              } while (u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && u2[++s2] === u2[++r2] && s2 < c2);
              if (n2 = S - (c2 - s2), s2 = c2 - S, a2 < n2) {
                if (e2.match_start = t2, o2 <= (a2 = n2))
                  break;
                d2 = u2[s2 + a2 - 1], p2 = u2[s2 + a2];
              }
            }
          } while ((t2 = f2[t2 & l2]) > h2 && 0 != --i2);
          return a2 <= e2.lookahead ? a2 : e2.lookahead;
        }
        function j(e2) {
          var t2, r2, n2, i2, s2, a2, o2, h2, u2, l2, f2 = e2.w_size;
          do {
            if (i2 = e2.window_size - e2.lookahead - e2.strstart, e2.strstart >= f2 + (f2 - z)) {
              for (c.arraySet(e2.window, e2.window, f2, f2, 0), e2.match_start -= f2, e2.strstart -= f2, e2.block_start -= f2, t2 = r2 = e2.hash_size; n2 = e2.head[--t2], e2.head[t2] = f2 <= n2 ? n2 - f2 : 0, --r2; )
                ;
              for (t2 = r2 = f2; n2 = e2.prev[--t2], e2.prev[t2] = f2 <= n2 ? n2 - f2 : 0, --r2; )
                ;
              i2 += f2;
            }
            if (0 === e2.strm.avail_in)
              break;
            if (a2 = e2.strm, o2 = e2.window, h2 = e2.strstart + e2.lookahead, u2 = i2, l2 = void 0, l2 = a2.avail_in, u2 < l2 && (l2 = u2), r2 = 0 === l2 ? 0 : (a2.avail_in -= l2, c.arraySet(o2, a2.input, a2.next_in, l2, h2), 1 === a2.state.wrap ? a2.adler = d(a2.adler, o2, l2, h2) : 2 === a2.state.wrap && (a2.adler = p(a2.adler, o2, l2, h2)), a2.next_in += l2, a2.total_in += l2, l2), e2.lookahead += r2, e2.lookahead + e2.insert >= x)
              for (s2 = e2.strstart - e2.insert, e2.ins_h = e2.window[s2], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s2 + 1]) & e2.hash_mask; e2.insert && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s2 + x - 1]) & e2.hash_mask, e2.prev[s2 & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = s2, s2++, e2.insert--, !(e2.lookahead + e2.insert < x)); )
                ;
          } while (e2.lookahead < z && 0 !== e2.strm.avail_in);
        }
        function Z(e2, t2) {
          for (var r2, n2; ; ) {
            if (e2.lookahead < z) {
              if (j(e2), e2.lookahead < z && t2 === l)
                return A;
              if (0 === e2.lookahead)
                break;
            }
            if (r2 = 0, e2.lookahead >= x && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), 0 !== r2 && e2.strstart - r2 <= e2.w_size - z && (e2.match_length = L(e2, r2)), e2.match_length >= x)
              if (n2 = u._tr_tally(e2, e2.strstart - e2.match_start, e2.match_length - x), e2.lookahead -= e2.match_length, e2.match_length <= e2.max_lazy_match && e2.lookahead >= x) {
                for (e2.match_length--; e2.strstart++, e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart, 0 != --e2.match_length; )
                  ;
                e2.strstart++;
              } else
                e2.strstart += e2.match_length, e2.match_length = 0, e2.ins_h = e2.window[e2.strstart], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + 1]) & e2.hash_mask;
            else
              n2 = u._tr_tally(e2, 0, e2.window[e2.strstart]), e2.lookahead--, e2.strstart++;
            if (n2 && (N(e2, false), 0 === e2.strm.avail_out))
              return A;
          }
          return e2.insert = e2.strstart < x - 1 ? e2.strstart : x - 1, t2 === f ? (N(e2, true), 0 === e2.strm.avail_out ? O : B) : e2.last_lit && (N(e2, false), 0 === e2.strm.avail_out) ? A : I;
        }
        function W(e2, t2) {
          for (var r2, n2, i2; ; ) {
            if (e2.lookahead < z) {
              if (j(e2), e2.lookahead < z && t2 === l)
                return A;
              if (0 === e2.lookahead)
                break;
            }
            if (r2 = 0, e2.lookahead >= x && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), e2.prev_length = e2.match_length, e2.prev_match = e2.match_start, e2.match_length = x - 1, 0 !== r2 && e2.prev_length < e2.max_lazy_match && e2.strstart - r2 <= e2.w_size - z && (e2.match_length = L(e2, r2), e2.match_length <= 5 && (1 === e2.strategy || e2.match_length === x && 4096 < e2.strstart - e2.match_start) && (e2.match_length = x - 1)), e2.prev_length >= x && e2.match_length <= e2.prev_length) {
              for (i2 = e2.strstart + e2.lookahead - x, n2 = u._tr_tally(e2, e2.strstart - 1 - e2.prev_match, e2.prev_length - x), e2.lookahead -= e2.prev_length - 1, e2.prev_length -= 2; ++e2.strstart <= i2 && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x - 1]) & e2.hash_mask, r2 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), 0 != --e2.prev_length; )
                ;
              if (e2.match_available = 0, e2.match_length = x - 1, e2.strstart++, n2 && (N(e2, false), 0 === e2.strm.avail_out))
                return A;
            } else if (e2.match_available) {
              if ((n2 = u._tr_tally(e2, 0, e2.window[e2.strstart - 1])) && N(e2, false), e2.strstart++, e2.lookahead--, 0 === e2.strm.avail_out)
                return A;
            } else
              e2.match_available = 1, e2.strstart++, e2.lookahead--;
          }
          return e2.match_available && (n2 = u._tr_tally(e2, 0, e2.window[e2.strstart - 1]), e2.match_available = 0), e2.insert = e2.strstart < x - 1 ? e2.strstart : x - 1, t2 === f ? (N(e2, true), 0 === e2.strm.avail_out ? O : B) : e2.last_lit && (N(e2, false), 0 === e2.strm.avail_out) ? A : I;
        }
        function M(e2, t2, r2, n2, i2) {
          this.good_length = e2, this.max_lazy = t2, this.nice_length = r2, this.max_chain = n2, this.func = i2;
        }
        function H() {
          this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = v, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new c.Buf16(2 * w), this.dyn_dtree = new c.Buf16(2 * (2 * a + 1)), this.bl_tree = new c.Buf16(2 * (2 * o + 1)), D(this.dyn_ltree), D(this.dyn_dtree), D(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new c.Buf16(k + 1), this.heap = new c.Buf16(2 * s + 1), D(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new c.Buf16(2 * s + 1), D(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
        }
        function G(e2) {
          var t2;
          return e2 && e2.state ? (e2.total_in = e2.total_out = 0, e2.data_type = i, (t2 = e2.state).pending = 0, t2.pending_out = 0, t2.wrap < 0 && (t2.wrap = -t2.wrap), t2.status = t2.wrap ? C : E, e2.adler = 2 === t2.wrap ? 0 : 1, t2.last_flush = l, u._tr_init(t2), m) : R(e2, _);
        }
        function K(e2) {
          var t2 = G(e2);
          return t2 === m && function(e3) {
            e3.window_size = 2 * e3.w_size, D(e3.head), e3.max_lazy_match = h[e3.level].max_lazy, e3.good_match = h[e3.level].good_length, e3.nice_match = h[e3.level].nice_length, e3.max_chain_length = h[e3.level].max_chain, e3.strstart = 0, e3.block_start = 0, e3.lookahead = 0, e3.insert = 0, e3.match_length = e3.prev_length = x - 1, e3.match_available = 0, e3.ins_h = 0;
          }(e2.state), t2;
        }
        function Y(e2, t2, r2, n2, i2, s2) {
          if (!e2)
            return _;
          var a2 = 1;
          if (t2 === g && (t2 = 6), n2 < 0 ? (a2 = 0, n2 = -n2) : 15 < n2 && (a2 = 2, n2 -= 16), i2 < 1 || y < i2 || r2 !== v || n2 < 8 || 15 < n2 || t2 < 0 || 9 < t2 || s2 < 0 || b < s2)
            return R(e2, _);
          8 === n2 && (n2 = 9);
          var o2 = new H();
          return (e2.state = o2).strm = e2, o2.wrap = a2, o2.gzhead = null, o2.w_bits = n2, o2.w_size = 1 << o2.w_bits, o2.w_mask = o2.w_size - 1, o2.hash_bits = i2 + 7, o2.hash_size = 1 << o2.hash_bits, o2.hash_mask = o2.hash_size - 1, o2.hash_shift = ~~((o2.hash_bits + x - 1) / x), o2.window = new c.Buf8(2 * o2.w_size), o2.head = new c.Buf16(o2.hash_size), o2.prev = new c.Buf16(o2.w_size), o2.lit_bufsize = 1 << i2 + 6, o2.pending_buf_size = 4 * o2.lit_bufsize, o2.pending_buf = new c.Buf8(o2.pending_buf_size), o2.d_buf = 1 * o2.lit_bufsize, o2.l_buf = 3 * o2.lit_bufsize, o2.level = t2, o2.strategy = s2, o2.method = r2, K(e2);
        }
        h = [new M(0, 0, 0, 0, function(e2, t2) {
          var r2 = 65535;
          for (r2 > e2.pending_buf_size - 5 && (r2 = e2.pending_buf_size - 5); ; ) {
            if (e2.lookahead <= 1) {
              if (j(e2), 0 === e2.lookahead && t2 === l)
                return A;
              if (0 === e2.lookahead)
                break;
            }
            e2.strstart += e2.lookahead, e2.lookahead = 0;
            var n2 = e2.block_start + r2;
            if ((0 === e2.strstart || e2.strstart >= n2) && (e2.lookahead = e2.strstart - n2, e2.strstart = n2, N(e2, false), 0 === e2.strm.avail_out))
              return A;
            if (e2.strstart - e2.block_start >= e2.w_size - z && (N(e2, false), 0 === e2.strm.avail_out))
              return A;
          }
          return e2.insert = 0, t2 === f ? (N(e2, true), 0 === e2.strm.avail_out ? O : B) : (e2.strstart > e2.block_start && (N(e2, false), e2.strm.avail_out), A);
        }), new M(4, 4, 8, 4, Z), new M(4, 5, 16, 8, Z), new M(4, 6, 32, 32, Z), new M(4, 4, 16, 16, W), new M(8, 16, 32, 32, W), new M(8, 16, 128, 128, W), new M(8, 32, 128, 256, W), new M(32, 128, 258, 1024, W), new M(32, 258, 258, 4096, W)], r.deflateInit = function(e2, t2) {
          return Y(e2, t2, v, 15, 8, 0);
        }, r.deflateInit2 = Y, r.deflateReset = K, r.deflateResetKeep = G, r.deflateSetHeader = function(e2, t2) {
          return e2 && e2.state ? 2 !== e2.state.wrap ? _ : (e2.state.gzhead = t2, m) : _;
        }, r.deflate = function(e2, t2) {
          var r2, n2, i2, s2;
          if (!e2 || !e2.state || 5 < t2 || t2 < 0)
            return e2 ? R(e2, _) : _;
          if (n2 = e2.state, !e2.output || !e2.input && 0 !== e2.avail_in || 666 === n2.status && t2 !== f)
            return R(e2, 0 === e2.avail_out ? -5 : _);
          if (n2.strm = e2, r2 = n2.last_flush, n2.last_flush = t2, n2.status === C)
            if (2 === n2.wrap)
              e2.adler = 0, U(n2, 31), U(n2, 139), U(n2, 8), n2.gzhead ? (U(n2, (n2.gzhead.text ? 1 : 0) + (n2.gzhead.hcrc ? 2 : 0) + (n2.gzhead.extra ? 4 : 0) + (n2.gzhead.name ? 8 : 0) + (n2.gzhead.comment ? 16 : 0)), U(n2, 255 & n2.gzhead.time), U(n2, n2.gzhead.time >> 8 & 255), U(n2, n2.gzhead.time >> 16 & 255), U(n2, n2.gzhead.time >> 24 & 255), U(n2, 9 === n2.level ? 2 : 2 <= n2.strategy || n2.level < 2 ? 4 : 0), U(n2, 255 & n2.gzhead.os), n2.gzhead.extra && n2.gzhead.extra.length && (U(n2, 255 & n2.gzhead.extra.length), U(n2, n2.gzhead.extra.length >> 8 & 255)), n2.gzhead.hcrc && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending, 0)), n2.gzindex = 0, n2.status = 69) : (U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 0), U(n2, 9 === n2.level ? 2 : 2 <= n2.strategy || n2.level < 2 ? 4 : 0), U(n2, 3), n2.status = E);
            else {
              var a2 = v + (n2.w_bits - 8 << 4) << 8;
              a2 |= (2 <= n2.strategy || n2.level < 2 ? 0 : n2.level < 6 ? 1 : 6 === n2.level ? 2 : 3) << 6, 0 !== n2.strstart && (a2 |= 32), a2 += 31 - a2 % 31, n2.status = E, P(n2, a2), 0 !== n2.strstart && (P(n2, e2.adler >>> 16), P(n2, 65535 & e2.adler)), e2.adler = 1;
            }
          if (69 === n2.status)
            if (n2.gzhead.extra) {
              for (i2 = n2.pending; n2.gzindex < (65535 & n2.gzhead.extra.length) && (n2.pending !== n2.pending_buf_size || (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending !== n2.pending_buf_size)); )
                U(n2, 255 & n2.gzhead.extra[n2.gzindex]), n2.gzindex++;
              n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), n2.gzindex === n2.gzhead.extra.length && (n2.gzindex = 0, n2.status = 73);
            } else
              n2.status = 73;
          if (73 === n2.status)
            if (n2.gzhead.name) {
              i2 = n2.pending;
              do {
                if (n2.pending === n2.pending_buf_size && (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending === n2.pending_buf_size)) {
                  s2 = 1;
                  break;
                }
                s2 = n2.gzindex < n2.gzhead.name.length ? 255 & n2.gzhead.name.charCodeAt(n2.gzindex++) : 0, U(n2, s2);
              } while (0 !== s2);
              n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), 0 === s2 && (n2.gzindex = 0, n2.status = 91);
            } else
              n2.status = 91;
          if (91 === n2.status)
            if (n2.gzhead.comment) {
              i2 = n2.pending;
              do {
                if (n2.pending === n2.pending_buf_size && (n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), F(e2), i2 = n2.pending, n2.pending === n2.pending_buf_size)) {
                  s2 = 1;
                  break;
                }
                s2 = n2.gzindex < n2.gzhead.comment.length ? 255 & n2.gzhead.comment.charCodeAt(n2.gzindex++) : 0, U(n2, s2);
              } while (0 !== s2);
              n2.gzhead.hcrc && n2.pending > i2 && (e2.adler = p(e2.adler, n2.pending_buf, n2.pending - i2, i2)), 0 === s2 && (n2.status = 103);
            } else
              n2.status = 103;
          if (103 === n2.status && (n2.gzhead.hcrc ? (n2.pending + 2 > n2.pending_buf_size && F(e2), n2.pending + 2 <= n2.pending_buf_size && (U(n2, 255 & e2.adler), U(n2, e2.adler >> 8 & 255), e2.adler = 0, n2.status = E)) : n2.status = E), 0 !== n2.pending) {
            if (F(e2), 0 === e2.avail_out)
              return n2.last_flush = -1, m;
          } else if (0 === e2.avail_in && T(t2) <= T(r2) && t2 !== f)
            return R(e2, -5);
          if (666 === n2.status && 0 !== e2.avail_in)
            return R(e2, -5);
          if (0 !== e2.avail_in || 0 !== n2.lookahead || t2 !== l && 666 !== n2.status) {
            var o2 = 2 === n2.strategy ? function(e3, t3) {
              for (var r3; ; ) {
                if (0 === e3.lookahead && (j(e3), 0 === e3.lookahead)) {
                  if (t3 === l)
                    return A;
                  break;
                }
                if (e3.match_length = 0, r3 = u._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++, r3 && (N(e3, false), 0 === e3.strm.avail_out))
                  return A;
              }
              return e3.insert = 0, t3 === f ? (N(e3, true), 0 === e3.strm.avail_out ? O : B) : e3.last_lit && (N(e3, false), 0 === e3.strm.avail_out) ? A : I;
            }(n2, t2) : 3 === n2.strategy ? function(e3, t3) {
              for (var r3, n3, i3, s3, a3 = e3.window; ; ) {
                if (e3.lookahead <= S) {
                  if (j(e3), e3.lookahead <= S && t3 === l)
                    return A;
                  if (0 === e3.lookahead)
                    break;
                }
                if (e3.match_length = 0, e3.lookahead >= x && 0 < e3.strstart && (n3 = a3[i3 = e3.strstart - 1]) === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3]) {
                  s3 = e3.strstart + S;
                  do {
                  } while (n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && n3 === a3[++i3] && i3 < s3);
                  e3.match_length = S - (s3 - i3), e3.match_length > e3.lookahead && (e3.match_length = e3.lookahead);
                }
                if (e3.match_length >= x ? (r3 = u._tr_tally(e3, 1, e3.match_length - x), e3.lookahead -= e3.match_length, e3.strstart += e3.match_length, e3.match_length = 0) : (r3 = u._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++), r3 && (N(e3, false), 0 === e3.strm.avail_out))
                  return A;
              }
              return e3.insert = 0, t3 === f ? (N(e3, true), 0 === e3.strm.avail_out ? O : B) : e3.last_lit && (N(e3, false), 0 === e3.strm.avail_out) ? A : I;
            }(n2, t2) : h[n2.level].func(n2, t2);
            if (o2 !== O && o2 !== B || (n2.status = 666), o2 === A || o2 === O)
              return 0 === e2.avail_out && (n2.last_flush = -1), m;
            if (o2 === I && (1 === t2 ? u._tr_align(n2) : 5 !== t2 && (u._tr_stored_block(n2, 0, 0, false), 3 === t2 && (D(n2.head), 0 === n2.lookahead && (n2.strstart = 0, n2.block_start = 0, n2.insert = 0))), F(e2), 0 === e2.avail_out))
              return n2.last_flush = -1, m;
          }
          return t2 !== f ? m : n2.wrap <= 0 ? 1 : (2 === n2.wrap ? (U(n2, 255 & e2.adler), U(n2, e2.adler >> 8 & 255), U(n2, e2.adler >> 16 & 255), U(n2, e2.adler >> 24 & 255), U(n2, 255 & e2.total_in), U(n2, e2.total_in >> 8 & 255), U(n2, e2.total_in >> 16 & 255), U(n2, e2.total_in >> 24 & 255)) : (P(n2, e2.adler >>> 16), P(n2, 65535 & e2.adler)), F(e2), 0 < n2.wrap && (n2.wrap = -n2.wrap), 0 !== n2.pending ? m : 1);
        }, r.deflateEnd = function(e2) {
          var t2;
          return e2 && e2.state ? (t2 = e2.state.status) !== C && 69 !== t2 && 73 !== t2 && 91 !== t2 && 103 !== t2 && t2 !== E && 666 !== t2 ? R(e2, _) : (e2.state = null, t2 === E ? R(e2, -3) : m) : _;
        }, r.deflateSetDictionary = function(e2, t2) {
          var r2, n2, i2, s2, a2, o2, h2, u2, l2 = t2.length;
          if (!e2 || !e2.state)
            return _;
          if (2 === (s2 = (r2 = e2.state).wrap) || 1 === s2 && r2.status !== C || r2.lookahead)
            return _;
          for (1 === s2 && (e2.adler = d(e2.adler, t2, l2, 0)), r2.wrap = 0, l2 >= r2.w_size && (0 === s2 && (D(r2.head), r2.strstart = 0, r2.block_start = 0, r2.insert = 0), u2 = new c.Buf8(r2.w_size), c.arraySet(u2, t2, l2 - r2.w_size, r2.w_size, 0), t2 = u2, l2 = r2.w_size), a2 = e2.avail_in, o2 = e2.next_in, h2 = e2.input, e2.avail_in = l2, e2.next_in = 0, e2.input = t2, j(r2); r2.lookahead >= x; ) {
            for (n2 = r2.strstart, i2 = r2.lookahead - (x - 1); r2.ins_h = (r2.ins_h << r2.hash_shift ^ r2.window[n2 + x - 1]) & r2.hash_mask, r2.prev[n2 & r2.w_mask] = r2.head[r2.ins_h], r2.head[r2.ins_h] = n2, n2++, --i2; )
              ;
            r2.strstart = n2, r2.lookahead = x - 1, j(r2);
          }
          return r2.strstart += r2.lookahead, r2.block_start = r2.strstart, r2.insert = r2.lookahead, r2.lookahead = 0, r2.match_length = r2.prev_length = x - 1, r2.match_available = 0, e2.next_in = o2, e2.input = h2, e2.avail_in = a2, r2.wrap = s2, m;
        }, r.deflateInfo = "pako deflate (from Nodeca project)";
      }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./messages": 51, "./trees": 52 }], 47: [function(e, t, r) {
        "use strict";
        t.exports = function() {
          this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
        };
      }, {}], 48: [function(e, t, r) {
        "use strict";
        t.exports = function(e2, t2) {
          var r2, n, i, s, a, o, h, u, l, f, c, d, p, m, _, g, b, v, y, w, k, x, S, z, C;
          r2 = e2.state, n = e2.next_in, z = e2.input, i = n + (e2.avail_in - 5), s = e2.next_out, C = e2.output, a = s - (t2 - e2.avail_out), o = s + (e2.avail_out - 257), h = r2.dmax, u = r2.wsize, l = r2.whave, f = r2.wnext, c = r2.window, d = r2.hold, p = r2.bits, m = r2.lencode, _ = r2.distcode, g = (1 << r2.lenbits) - 1, b = (1 << r2.distbits) - 1;
          e:
            do {
              p < 15 && (d += z[n++] << p, p += 8, d += z[n++] << p, p += 8), v = m[d & g];
              t:
                for (; ; ) {
                  if (d >>>= y = v >>> 24, p -= y, 0 === (y = v >>> 16 & 255))
                    C[s++] = 65535 & v;
                  else {
                    if (!(16 & y)) {
                      if (0 == (64 & y)) {
                        v = m[(65535 & v) + (d & (1 << y) - 1)];
                        continue t;
                      }
                      if (32 & y) {
                        r2.mode = 12;
                        break e;
                      }
                      e2.msg = "invalid literal/length code", r2.mode = 30;
                      break e;
                    }
                    w = 65535 & v, (y &= 15) && (p < y && (d += z[n++] << p, p += 8), w += d & (1 << y) - 1, d >>>= y, p -= y), p < 15 && (d += z[n++] << p, p += 8, d += z[n++] << p, p += 8), v = _[d & b];
                    r:
                      for (; ; ) {
                        if (d >>>= y = v >>> 24, p -= y, !(16 & (y = v >>> 16 & 255))) {
                          if (0 == (64 & y)) {
                            v = _[(65535 & v) + (d & (1 << y) - 1)];
                            continue r;
                          }
                          e2.msg = "invalid distance code", r2.mode = 30;
                          break e;
                        }
                        if (k = 65535 & v, p < (y &= 15) && (d += z[n++] << p, (p += 8) < y && (d += z[n++] << p, p += 8)), h < (k += d & (1 << y) - 1)) {
                          e2.msg = "invalid distance too far back", r2.mode = 30;
                          break e;
                        }
                        if (d >>>= y, p -= y, (y = s - a) < k) {
                          if (l < (y = k - y) && r2.sane) {
                            e2.msg = "invalid distance too far back", r2.mode = 30;
                            break e;
                          }
                          if (S = c, (x = 0) === f) {
                            if (x += u - y, y < w) {
                              for (w -= y; C[s++] = c[x++], --y; )
                                ;
                              x = s - k, S = C;
                            }
                          } else if (f < y) {
                            if (x += u + f - y, (y -= f) < w) {
                              for (w -= y; C[s++] = c[x++], --y; )
                                ;
                              if (x = 0, f < w) {
                                for (w -= y = f; C[s++] = c[x++], --y; )
                                  ;
                                x = s - k, S = C;
                              }
                            }
                          } else if (x += f - y, y < w) {
                            for (w -= y; C[s++] = c[x++], --y; )
                              ;
                            x = s - k, S = C;
                          }
                          for (; 2 < w; )
                            C[s++] = S[x++], C[s++] = S[x++], C[s++] = S[x++], w -= 3;
                          w && (C[s++] = S[x++], 1 < w && (C[s++] = S[x++]));
                        } else {
                          for (x = s - k; C[s++] = C[x++], C[s++] = C[x++], C[s++] = C[x++], 2 < (w -= 3); )
                            ;
                          w && (C[s++] = C[x++], 1 < w && (C[s++] = C[x++]));
                        }
                        break;
                      }
                  }
                  break;
                }
            } while (n < i && s < o);
          n -= w = p >> 3, d &= (1 << (p -= w << 3)) - 1, e2.next_in = n, e2.next_out = s, e2.avail_in = n < i ? i - n + 5 : 5 - (n - i), e2.avail_out = s < o ? o - s + 257 : 257 - (s - o), r2.hold = d, r2.bits = p;
        };
      }, {}], 49: [function(e, t, r) {
        "use strict";
        var I = e("../utils/common"), O = e("./adler32"), B = e("./crc32"), R = e("./inffast"), T = e("./inftrees"), D = 1, F = 2, N = 0, U = -2, P = 1, n = 852, i = 592;
        function L(e2) {
          return (e2 >>> 24 & 255) + (e2 >>> 8 & 65280) + ((65280 & e2) << 8) + ((255 & e2) << 24);
        }
        function s() {
          this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new I.Buf16(320), this.work = new I.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
        }
        function a(e2) {
          var t2;
          return e2 && e2.state ? (t2 = e2.state, e2.total_in = e2.total_out = t2.total = 0, e2.msg = "", t2.wrap && (e2.adler = 1 & t2.wrap), t2.mode = P, t2.last = 0, t2.havedict = 0, t2.dmax = 32768, t2.head = null, t2.hold = 0, t2.bits = 0, t2.lencode = t2.lendyn = new I.Buf32(n), t2.distcode = t2.distdyn = new I.Buf32(i), t2.sane = 1, t2.back = -1, N) : U;
        }
        function o(e2) {
          var t2;
          return e2 && e2.state ? ((t2 = e2.state).wsize = 0, t2.whave = 0, t2.wnext = 0, a(e2)) : U;
        }
        function h(e2, t2) {
          var r2, n2;
          return e2 && e2.state ? (n2 = e2.state, t2 < 0 ? (r2 = 0, t2 = -t2) : (r2 = 1 + (t2 >> 4), t2 < 48 && (t2 &= 15)), t2 && (t2 < 8 || 15 < t2) ? U : (null !== n2.window && n2.wbits !== t2 && (n2.window = null), n2.wrap = r2, n2.wbits = t2, o(e2))) : U;
        }
        function u(e2, t2) {
          var r2, n2;
          return e2 ? (n2 = new s(), (e2.state = n2).window = null, (r2 = h(e2, t2)) !== N && (e2.state = null), r2) : U;
        }
        var l, f, c = true;
        function j(e2) {
          if (c) {
            var t2;
            for (l = new I.Buf32(512), f = new I.Buf32(32), t2 = 0; t2 < 144; )
              e2.lens[t2++] = 8;
            for (; t2 < 256; )
              e2.lens[t2++] = 9;
            for (; t2 < 280; )
              e2.lens[t2++] = 7;
            for (; t2 < 288; )
              e2.lens[t2++] = 8;
            for (T(D, e2.lens, 0, 288, l, 0, e2.work, { bits: 9 }), t2 = 0; t2 < 32; )
              e2.lens[t2++] = 5;
            T(F, e2.lens, 0, 32, f, 0, e2.work, { bits: 5 }), c = false;
          }
          e2.lencode = l, e2.lenbits = 9, e2.distcode = f, e2.distbits = 5;
        }
        function Z(e2, t2, r2, n2) {
          var i2, s2 = e2.state;
          return null === s2.window && (s2.wsize = 1 << s2.wbits, s2.wnext = 0, s2.whave = 0, s2.window = new I.Buf8(s2.wsize)), n2 >= s2.wsize ? (I.arraySet(s2.window, t2, r2 - s2.wsize, s2.wsize, 0), s2.wnext = 0, s2.whave = s2.wsize) : (n2 < (i2 = s2.wsize - s2.wnext) && (i2 = n2), I.arraySet(s2.window, t2, r2 - n2, i2, s2.wnext), (n2 -= i2) ? (I.arraySet(s2.window, t2, r2 - n2, n2, 0), s2.wnext = n2, s2.whave = s2.wsize) : (s2.wnext += i2, s2.wnext === s2.wsize && (s2.wnext = 0), s2.whave < s2.wsize && (s2.whave += i2))), 0;
        }
        r.inflateReset = o, r.inflateReset2 = h, r.inflateResetKeep = a, r.inflateInit = function(e2) {
          return u(e2, 15);
        }, r.inflateInit2 = u, r.inflate = function(e2, t2) {
          var r2, n2, i2, s2, a2, o2, h2, u2, l2, f2, c2, d, p, m, _, g, b, v, y, w, k, x, S, z, C = 0, E = new I.Buf8(4), A = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
          if (!e2 || !e2.state || !e2.output || !e2.input && 0 !== e2.avail_in)
            return U;
          12 === (r2 = e2.state).mode && (r2.mode = 13), a2 = e2.next_out, i2 = e2.output, h2 = e2.avail_out, s2 = e2.next_in, n2 = e2.input, o2 = e2.avail_in, u2 = r2.hold, l2 = r2.bits, f2 = o2, c2 = h2, x = N;
          e:
            for (; ; )
              switch (r2.mode) {
                case P:
                  if (0 === r2.wrap) {
                    r2.mode = 13;
                    break;
                  }
                  for (; l2 < 16; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (2 & r2.wrap && 35615 === u2) {
                    E[r2.check = 0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0), l2 = u2 = 0, r2.mode = 2;
                    break;
                  }
                  if (r2.flags = 0, r2.head && (r2.head.done = false), !(1 & r2.wrap) || (((255 & u2) << 8) + (u2 >> 8)) % 31) {
                    e2.msg = "incorrect header check", r2.mode = 30;
                    break;
                  }
                  if (8 != (15 & u2)) {
                    e2.msg = "unknown compression method", r2.mode = 30;
                    break;
                  }
                  if (l2 -= 4, k = 8 + (15 & (u2 >>>= 4)), 0 === r2.wbits)
                    r2.wbits = k;
                  else if (k > r2.wbits) {
                    e2.msg = "invalid window size", r2.mode = 30;
                    break;
                  }
                  r2.dmax = 1 << k, e2.adler = r2.check = 1, r2.mode = 512 & u2 ? 10 : 12, l2 = u2 = 0;
                  break;
                case 2:
                  for (; l2 < 16; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (r2.flags = u2, 8 != (255 & r2.flags)) {
                    e2.msg = "unknown compression method", r2.mode = 30;
                    break;
                  }
                  if (57344 & r2.flags) {
                    e2.msg = "unknown header flags set", r2.mode = 30;
                    break;
                  }
                  r2.head && (r2.head.text = u2 >> 8 & 1), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0, r2.mode = 3;
                case 3:
                  for (; l2 < 32; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.head && (r2.head.time = u2), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, E[2] = u2 >>> 16 & 255, E[3] = u2 >>> 24 & 255, r2.check = B(r2.check, E, 4, 0)), l2 = u2 = 0, r2.mode = 4;
                case 4:
                  for (; l2 < 16; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  r2.head && (r2.head.xflags = 255 & u2, r2.head.os = u2 >> 8), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0, r2.mode = 5;
                case 5:
                  if (1024 & r2.flags) {
                    for (; l2 < 16; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.length = u2, r2.head && (r2.head.extra_len = u2), 512 & r2.flags && (E[0] = 255 & u2, E[1] = u2 >>> 8 & 255, r2.check = B(r2.check, E, 2, 0)), l2 = u2 = 0;
                  } else
                    r2.head && (r2.head.extra = null);
                  r2.mode = 6;
                case 6:
                  if (1024 & r2.flags && (o2 < (d = r2.length) && (d = o2), d && (r2.head && (k = r2.head.extra_len - r2.length, r2.head.extra || (r2.head.extra = new Array(r2.head.extra_len)), I.arraySet(r2.head.extra, n2, s2, d, k)), 512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, r2.length -= d), r2.length))
                    break e;
                  r2.length = 0, r2.mode = 7;
                case 7:
                  if (2048 & r2.flags) {
                    if (0 === o2)
                      break e;
                    for (d = 0; k = n2[s2 + d++], r2.head && k && r2.length < 65536 && (r2.head.name += String.fromCharCode(k)), k && d < o2; )
                      ;
                    if (512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, k)
                      break e;
                  } else
                    r2.head && (r2.head.name = null);
                  r2.length = 0, r2.mode = 8;
                case 8:
                  if (4096 & r2.flags) {
                    if (0 === o2)
                      break e;
                    for (d = 0; k = n2[s2 + d++], r2.head && k && r2.length < 65536 && (r2.head.comment += String.fromCharCode(k)), k && d < o2; )
                      ;
                    if (512 & r2.flags && (r2.check = B(r2.check, n2, d, s2)), o2 -= d, s2 += d, k)
                      break e;
                  } else
                    r2.head && (r2.head.comment = null);
                  r2.mode = 9;
                case 9:
                  if (512 & r2.flags) {
                    for (; l2 < 16; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    if (u2 !== (65535 & r2.check)) {
                      e2.msg = "header crc mismatch", r2.mode = 30;
                      break;
                    }
                    l2 = u2 = 0;
                  }
                  r2.head && (r2.head.hcrc = r2.flags >> 9 & 1, r2.head.done = true), e2.adler = r2.check = 0, r2.mode = 12;
                  break;
                case 10:
                  for (; l2 < 32; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  e2.adler = r2.check = L(u2), l2 = u2 = 0, r2.mode = 11;
                case 11:
                  if (0 === r2.havedict)
                    return e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, 2;
                  e2.adler = r2.check = 1, r2.mode = 12;
                case 12:
                  if (5 === t2 || 6 === t2)
                    break e;
                case 13:
                  if (r2.last) {
                    u2 >>>= 7 & l2, l2 -= 7 & l2, r2.mode = 27;
                    break;
                  }
                  for (; l2 < 3; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  switch (r2.last = 1 & u2, l2 -= 1, 3 & (u2 >>>= 1)) {
                    case 0:
                      r2.mode = 14;
                      break;
                    case 1:
                      if (j(r2), r2.mode = 20, 6 !== t2)
                        break;
                      u2 >>>= 2, l2 -= 2;
                      break e;
                    case 2:
                      r2.mode = 17;
                      break;
                    case 3:
                      e2.msg = "invalid block type", r2.mode = 30;
                  }
                  u2 >>>= 2, l2 -= 2;
                  break;
                case 14:
                  for (u2 >>>= 7 & l2, l2 -= 7 & l2; l2 < 32; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if ((65535 & u2) != (u2 >>> 16 ^ 65535)) {
                    e2.msg = "invalid stored block lengths", r2.mode = 30;
                    break;
                  }
                  if (r2.length = 65535 & u2, l2 = u2 = 0, r2.mode = 15, 6 === t2)
                    break e;
                case 15:
                  r2.mode = 16;
                case 16:
                  if (d = r2.length) {
                    if (o2 < d && (d = o2), h2 < d && (d = h2), 0 === d)
                      break e;
                    I.arraySet(i2, n2, s2, d, a2), o2 -= d, s2 += d, h2 -= d, a2 += d, r2.length -= d;
                    break;
                  }
                  r2.mode = 12;
                  break;
                case 17:
                  for (; l2 < 14; ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (r2.nlen = 257 + (31 & u2), u2 >>>= 5, l2 -= 5, r2.ndist = 1 + (31 & u2), u2 >>>= 5, l2 -= 5, r2.ncode = 4 + (15 & u2), u2 >>>= 4, l2 -= 4, 286 < r2.nlen || 30 < r2.ndist) {
                    e2.msg = "too many length or distance symbols", r2.mode = 30;
                    break;
                  }
                  r2.have = 0, r2.mode = 18;
                case 18:
                  for (; r2.have < r2.ncode; ) {
                    for (; l2 < 3; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.lens[A[r2.have++]] = 7 & u2, u2 >>>= 3, l2 -= 3;
                  }
                  for (; r2.have < 19; )
                    r2.lens[A[r2.have++]] = 0;
                  if (r2.lencode = r2.lendyn, r2.lenbits = 7, S = { bits: r2.lenbits }, x = T(0, r2.lens, 0, 19, r2.lencode, 0, r2.work, S), r2.lenbits = S.bits, x) {
                    e2.msg = "invalid code lengths set", r2.mode = 30;
                    break;
                  }
                  r2.have = 0, r2.mode = 19;
                case 19:
                  for (; r2.have < r2.nlen + r2.ndist; ) {
                    for (; g = (C = r2.lencode[u2 & (1 << r2.lenbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    if (b < 16)
                      u2 >>>= _, l2 -= _, r2.lens[r2.have++] = b;
                    else {
                      if (16 === b) {
                        for (z = _ + 2; l2 < z; ) {
                          if (0 === o2)
                            break e;
                          o2--, u2 += n2[s2++] << l2, l2 += 8;
                        }
                        if (u2 >>>= _, l2 -= _, 0 === r2.have) {
                          e2.msg = "invalid bit length repeat", r2.mode = 30;
                          break;
                        }
                        k = r2.lens[r2.have - 1], d = 3 + (3 & u2), u2 >>>= 2, l2 -= 2;
                      } else if (17 === b) {
                        for (z = _ + 3; l2 < z; ) {
                          if (0 === o2)
                            break e;
                          o2--, u2 += n2[s2++] << l2, l2 += 8;
                        }
                        l2 -= _, k = 0, d = 3 + (7 & (u2 >>>= _)), u2 >>>= 3, l2 -= 3;
                      } else {
                        for (z = _ + 7; l2 < z; ) {
                          if (0 === o2)
                            break e;
                          o2--, u2 += n2[s2++] << l2, l2 += 8;
                        }
                        l2 -= _, k = 0, d = 11 + (127 & (u2 >>>= _)), u2 >>>= 7, l2 -= 7;
                      }
                      if (r2.have + d > r2.nlen + r2.ndist) {
                        e2.msg = "invalid bit length repeat", r2.mode = 30;
                        break;
                      }
                      for (; d--; )
                        r2.lens[r2.have++] = k;
                    }
                  }
                  if (30 === r2.mode)
                    break;
                  if (0 === r2.lens[256]) {
                    e2.msg = "invalid code -- missing end-of-block", r2.mode = 30;
                    break;
                  }
                  if (r2.lenbits = 9, S = { bits: r2.lenbits }, x = T(D, r2.lens, 0, r2.nlen, r2.lencode, 0, r2.work, S), r2.lenbits = S.bits, x) {
                    e2.msg = "invalid literal/lengths set", r2.mode = 30;
                    break;
                  }
                  if (r2.distbits = 6, r2.distcode = r2.distdyn, S = { bits: r2.distbits }, x = T(F, r2.lens, r2.nlen, r2.ndist, r2.distcode, 0, r2.work, S), r2.distbits = S.bits, x) {
                    e2.msg = "invalid distances set", r2.mode = 30;
                    break;
                  }
                  if (r2.mode = 20, 6 === t2)
                    break e;
                case 20:
                  r2.mode = 21;
                case 21:
                  if (6 <= o2 && 258 <= h2) {
                    e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, R(e2, c2), a2 = e2.next_out, i2 = e2.output, h2 = e2.avail_out, s2 = e2.next_in, n2 = e2.input, o2 = e2.avail_in, u2 = r2.hold, l2 = r2.bits, 12 === r2.mode && (r2.back = -1);
                    break;
                  }
                  for (r2.back = 0; g = (C = r2.lencode[u2 & (1 << r2.lenbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (g && 0 == (240 & g)) {
                    for (v = _, y = g, w = b; g = (C = r2.lencode[w + ((u2 & (1 << v + y) - 1) >> v)]) >>> 16 & 255, b = 65535 & C, !(v + (_ = C >>> 24) <= l2); ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    u2 >>>= v, l2 -= v, r2.back += v;
                  }
                  if (u2 >>>= _, l2 -= _, r2.back += _, r2.length = b, 0 === g) {
                    r2.mode = 26;
                    break;
                  }
                  if (32 & g) {
                    r2.back = -1, r2.mode = 12;
                    break;
                  }
                  if (64 & g) {
                    e2.msg = "invalid literal/length code", r2.mode = 30;
                    break;
                  }
                  r2.extra = 15 & g, r2.mode = 22;
                case 22:
                  if (r2.extra) {
                    for (z = r2.extra; l2 < z; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.length += u2 & (1 << r2.extra) - 1, u2 >>>= r2.extra, l2 -= r2.extra, r2.back += r2.extra;
                  }
                  r2.was = r2.length, r2.mode = 23;
                case 23:
                  for (; g = (C = r2.distcode[u2 & (1 << r2.distbits) - 1]) >>> 16 & 255, b = 65535 & C, !((_ = C >>> 24) <= l2); ) {
                    if (0 === o2)
                      break e;
                    o2--, u2 += n2[s2++] << l2, l2 += 8;
                  }
                  if (0 == (240 & g)) {
                    for (v = _, y = g, w = b; g = (C = r2.distcode[w + ((u2 & (1 << v + y) - 1) >> v)]) >>> 16 & 255, b = 65535 & C, !(v + (_ = C >>> 24) <= l2); ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    u2 >>>= v, l2 -= v, r2.back += v;
                  }
                  if (u2 >>>= _, l2 -= _, r2.back += _, 64 & g) {
                    e2.msg = "invalid distance code", r2.mode = 30;
                    break;
                  }
                  r2.offset = b, r2.extra = 15 & g, r2.mode = 24;
                case 24:
                  if (r2.extra) {
                    for (z = r2.extra; l2 < z; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    r2.offset += u2 & (1 << r2.extra) - 1, u2 >>>= r2.extra, l2 -= r2.extra, r2.back += r2.extra;
                  }
                  if (r2.offset > r2.dmax) {
                    e2.msg = "invalid distance too far back", r2.mode = 30;
                    break;
                  }
                  r2.mode = 25;
                case 25:
                  if (0 === h2)
                    break e;
                  if (d = c2 - h2, r2.offset > d) {
                    if ((d = r2.offset - d) > r2.whave && r2.sane) {
                      e2.msg = "invalid distance too far back", r2.mode = 30;
                      break;
                    }
                    p = d > r2.wnext ? (d -= r2.wnext, r2.wsize - d) : r2.wnext - d, d > r2.length && (d = r2.length), m = r2.window;
                  } else
                    m = i2, p = a2 - r2.offset, d = r2.length;
                  for (h2 < d && (d = h2), h2 -= d, r2.length -= d; i2[a2++] = m[p++], --d; )
                    ;
                  0 === r2.length && (r2.mode = 21);
                  break;
                case 26:
                  if (0 === h2)
                    break e;
                  i2[a2++] = r2.length, h2--, r2.mode = 21;
                  break;
                case 27:
                  if (r2.wrap) {
                    for (; l2 < 32; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 |= n2[s2++] << l2, l2 += 8;
                    }
                    if (c2 -= h2, e2.total_out += c2, r2.total += c2, c2 && (e2.adler = r2.check = r2.flags ? B(r2.check, i2, c2, a2 - c2) : O(r2.check, i2, c2, a2 - c2)), c2 = h2, (r2.flags ? u2 : L(u2)) !== r2.check) {
                      e2.msg = "incorrect data check", r2.mode = 30;
                      break;
                    }
                    l2 = u2 = 0;
                  }
                  r2.mode = 28;
                case 28:
                  if (r2.wrap && r2.flags) {
                    for (; l2 < 32; ) {
                      if (0 === o2)
                        break e;
                      o2--, u2 += n2[s2++] << l2, l2 += 8;
                    }
                    if (u2 !== (4294967295 & r2.total)) {
                      e2.msg = "incorrect length check", r2.mode = 30;
                      break;
                    }
                    l2 = u2 = 0;
                  }
                  r2.mode = 29;
                case 29:
                  x = 1;
                  break e;
                case 30:
                  x = -3;
                  break e;
                case 31:
                  return -4;
                case 32:
                default:
                  return U;
              }
          return e2.next_out = a2, e2.avail_out = h2, e2.next_in = s2, e2.avail_in = o2, r2.hold = u2, r2.bits = l2, (r2.wsize || c2 !== e2.avail_out && r2.mode < 30 && (r2.mode < 27 || 4 !== t2)) && Z(e2, e2.output, e2.next_out, c2 - e2.avail_out) ? (r2.mode = 31, -4) : (f2 -= e2.avail_in, c2 -= e2.avail_out, e2.total_in += f2, e2.total_out += c2, r2.total += c2, r2.wrap && c2 && (e2.adler = r2.check = r2.flags ? B(r2.check, i2, c2, e2.next_out - c2) : O(r2.check, i2, c2, e2.next_out - c2)), e2.data_type = r2.bits + (r2.last ? 64 : 0) + (12 === r2.mode ? 128 : 0) + (20 === r2.mode || 15 === r2.mode ? 256 : 0), (0 == f2 && 0 === c2 || 4 === t2) && x === N && (x = -5), x);
        }, r.inflateEnd = function(e2) {
          if (!e2 || !e2.state)
            return U;
          var t2 = e2.state;
          return t2.window && (t2.window = null), e2.state = null, N;
        }, r.inflateGetHeader = function(e2, t2) {
          var r2;
          return e2 && e2.state ? 0 == (2 & (r2 = e2.state).wrap) ? U : ((r2.head = t2).done = false, N) : U;
        }, r.inflateSetDictionary = function(e2, t2) {
          var r2, n2 = t2.length;
          return e2 && e2.state ? 0 !== (r2 = e2.state).wrap && 11 !== r2.mode ? U : 11 === r2.mode && O(1, t2, n2, 0) !== r2.check ? -3 : Z(e2, t2, n2, n2) ? (r2.mode = 31, -4) : (r2.havedict = 1, N) : U;
        }, r.inflateInfo = "pako inflate (from Nodeca project)";
      }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./inffast": 48, "./inftrees": 50 }], 50: [function(e, t, r) {
        "use strict";
        var D = e("../utils/common"), F = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], N = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], U = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], P = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
        t.exports = function(e2, t2, r2, n, i, s, a, o) {
          var h, u, l, f, c, d, p, m, _, g = o.bits, b = 0, v = 0, y = 0, w = 0, k = 0, x = 0, S = 0, z = 0, C = 0, E = 0, A = null, I = 0, O = new D.Buf16(16), B = new D.Buf16(16), R = null, T = 0;
          for (b = 0; b <= 15; b++)
            O[b] = 0;
          for (v = 0; v < n; v++)
            O[t2[r2 + v]]++;
          for (k = g, w = 15; 1 <= w && 0 === O[w]; w--)
            ;
          if (w < k && (k = w), 0 === w)
            return i[s++] = 20971520, i[s++] = 20971520, o.bits = 1, 0;
          for (y = 1; y < w && 0 === O[y]; y++)
            ;
          for (k < y && (k = y), b = z = 1; b <= 15; b++)
            if (z <<= 1, (z -= O[b]) < 0)
              return -1;
          if (0 < z && (0 === e2 || 1 !== w))
            return -1;
          for (B[1] = 0, b = 1; b < 15; b++)
            B[b + 1] = B[b] + O[b];
          for (v = 0; v < n; v++)
            0 !== t2[r2 + v] && (a[B[t2[r2 + v]]++] = v);
          if (d = 0 === e2 ? (A = R = a, 19) : 1 === e2 ? (A = F, I -= 257, R = N, T -= 257, 256) : (A = U, R = P, -1), b = y, c = s, S = v = E = 0, l = -1, f = (C = 1 << (x = k)) - 1, 1 === e2 && 852 < C || 2 === e2 && 592 < C)
            return 1;
          for (; ; ) {
            for (p = b - S, _ = a[v] < d ? (m = 0, a[v]) : a[v] > d ? (m = R[T + a[v]], A[I + a[v]]) : (m = 96, 0), h = 1 << b - S, y = u = 1 << x; i[c + (E >> S) + (u -= h)] = p << 24 | m << 16 | _ | 0, 0 !== u; )
              ;
            for (h = 1 << b - 1; E & h; )
              h >>= 1;
            if (0 !== h ? (E &= h - 1, E += h) : E = 0, v++, 0 == --O[b]) {
              if (b === w)
                break;
              b = t2[r2 + a[v]];
            }
            if (k < b && (E & f) !== l) {
              for (0 === S && (S = k), c += y, z = 1 << (x = b - S); x + S < w && !((z -= O[x + S]) <= 0); )
                x++, z <<= 1;
              if (C += 1 << x, 1 === e2 && 852 < C || 2 === e2 && 592 < C)
                return 1;
              i[l = E & f] = k << 24 | x << 16 | c - s | 0;
            }
          }
          return 0 !== E && (i[c + E] = b - S << 24 | 64 << 16 | 0), o.bits = k, 0;
        };
      }, { "../utils/common": 41 }], 51: [function(e, t, r) {
        "use strict";
        t.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
      }, {}], 52: [function(e, t, r) {
        "use strict";
        var i = e("../utils/common"), o = 0, h = 1;
        function n(e2) {
          for (var t2 = e2.length; 0 <= --t2; )
            e2[t2] = 0;
        }
        var s = 0, a = 29, u = 256, l = u + 1 + a, f = 30, c = 19, _ = 2 * l + 1, g = 15, d = 16, p = 7, m = 256, b = 16, v = 17, y = 18, w = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], k = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], x = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], S = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], z = new Array(2 * (l + 2));
        n(z);
        var C = new Array(2 * f);
        n(C);
        var E = new Array(512);
        n(E);
        var A = new Array(256);
        n(A);
        var I = new Array(a);
        n(I);
        var O, B, R, T = new Array(f);
        function D(e2, t2, r2, n2, i2) {
          this.static_tree = e2, this.extra_bits = t2, this.extra_base = r2, this.elems = n2, this.max_length = i2, this.has_stree = e2 && e2.length;
        }
        function F(e2, t2) {
          this.dyn_tree = e2, this.max_code = 0, this.stat_desc = t2;
        }
        function N(e2) {
          return e2 < 256 ? E[e2] : E[256 + (e2 >>> 7)];
        }
        function U(e2, t2) {
          e2.pending_buf[e2.pending++] = 255 & t2, e2.pending_buf[e2.pending++] = t2 >>> 8 & 255;
        }
        function P(e2, t2, r2) {
          e2.bi_valid > d - r2 ? (e2.bi_buf |= t2 << e2.bi_valid & 65535, U(e2, e2.bi_buf), e2.bi_buf = t2 >> d - e2.bi_valid, e2.bi_valid += r2 - d) : (e2.bi_buf |= t2 << e2.bi_valid & 65535, e2.bi_valid += r2);
        }
        function L(e2, t2, r2) {
          P(e2, r2[2 * t2], r2[2 * t2 + 1]);
        }
        function j(e2, t2) {
          for (var r2 = 0; r2 |= 1 & e2, e2 >>>= 1, r2 <<= 1, 0 < --t2; )
            ;
          return r2 >>> 1;
        }
        function Z(e2, t2, r2) {
          var n2, i2, s2 = new Array(g + 1), a2 = 0;
          for (n2 = 1; n2 <= g; n2++)
            s2[n2] = a2 = a2 + r2[n2 - 1] << 1;
          for (i2 = 0; i2 <= t2; i2++) {
            var o2 = e2[2 * i2 + 1];
            0 !== o2 && (e2[2 * i2] = j(s2[o2]++, o2));
          }
        }
        function W(e2) {
          var t2;
          for (t2 = 0; t2 < l; t2++)
            e2.dyn_ltree[2 * t2] = 0;
          for (t2 = 0; t2 < f; t2++)
            e2.dyn_dtree[2 * t2] = 0;
          for (t2 = 0; t2 < c; t2++)
            e2.bl_tree[2 * t2] = 0;
          e2.dyn_ltree[2 * m] = 1, e2.opt_len = e2.static_len = 0, e2.last_lit = e2.matches = 0;
        }
        function M(e2) {
          8 < e2.bi_valid ? U(e2, e2.bi_buf) : 0 < e2.bi_valid && (e2.pending_buf[e2.pending++] = e2.bi_buf), e2.bi_buf = 0, e2.bi_valid = 0;
        }
        function H(e2, t2, r2, n2) {
          var i2 = 2 * t2, s2 = 2 * r2;
          return e2[i2] < e2[s2] || e2[i2] === e2[s2] && n2[t2] <= n2[r2];
        }
        function G(e2, t2, r2) {
          for (var n2 = e2.heap[r2], i2 = r2 << 1; i2 <= e2.heap_len && (i2 < e2.heap_len && H(t2, e2.heap[i2 + 1], e2.heap[i2], e2.depth) && i2++, !H(t2, n2, e2.heap[i2], e2.depth)); )
            e2.heap[r2] = e2.heap[i2], r2 = i2, i2 <<= 1;
          e2.heap[r2] = n2;
        }
        function K(e2, t2, r2) {
          var n2, i2, s2, a2, o2 = 0;
          if (0 !== e2.last_lit)
            for (; n2 = e2.pending_buf[e2.d_buf + 2 * o2] << 8 | e2.pending_buf[e2.d_buf + 2 * o2 + 1], i2 = e2.pending_buf[e2.l_buf + o2], o2++, 0 === n2 ? L(e2, i2, t2) : (L(e2, (s2 = A[i2]) + u + 1, t2), 0 !== (a2 = w[s2]) && P(e2, i2 -= I[s2], a2), L(e2, s2 = N(--n2), r2), 0 !== (a2 = k[s2]) && P(e2, n2 -= T[s2], a2)), o2 < e2.last_lit; )
              ;
          L(e2, m, t2);
        }
        function Y(e2, t2) {
          var r2, n2, i2, s2 = t2.dyn_tree, a2 = t2.stat_desc.static_tree, o2 = t2.stat_desc.has_stree, h2 = t2.stat_desc.elems, u2 = -1;
          for (e2.heap_len = 0, e2.heap_max = _, r2 = 0; r2 < h2; r2++)
            0 !== s2[2 * r2] ? (e2.heap[++e2.heap_len] = u2 = r2, e2.depth[r2] = 0) : s2[2 * r2 + 1] = 0;
          for (; e2.heap_len < 2; )
            s2[2 * (i2 = e2.heap[++e2.heap_len] = u2 < 2 ? ++u2 : 0)] = 1, e2.depth[i2] = 0, e2.opt_len--, o2 && (e2.static_len -= a2[2 * i2 + 1]);
          for (t2.max_code = u2, r2 = e2.heap_len >> 1; 1 <= r2; r2--)
            G(e2, s2, r2);
          for (i2 = h2; r2 = e2.heap[1], e2.heap[1] = e2.heap[e2.heap_len--], G(e2, s2, 1), n2 = e2.heap[1], e2.heap[--e2.heap_max] = r2, e2.heap[--e2.heap_max] = n2, s2[2 * i2] = s2[2 * r2] + s2[2 * n2], e2.depth[i2] = (e2.depth[r2] >= e2.depth[n2] ? e2.depth[r2] : e2.depth[n2]) + 1, s2[2 * r2 + 1] = s2[2 * n2 + 1] = i2, e2.heap[1] = i2++, G(e2, s2, 1), 2 <= e2.heap_len; )
            ;
          e2.heap[--e2.heap_max] = e2.heap[1], function(e3, t3) {
            var r3, n3, i3, s3, a3, o3, h3 = t3.dyn_tree, u3 = t3.max_code, l2 = t3.stat_desc.static_tree, f2 = t3.stat_desc.has_stree, c2 = t3.stat_desc.extra_bits, d2 = t3.stat_desc.extra_base, p2 = t3.stat_desc.max_length, m2 = 0;
            for (s3 = 0; s3 <= g; s3++)
              e3.bl_count[s3] = 0;
            for (h3[2 * e3.heap[e3.heap_max] + 1] = 0, r3 = e3.heap_max + 1; r3 < _; r3++)
              p2 < (s3 = h3[2 * h3[2 * (n3 = e3.heap[r3]) + 1] + 1] + 1) && (s3 = p2, m2++), h3[2 * n3 + 1] = s3, u3 < n3 || (e3.bl_count[s3]++, a3 = 0, d2 <= n3 && (a3 = c2[n3 - d2]), o3 = h3[2 * n3], e3.opt_len += o3 * (s3 + a3), f2 && (e3.static_len += o3 * (l2[2 * n3 + 1] + a3)));
            if (0 !== m2) {
              do {
                for (s3 = p2 - 1; 0 === e3.bl_count[s3]; )
                  s3--;
                e3.bl_count[s3]--, e3.bl_count[s3 + 1] += 2, e3.bl_count[p2]--, m2 -= 2;
              } while (0 < m2);
              for (s3 = p2; 0 !== s3; s3--)
                for (n3 = e3.bl_count[s3]; 0 !== n3; )
                  u3 < (i3 = e3.heap[--r3]) || (h3[2 * i3 + 1] !== s3 && (e3.opt_len += (s3 - h3[2 * i3 + 1]) * h3[2 * i3], h3[2 * i3 + 1] = s3), n3--);
            }
          }(e2, t2), Z(s2, u2, e2.bl_count);
        }
        function X(e2, t2, r2) {
          var n2, i2, s2 = -1, a2 = t2[1], o2 = 0, h2 = 7, u2 = 4;
          for (0 === a2 && (h2 = 138, u2 = 3), t2[2 * (r2 + 1) + 1] = 65535, n2 = 0; n2 <= r2; n2++)
            i2 = a2, a2 = t2[2 * (n2 + 1) + 1], ++o2 < h2 && i2 === a2 || (o2 < u2 ? e2.bl_tree[2 * i2] += o2 : 0 !== i2 ? (i2 !== s2 && e2.bl_tree[2 * i2]++, e2.bl_tree[2 * b]++) : o2 <= 10 ? e2.bl_tree[2 * v]++ : e2.bl_tree[2 * y]++, s2 = i2, u2 = (o2 = 0) === a2 ? (h2 = 138, 3) : i2 === a2 ? (h2 = 6, 3) : (h2 = 7, 4));
        }
        function V(e2, t2, r2) {
          var n2, i2, s2 = -1, a2 = t2[1], o2 = 0, h2 = 7, u2 = 4;
          for (0 === a2 && (h2 = 138, u2 = 3), n2 = 0; n2 <= r2; n2++)
            if (i2 = a2, a2 = t2[2 * (n2 + 1) + 1], !(++o2 < h2 && i2 === a2)) {
              if (o2 < u2)
                for (; L(e2, i2, e2.bl_tree), 0 != --o2; )
                  ;
              else
                0 !== i2 ? (i2 !== s2 && (L(e2, i2, e2.bl_tree), o2--), L(e2, b, e2.bl_tree), P(e2, o2 - 3, 2)) : o2 <= 10 ? (L(e2, v, e2.bl_tree), P(e2, o2 - 3, 3)) : (L(e2, y, e2.bl_tree), P(e2, o2 - 11, 7));
              s2 = i2, u2 = (o2 = 0) === a2 ? (h2 = 138, 3) : i2 === a2 ? (h2 = 6, 3) : (h2 = 7, 4);
            }
        }
        n(T);
        var q = false;
        function J(e2, t2, r2, n2) {
          P(e2, (s << 1) + (n2 ? 1 : 0), 3), function(e3, t3, r3, n3) {
            M(e3), n3 && (U(e3, r3), U(e3, ~r3)), i.arraySet(e3.pending_buf, e3.window, t3, r3, e3.pending), e3.pending += r3;
          }(e2, t2, r2, true);
        }
        r._tr_init = function(e2) {
          q || (function() {
            var e3, t2, r2, n2, i2, s2 = new Array(g + 1);
            for (n2 = r2 = 0; n2 < a - 1; n2++)
              for (I[n2] = r2, e3 = 0; e3 < 1 << w[n2]; e3++)
                A[r2++] = n2;
            for (A[r2 - 1] = n2, n2 = i2 = 0; n2 < 16; n2++)
              for (T[n2] = i2, e3 = 0; e3 < 1 << k[n2]; e3++)
                E[i2++] = n2;
            for (i2 >>= 7; n2 < f; n2++)
              for (T[n2] = i2 << 7, e3 = 0; e3 < 1 << k[n2] - 7; e3++)
                E[256 + i2++] = n2;
            for (t2 = 0; t2 <= g; t2++)
              s2[t2] = 0;
            for (e3 = 0; e3 <= 143; )
              z[2 * e3 + 1] = 8, e3++, s2[8]++;
            for (; e3 <= 255; )
              z[2 * e3 + 1] = 9, e3++, s2[9]++;
            for (; e3 <= 279; )
              z[2 * e3 + 1] = 7, e3++, s2[7]++;
            for (; e3 <= 287; )
              z[2 * e3 + 1] = 8, e3++, s2[8]++;
            for (Z(z, l + 1, s2), e3 = 0; e3 < f; e3++)
              C[2 * e3 + 1] = 5, C[2 * e3] = j(e3, 5);
            O = new D(z, w, u + 1, l, g), B = new D(C, k, 0, f, g), R = new D(new Array(0), x, 0, c, p);
          }(), q = true), e2.l_desc = new F(e2.dyn_ltree, O), e2.d_desc = new F(e2.dyn_dtree, B), e2.bl_desc = new F(e2.bl_tree, R), e2.bi_buf = 0, e2.bi_valid = 0, W(e2);
        }, r._tr_stored_block = J, r._tr_flush_block = function(e2, t2, r2, n2) {
          var i2, s2, a2 = 0;
          0 < e2.level ? (2 === e2.strm.data_type && (e2.strm.data_type = function(e3) {
            var t3, r3 = 4093624447;
            for (t3 = 0; t3 <= 31; t3++, r3 >>>= 1)
              if (1 & r3 && 0 !== e3.dyn_ltree[2 * t3])
                return o;
            if (0 !== e3.dyn_ltree[18] || 0 !== e3.dyn_ltree[20] || 0 !== e3.dyn_ltree[26])
              return h;
            for (t3 = 32; t3 < u; t3++)
              if (0 !== e3.dyn_ltree[2 * t3])
                return h;
            return o;
          }(e2)), Y(e2, e2.l_desc), Y(e2, e2.d_desc), a2 = function(e3) {
            var t3;
            for (X(e3, e3.dyn_ltree, e3.l_desc.max_code), X(e3, e3.dyn_dtree, e3.d_desc.max_code), Y(e3, e3.bl_desc), t3 = c - 1; 3 <= t3 && 0 === e3.bl_tree[2 * S[t3] + 1]; t3--)
              ;
            return e3.opt_len += 3 * (t3 + 1) + 5 + 5 + 4, t3;
          }(e2), i2 = e2.opt_len + 3 + 7 >>> 3, (s2 = e2.static_len + 3 + 7 >>> 3) <= i2 && (i2 = s2)) : i2 = s2 = r2 + 5, r2 + 4 <= i2 && -1 !== t2 ? J(e2, t2, r2, n2) : 4 === e2.strategy || s2 === i2 ? (P(e2, 2 + (n2 ? 1 : 0), 3), K(e2, z, C)) : (P(e2, 4 + (n2 ? 1 : 0), 3), function(e3, t3, r3, n3) {
            var i3;
            for (P(e3, t3 - 257, 5), P(e3, r3 - 1, 5), P(e3, n3 - 4, 4), i3 = 0; i3 < n3; i3++)
              P(e3, e3.bl_tree[2 * S[i3] + 1], 3);
            V(e3, e3.dyn_ltree, t3 - 1), V(e3, e3.dyn_dtree, r3 - 1);
          }(e2, e2.l_desc.max_code + 1, e2.d_desc.max_code + 1, a2 + 1), K(e2, e2.dyn_ltree, e2.dyn_dtree)), W(e2), n2 && M(e2);
        }, r._tr_tally = function(e2, t2, r2) {
          return e2.pending_buf[e2.d_buf + 2 * e2.last_lit] = t2 >>> 8 & 255, e2.pending_buf[e2.d_buf + 2 * e2.last_lit + 1] = 255 & t2, e2.pending_buf[e2.l_buf + e2.last_lit] = 255 & r2, e2.last_lit++, 0 === t2 ? e2.dyn_ltree[2 * r2]++ : (e2.matches++, t2--, e2.dyn_ltree[2 * (A[r2] + u + 1)]++, e2.dyn_dtree[2 * N(t2)]++), e2.last_lit === e2.lit_bufsize - 1;
        }, r._tr_align = function(e2) {
          P(e2, 2, 3), L(e2, m, z), function(e3) {
            16 === e3.bi_valid ? (U(e3, e3.bi_buf), e3.bi_buf = 0, e3.bi_valid = 0) : 8 <= e3.bi_valid && (e3.pending_buf[e3.pending++] = 255 & e3.bi_buf, e3.bi_buf >>= 8, e3.bi_valid -= 8);
          }(e2);
        };
      }, { "../utils/common": 41 }], 53: [function(e, t, r) {
        "use strict";
        t.exports = function() {
          this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
        };
      }, {}], 54: [function(e, t, r) {
        (function(e2) {
          !function(r2, n) {
            "use strict";
            if (!r2.setImmediate) {
              var i, s, t2, a, o = 1, h = {}, u = false, l = r2.document, e3 = Object.getPrototypeOf && Object.getPrototypeOf(r2);
              e3 = e3 && e3.setTimeout ? e3 : r2, i = "[object process]" === {}.toString.call(r2.process) ? function(e4) {
                process.nextTick(function() {
                  c(e4);
                });
              } : function() {
                if (r2.postMessage && !r2.importScripts) {
                  var e4 = true, t3 = r2.onmessage;
                  return r2.onmessage = function() {
                    e4 = false;
                  }, r2.postMessage("", "*"), r2.onmessage = t3, e4;
                }
              }() ? (a = "setImmediate$" + Math.random() + "$", r2.addEventListener ? r2.addEventListener("message", d, false) : r2.attachEvent("onmessage", d), function(e4) {
                r2.postMessage(a + e4, "*");
              }) : r2.MessageChannel ? ((t2 = new MessageChannel()).port1.onmessage = function(e4) {
                c(e4.data);
              }, function(e4) {
                t2.port2.postMessage(e4);
              }) : l && "onreadystatechange" in l.createElement("script") ? (s = l.documentElement, function(e4) {
                var t3 = l.createElement("script");
                t3.onreadystatechange = function() {
                  c(e4), t3.onreadystatechange = null, s.removeChild(t3), t3 = null;
                }, s.appendChild(t3);
              }) : function(e4) {
                setTimeout(c, 0, e4);
              }, e3.setImmediate = function(e4) {
                "function" != typeof e4 && (e4 = new Function("" + e4));
                for (var t3 = new Array(arguments.length - 1), r3 = 0; r3 < t3.length; r3++)
                  t3[r3] = arguments[r3 + 1];
                var n2 = { callback: e4, args: t3 };
                return h[o] = n2, i(o), o++;
              }, e3.clearImmediate = f;
            }
            function f(e4) {
              delete h[e4];
            }
            function c(e4) {
              if (u)
                setTimeout(c, 0, e4);
              else {
                var t3 = h[e4];
                if (t3) {
                  u = true;
                  try {
                    !function(e5) {
                      var t4 = e5.callback, r3 = e5.args;
                      switch (r3.length) {
                        case 0:
                          t4();
                          break;
                        case 1:
                          t4(r3[0]);
                          break;
                        case 2:
                          t4(r3[0], r3[1]);
                          break;
                        case 3:
                          t4(r3[0], r3[1], r3[2]);
                          break;
                        default:
                          t4.apply(n, r3);
                      }
                    }(t3);
                  } finally {
                    f(e4), u = false;
                  }
                }
              }
            }
            function d(e4) {
              e4.source === r2 && "string" == typeof e4.data && 0 === e4.data.indexOf(a) && c(+e4.data.slice(a.length));
            }
          }("undefined" == typeof self ? void 0 === e2 ? this : e2 : self);
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, {}] }, {}, [10])(10);
    });
  }
});

// src/logger.ts
var LogLevel, Logger;
var init_logger = __esm({
  "src/logger.ts"() {
    "use strict";
    LogLevel = /* @__PURE__ */ ((LogLevel2) => {
      LogLevel2[LogLevel2["INFO"] = 0] = "INFO";
      LogLevel2[LogLevel2["WARN"] = 1] = "WARN";
      LogLevel2[LogLevel2["ERROR"] = 2] = "ERROR";
      return LogLevel2;
    })(LogLevel || {});
    Logger = class {
      logToConsole(level, message, details) {
        console.log(`[Nexus AI Chat Importer] [${LogLevel[level]}] ${message}`);
      }
      info(message, details) {
        console.log(`[Nexus AI Chat Importer] [INFO] ${message}`);
      }
      warn(message, details) {
        console.warn(`[Nexus AI Chat Importer] [WARN] ${message}`);
      }
      error(message, details) {
        console.error(`[Nexus AI Chat Importer] [ERROR] ${message}`);
      }
    };
  }
});

// src/utils.ts
var utils_exports = {};
__export(utils_exports, {
  addPrefix: () => addPrefix,
  checkConversationLink: () => checkConversationLink,
  createDatePrefix: () => createDatePrefix,
  doesFilePathExist: () => doesFilePathExist,
  ensureFolderExists: () => ensureFolderExists,
  formatTimestamp: () => formatTimestamp,
  formatTitle: () => formatTitle,
  generateConversationFileName: () => generateConversationFileName,
  generateFileName: () => generateFileName,
  generateUniqueFileName: () => generateUniqueFileName,
  generateYearMonthFolder: () => generateYearMonthFolder,
  getFileHash: () => getFileHash,
  isCustomError: () => isCustomError,
  isNexusRelated: () => isNexusRelated,
  isValidMessage: () => isValidMessage,
  old_getConversationId: () => old_getConversationId
});
function formatTimestamp(unixTime, format) {
  const date = (0, import_obsidian7.moment)(unixTime * 1e3);
  switch (format) {
    case "prefix":
      return date.format("YYYYMMDD");
    case "date":
      return date.format("L");
    case "time":
      return date.format("LT");
  }
}
function generateYearMonthFolder(unixTime) {
  const date = new Date(unixTime * 1e3);
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  return `${year}/${month}`;
}
function formatTitle(title) {
  return title.trim() || "Untitled";
}
function generateFileName(title) {
  let fileName = formatTitle(title).normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[<>:"\/\\|?*\n\r]+/g, "").replace(/\.{2,}/g, ".").trim();
  fileName = fileName.replace(/^[^\w\d\s]+/, "");
  fileName = fileName.replace(/\s+/g, " ").trim();
  if (!fileName || fileName.length === 0) {
    fileName = "Untitled";
  }
  if (fileName.startsWith(".")) {
    fileName = fileName.substring(1);
  }
  if (!fileName || fileName.length === 0) {
    fileName = "Untitled";
  }
  return fileName;
}
function addPrefix(filename, timeStamp, dateFormat) {
  const timeStampStr = formatTimestamp(timeStamp, dateFormat);
  if (timeStampStr) {
    filename = `${timeStampStr} - ${filename}`;
  }
  return filename;
}
function createDatePrefix(timeStamp, dateFormat) {
  const date = new Date(timeStamp * 1e3);
  let prefix = "";
  if (dateFormat === "YYYY-MM-DD") {
    prefix = date.toISOString().split("T")[0];
  } else if (dateFormat === "YYYYMMDD") {
    prefix = date.toISOString().split("T")[0].replace(/-/g, "");
  }
  return prefix;
}
async function generateUniqueFileName(filePath, vaultAdapter) {
  let uniqueFileName = filePath;
  const baseName = filePath.replace(/\.md$/, "");
  let counter = 1;
  while (await vaultAdapter.exists(uniqueFileName)) {
    uniqueFileName = `${baseName} (${counter++}).md`;
  }
  return uniqueFileName;
}
async function doesFilePathExist(filePath, vault) {
  const file = vault.getAbstractFileByPath(filePath);
  return file !== null;
}
async function getFileHash(file) {
  const buffer = await file.arrayBuffer();
  const hashBuffer = await crypto.subtle.digest("SHA-256", buffer);
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  return hashArray.map((b) => b.toString(16).padStart(2, "0")).join("");
}
function generateConversationFileName(chatTitle, createTime, addDatePrefix, dateFormat) {
  const date = new Date(createTime * 1e3);
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  let fileName = generateFileName(chatTitle);
  if (addDatePrefix) {
    const day = String(date.getDate()).padStart(2, "0");
    let prefix = "";
    if (dateFormat === "YYYY-MM-DD") {
      prefix = `${year}-${month}-${day}`;
    } else if (dateFormat === "YYYYMMDD") {
      prefix = `${year}${month}${day}`;
    }
    fileName = `${prefix} - ${fileName}`;
  }
  return fileName;
}
function isValidMessage(message) {
  return message && typeof message === "object" && message.content && typeof message.content === "object" && Array.isArray(message.content.parts) && message.content.parts.length > 0 && message.content.parts.some(
    (part) => {
      if (typeof part === "string" && part.trim() !== "") {
        return true;
      }
      if (typeof part === "object" && part !== null) {
        if (part.content_type === "audio_transcription" && part.text && part.text.trim() !== "") {
          return true;
        }
        if (part.content_type === "text" && part.text && part.text.trim() !== "") {
          return true;
        }
        if (part.content_type === "multimodal_text" && part.text && part.text.trim() !== "") {
          return true;
        }
      }
      return false;
    }
  );
}
function isCustomError(error) {
  return error && typeof error.message === "string";
}
async function ensureFolderExists(folderPath, vault) {
  const folders = folderPath.split("/").filter((p) => p.length);
  let currentPath = "";
  for (const folder of folders) {
    currentPath += folder + "/";
    const currentFolder = vault.getAbstractFileByPath(currentPath);
    if (!currentFolder) {
      try {
        await vault.createFolder(currentPath);
      } catch (error) {
        if (error.message !== "Folder already exists.") {
          logger.error(
            `Failed to create folder: ${currentPath}`,
            error.message
          );
          return {
            success: false,
            error: `Failed to create folder: ${currentPath}. Reason: ${error.message}`
          };
        }
      }
    }
  }
  return { success: true };
}
async function checkConversationLink(conversationId, provider = "chatgpt") {
  let url;
  switch (provider) {
    case "chatgpt":
      url = `https://chatgpt.com/c/${conversationId}`;
      break;
    case "claude":
      url = `https://claude.ai/chat/${conversationId}`;
      break;
    default:
      logger.error(`Unknown provider for link checking: ${provider}`);
      return false;
  }
  try {
    const response = await (0, import_obsidian8.requestUrl)({
      url,
      method: "HEAD"
    });
    return response.status >= 200 && response.status < 300;
  } catch (error) {
    logger.error(`Error fetching ${url}:`, error);
    return false;
  }
}
function old_getConversationId(app) {
  var _a;
  const activeFile = app.workspace.getActiveFile();
  if (activeFile) {
    const frontmatter = (_a = app.metadataCache.getFileCache(activeFile)) == null ? void 0 : _a.frontmatter;
    return frontmatter == null ? void 0 : frontmatter.conversation_id;
  }
  return void 0;
}
function isNexusRelated(file, app) {
  var _a;
  const frontmatter = (_a = app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
  return (frontmatter == null ? void 0 : frontmatter.nexus) === "nexus-ai-chat-importer";
}
var import_obsidian7, import_obsidian8, logger;
var init_utils = __esm({
  "src/utils.ts"() {
    "use strict";
    import_obsidian7 = require("obsidian");
    init_logger();
    import_obsidian8 = require("obsidian");
    logger = new Logger();
  }
});

// src/dialogs.ts
function displayModal(app, title, paragraphs, note) {
  const modal = new import_obsidian9.Modal(app);
  modal.contentEl.addClass("nexus-ai-chat-importer-modal");
  const titleEl = modal.contentEl.createEl("h2", {
    text: title,
    cls: "modal-title"
  });
  const contentContainer = modal.contentEl.createDiv({ cls: "modal-content" });
  paragraphs.forEach((paragraph, paragraphIndex) => {
    const paragraphWithSpacing = paragraph + "\n\n";
    const paragraphDiv = contentContainer.createDiv({ cls: "modal-paragraph" });
    const sections = paragraphWithSpacing.split("\n\n").filter((section) => section.trim() !== "");
    sections.forEach((section, sectionIndex) => {
      const sectionDiv = paragraphDiv.createDiv({ cls: "modal-section" });
      const lines = section.split("\n").filter((line) => line.trim() !== "");
      lines.forEach((line) => {
        const lineDiv = sectionDiv.createDiv({ cls: "modal-line" });
        let htmlContent = line.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="external-link" target="_blank">$1</a>').replace(/\*\*([^*]+)\*\*/g, "<strong>$1</strong>").replace(/\*([^*]+)\*/g, "<em>$1</em>");
        if (line.trim().endsWith(":") && line.trim().length < 30) {
          lineDiv.innerHTML = `<strong class="section-header">${htmlContent}</strong>`;
        } else if (line.trim().startsWith("\u2022") || line.trim().startsWith("-")) {
          lineDiv.innerHTML = htmlContent;
          lineDiv.addClass("modal-list-item");
        } else {
          lineDiv.innerHTML = htmlContent;
        }
      });
      if (sectionIndex < sections.length - 1) {
        paragraphDiv.createDiv({ cls: "modal-section-break" });
      }
    });
  });
  if (note) {
    contentContainer.createDiv({ cls: "modal-major-break" });
    const noteDiv = contentContainer.createDiv({ cls: "modal-note" });
    let noteContent = note.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="external-link" target="_blank">$1</a>').replace(/\*\*([^*]+)\*\*/g, "<strong>$1</strong>").replace(/\*([^*]+)\*/g, "<em>$1</em>");
    noteDiv.innerHTML = noteContent;
  }
  return modal;
}
function addButtons(modal, type, resolve, customLabels) {
  const buttonContainer = modal.contentEl.createDiv({ cls: "modal-button-container" });
  if (type === "information") {
    const buttonLabel = (customLabels == null ? void 0 : customLabels.button1) || "Understood";
    const button = buttonContainer.createEl("button", {
      text: buttonLabel,
      cls: "mod-cta"
      // Obsidian's primary button class
    });
    button.addEventListener("click", () => {
      modal.close();
      resolve(true);
    });
  } else {
    const noLabel = (customLabels == null ? void 0 : customLabels.button2) || "No";
    const yesLabel = (customLabels == null ? void 0 : customLabels.button1) || "Yes";
    const noButton = buttonContainer.createEl("button", {
      text: noLabel,
      cls: "mod-muted"
      // Obsidian's secondary button class
    });
    noButton.addEventListener("click", () => {
      modal.close();
      resolve(false);
    });
    const yesButton = buttonContainer.createEl("button", {
      text: yesLabel,
      cls: "mod-cta"
      // Obsidian's primary button class
    });
    yesButton.addEventListener("click", () => {
      modal.close();
      resolve(true);
    });
  }
}
async function showDialog(app, type, title, paragraphs, note, customLabels) {
  return new Promise((resolve) => {
    const modal = displayModal(app, title, paragraphs, note);
    addButtons(modal, type, resolve, customLabels);
    modal.open();
  });
}
var import_obsidian9;
var init_dialogs = __esm({
  "src/dialogs.ts"() {
    "use strict";
    import_obsidian9 = require("obsidian");
  }
});

// src/upgrade/utils/version-utils.ts
var VersionUtils;
var init_version_utils = __esm({
  "src/upgrade/utils/version-utils.ts"() {
    "use strict";
    VersionUtils = class {
      /**
       * Parse version string into components
       */
      static parseVersion(version) {
        const parts = version.split(".").map(Number);
        return {
          major: parts[0] || 0,
          minor: parts[1] || 0,
          patch: parts[2] || 0,
          original: version
        };
      }
      /**
       * Compare two versions
       * Returns: -1 (v1 < v2), 0 (v1 = v2), 1 (v1 > v2)
       */
      static compareVersions(version1, version2) {
        const v1 = this.parseVersion(version1);
        const v2 = this.parseVersion(version2);
        if (v1.major !== v2.major)
          return v1.major - v2.major;
        if (v1.minor !== v2.minor)
          return v1.minor - v2.minor;
        return v1.patch - v2.patch;
      }
      /**
       * Check if version is in range [min, max]
       */
      static isInRange(version, minVersion, maxVersion) {
        const isAboveMin = this.compareVersions(version, minVersion) >= 0;
        if (!maxVersion)
          return isAboveMin;
        const isBelowMax = this.compareVersions(version, maxVersion) <= 0;
        return isAboveMin && isBelowMax;
      }
      /**
       * Check if migration should run based on version range
       */
      static shouldRunMigration(fromVersion, toVersion, migrationFromVersion, migrationToVersion) {
        const userFrom = this.parseVersion(fromVersion);
        const userTo = this.parseVersion(toVersion);
        const migrationFrom = this.parseVersion(migrationFromVersion);
        const migrationTo = migrationToVersion ? this.parseVersion(migrationToVersion) : userTo;
        const wasInRange = this.compareVersions(fromVersion, migrationFromVersion) >= 0;
        const isUpgradingTo = this.compareVersions(toVersion, migrationTo.original) >= 0;
        return wasInRange && isUpgradingTo;
      }
      /**
       * Get all versions between two versions (for sequential migrations)
       */
      static getVersionsInRange(fromVersion, toVersion, availableVersions) {
        return availableVersions.filter(
          (v) => this.compareVersions(v, fromVersion) > 0 && this.compareVersions(v, toVersion) <= 0
        ).sort((a, b) => this.compareVersions(a, b));
      }
      /**
       * Format version for display
       */
      static formatVersion(version) {
        const parsed = this.parseVersion(version);
        return `v${parsed.major}.${parsed.minor}.${parsed.patch}`;
      }
    };
  }
});

// src/upgrade/upgrade-interface.ts
var logger2, UpgradeOperation, VersionUpgrade;
var init_upgrade_interface = __esm({
  "src/upgrade/upgrade-interface.ts"() {
    "use strict";
    init_version_utils();
    init_dialogs();
    init_logger();
    logger2 = new Logger();
    UpgradeOperation = class {
      /**
       * Check if operation can run (prerequisites)
       */
      async canRun(context) {
        return true;
      }
      /**
       * Verify operation completed successfully
       */
      async verify(context) {
        return true;
      }
    };
    VersionUpgrade = class {
      /**
       * Check if this upgrade should run for the version range
       */
      shouldRun(fromVersion, toVersion) {
        return VersionUtils.compareVersions(toVersion, this.version) >= 0 && VersionUtils.compareVersions(fromVersion, this.version) < 0;
      }
      /**
       * Execute all automatic operations
       */
      async executeAutomaticOperations(context) {
        const results = [];
        let allSuccess = true;
        for (const operation of this.automaticOperations) {
          try {
            if (await this.isOperationCompleted(operation.id, context)) {
              results.push({
                operationId: operation.id,
                result: { success: true, message: "Already completed" }
              });
              continue;
            }
            if (!await operation.canRun(context)) {
              results.push({
                operationId: operation.id,
                result: { success: false, message: "Prerequisites not met" }
              });
              allSuccess = false;
              continue;
            }
            const result = await operation.execute(context);
            results.push({ operationId: operation.id, result });
            if (result.success) {
              await this.markOperationCompleted(operation.id, context);
            } else {
              allSuccess = false;
            }
          } catch (error) {
            const errorResult = {
              success: false,
              message: `Operation failed: ${error}`,
              details: { error: String(error) }
            };
            results.push({ operationId: operation.id, result: errorResult });
            allSuccess = false;
          }
        }
        return { success: allSuccess, results };
      }
      /**
       * Show manual operations dialog and execute selected ones
       */
      async showManualOperationsDialog(context) {
        const availableOperations = [];
        for (const operation of this.manualOperations) {
          if (!await this.isOperationCompleted(operation.id, context) && await operation.canRun(context)) {
            availableOperations.push(operation);
          }
        }
        if (availableOperations.length === 0) {
          return { success: true, results: [] };
        }
        const paragraphs = [
          `**Version ${this.version} Manual Operations**`,
          "The following optional operations are available:",
          "",
          ...availableOperations.map((op) => `\u2022 **${op.name}**: ${op.description}`)
        ];
        const shouldExecute = await showDialog(
          context.plugin.app,
          "confirmation",
          `Optional Operations - v${this.version}`,
          paragraphs,
          "These operations are optional and can be run later from Settings \u2192 Migrations",
          { button1: "Run All Now", button2: "Skip (Run Later)" }
        );
        const results = [];
        if (shouldExecute) {
          for (const operation of availableOperations) {
            try {
              const result = await operation.execute(context);
              results.push({ operationId: operation.id, result });
              if (result.success) {
                await this.markOperationCompleted(operation.id, context);
              }
            } catch (error) {
              const errorResult = {
                success: false,
                message: `Operation failed: ${error}`,
                details: { error: String(error) }
              };
              results.push({ operationId: operation.id, result: errorResult });
            }
          }
        }
        return {
          success: results.every((r) => r.result.success),
          results
        };
      }
      /**
       * Get manual operations status for settings UI
       */
      async getManualOperationsStatus(context) {
        const status = [];
        for (const operation of this.manualOperations) {
          const completed = await this.isOperationCompleted(operation.id, context);
          const canRun = !completed && await operation.canRun(context);
          status.push({
            operation,
            completed,
            canRun
          });
        }
        return status;
      }
      /**
       * Execute single manual operation (from settings)
       */
      async executeManualOperation(operationId, context) {
        const operation = this.manualOperations.find((op) => op.id === operationId);
        if (!operation) {
          return { success: false, message: "Operation not found" };
        }
        if (await this.isOperationCompleted(operation.id, context)) {
          return { success: true, message: "Already completed" };
        }
        if (!await operation.canRun(context)) {
          return { success: false, message: "Prerequisites not met" };
        }
        try {
          const result = await operation.execute(context);
          if (result.success) {
            await this.markOperationCompleted(operation.id, context);
          }
          return result;
        } catch (error) {
          return {
            success: false,
            message: `Operation failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Check if operation was completed using structured upgrade history
       */
      async isOperationCompleted(operationId, context) {
        var _a, _b, _c;
        const data = await context.plugin.loadData();
        const operationKey = `operation_${this.version.replace(/\./g, "_")}_${operationId}`;
        return ((_c = (_b = (_a = data == null ? void 0 : data.upgradeHistory) == null ? void 0 : _a.completedOperations) == null ? void 0 : _b[operationKey]) == null ? void 0 : _c.completed) || false;
      }
      /**
       * Mark operation as completed using structured upgrade history
       */
      async markOperationCompleted(operationId, context) {
        const data = await context.plugin.loadData() || {};
        if (!data.upgradeHistory) {
          data.upgradeHistory = {
            completedUpgrades: {},
            completedOperations: {}
          };
        }
        const operationKey = `operation_${this.version.replace(/\./g, "_")}_${operationId}`;
        data.upgradeHistory.completedOperations[operationKey] = {
          operationId,
          version: this.version,
          date: new Date().toISOString(),
          completed: true
        };
        await context.plugin.saveData(data);
        logger2.info(`Marked operation ${operationId} (v${this.version}) as completed`);
      }
    };
  }
});

// src/upgrade/versions/upgrade-1.1.0.ts
var upgrade_1_1_0_exports = {};
__export(upgrade_1_1_0_exports, {
  Upgrade110: () => Upgrade110
});
var DeleteCatalogOperation, CleanMetadataOperation, Upgrade110;
var init_upgrade_1_1_0 = __esm({
  "src/upgrade/versions/upgrade-1.1.0.ts"() {
    "use strict";
    init_upgrade_interface();
    DeleteCatalogOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "delete-catalog";
        this.name = "Delete Old Catalog";
        this.description = "Remove legacy conversation catalog data";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const data = await context.plugin.loadData();
          const catalog = data == null ? void 0 : data.conversationCatalog;
          const hasData = catalog && typeof catalog === "object" && Object.keys(catalog).length > 0;
          console.debug(`[NEXUS-DEBUG] DeleteCatalog.canRun: catalog exists=${!!catalog}, hasData=${hasData}`);
          if (catalog) {
            console.debug(`[NEXUS-DEBUG] DeleteCatalog.canRun: catalog size=${Object.keys(catalog).length}`);
          }
          return hasData;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] DeleteCatalog.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] DeleteCatalog.execute starting`);
          const data = await context.plugin.loadData();
          const catalog = (data == null ? void 0 : data.conversationCatalog) || {};
          const catalogSize = Object.keys(catalog).length;
          if (catalogSize === 0) {
            console.debug(`[NEXUS-DEBUG] DeleteCatalog: No catalog to delete`);
            return {
              success: true,
              message: "No legacy catalog found to delete"
            };
          }
          const existingImportedArchives = data == null ? void 0 : data.importedArchives;
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: Preserving importedArchives:`, existingImportedArchives);
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: importedArchives type:`, typeof existingImportedArchives);
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: importedArchives keys:`, existingImportedArchives ? Object.keys(existingImportedArchives).length : 0);
          const cleanedData = {
            settings: data.settings || context.plugin.settings,
            // CRITICAL FIX: Force preservation of importedArchives
            importedArchives: existingImportedArchives || {},
            upgradeHistory: data.upgradeHistory || {
              completedUpgrades: {},
              completedOperations: {}
            },
            // Remove conversationCatalog - key change
            catalogDeletionDate: new Date().toISOString(),
            catalogDeletionStats: { entriesDeleted: catalogSize }
          };
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: cleanedData.importedArchives keys:`, Object.keys(cleanedData.importedArchives).length);
          await context.plugin.saveData(cleanedData);
          const verifyData = await context.plugin.loadData();
          const verifyArchives = (verifyData == null ? void 0 : verifyData.importedArchives) || {};
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: After save, importedArchives keys:`, Object.keys(verifyArchives).length);
          if (Object.keys(verifyArchives).length === 0 && Object.keys(existingImportedArchives || {}).length > 0) {
            console.error(`[NEXUS-DEBUG] DeleteCatalog: CRITICAL - importedArchives were lost during save!`);
            return {
              success: false,
              message: `Critical error: importedArchives were lost during migration`,
              details: {
                beforeCount: Object.keys(existingImportedArchives || {}).length,
                afterCount: Object.keys(verifyArchives).length
              }
            };
          }
          console.debug(`[NEXUS-DEBUG] DeleteCatalog: Successfully deleted ${catalogSize} entries and preserved ${Object.keys(verifyArchives).length} imported archives`);
          return {
            success: true,
            message: `Legacy catalog deleted: ${catalogSize} entries removed, ${Object.keys(verifyArchives).length} imported archives preserved`,
            details: { entriesDeleted: catalogSize, archivesPreserved: Object.keys(verifyArchives).length }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] DeleteCatalog.execute failed:`, error);
          return {
            success: false,
            message: `Failed to delete legacy catalog: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(context) {
        try {
          const data = await context.plugin.loadData();
          const hasNoCatalog = !(data == null ? void 0 : data.conversationCatalog);
          const hasImportedArchives = (data == null ? void 0 : data.importedArchives) && Object.keys(data.importedArchives).length > 0;
          console.debug(`[NEXUS-DEBUG] DeleteCatalog.verify: hasNoCatalog=${hasNoCatalog}, hasImportedArchives=${hasImportedArchives}`);
          return hasNoCatalog;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] DeleteCatalog.verify failed:`, error);
          return false;
        }
      }
    };
    CleanMetadataOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "clean-metadata";
        this.name = "Clean & Version Metadata";
        this.description = "Remove unnecessary metadata and add plugin version to conversation notes";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          const canRun = conversationFiles.length > 0;
          console.debug(`[NEXUS-DEBUG] CleanMetadata.canRun: found ${conversationFiles.length} conversation files, canRun=${canRun}`);
          return canRun;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] CleanMetadata.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] CleanMetadata.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          if (conversationFiles.length === 0) {
            console.debug(`[NEXUS-DEBUG] CleanMetadata: No conversation files to clean`);
            return {
              success: true,
              message: "No conversation files found to clean",
              details: { processed: 0, cleaned: 0, errors: 0 }
            };
          }
          console.debug(`[NEXUS-DEBUG] CleanMetadata: Processing ${conversationFiles.length} conversation files`);
          let processed = 0;
          let cleaned = 0;
          let errors = 0;
          const batchSize = 10;
          for (let i = 0; i < conversationFiles.length; i += batchSize) {
            const batch = conversationFiles.slice(i, i + batchSize);
            for (const file of batch) {
              processed++;
              try {
                const content = await context.plugin.app.vault.read(file);
                const cleanedContent = this.cleanFrontmatterRobust(content, context.toVersion, file.basename);
                if (content !== cleanedContent) {
                  await context.plugin.app.vault.modify(file, cleanedContent);
                  cleaned++;
                }
              } catch (error) {
                errors++;
                console.error(`[NEXUS-DEBUG] Error cleaning metadata for ${file.path}:`, error);
              }
            }
            if (i + batchSize < conversationFiles.length) {
              await new Promise((resolve) => setTimeout(resolve, 10));
            }
          }
          console.debug(`[NEXUS-DEBUG] CleanMetadata: Completed - processed:${processed}, cleaned:${cleaned}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Metadata cleanup completed: ${cleaned} files cleaned, ${errors} errors`,
            details: { processed, cleaned, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] CleanMetadata.execute failed:`, error);
          return {
            success: false,
            message: `Metadata cleanup failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Clean frontmatter with robust parsing and safe alias generation
       */
      cleanFrontmatterRobust(content, pluginVersion, fileName) {
        const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
        if (!frontmatterMatch) {
          if (content.includes("nexus:") || content.includes("conversation_id:")) {
            console.warn(`[NEXUS-DEBUG] File ${fileName} appears to be Nexus but has malformed frontmatter`);
          }
          return content;
        }
        const frontmatterContent = frontmatterMatch[1];
        const restOfContent = content.substring(frontmatterMatch[0].length);
        const frontmatterData = {};
        const lines = frontmatterContent.split("\n");
        for (const line of lines) {
          const colonIndex = line.indexOf(":");
          if (colonIndex > 0) {
            const key = line.substring(0, colonIndex).trim();
            let value = line.substring(colonIndex + 1).trim();
            if (value.startsWith('"') && value.endsWith('"') || value.startsWith("'") && value.endsWith("'")) {
              value = value.slice(1, -1);
            }
            frontmatterData[key] = value;
          }
        }
        const nexusId = "nexus-ai-chat-importer";
        if (frontmatterData.nexus !== nexusId) {
          return content;
        }
        const safeAlias = this.generateSafeAlias(fileName);
        const newFrontmatter = [];
        newFrontmatter.push(`nexus: ${nexusId}`);
        newFrontmatter.push(`plugin_version: "1.0.x"`);
        if (frontmatterData.provider) {
          newFrontmatter.push(`provider: ${frontmatterData.provider}`);
        }
        newFrontmatter.push(`aliases: "${safeAlias}"`);
        if (frontmatterData.conversation_id) {
          newFrontmatter.push(`conversation_id: ${frontmatterData.conversation_id}`);
        }
        if (frontmatterData.create_time) {
          newFrontmatter.push(`create_time: ${frontmatterData.create_time}`);
        }
        if (frontmatterData.update_time) {
          newFrontmatter.push(`update_time: ${frontmatterData.update_time}`);
        }
        const cleanedFrontmatter = newFrontmatter.join("\n");
        return `---
${cleanedFrontmatter}
---${restOfContent}`;
      }
      /**
       * Generate safe alias from filename (reuse the robust filename logic)
       */
      generateSafeAlias(fileName) {
        let cleanName = fileName.replace(/^\d{8}\s*-\s*/, "").replace(/^\d{4}-\d{2}-\d{2}\s*-\s*/, "");
        cleanName = cleanName.replace(/\.md$/, "");
        cleanName = cleanName.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[<>:"\/\\|?*\n\r]+/g, "").replace(/\.{2,}/g, ".").trim();
        cleanName = cleanName.replace(/^[^\w\d\s]+/, "");
        cleanName = cleanName.replace(/\s+/g, " ").trim();
        if (!cleanName || cleanName.length === 0) {
          cleanName = "Untitled";
        }
        if (cleanName.startsWith(".")) {
          cleanName = cleanName.substring(1);
        }
        if (!cleanName || cleanName.length === 0) {
          cleanName = "Untitled";
        }
        return cleanName;
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          }).slice(0, 5);
          for (const file of conversationFiles) {
            try {
              const content = await context.plugin.app.vault.read(file);
              const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
              if (!frontmatterMatch)
                continue;
              const frontmatterContent = frontmatterMatch[1];
              if (!frontmatterContent.includes("plugin_version:")) {
                console.debug(`[NEXUS-DEBUG] CleanMetadata.verify: Missing plugin_version in ${file.path}`);
                return false;
              }
              const forbiddenFields = [
                "conversation_template_id:",
                "gizmo_id:",
                "gizmo_type:",
                "default_model_slug:",
                "is_archived:",
                "is_starred:",
                "current_node:",
                "memory_scope:"
              ];
              const hasUnwantedFields = forbiddenFields.some(
                (field) => frontmatterContent.includes(field)
              );
              if (hasUnwantedFields) {
                console.debug(`[NEXUS-DEBUG] CleanMetadata.verify: Found unwanted fields in ${file.path}`);
                return false;
              }
            } catch (error) {
              console.error(`[NEXUS-DEBUG] CleanMetadata.verify error for ${file.path}:`, error);
              return false;
            }
          }
          console.debug(`[NEXUS-DEBUG] CleanMetadata.verify: Passed verification`);
          return true;
        } catch (error) {
          console.error(`[NEXUS-DEBUG] CleanMetadata.verify failed:`, error);
          return false;
        }
      }
    };
    Upgrade110 = class extends VersionUpgrade {
      constructor() {
        super(...arguments);
        this.version = "1.1.0";
        this.automaticOperations = [
          new DeleteCatalogOperation(),
          new CleanMetadataOperation()
        ];
        this.manualOperations = [
          // No manual operations for 1.1.0 - all operations are automatic
          // Future versions can add manual operations here for truly optional tasks
        ];
      }
    };
  }
});

// src/upgrade/versions/upgrade-1.2.0.ts
var upgrade_1_2_0_exports = {};
__export(upgrade_1_2_0_exports, {
  NexusUpgradeModal: () => NexusUpgradeModal,
  Upgrade120: () => Upgrade120
});
var import_obsidian14, ConvertToCalloutsOperation, MoveYearFoldersOperation, NexusUpgradeModal, OfferReimportOperation, Upgrade120;
var init_upgrade_1_2_0 = __esm({
  "src/upgrade/versions/upgrade-1.2.0.ts"() {
    "use strict";
    init_upgrade_interface();
    import_obsidian14 = require("obsidian");
    ConvertToCalloutsOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "convert-to-callouts";
        this.name = "Convert to Modern Callouts";
        this.description = "Transform old indentations (>, >>) to beautiful Nexus callouts";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          for (const file of conversationFiles.slice(0, 10)) {
            try {
              const content = await context.plugin.app.vault.read(file);
              if (this.hasOldIndentationFormat(content)) {
                return true;
              }
            } catch (error) {
              console.error(`Error checking file ${file.path}:`, error);
            }
          }
          return false;
        } catch (error) {
          console.error(`ConvertToCallouts.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] ConvertToCallouts.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          });
          let processed = 0;
          let converted = 0;
          let errors = 0;
          console.debug(`[NEXUS-DEBUG] ConvertToCallouts: Processing ${conversationFiles.length} files`);
          const batchSize = 10;
          for (let i = 0; i < conversationFiles.length; i += batchSize) {
            const batch = conversationFiles.slice(i, i + batchSize);
            for (const file of batch) {
              processed++;
              try {
                const content = await context.plugin.app.vault.read(file);
                if (!this.hasOldIndentationFormat(content)) {
                  continue;
                }
                const convertedContent = this.convertIndentationsToCallouts(content);
                if (content !== convertedContent) {
                  const finalContent = this.updatePluginVersion(convertedContent, "1.2.0");
                  await context.plugin.app.vault.modify(file, finalContent);
                  converted++;
                }
              } catch (error) {
                errors++;
                console.error(`[NEXUS-DEBUG] Error converting ${file.path}:`, error);
              }
            }
            if (i + batchSize < conversationFiles.length) {
              await new Promise((resolve) => setTimeout(resolve, 10));
            }
          }
          console.debug(`[NEXUS-DEBUG] ConvertToCallouts: Completed - processed:${processed}, converted:${converted}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Callout conversion completed: ${converted} files converted, ${errors} errors`,
            details: { processed, converted, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] ConvertToCallouts.execute failed:`, error);
          return {
            success: false,
            message: `Callout conversion failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      /**
       * Check if content has old indentation format (v1.1.0)
       */
      hasOldIndentationFormat(content) {
        const oldPatterns = [
          /^### User, on .* at .*;\n>/m,
          // User messages with indentation
          /^#### Assistant, on .* at .*;\n>>/m,
          // Assistant messages with indentation
          /<div class="nexus-attachment-box">/,
          // Old attachment divs
          /<div class="nexus-artifact-box">/,
          // Old artifact divs
          />\[!note\] 📎 \*\*Attachment:\*\*/
          // Old note callouts for attachments
        ];
        return oldPatterns.some((pattern) => pattern.test(content));
      }
      /**
       * Convert old indentations to modern callouts
       */
      convertIndentationsToCallouts(content) {
        let converted = content;
        converted = converted.replace(
          /^### User, on (.*?) at (.*?);\n((?:> .*(?:\n|$))*)/gm,
          (match, date, time, quotedContent) => {
            const cleanContent = quotedContent.replace(/^> /gm, "> ");
            return `>[!nexus_user] **User** - ${date} at ${time}
${cleanContent}`;
          }
        );
        converted = converted.replace(
          /^#### Assistant, on (.*?) at (.*?);\n((?:>> .*(?:\n|$))*)/gm,
          (match, date, time, quotedContent) => {
            const cleanContent = quotedContent.replace(/^>> /gm, "> ");
            return `>[!nexus_agent] **Assistant** - ${date} at ${time}
${cleanContent}`;
          }
        );
        converted = converted.replace(
          /<div class="nexus-attachment-box">\s*\n\s*\*\*📎 Attachment:\*\* ([^(]+)\(([^)]+)\)([\s\S]*?)<\/div>/g,
          (match, fileName, fileType, content2) => {
            const cleanFileName = fileName.trim();
            let cleanContent = content2.trim();
            if (cleanContent.includes("**Content:**")) {
              cleanContent = cleanContent.replace(/\*\*Content:\*\*/g, "").trim();
            }
            if (cleanContent.includes("**Status:**")) {
              cleanContent = cleanContent.replace(/\*\*Status:\*\*/g, "").trim();
            }
            cleanContent = cleanContent.replace(/\n/g, "\n> ").trim();
            if (cleanContent && !cleanContent.startsWith(">")) {
              cleanContent = "> " + cleanContent;
            }
            return `>[!nexus_attachment] **${cleanFileName}** (${fileType})
${cleanContent}`;
          }
        );
        converted = converted.replace(
          /<div class="nexus-artifact-box">\s*([\s\S]*?)\s*<\/div>/g,
          (match, content2) => {
            let cleanContent = content2.trim();
            const titleMatch = cleanContent.match(/\*\*([^*]+)\*\*/);
            const title = titleMatch ? titleMatch[1] : "Artifact";
            cleanContent = cleanContent.replace(/\*\*[^*]+\*\*/g, "").trim();
            cleanContent = cleanContent.replace(/\n/g, "\n> ").trim();
            if (cleanContent && !cleanContent.startsWith(">")) {
              cleanContent = "> " + cleanContent;
            }
            return `>[!nexus_artifact] **${title}**
${cleanContent}`;
          }
        );
        converted = converted.replace(
          />\[!note\] 📎 \*\*Attachment:\*\* ([^(]+)\(([^)]+)\)(.*?)(?=\n\n|\n>|\n<!--|\n---|$)/gs,
          (match, fileName, fileType, content2) => {
            const cleanFileName = fileName.trim();
            let cleanContent = content2.trim();
            cleanContent = cleanContent.replace(/\n/g, "\n> ").trim();
            if (cleanContent && !cleanContent.startsWith(">")) {
              cleanContent = "> " + cleanContent;
            }
            return `>[!nexus_attachment] **${cleanFileName}** (${fileType})
${cleanContent}`;
          }
        );
        return converted;
      }
      /**
       * Update plugin_version in frontmatter
       */
      updatePluginVersion(content, version) {
        return content.replace(
          /^plugin_version: ".*?"$/m,
          `plugin_version: "${version}"`
        );
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const allFiles = context.plugin.app.vault.getMarkdownFiles();
          const conversationFiles = allFiles.filter((file) => {
            if (!file.path.startsWith(archiveFolder))
              return false;
            const relativePath = file.path.substring(archiveFolder.length + 1);
            if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
              return false;
            }
            return true;
          }).slice(0, 5);
          for (const file of conversationFiles) {
            try {
              const content = await context.plugin.app.vault.read(file);
              if (this.hasOldIndentationFormat(content)) {
                console.debug(`[NEXUS-DEBUG] ConvertToCallouts.verify: Still has old format in ${file.path}`);
                return false;
              }
              if (!content.includes('plugin_version: "1.2.0"')) {
                console.debug(`[NEXUS-DEBUG] ConvertToCallouts.verify: Missing v1.2.0 in ${file.path}`);
                return false;
              }
            } catch (error) {
              console.error(`Error verifying file ${file.path}:`, error);
              return false;
            }
          }
          return true;
        } catch (error) {
          console.error(`ConvertToCallouts.verify failed:`, error);
          return false;
        }
      }
    };
    MoveYearFoldersOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "move-year-folders";
        this.name = "Organize Conversations by Provider";
        this.description = "Move year folders to chatgpt provider structure";
        this.type = "automatic";
      }
      async canRun(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const yearFolders = await this.findYearFolders(context, archiveFolder);
          return yearFolders.length > 0;
        } catch (error) {
          console.error(`MoveYearFolders.canRun failed:`, error);
          return false;
        }
      }
      async execute(context) {
        try {
          console.debug(`[NEXUS-DEBUG] MoveYearFolders.execute starting`);
          const archiveFolder = context.plugin.settings.archiveFolder;
          let movedFolders = 0;
          let errors = 0;
          const yearFolders = await this.findYearFolders(context, archiveFolder);
          for (const yearFolder of yearFolders) {
            try {
              const chatgptFolder = `${archiveFolder}/chatgpt`;
              await context.plugin.app.vault.adapter.mkdir(chatgptFolder);
              const newPath = `${chatgptFolder}/${yearFolder}`;
              const oldPath = `${archiveFolder}/${yearFolder}`;
              await context.plugin.app.vault.adapter.rename(oldPath, newPath);
              movedFolders++;
              console.debug(`[NEXUS-DEBUG] Moved ${yearFolder} to chatgpt/${yearFolder}`);
            } catch (error) {
              errors++;
              console.error(`[NEXUS-DEBUG] Error moving year folder ${yearFolder}:`, error);
            }
          }
          console.debug(`[NEXUS-DEBUG] MoveYearFolders: Completed - moved:${movedFolders}, errors:${errors}`);
          return {
            success: errors === 0,
            message: `Conversation organization completed: ${movedFolders} year folders moved to chatgpt structure, ${errors} errors`,
            details: { movedFolders, errors }
          };
        } catch (error) {
          console.error(`[NEXUS-DEBUG] MoveYearFolders.execute failed:`, error);
          return {
            success: false,
            message: `Conversation organization failed: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(context) {
        try {
          const archiveFolder = context.plugin.settings.archiveFolder;
          const remainingYearFolders = await this.findYearFolders(context, archiveFolder);
          if (remainingYearFolders.length > 0) {
            console.debug(`[NEXUS-DEBUG] MoveYearFolders.verify: Still ${remainingYearFolders.length} year folders in old structure`);
            return false;
          }
          return true;
        } catch (error) {
          console.error(`MoveYearFolders.verify failed:`, error);
          return false;
        }
      }
      /**
       * Find year folders (YYYY) directly in archive folder
       */
      async findYearFolders(context, archiveFolder) {
        try {
          const folders = await context.plugin.app.vault.adapter.list(archiveFolder);
          return folders.folders.filter((folder) => {
            const folderName = folder.split("/").pop() || "";
            return /^\d{4}$/.test(folderName) && folderName !== "chatgpt";
          }).map((folder) => folder.split("/").pop() || "");
        } catch (error) {
          return [];
        }
      }
    };
    NexusUpgradeModal = class extends import_obsidian14.Modal {
      constructor(app, plugin, version, resolve) {
        super(app);
        this.plugin = plugin;
        this.version = version;
        this.resolve = resolve;
      }
      onOpen() {
        const { containerEl, contentEl, titleEl } = this;
        containerEl.classList.add("nexus-upgrade-modal");
        titleEl.setText(`\u{1F680} Nexus AI Chat Importer ${this.version}`);
        this.createForm();
      }
      async onClose() {
        this.contentEl.empty();
      }
      async createForm() {
        let message = `\u{1F389} **Upgrade to v1.2.0**

Your conversations will be reorganized with provider structure and modern callouts.

**\u{1F4A1} To get ALL v1.2.0 features:** Reimport your original ChatGPT ZIP files.

---

## \u2615 Support My Work

[![Support me on Ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/nexusplugins)`;
        try {
          const response = await fetch("https://api.github.com/repos/Superkikim/nexus-ai-chat-importer/releases/tags/v1.2.0");
          if (response.ok) {
            const release = await response.json();
            if (release.body) {
              message = release.body;
            }
          }
        } catch (error) {
          console.debug("[NEXUS-DEBUG] Could not fetch release notes from GitHub, using fallback");
        }
        await import_obsidian14.MarkdownRenderer.render(
          this.app,
          message,
          this.contentEl,
          "",
          this.plugin
        );
        this.contentEl.createEl("div", { cls: "nexus-upgrade-buttons" }, (el) => {
          el.style.textAlign = "right";
          el.style.marginTop = "20px";
          el.style.paddingTop = "15px";
          el.style.borderTop = "1px solid var(--background-modifier-border)";
          const btnOk = el.createEl("button", {
            text: "Proceed",
            cls: "nexus-btn-primary"
          });
          btnOk.onclick = () => {
            this.close();
            this.resolve("ok");
          };
        });
      }
    };
    OfferReimportOperation = class extends UpgradeOperation {
      constructor() {
        super(...arguments);
        this.id = "offer-reimport";
        this.name = "Full Feature Reimport";
        this.description = "Optionally reimport conversations to get all v1.2.0 features (attachments, chronological order, etc.)";
        this.type = "manual";
      }
      async canRun(context) {
        return true;
      }
      async execute(context) {
        try {
          return {
            success: true,
            message: "Upgrade information provided to user",
            details: { action: "info_displayed" }
          };
        } catch (error) {
          console.error(`OfferReimport.execute failed:`, error);
          return {
            success: false,
            message: `Failed to complete reimport operation: ${error}`,
            details: { error: String(error) }
          };
        }
      }
      async verify(context) {
        return true;
      }
    };
    Upgrade120 = class extends VersionUpgrade {
      constructor() {
        super(...arguments);
        this.version = "1.2.0";
        this.automaticOperations = [
          new MoveYearFoldersOperation(),
          new ConvertToCalloutsOperation()
        ];
        this.manualOperations = [
          new OfferReimportOperation()
        ];
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NexusAiChatImporterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian17 = require("obsidian");

// src/config/constants.ts
var DEFAULT_SETTINGS = {
  archiveFolder: "Nexus/Conversations",
  addDatePrefix: false,
  dateFormat: "YYYY-MM-DD",
  hasShownUpgradeNotice: false,
  hasCompletedUpgrade: false,
  // Version tracking - will be set from manifest in main.ts
  currentVersion: "0.0.0",
  previousVersion: "0.0.0",
  // Attachment defaults with "best effort" approach
  importAttachments: true,
  attachmentFolder: "Nexus/Attachments",
  reportFolder: "Nexus/Reports",
  skipMissingAttachments: false,
  showAttachmentDetails: true
};
var GITHUB = {
  RAW_BASE: "https://raw.githubusercontent.com/Superkikim/nexus-ai-chat-importer",
  REPO_BASE: "https://github.com/Superkikim/nexus-ai-chat-importer"
};

// src/ui/settings-tab.ts
var import_obsidian4 = require("obsidian");

// src/ui/settings/conversation-settings-section.ts
var import_obsidian = require("obsidian");

// src/ui/settings/base-settings-section.ts
var BaseSettingsSection = class {
  constructor(plugin) {
    this.plugin = plugin;
    /**
     * Section order (lower = higher up)
     */
    this.order = 100;
  }
  /**
   * Set redraw callback from main settings tab
   */
  setRedrawCallback(callback) {
    this.redrawCallback = callback;
  }
  /**
   * Trigger redraw of entire settings tab
   */
  redraw() {
    if (this.redrawCallback) {
      this.redrawCallback();
    }
  }
};

// src/ui/settings/conversation-settings-section.ts
var ConversationSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Conversation Settings";
    this.order = 10;
  }
  render(containerEl) {
    new import_obsidian.Setting(containerEl).setName("Conversations folder").setDesc("Choose a folder to store AI chat conversations and import reports").addText(
      (text) => text.setPlaceholder("Enter folder name").setValue(this.plugin.settings.archiveFolder).onChange(async (value) => {
        this.plugin.settings.archiveFolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Add date prefix to filenames").setDesc("Add creation date as a prefix to conversation filenames").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.addDatePrefix).onChange(async (value) => {
        this.plugin.settings.addDatePrefix = value;
        await this.plugin.saveSettings();
        this.redraw();
      })
    );
    if (this.plugin.settings.addDatePrefix) {
      new import_obsidian.Setting(containerEl).setName("Date format").setDesc("Choose the format for the date prefix").addDropdown(
        (dropdown) => dropdown.addOption("YYYY-MM-DD", "YYYY-MM-DD").addOption("YYYYMMDD", "YYYYMMDD").setValue(this.plugin.settings.dateFormat).onChange(async (value) => {
          if (value === "YYYY-MM-DD" || value === "YYYYMMDD") {
            this.plugin.settings.dateFormat = value;
            await this.plugin.saveSettings();
          }
        })
      );
    }
  }
};

// src/ui/settings/attachment-settings-section.ts
var import_obsidian2 = require("obsidian");
var AttachmentSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Attachment Settings";
    this.order = 20;
  }
  render(containerEl) {
    new import_obsidian2.Setting(containerEl).setName("Import attachments").setDesc("Save attachment files to disk and link them in conversations (uses 'best effort' strategy)").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.importAttachments).onChange(async (value) => {
        this.plugin.settings.importAttachments = value;
        await this.plugin.saveSettings();
        this.redraw();
      })
    );
    if (this.plugin.settings.importAttachments) {
      this.renderAttachmentOptions(containerEl);
      this.renderAttachmentInfo(containerEl);
    }
  }
  renderAttachmentOptions(containerEl) {
    new import_obsidian2.Setting(containerEl).setName("Attachment folder").setDesc("Choose a folder to store attachment files").addText(
      (text) => text.setPlaceholder("Enter attachment folder path").setValue(this.plugin.settings.attachmentFolder).onChange(async (value) => {
        this.plugin.settings.attachmentFolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Handle missing attachments").setDesc("When attachments are missing from exports, create informative notes instead of skipping them").addToggle(
      (toggle) => toggle.setValue(!this.plugin.settings.skipMissingAttachments).onChange(async (value) => {
        this.plugin.settings.skipMissingAttachments = !value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Show attachment details in reports").setDesc("Include detailed attachment processing statistics in import reports").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showAttachmentDetails).onChange(async (value) => {
        this.plugin.settings.showAttachmentDetails = value;
        await this.plugin.saveSettings();
      })
    );
  }
  renderAttachmentInfo(containerEl) {
    const noteEl = containerEl.createDiv({ cls: "setting-item-description" });
    noteEl.style.marginTop = "15px";
    noteEl.style.padding = "15px";
    noteEl.style.backgroundColor = "var(--background-secondary)";
    noteEl.style.borderRadius = "8px";
    noteEl.style.border = "1px solid var(--background-modifier-border)";
    noteEl.createEl("h4", { text: "\u{1F4CE} About Attachment Handling", cls: "setting-item-name" });
    const infoList = noteEl.createEl("ul");
    infoList.style.marginTop = "10px";
    infoList.style.paddingLeft = "20px";
    infoList.createEl("li").innerHTML = "<strong>Best Effort Strategy:</strong> Files found in exports are extracted and linked; missing files get informative notes.";
    infoList.createEl("li").innerHTML = "<strong>Platform Differences:</strong> ChatGPT exports may not include all attachments, especially from older conversations.";
    infoList.createEl("li").innerHTML = "<strong>Simple Organization:</strong> Files organized as <code>attachments/provider/category/</code> (e.g., <code>attachments/chatgpt/images/</code>).";
    infoList.createEl("li").innerHTML = "<strong>Sync Tip:</strong> Consider excluding the attachment folder from sync to avoid uploading large files.";
    const tipEl = noteEl.createDiv();
    tipEl.style.marginTop = "10px";
    tipEl.style.fontStyle = "italic";
    tipEl.innerHTML = "\u{1F4A1} <strong>Tip:</strong> Enable 'Show attachment details' to see exactly which files were found, missing, or failed during import.";
  }
};

// src/ui/settings/migrations-settings-section.ts
var import_obsidian3 = require("obsidian");
var MigrationsSettingsSection = class extends BaseSettingsSection {
  constructor() {
    super(...arguments);
    this.title = "Migrations";
    this.order = 30;
  }
  async render(containerEl) {
    const migrationsDesc = containerEl.createDiv({ cls: "setting-item-description" });
    migrationsDesc.style.marginBottom = "20px";
    migrationsDesc.innerHTML = `
            <p><strong>Manual Operations:</strong> Optional upgrade operations that can be run when convenient.</p>
            <p>Automatic operations (like removing old data) run automatically during upgrade and are not shown here.</p>
        `;
    try {
      const upgradeManager = this.plugin.getUpgradeManager();
      if (!(upgradeManager == null ? void 0 : upgradeManager.getManualOperationsForSettings)) {
        this.showNoMigrationsMessage(containerEl);
        return;
      }
      const operationsData = await this.getOperationsWithPersistentStatus(upgradeManager);
      if (operationsData.length === 0) {
        this.showNoMigrationsMessage(containerEl);
        return;
      }
      for (const versionData of operationsData) {
        await this.renderVersionOperations(containerEl, versionData, upgradeManager);
      }
    } catch (error) {
      console.error("[NEXUS-DEBUG] Error loading migrations:", error);
      this.showErrorMessage(containerEl, error);
    }
  }
  /**
   * Get operations status with persistent flags from plugin data
   */
  async getOperationsWithPersistentStatus(upgradeManager) {
    var _a, _b, _c;
    const operationsData = await upgradeManager.getManualOperationsForSettings();
    const pluginData = await this.plugin.loadData();
    for (const versionData of operationsData) {
      for (const operation of versionData.operations) {
        const operationKey = `operation_${versionData.version.replace(/\./g, "_")}_${operation.id}`;
        const isCompleted = ((_c = (_b = (_a = pluginData == null ? void 0 : pluginData.upgradeHistory) == null ? void 0 : _a.completedOperations) == null ? void 0 : _b[operationKey]) == null ? void 0 : _c.completed) || false;
        operation.completed = isCompleted;
        operation.canRun = !isCompleted && operation.canRun;
      }
    }
    return operationsData;
  }
  async renderVersionOperations(containerEl, versionData, upgradeManager) {
    const versionHeader = containerEl.createEl("h3", {
      text: `Version ${versionData.version}`,
      cls: "migrations-version-header"
    });
    versionHeader.style.marginTop = "25px";
    versionHeader.style.marginBottom = "15px";
    versionHeader.style.color = "var(--text-accent)";
    for (const operation of versionData.operations) {
      await this.renderOperation(containerEl, operation, versionData.version, upgradeManager);
    }
  }
  async renderOperation(containerEl, operation, version, upgradeManager) {
    new import_obsidian3.Setting(containerEl).setName(operation.name).setDesc(operation.description + (operation.completed ? " \u2705 Completed" : "")).addButton((button) => {
      if (operation.completed) {
        button.setButtonText("\u2705 Completed").setDisabled(true).setTooltip("This operation has been completed");
        button.buttonEl.addClass("mod-muted");
      } else if (!operation.canRun) {
        button.setButtonText("Cannot Run").setDisabled(true).setTooltip("Prerequisites not met for this operation");
      } else {
        button.setButtonText("Run").setTooltip(`Execute ${operation.name}`).onClick(async () => {
          await this.executeOperation(button, operation, version, upgradeManager);
        });
        button.buttonEl.addClass("mod-cta");
      }
    });
  }
  async executeOperation(buttonEl, operation, version, upgradeManager) {
    const originalText = buttonEl.buttonEl.textContent;
    buttonEl.setButtonText("Running...").setDisabled(true);
    try {
      console.debug(`[NEXUS-DEBUG] Executing manual operation: ${operation.id} (v${version})`);
      const result = await upgradeManager.executeManualOperation(version, operation.id);
      console.debug(`[NEXUS-DEBUG] Operation result:`, result);
      if (result.success) {
        buttonEl.setButtonText("\u2705 Completed");
        buttonEl.setTooltip("This operation has been completed");
        const buttonElement = buttonEl.buttonEl || buttonEl;
        if (buttonElement && buttonElement.removeClass) {
          buttonElement.removeClass("mod-cta");
          buttonElement.addClass("mod-muted");
        }
        operation.completed = true;
        operation.canRun = false;
      } else {
        buttonEl.setButtonText(originalText).setDisabled(false);
        this.showOperationResult(
          buttonEl.buttonEl.closest(".setting-item"),
          result.message,
          "error"
        );
      }
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Operation execution failed:`, error);
      buttonEl.setButtonText(originalText).setDisabled(false);
      this.showOperationResult(
        buttonEl.buttonEl.closest(".setting-item"),
        `Operation failed: ${error}`,
        "error"
      );
    }
  }
  showOperationResult(settingEl, message, type) {
    if (!settingEl)
      return;
    const existingMsg = settingEl.querySelector(".operation-result");
    if (existingMsg)
      existingMsg.remove();
    const resultEl = document.createElement("div");
    resultEl.className = "operation-result";
    resultEl.textContent = message;
    resultEl.style.cssText = `
            margin-top: 8px;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.9em;
            background: ${type === "success" ? "var(--background-modifier-success)" : "var(--background-modifier-error)"};
            color: ${type === "success" ? "var(--text-success)" : "var(--text-error)"};
            border: 1px solid ${type === "success" ? "var(--text-success)" : "var(--text-error)"};
        `;
    settingEl.appendChild(resultEl);
    setTimeout(() => {
      if (resultEl.parentNode) {
        resultEl.remove();
      }
    }, 5e3);
  }
  showNoMigrationsMessage(containerEl) {
    const noMigrationsEl = containerEl.createDiv({ cls: "setting-item-description" });
    noMigrationsEl.style.marginTop = "15px";
    noMigrationsEl.style.padding = "15px";
    noMigrationsEl.style.backgroundColor = "var(--background-secondary)";
    noMigrationsEl.style.borderRadius = "8px";
    noMigrationsEl.style.textAlign = "center";
    noMigrationsEl.innerHTML = `
            <p style="margin: 0; color: var(--text-muted);">
                <strong>No manual operations available</strong><br>
                All upgrade operations have been completed automatically.
            </p>
        `;
  }
  showErrorMessage(containerEl, error) {
    const errorEl = containerEl.createDiv({ cls: "setting-item-description" });
    errorEl.style.marginTop = "15px";
    errorEl.style.padding = "15px";
    errorEl.style.backgroundColor = "var(--background-modifier-error)";
    errorEl.style.color = "var(--text-error)";
    errorEl.style.borderRadius = "8px";
    errorEl.innerHTML = `
            <p style="margin: 0;">
                <strong>Error loading migrations:</strong><br>
                ${error.message || error}
            </p>
        `;
  }
};

// src/ui/settings-tab.ts
var NexusAiChatImporterPluginSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
    this.sections = [];
    this.initializeSections();
  }
  initializeSections() {
    this.sections = [
      new ConversationSettingsSection(this.plugin),
      new AttachmentSettingsSection(this.plugin),
      new MigrationsSettingsSection(this.plugin)
    ].sort((a, b) => a.order - b.order);
    this.sections.forEach((section) => {
      section.setRedrawCallback(() => this.display());
    });
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    this.renderSections(containerEl);
  }
  async renderSections(containerEl) {
    for (const section of this.sections) {
      if (section.title) {
        containerEl.createEl("h2", { text: section.title });
      }
      await section.render(containerEl);
    }
  }
};

// src/commands/command-registry.ts
var import_obsidian5 = require("obsidian");
var CommandRegistry = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  registerCommands() {
    this.plugin.addCommand({
      id: "nexus-ai-chat-importer-select-zip",
      name: "Import AI conversations",
      callback: () => {
        this.plugin.showProviderSelectionDialog();
      }
    });
  }
  showResetConfirmation() {
    const modal = new import_obsidian5.Modal(this.plugin.app);
    modal.contentEl.createEl("p", {
      text: "This will reset all import catalogs. This action cannot be undone."
    });
    const buttonDiv = modal.contentEl.createEl("div", {
      cls: "modal-button-container"
    });
    buttonDiv.createEl("button", { text: "Cancel" }).addEventListener("click", () => modal.close());
    buttonDiv.createEl("button", { text: "Reset", cls: "mod-warning" }).addEventListener("click", () => {
      this.plugin.resetCatalogs();
      modal.close();
    });
    modal.open();
  }
};

// src/events/event-handlers.ts
var import_obsidian6 = require("obsidian");
var EventHandlers = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  registerEvents() {
    this.plugin.registerEvent(
      this.plugin.app.vault.on("delete", async (file) => {
        if (file instanceof import_obsidian6.TFile) {
          await this.plugin.getFileService().handleConversationFileDeletion(file);
        }
      })
    );
  }
  cleanup() {
  }
};

// src/services/import-service.ts
var import_obsidian12 = require("obsidian");
var import_jszip = __toESM(require_jszip_min());
init_utils();
init_dialogs();

// src/models/import-report.ts
var ImportReport = class {
  constructor() {
    this.created = [];
    this.updated = [];
    this.skipped = [];
    this.failed = [];
    this.globalErrors = [];
    this.summary = "";
    this.providerSpecificColumnHeader = "Attachments";
  }
  setProviderSpecificColumnHeader(header) {
    this.providerSpecificColumnHeader = header;
  }
  addSummary(zipFileName, counters) {
    const totalAttachments = this.getTotalAttachmentStats();
    const attachmentSummary = totalAttachments.total > 0 ? `
- **Attachments**: ${totalAttachments.found}/${totalAttachments.total} extracted (${totalAttachments.missing} missing, ${totalAttachments.failed} failed)` : "";
    this.summary = `## Summary
- **ZIP File**: ${zipFileName}
- **Created**: ${this.created.length} new conversations
- **Updated**: ${this.updated.length} conversations with ${counters.totalNonEmptyMessagesAdded} new messages
- **Skipped**: ${this.skipped.length} conversations (no changes)
- **Failed**: ${this.failed.length} conversations
- **Errors**: ${this.globalErrors.length} global errors${attachmentSummary}`;
  }
  getTotalAttachmentStats() {
    const total = { total: 0, found: 0, missing: 0, failed: 0 };
    [...this.created, ...this.updated].forEach((entry) => {
      if (entry.attachmentStats) {
        total.total += entry.attachmentStats.total;
        total.found += entry.attachmentStats.found;
        total.missing += entry.attachmentStats.missing;
        total.failed += entry.attachmentStats.failed;
      }
    });
    return total;
  }
  addCreated(title, filePath, createDate, updateDate, messageCount, attachmentStats, providerSpecificCount) {
    this.created.push({ title, filePath, createDate, updateDate, messageCount, attachmentStats, providerSpecificCount });
  }
  addUpdated(title, filePath, createDate, updateDate, newMessageCount, attachmentStats, providerSpecificCount) {
    this.updated.push({ title, filePath, createDate, updateDate, newMessageCount, attachmentStats, providerSpecificCount });
  }
  addSkipped(title, filePath, createDate, updateDate, messageCount, reason, attachmentStats, providerSpecificCount) {
    this.skipped.push({ title, filePath, createDate, updateDate, messageCount, reason, attachmentStats, providerSpecificCount });
  }
  addFailed(title, filePath, createDate, updateDate, errorMessage) {
    this.failed.push({ title, filePath, createDate, updateDate, errorMessage });
  }
  addError(message, details) {
    this.globalErrors.push({ message, details });
  }
  generateReportContent() {
    let content = "# Nexus AI Chat Importer Report\n\n";
    if (this.summary) {
      content += this.summary + "\n\n";
    }
    if (this.created.length > 0) {
      content += this.generateCreatedTable();
    }
    if (this.updated.length > 0) {
      content += this.generateUpdatedTable();
    }
    if (this.failed.length > 0) {
      content += this.generateFailedTable();
    }
    if (this.globalErrors.length > 0) {
      content += this.generateErrorTable();
    }
    return content;
  }
  generateCreatedTable() {
    let table = `## \u2728 Created Notes

`;
    table += `| | Title | Created | Messages | ${this.providerSpecificColumnHeader} |
`;
    table += "|:---:|:---|:---:|:---:|:---:|\n";
    this.created.forEach((entry) => {
      const sanitizedTitle = entry.title.replace(/\n/g, " ").trim();
      const titleLink = `[[${entry.filePath}\\|${sanitizedTitle}]]`;
      const providerSpecificValue = entry.providerSpecificCount || 0;
      const providerSpecificDisplay = providerSpecificValue > 0 ? `\u2705 ${providerSpecificValue}` : providerSpecificValue;
      table += `| \u2728 | ${titleLink} | ${entry.createDate} | ${entry.messageCount || 0} | ${providerSpecificDisplay} |
`;
    });
    return table + "\n\n";
  }
  generateUpdatedTable() {
    let table = `## \u{1F504} Updated Notes

`;
    table += `| | Title | Updated | New Messages | New ${this.providerSpecificColumnHeader} |
`;
    table += "|:---:|:---|:---:|:---:|:---:|\n";
    this.updated.forEach((entry) => {
      const sanitizedTitle = entry.title.replace(/\n/g, " ").trim();
      const titleLink = `[[${entry.filePath}\\|${sanitizedTitle}]]`;
      const providerSpecificValue = entry.providerSpecificCount || 0;
      const providerSpecificDisplay = providerSpecificValue > 0 ? `\u2705 ${providerSpecificValue}` : providerSpecificValue;
      table += `| \u{1F504} | ${titleLink} | ${entry.updateDate} | ${entry.newMessageCount || 0} | ${providerSpecificDisplay} |
`;
    });
    return table + "\n\n";
  }
  generateFailedTable() {
    let table = `## \u{1F6AB} Failed Imports

`;
    table += "| | Title | Date | Error |\n";
    table += "|:---:|:---|:---:|:---|\n";
    this.failed.forEach((entry) => {
      const sanitizedTitle = entry.title.replace(/\n/g, " ").trim();
      table += `| \u{1F6AB} | ${sanitizedTitle} | ${entry.createDate} | ${entry.errorMessage || "Unknown error"} |
`;
    });
    return table + "\n\n";
  }
  generateErrorTable() {
    let table = `## \u26A0\uFE0F Global Errors

`;
    table += "| | Error | Details |\n";
    table += "|:---:|:---|:---|\n";
    this.globalErrors.forEach((entry) => {
      table += `| \u26A0\uFE0F | ${entry.message} | ${entry.details} |
`;
    });
    return table + "\n\n";
  }
  formatAttachmentStatus(stats) {
    if (!stats || stats.total === 0) {
      return "0";
    }
    const { total, found, missing, failed } = stats;
    if (found === total) {
      return `\u2705 ${found}`;
    } else if (found === 0) {
      return `\u274C 0/${total}`;
    } else {
      return `\u26A0\uFE0F ${found}/${total}`;
    }
  }
  hasErrors() {
    return this.failed.length > 0 || this.globalErrors.length > 0;
  }
  getCreatedCount() {
    return this.created.length;
  }
  getUpdatedCount() {
    return this.updated.length;
  }
  getSkippedCount() {
    return this.skipped.length;
  }
};

// src/services/conversation-processor.ts
var import_obsidian11 = require("obsidian");

// src/formatters/message-formatter.ts
init_utils();
var _MessageFormatter = class {
  constructor(logger4) {
    this.logger = logger4;
  }
  formatMessages(messages) {
    return messages.filter((message) => message !== void 0).map((message) => this.formatMessage(message)).filter((formattedMessage) => formattedMessage !== "").join("\n\n");
  }
  formatMessage(message) {
    if (!message) {
      this.logger.error("Message is null or undefined:", message);
      return "";
    }
    const messageTime = formatTimestamp(message.timestamp, "date") + " at " + formatTimestamp(message.timestamp, "time");
    const authorName = message.role === "user" ? "User" : "Assistant";
    const calloutType = message.role === "user" ? _MessageFormatter.CALLOUTS.USER : _MessageFormatter.CALLOUTS.AGENT;
    let messageContent = `>[!${calloutType}] **${authorName}** - ${messageTime}
`;
    if (message.content) {
      messageContent += `> ${message.content.split("\n").join("\n> ")}`;
    } else {
      messageContent += `> [No content found]`;
    }
    if (message.attachments && message.attachments.length > 0) {
      messageContent += "\n\n" + this.formatAttachments(message.attachments);
    }
    messageContent += `
<!-- UID: ${message.id} -->
`;
    if (message.role === "assistant") {
      messageContent += "\n---\n";
    }
    return messageContent + "\n\n";
  }
  formatAttachments(attachments) {
    return attachments.map((attachment) => {
      return this.formatSingleAttachment(attachment);
    }).join("\n\n");
  }
  /**
   * Format single attachment with Nexus callout styling
   */
  formatSingleAttachment(attachment) {
    var _a, _b, _c;
    if (attachment.extractedContent && attachment.extractedContent.includes("nexus_attachment")) {
      return attachment.extractedContent;
    }
    let content = `>[!${_MessageFormatter.CALLOUTS.ATTACHMENT}] `;
    if ((_a = attachment.status) == null ? void 0 : _a.found) {
      content += `**${attachment.fileName}**`;
    } else {
      content += `**${attachment.fileName}** *(missing)*`;
    }
    if (attachment.fileType) {
      content += ` (${attachment.fileType})`;
    }
    if (attachment.fileSize) {
      content += ` - ${this.formatFileSize(attachment.fileSize)}`;
    }
    content += "\n";
    if (((_b = attachment.status) == null ? void 0 : _b.found) && attachment.url) {
      if (!attachment.url.startsWith("sandbox://")) {
        if (this.isImageFile(attachment)) {
          content += `> ![[${attachment.url}]]`;
        } else {
          content += `> [[${attachment.url}]]`;
        }
      } else {
        content += `> \u26A0\uFE0F File not available in archive. Visit the original conversation to access it`;
      }
    } else if (attachment.status && !attachment.status.found) {
      content += `> \u26A0\uFE0F ${this.getStatusMessage(attachment.status.reason)}`;
      if (attachment.status.note) {
        content += `
> **Note:** ${attachment.status.note}`;
      }
      if (attachment.status.reason === "missing_from_export") {
        const conversationUrl = ((_c = attachment.url) == null ? void 0 : _c.includes("chatgpt.com")) ? attachment.url : "https://chatgpt.com/";
        content += `
> [Open original conversation](${conversationUrl})`;
      }
    } else if (attachment.extractedContent && this.isDalleImage(attachment)) {
      content += `> ${this.isImageFile(attachment) ? "![[" + attachment.url + "]]" : "[[" + attachment.url + "]]"}`;
    } else if (attachment.extractedContent) {
      content += `> ${attachment.extractedContent}`;
    } else if (attachment.content && !attachment.extractedContent) {
      content += `> ${attachment.content}`;
    }
    let dallePrompt = "";
    if (attachment.extractedContent && this.isDalleImage(attachment)) {
      dallePrompt = `

>[!${_MessageFormatter.CALLOUTS.PROMPT}] **DALL-E Prompt**
> \`\`\`
> ${attachment.extractedContent}
> \`\`\``;
    }
    return content + dallePrompt;
  }
  /**
   * Check if attachment is a DALL-E generated image
   */
  isDalleImage(attachment) {
    return attachment.fileName.startsWith("dalle_") && attachment.fileName.includes("_") && attachment.fileType === "image/png";
  }
  /**
   * Get user-friendly status message
   */
  getStatusMessage(reason) {
    switch (reason) {
      case "missing_from_export":
        return "Not included in export";
      case "extraction_failed":
        return "Extraction failed";
      case "corrupted":
        return "File appears corrupted";
      case "unsupported_format":
        return "Unsupported file format";
      default:
        return "Processing issue";
    }
  }
  /**
   * Check if attachment is an image file for embedding
   */
  isImageFile(attachment) {
    var _a;
    if ((_a = attachment.fileType) == null ? void 0 : _a.startsWith("image/")) {
      return true;
    }
    const fileName = attachment.fileName.toLowerCase();
    const imageExtensions = [".png", ".jpg", ".jpeg", ".gif", ".webp", ".svg", ".bmp", ".tiff"];
    return imageExtensions.some((ext) => fileName.endsWith(ext));
  }
  formatFileSize(bytes) {
    const sizes = ["Bytes", "KB", "MB", "GB"];
    if (bytes === 0)
      return "0 Bytes";
    const i = Math.floor(Math.log(bytes) / Math.log(1024));
    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + " " + sizes[i];
  }
};
var MessageFormatter = _MessageFormatter;
// Nexus custom callouts with icons
MessageFormatter.CALLOUTS = {
  USER: "nexus_user",
  // 👤 User messages
  AGENT: "nexus_agent",
  // 🤖 Assistant/Agent messages
  ATTACHMENT: "nexus_attachment",
  // 📎 Attachments
  ARTIFACT: "nexus_artifact",
  // 🛠️ Claude artifacts
  PROMPT: "nexus_prompt"
  // 💭 System prompts
};

// src/formatters/note-formatter.ts
init_utils();

// src/types/standard.ts
var URL_GENERATORS = {
  chatgpt: {
    generateChatUrl: (id) => `https://chat.openai.com/c/${id}`
  },
  claude: {
    generateChatUrl: (id) => `https://claude.ai/chat/${id}`
  }
};

// src/formatters/note-formatter.ts
var NoteFormatter = class {
  constructor(logger4, pluginId, pluginVersion) {
    this.logger = logger4;
    this.pluginId = pluginId;
    this.pluginVersion = pluginVersion;
    this.messageFormatter = new MessageFormatter(logger4);
  }
  generateMarkdownContent(conversation) {
    const formattedTitle = formatTitle(conversation.title);
    const createTimeStr = `${formatTimestamp(conversation.createTime, "date")} at ${formatTimestamp(conversation.createTime, "time")}`;
    const updateTimeStr = `${formatTimestamp(conversation.updateTime, "date")} at ${formatTimestamp(conversation.updateTime, "time")}`;
    let content = this.generateHeader(formattedTitle, conversation.id, createTimeStr, updateTimeStr, conversation);
    content += this.generateMessagesContent(conversation);
    return content;
  }
  generateHeader(title, conversationId, createTimeStr, updateTimeStr, conversation) {
    let chatUrl = conversation.chatUrl;
    if (!chatUrl && URL_GENERATORS[conversation.provider]) {
      chatUrl = URL_GENERATORS[conversation.provider].generateChatUrl(conversationId);
    }
    let frontmatter = `---
nexus: ${this.pluginId}
plugin_version: "${this.pluginVersion}"
provider: ${conversation.provider}
aliases: "${title}"
conversation_id: ${conversationId}
create_time: ${createTimeStr}
update_time: ${updateTimeStr}
---

`;
    let header = `# Title: ${title}

`;
    header += `Created: ${createTimeStr}
`;
    header += `Last Updated: ${updateTimeStr}
`;
    if (chatUrl) {
      header += `Chat URL: ${chatUrl}
`;
    }
    header += "\n\n";
    return frontmatter + header;
  }
  generateMessagesContent(conversation) {
    return this.messageFormatter.formatMessages(conversation.messages);
  }
};

// src/services/file-service.ts
var import_obsidian10 = require("obsidian");
var FileService = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async writeToFile(filePath, content) {
    try {
      const file = this.plugin.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian10.TFile) {
        await this.plugin.app.vault.modify(file, content);
      } else if (file instanceof import_obsidian10.TFolder) {
        throw new Error(`Cannot write to '${filePath}'; it is a folder.`);
      } else {
        await this.plugin.app.vault.create(filePath, content);
      }
    } catch (error) {
      this.plugin.logger.error(`Error creating or modifying file '${filePath}'`, error.message);
      throw error;
    }
  }
  async handleConversationFileDeletion(file) {
    var _a;
    try {
      const frontmatter = (_a = this.plugin.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
      if (!(frontmatter == null ? void 0 : frontmatter.conversation_id) || (frontmatter == null ? void 0 : frontmatter.nexus) !== this.plugin.manifest.id) {
        return;
      }
      const storage = this.plugin.getStorageService();
      const catalog = storage.getConversationCatalog();
      for (const [id, record] of Object.entries(catalog)) {
        if (record.conversationId === frontmatter.conversation_id) {
          storage.deleteFromConversationCatalog(id);
          await this.plugin.saveSettings();
          break;
        }
      }
    } catch (error) {
      this.plugin.logger.error("Error handling conversation file deletion:", error);
    }
  }
  /**
   * Get file extension from filename (provider-agnostic utility)
   */
  getFileExtension(fileName) {
    const lastDot = fileName.lastIndexOf(".");
    return lastDot === -1 ? "" : fileName.substring(lastDot + 1).toLowerCase();
  }
  // TODO: Future enhancement - delete conversation attachments
  // async deleteConversationAttachments(conversationId: string): Promise<void> {
  //     // Implementation for deleting attachments when conversation is deleted
  // }
};

// src/services/conversation-processor.ts
init_utils();
var ConversationProcessor = class {
  constructor(plugin, providerRegistry) {
    this.plugin = plugin;
    this.counters = {
      totalExistingConversations: 0,
      totalNewConversationsToImport: 0,
      totalExistingConversationsToUpdate: 0,
      totalNewConversationsSuccessfullyImported: 0,
      totalConversationsActuallyUpdated: 0,
      totalConversationsProcessed: 0,
      totalNonEmptyMessagesToImport: 0,
      totalNonEmptyMessagesToAdd: 0,
      totalNonEmptyMessagesAdded: 0
    };
    this.currentProvider = "unknown";
    this.messageFormatter = new MessageFormatter(plugin.logger);
    this.fileService = new FileService(plugin);
    this.noteFormatter = new NoteFormatter(plugin.logger, plugin.manifest.id, plugin.manifest.version);
    this.providerRegistry = providerRegistry;
  }
  /**
   * Process raw conversations (provider agnostic entry point)
   */
  async processRawConversations(rawConversations, importReport, zip, isReprocess = false, forcedProvider) {
    const provider = forcedProvider || this.providerRegistry.detectProvider(rawConversations);
    if (provider === "unknown") {
      const errorMsg = forcedProvider ? `Forced provider '${forcedProvider}' is not available or registered` : `Could not detect conversation provider from data structure`;
      importReport.addError("Unknown provider", errorMsg);
      return importReport;
    }
    return this.processConversationsWithProvider(provider, rawConversations, importReport, zip, isReprocess);
  }
  /**
   * Get provider name for current processing session
   */
  getCurrentProvider() {
    return this.currentProvider || "unknown";
  }
  /**
   * Process conversations using the detected provider
   */
  async processConversationsWithProvider(provider, rawConversations, importReport, zip, isReprocess = false) {
    this.currentProvider = provider;
    const adapter = this.providerRegistry.getAdapter(provider);
    if (!adapter) {
      importReport.addError("Provider adapter not found", `No adapter found for provider: ${provider}`);
      return importReport;
    }
    const storage = this.plugin.getStorageService();
    const existingConversationsMap = await storage.scanExistingConversations();
    this.counters.totalExistingConversations = existingConversationsMap.size;
    for (const chat of rawConversations) {
      await this.processSingleChat(adapter, chat, existingConversationsMap, importReport, zip, isReprocess);
    }
    return importReport;
  }
  async processSingleChat(adapter, chat, existingConversations, importReport, zip, isReprocess = false) {
    try {
      const chatId = adapter.getId(chat);
      const existingEntry = existingConversations.get(chatId);
      if (existingEntry) {
        await this.handleExistingChat(adapter, chat, existingEntry, importReport, zip, isReprocess);
      } else {
        const filePath = await this.generateFilePathForChat(adapter, chat);
        await this.handleNewChat(adapter, chat, filePath, importReport, zip);
      }
      this.counters.totalConversationsProcessed++;
    } catch (error) {
      const errorMessage = error.message || "Unknown error occurred";
      const chatTitle = adapter.getTitle(chat) || "Untitled";
      importReport.addError(`Error processing chat: ${chatTitle}`, errorMessage);
    }
  }
  async handleExistingChat(adapter, chat, existingRecord, importReport, zip, isReprocess = false) {
    const chatTitle = adapter.getTitle(chat);
    const createTime = adapter.getCreateTime(chat);
    const updateTime = adapter.getUpdateTime(chat);
    const totalMessageCount = await this.countMessages(adapter, chat);
    const fileExists = await this.plugin.app.vault.adapter.exists(existingRecord.path);
    if (!fileExists) {
      await this.handleNewChat(adapter, chat, existingRecord.path, importReport, zip);
      return;
    }
    if (isReprocess) {
      this.plugin.logger.info(`Reprocessing conversation: ${chatTitle}`);
      this.counters.totalExistingConversationsToUpdate++;
      await this.updateExistingNote(adapter, chat, existingRecord.path, totalMessageCount, importReport, zip, true);
      return;
    }
    if (existingRecord.updateTime >= updateTime) {
      importReport.addSkipped(
        chatTitle,
        existingRecord.path,
        formatTimestamp(createTime, "date"),
        formatTimestamp(updateTime, "date"),
        totalMessageCount,
        "No Updates"
      );
    } else {
      this.counters.totalExistingConversationsToUpdate++;
      await this.updateExistingNote(adapter, chat, existingRecord.path, totalMessageCount, importReport, zip);
    }
  }
  async handleNewChat(adapter, chat, filePath, importReport, zip) {
    this.counters.totalNewConversationsToImport++;
    await this.createNewNote(adapter, chat, filePath, importReport, zip);
  }
  /**
   * Count messages in a chat using provider-specific logic
   */
  async countMessages(adapter, chat) {
    var _a;
    try {
      const standardConversation = await adapter.convertChat(chat);
      return ((_a = standardConversation.messages) == null ? void 0 : _a.length) || 0;
    } catch (error) {
      if (chat.mapping) {
        return Object.values(chat.mapping).filter((msg) => isValidMessage(msg.message)).length;
      } else if (chat.messages) {
        return Array.isArray(chat.messages) ? chat.messages.length : 0;
      }
      return 0;
    }
  }
  /**
   * Get provider-specific count (artifacts for Claude, attachments for ChatGPT)
   */
  getProviderSpecificCount(adapter, chat) {
    try {
      const strategy = adapter.getReportNamingStrategy();
      if (strategy && strategy.getProviderSpecificColumn) {
        const columnInfo = strategy.getProviderSpecificColumn();
        return columnInfo.getValue(adapter, chat);
      }
    } catch (error) {
    }
    return 0;
  }
  async updateExistingNote(adapter, chat, filePath, totalMessageCount, importReport, zip, forceUpdate = false) {
    try {
      const file = this.plugin.app.vault.getAbstractFileByPath(filePath);
      if (file instanceof import_obsidian11.TFile) {
        let content = await this.plugin.app.vault.read(file);
        const originalContent = content;
        const chatUpdateTime = adapter.getUpdateTime(chat);
        const chatCreateTime = adapter.getCreateTime(chat);
        const chatTitle = adapter.getTitle(chat);
        content = this.updateMetadata(content, chatUpdateTime);
        const existingMessageIds = this.extractMessageUIDsFromNote(content);
        const newMessages = adapter.getNewMessages(chat, existingMessageIds);
        let attachmentStats = void 0;
        if (forceUpdate) {
          let standardConversation = await adapter.convertChat(chat);
          if (zip && this.plugin.settings.importAttachments && adapter.processMessageAttachments) {
            standardConversation.messages = await adapter.processMessageAttachments(
              standardConversation.messages,
              adapter.getId(chat),
              zip
            );
            attachmentStats = this.calculateAttachmentStats(standardConversation.messages);
          }
          const newContent = this.noteFormatter.generateMarkdownContent(standardConversation);
          await this.fileService.writeToFile(filePath, newContent);
          importReport.addUpdated(
            chatTitle,
            filePath,
            `${formatTimestamp(chatCreateTime, "date")} ${formatTimestamp(chatCreateTime, "time")}`,
            `${formatTimestamp(chatUpdateTime, "date")} ${formatTimestamp(chatUpdateTime, "time")}`,
            totalMessageCount,
            attachmentStats
          );
          this.counters.totalConversationsActuallyUpdated++;
          return;
        }
        if (newMessages.length > 0) {
          let standardMessages = await adapter.convertMessages(newMessages, adapter.getId(chat));
          if (zip && this.plugin.settings.importAttachments && adapter.processMessageAttachments) {
            standardMessages = await adapter.processMessageAttachments(
              standardMessages,
              adapter.getId(chat),
              zip
            );
          }
          attachmentStats = this.calculateAttachmentStats(standardMessages);
          content += "\n\n" + this.messageFormatter.formatMessages(standardMessages);
          this.counters.totalConversationsActuallyUpdated++;
          this.counters.totalNonEmptyMessagesAdded += newMessages.length;
        }
        if (content !== originalContent) {
          await this.fileService.writeToFile(filePath, content);
          importReport.addUpdated(
            chatTitle,
            filePath,
            `${formatTimestamp(chatCreateTime, "date")} ${formatTimestamp(chatCreateTime, "time")}`,
            `${formatTimestamp(chatUpdateTime, "date")} ${formatTimestamp(chatUpdateTime, "time")}`,
            newMessages.length,
            attachmentStats
          );
        } else {
          importReport.addSkipped(
            chatTitle,
            filePath,
            `${formatTimestamp(chatCreateTime, "date")} ${formatTimestamp(chatCreateTime, "time")}`,
            `${formatTimestamp(chatUpdateTime, "date")} ${formatTimestamp(chatUpdateTime, "time")}`,
            totalMessageCount,
            "No changes needed"
          );
        }
      }
    } catch (error) {
      this.plugin.logger.error("Error updating note", error.message);
    }
  }
  async createNewNote(adapter, chat, filePath, importReport, zip) {
    try {
      const folderPath = filePath.substring(0, filePath.lastIndexOf("/"));
      const folderResult = await ensureFolderExists(folderPath, this.plugin.app.vault);
      if (!folderResult.success) {
        throw new Error(folderResult.error || "Failed to ensure folder exists.");
      }
      let standardConversation = await adapter.convertChat(chat);
      let attachmentStats = { total: 0, found: 0, missing: 0, failed: 0 };
      if (zip && this.plugin.settings.importAttachments && adapter.processMessageAttachments) {
        standardConversation.messages = await adapter.processMessageAttachments(
          standardConversation.messages,
          adapter.getId(chat),
          zip
        );
        attachmentStats = this.calculateAttachmentStats(standardConversation.messages);
      }
      const content = this.noteFormatter.generateMarkdownContent(standardConversation);
      await this.fileService.writeToFile(filePath, content);
      const messageCount = await this.countMessages(adapter, chat);
      const createTime = adapter.getCreateTime(chat);
      const updateTime = adapter.getUpdateTime(chat);
      const chatTitle = adapter.getTitle(chat);
      const providerSpecificCount = this.getProviderSpecificCount(adapter, chat);
      importReport.addCreated(
        chatTitle,
        filePath,
        `${formatTimestamp(createTime, "date")} ${formatTimestamp(createTime, "time")}`,
        `${formatTimestamp(updateTime, "date")} ${formatTimestamp(updateTime, "time")}`,
        messageCount,
        attachmentStats,
        providerSpecificCount
      );
      this.counters.totalNewConversationsSuccessfullyImported++;
      this.counters.totalNonEmptyMessagesToImport += messageCount;
    } catch (error) {
      this.plugin.logger.error("Error creating new note", error.message);
      const createTime = adapter.getCreateTime(chat);
      const updateTime = adapter.getUpdateTime(chat);
      const chatTitle = adapter.getTitle(chat);
      importReport.addFailed(
        chatTitle,
        filePath,
        formatTimestamp(createTime, "date") + " " + formatTimestamp(createTime, "time"),
        formatTimestamp(updateTime, "date") + " " + formatTimestamp(updateTime, "time"),
        error.message
      );
      throw error;
    }
  }
  updateMetadata(content, updateTime) {
    const updateTimeStr = `${formatTimestamp(updateTime, "date")} at ${formatTimestamp(updateTime, "time")}`;
    content = content.replace(/^update_time: .*$/m, `update_time: ${updateTimeStr}`);
    content = content.replace(/^Last Updated: .*$/m, `Last Updated: ${updateTimeStr}`);
    return content;
  }
  extractMessageUIDsFromNote(content) {
    const uidRegex = /<!-- UID: (.*?) -->/g;
    const uids = [];
    let match;
    while ((match = uidRegex.exec(content)) !== null) {
      uids.push(match[1]);
    }
    return uids;
  }
  async generateFilePathForChat(adapter, chat) {
    const createTime = adapter.getCreateTime(chat);
    const chatTitle = adapter.getTitle(chat);
    const providerName = adapter.getProviderName();
    const date = new Date(createTime * 1e3);
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, "0");
    const folderPath = `${this.plugin.settings.archiveFolder}/${providerName}/${year}/${month}`;
    const folderResult = await ensureFolderExists(folderPath, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(folderResult.error || "Failed to ensure folder exists.");
    }
    let fileName = generateConversationFileName(
      chatTitle,
      createTime,
      this.plugin.settings.addDatePrefix,
      this.plugin.settings.dateFormat
    ) + ".md";
    let filePath = `${folderPath}/${fileName}`;
    if (await doesFilePathExist(filePath, this.plugin.app.vault)) {
      filePath = await generateUniqueFileName(filePath, this.plugin.app.vault.adapter);
    }
    return filePath;
  }
  getCounters() {
    return this.counters;
  }
  /**
   * Calculate attachment statistics from processed messages
   */
  calculateAttachmentStats(messages) {
    var _a, _b, _c;
    const stats = { total: 0, found: 0, missing: 0, failed: 0 };
    for (const message of messages) {
      if (message.attachments) {
        for (const attachment of message.attachments) {
          stats.total++;
          if ((_a = attachment.status) == null ? void 0 : _a.found) {
            stats.found++;
          } else if (((_b = attachment.status) == null ? void 0 : _b.reason) === "missing_from_export") {
            stats.missing++;
          } else if (((_c = attachment.status) == null ? void 0 : _c.reason) === "extraction_failed") {
            stats.failed++;
          }
        }
      }
    }
    return stats;
  }
};

// src/models/errors.ts
var NexusAiChatImporterError = class extends Error {
  constructor(message, details) {
    super(message);
    this.details = details;
    this.name = "NexusAiChatImporterError";
  }
};

// src/providers/provider-adapter.ts
var DefaultProviderRegistry = class {
  constructor() {
    this.adapters = {};
  }
  register(providerName, adapter) {
    this.adapters[providerName] = adapter;
  }
  getAdapter(provider) {
    return this.adapters[provider];
  }
  detectProvider(rawConversations) {
    for (const [name, adapter] of Object.entries(this.adapters)) {
      try {
        if (adapter.detect(rawConversations))
          return name;
      } catch (_) {
      }
    }
    return "unknown";
  }
};

// src/providers/chatgpt/chatgpt-converter.ts
init_utils();
var ChatGPTConverter = class {
  /**
   * Convert ChatGPT Chat to StandardConversation
   */
  static convertChat(chat) {
    const messages = this.extractMessagesFromMapping(chat);
    return {
      id: chat.id || "",
      title: chat.title || "Untitled",
      provider: "chatgpt",
      createTime: chat.create_time || 0,
      updateTime: chat.update_time || 0,
      messages,
      metadata: {
        conversation_template_id: chat.conversation_template_id,
        gizmo_id: chat.gizmo_id,
        gizmo_type: chat.gizmo_type,
        default_model_slug: chat.default_model_slug,
        is_archived: chat.is_archived,
        is_starred: chat.is_starred,
        current_node: chat.current_node,
        memory_scope: chat.memory_scope
      }
    };
  }
  /**
   * Convert array of ChatGPT ChatMessages to StandardMessages
   */
  static convertMessages(chatMessages, conversationId) {
    return chatMessages.filter((msg) => isValidMessage(msg)).map((msg) => this.convertMessage(msg, conversationId));
  }
  /**
   * Convert single ChatGPT ChatMessage to StandardMessage
   */
  static convertMessage(chatMessage, conversationId) {
    var _a;
    const contentResult = this.extractContent(chatMessage, conversationId);
    return {
      id: chatMessage.id || "",
      role: ((_a = chatMessage.author) == null ? void 0 : _a.role) === "user" ? "user" : "assistant",
      content: contentResult.content,
      timestamp: chatMessage.create_time || 0,
      attachments: contentResult.attachments || []
    };
  }
  /**
   * Extract messages from ChatGPT mapping structure with DALL-E prompt association
   */
  static extractMessagesFromMapping(chat) {
    var _a, _b, _c, _d;
    const messages = [];
    const dallePrompts = /* @__PURE__ */ new Map();
    const conversationId = chat.id;
    const mappingValues = Object.values(chat.mapping);
    for (const messageObj of mappingValues) {
      const message = messageObj == null ? void 0 : messageObj.message;
      if (!message || ((_a = message.author) == null ? void 0 : _a.role) !== "assistant")
        continue;
      if (this.isDallePromptMessage(message)) {
        const prompt = this.extractPromptFromJson(message);
        if (prompt) {
          const children = messageObj.children || [];
          for (const childId of children) {
            const childObj = chat.mapping[childId];
            if (((_c = (_b = childObj == null ? void 0 : childObj.message) == null ? void 0 : _b.author) == null ? void 0 : _c.role) === "tool" && this.hasRealDalleImage(childObj.message)) {
              dallePrompts.set(childId, prompt);
              break;
            }
          }
        }
      }
    }
    for (const messageObj of mappingValues) {
      const message = messageObj == null ? void 0 : messageObj.message;
      if (!message)
        continue;
      if (((_d = message.author) == null ? void 0 : _d.role) === "tool" && this.hasRealDalleImage(message)) {
        const prompt = dallePrompts.get(messageObj.id || "");
        const dalleMessage = this.createDalleAssistantMessage(message, prompt);
        if (dalleMessage) {
          messages.push(dalleMessage);
        }
      } else if (this.shouldIncludeMessage(message)) {
        messages.push(this.convertMessage(message, conversationId));
      }
    }
    if (messages.length <= 1)
      return messages;
    return messages.sort((a, b) => {
      if (a.timestamp !== b.timestamp) {
        return a.timestamp - b.timestamp;
      }
      return a.id.localeCompare(b.id);
    });
  }
  /**
   * Check if message is a DALL-E JSON prompt message
   */
  static isDallePromptMessage(message) {
    var _a, _b;
    if (((_a = message.author) == null ? void 0 : _a.role) !== "assistant")
      return false;
    if (((_b = message.content) == null ? void 0 : _b.parts) && Array.isArray(message.content.parts) && message.content.parts.length === 1 && typeof message.content.parts[0] === "string") {
      const content = message.content.parts[0].trim();
      return content.startsWith("{") && content.includes('"prompt"');
    }
    return false;
  }
  /**
   * Extract prompt from DALL-E JSON message
   */
  static extractPromptFromJson(message) {
    var _a;
    try {
      if (((_a = message.content) == null ? void 0 : _a.parts) && message.content.parts[0]) {
        const jsonStr = message.content.parts[0];
        const parsed = JSON.parse(jsonStr);
        return parsed.prompt || null;
      }
    } catch (error) {
    }
    return null;
  }
  /**
   * Determine if a message should be included in the conversation - ENHANCED VERSION
   */
  static shouldIncludeMessage(message) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
    if (!message || !message.author) {
      return false;
    }
    if (message.author.role === "system") {
      return false;
    }
    if (message.author.role === "tool") {
      return false;
    }
    if (((_a = message.metadata) == null ? void 0 : _a.is_visually_hidden_from_conversation) === true) {
      return false;
    }
    if (((_b = message.metadata) == null ? void 0 : _b.is_user_system_message) === true) {
      return false;
    }
    if (((_c = message.content) == null ? void 0 : _c.content_type) === "user_editable_context") {
      return false;
    }
    if (message.author.role === "assistant") {
      if (((_d = message.content) == null ? void 0 : _d.parts) && Array.isArray(message.content.parts) && message.content.parts.every(
        (part) => typeof part === "string" && part.trim() === ""
      )) {
        return false;
      }
      if (this.isDallePromptMessage(message)) {
        return false;
      }
      if (((_e = message.content) == null ? void 0 : _e.content_type) === "code") {
        return false;
      }
      if (((_f = message.content) == null ? void 0 : _f.content_type) === "system_error") {
        return false;
      }
      if (((_g = message.content) == null ? void 0 : _g.content_type) === "execution_output") {
        return false;
      }
      if (((_h = message.content) == null ? void 0 : _h.content_type) === "multimodal_text") {
        if (((_i = message.content) == null ? void 0 : _i.parts) && Array.isArray(message.content.parts)) {
          const hasTextContent = message.content.parts.some((part) => {
            if (typeof part === "string" && part.trim() !== "") {
              return true;
            }
            if (typeof part === "object" && part !== null && "text" in part) {
              return typeof part.text === "string" && part.text.trim() !== "";
            }
            return false;
          });
          if (!hasTextContent) {
            return false;
          }
        }
      }
    }
    if (message.author.role === "user") {
      const excludedContentTypes = [
        "user_editable_context"
        // Already covered above but double-check
      ];
      if (((_j = message.content) == null ? void 0 : _j.content_type) && excludedContentTypes.includes(message.content.content_type)) {
        return false;
      }
    }
    return isValidMessage(message);
  }
  /**
   * Check if message contains REAL DALL-E image (not user upload)
   */
  static hasRealDalleImage(message) {
    var _a;
    if (!((_a = message.content) == null ? void 0 : _a.parts) || !Array.isArray(message.content.parts)) {
      return false;
    }
    return message.content.parts.some((part) => {
      var _a2;
      if (typeof part !== "object" || part === null)
        return false;
      const contentPart = part;
      return contentPart.content_type === "image_asset_pointer" && contentPart.asset_pointer && ((_a2 = contentPart.metadata) == null ? void 0 : _a2.dalle) && contentPart.metadata.dalle !== null;
    });
  }
  /**
   * Create Assistant (DALL-E) message from tool message with associated prompt
   */
  static createDalleAssistantMessage(toolMessage, associatedPrompt) {
    var _a, _b;
    if (!((_a = toolMessage.content) == null ? void 0 : _a.parts) || !Array.isArray(toolMessage.content.parts)) {
      return null;
    }
    const attachments = [];
    for (const part of toolMessage.content.parts) {
      if (typeof part === "object" && part !== null) {
        const contentPart = part;
        if (contentPart.content_type === "image_asset_pointer" && contentPart.asset_pointer && ((_b = contentPart.metadata) == null ? void 0 : _b.dalle) && contentPart.metadata.dalle !== null) {
          let fileId = contentPart.asset_pointer;
          if (fileId.includes("://")) {
            fileId = fileId.split("://")[1];
          }
          const genId = contentPart.metadata.dalle.gen_id || "unknown";
          const width = contentPart.width || 1024;
          const height = contentPart.height || 1024;
          const fileName = `dalle_${genId}_${width}x${height}.png`;
          const dalleAttachment = {
            fileName,
            fileSize: contentPart.size_bytes,
            fileType: "image/png",
            fileId,
            // Use associated prompt from JSON message, fallback to metadata
            extractedContent: associatedPrompt || contentPart.metadata.dalle.prompt
          };
          attachments.push(dalleAttachment);
        }
      }
    }
    if (attachments.length === 0) {
      return null;
    }
    return {
      id: toolMessage.id || "",
      role: "assistant",
      content: "Image g\xE9n\xE9r\xE9e par DALL-E",
      timestamp: toolMessage.create_time || 0,
      attachments
    };
  }
  /**
   * Extract content and attachments from ChatGPT message parts
   */
  static extractContent(chatMessage, conversationId) {
    var _a;
    if (!((_a = chatMessage.content) == null ? void 0 : _a.parts) || !Array.isArray(chatMessage.content.parts)) {
      return { content: "" };
    }
    const contentParts = [];
    const attachments = [];
    for (const part of chatMessage.content.parts) {
      let textContent = "";
      if (typeof part === "string" && part.trim() !== "") {
        if (part.trim().startsWith("{") && part.trim().endsWith("}")) {
          try {
            const parsed = JSON.parse(part);
            if (parsed.type && parsed.content && typeof parsed.content === "string") {
              const codeType = parsed.type;
              const codeContent = parsed.content;
              if (codeContent.trim() !== "") {
                const language = codeType.includes("/") ? codeType.split("/")[1] : codeType;
                textContent = `\`\`\`${language}
${codeContent}
\`\`\``;
              }
            } else {
              textContent = part;
            }
          } catch (e) {
            textContent = part;
          }
        } else {
          textContent = part;
        }
      } else if (typeof part === "object" && part !== null) {
        if ("type" in part && "content" in part && typeof part.content === "string") {
          const codeType = part.type;
          const codeContent = part.content;
          if (codeContent.trim() !== "") {
            const language = codeType.includes("/") ? codeType.split("/")[1] : codeType;
            textContent = `\`\`\`${language}
${codeContent}
\`\`\``;
          }
        } else if ("content_type" in part && "text" in part && typeof part.text === "string") {
          if (part.content_type === "audio_transcription" && part.text.trim() !== "") {
            textContent = part.text;
          } else if (part.content_type === "text" && part.text.trim() !== "") {
            textContent = part.text;
          } else if (part.content_type === "multimodal_text" && part.text.trim() !== "") {
            textContent = part.text;
          }
        } else if ("content_type" in part && part.content_type === "image_asset_pointer" && "asset_pointer" in part) {
          const attachment = this.extractImageAttachment(part, conversationId);
          if (attachment) {
            attachments.push(attachment);
          }
        }
      }
      if (textContent) {
        textContent = this.cleanChatGPTArtifacts(textContent, conversationId);
        if (textContent.trim() !== "") {
          contentParts.push(textContent);
        }
      }
    }
    const finalContent = contentParts.join("\n");
    if (chatMessage.attachments) {
      for (const att of chatMessage.attachments) {
        attachments.push({
          fileName: att.file_name,
          fileType: att.file_type || "application/octet-stream",
          fileSize: att.file_size,
          extractedContent: att.extracted_content
        });
      }
    }
    return {
      content: finalContent,
      attachments: attachments.length > 0 ? attachments : void 0
    };
  }
  /**
   * Extract image attachment from content part
   */
  static extractImageAttachment(part, conversationId) {
    var _a;
    if (!part.asset_pointer)
      return null;
    let fileId = part.asset_pointer;
    if (fileId.includes("://")) {
      fileId = fileId.split("://")[1];
    }
    let fileName = `image_${fileId}`;
    if (part.width && part.height) {
      fileName = `image_${fileId}_${part.width}x${part.height}`;
    }
    const fileType = ((_a = part.metadata) == null ? void 0 : _a.mime_type) || "image/png";
    const extension = fileType.split("/")[1] || "png";
    fileName += `.${extension}`;
    return {
      fileName,
      fileType,
      fileSize: part.size_bytes,
      fileId
    };
  }
  /**
   * Clean ChatGPT artifacts, citations, and control characters - SMART LINKING
   */
  static cleanChatGPTArtifacts(text, conversationId) {
    if (!text || typeof text !== "string")
      return "";
    const chatUrl = conversationId ? `https://chat.openai.com/c/${conversationId}` : "https://chat.openai.com";
    let cleanText = text;
    for (const { pattern, replacement } of this.CLEANUP_PATTERNS) {
      cleanText = cleanText.replace(pattern, replacement(chatUrl));
    }
    return cleanText.trim();
  }
};
// Pre-compiled regex patterns for performance
ChatGPTConverter.CLEANUP_PATTERNS = [
  // SMART: Replace sandbox links with actual links to original conversation
  { pattern: /📄 \[([^\]]+)\]\(sandbox:\/[^)]+\)/g, replacement: (chatUrl) => `\u{1F4C4} [$1](${chatUrl}) *(visit original conversation to download)*` },
  { pattern: /📄 ([^-\n]+) - File not available in archive/g, replacement: (chatUrl) => `\u{1F4C4} [$1](${chatUrl}) *(visit original conversation to download)*` },
  { pattern: /\[([^\]]+)\]\(sandbox:\/[^)]+\)/g, replacement: (chatUrl) => `[$1](${chatUrl}) *(visit original conversation to download)*` },
  { pattern: /([^-\n]+) - File not available in archive\. Visit the original conversation to access it/g, replacement: (chatUrl) => `[$1](${chatUrl}) *(visit original conversation to download)*` },
  // Remove patterns (static replacements)
  { pattern: /cite[a-zA-Z0-9_\-]+/g, replacement: () => "" },
  { pattern: /link[a-zA-Z0-9_\-]+/g, replacement: () => "" },
  { pattern: /turn\d+search\d+/g, replacement: () => "" },
  { pattern: /[\uE000-\uF8FF]/g, replacement: () => "" },
  // Unicode control characters
  { pattern: / {2,}/g, replacement: () => " " },
  // Multiple spaces
  { pattern: /\n{3,}/g, replacement: () => "\n\n" }
  // Multiple newlines
];

// src/providers/chatgpt/chatgpt-attachment-extractor.ts
init_utils();
var ChatGPTAttachmentExtractor = class {
  // Cache for ZIP file lookups
  constructor(plugin, logger4) {
    this.plugin = plugin;
    this.logger = logger4;
    this.zipFileCache = /* @__PURE__ */ new Map();
  }
  /**
   * Extract and save ChatGPT attachments using "best effort" strategy
   * - If file exists in ZIP: extract and link
   * - If file missing: create informative note
   */
  async extractAttachments(zip, conversationId, attachments) {
    if (!this.plugin.settings.importAttachments || attachments.length === 0) {
      return attachments.map((att) => ({ ...att, status: { processed: false, found: false } }));
    }
    const processedAttachments = [];
    for (const attachment of attachments) {
      try {
        const result = await this.processAttachmentBestEffort(zip, conversationId, attachment);
        processedAttachments.push(result);
      } catch (error) {
        const errorMessage = error instanceof Error ? error.message : String(error);
        this.logger.error(`Failed to process ChatGPT attachment: ${attachment.fileName}`, errorMessage);
        processedAttachments.push({
          ...attachment,
          status: {
            processed: false,
            found: false,
            reason: "extraction_failed",
            note: `Processing failed: ${errorMessage}`
          }
        });
      }
    }
    return processedAttachments;
  }
  /**
   * Process single attachment with best effort strategy
   */
  async processAttachmentBestEffort(zip, conversationId, attachment) {
    const zipFile = await this.findChatGPTFileById(zip, attachment);
    if (!zipFile) {
      return {
        ...attachment,
        status: {
          processed: true,
          found: false,
          reason: "missing_from_export",
          note: "This file was referenced in the conversation but not included in the ChatGPT export. This can happen with older conversations or certain file types."
        }
      };
    }
    try {
      const extractResult = await this.extractSingleAttachment(zip, conversationId, attachment, zipFile);
      if (extractResult) {
        return {
          ...attachment,
          fileName: extractResult.finalFileName,
          // Update with actual extracted filename
          fileType: extractResult.actualFileType,
          // Update with detected file type
          url: extractResult.localPath,
          status: {
            processed: true,
            found: true,
            localPath: extractResult.localPath
          }
        };
      } else {
        return {
          ...attachment,
          status: {
            processed: true,
            found: false,
            reason: "extraction_failed",
            note: "File was found in export but could not be extracted to disk."
          }
        };
      }
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : String(error);
      this.logger.error(`Error extracting ChatGPT attachment: ${attachment.fileName}`, errorMessage);
      return {
        ...attachment,
        status: {
          processed: true,
          found: true,
          // File exists but extraction failed
          reason: "extraction_failed",
          note: `Extraction failed: ${errorMessage}`
        }
      };
    }
  }
  /**
   * Extract single attachment to disk with conflict resolution and format detection
   */
  async extractSingleAttachment(zip, conversationId, attachment, zipFile) {
    const fileContent = await zipFile.async("uint8array");
    const formatInfo = this.detectFileFormat(fileContent);
    let finalFileName = attachment.fileName;
    if (zipFile.name.endsWith(".dat") && formatInfo.extension) {
      const baseName = attachment.fileName.replace(/\.(dat|png|jpg|jpeg|gif|webp)$/i, "");
      finalFileName = `${baseName}.${formatInfo.extension}`;
    }
    let targetPath = this.generateLocalPath(conversationId, {
      ...attachment,
      fileName: finalFileName,
      fileType: formatInfo.mimeType || attachment.fileType
    });
    const folderPath = targetPath.substring(0, targetPath.lastIndexOf("/"));
    const folderResult = await ensureFolderExists(folderPath, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create ChatGPT attachment folder: ${folderResult.error}`);
    }
    targetPath = await this.resolveFileConflict(targetPath);
    await this.plugin.app.vault.adapter.writeBinary(targetPath, fileContent);
    return {
      localPath: targetPath,
      finalFileName,
      actualFileType: formatInfo.mimeType || attachment.fileType || "application/octet-stream"
    };
  }
  /**
   * Detect file format from magic bytes (especially for .dat files)
   */
  detectFileFormat(fileContent) {
    if (fileContent.length < 4) {
      this.logger.warn("File too small for format detection");
      return { extension: null, mimeType: null };
    }
    const header = Array.from(fileContent.slice(0, 12)).map((b) => b.toString(16).padStart(2, "0")).join("");
    if (header.startsWith("89504e47")) {
      return { extension: "png", mimeType: "image/png" };
    }
    if (header.startsWith("ffd8ff")) {
      return { extension: "jpg", mimeType: "image/jpeg" };
    }
    if (header.startsWith("47494638")) {
      return { extension: "gif", mimeType: "image/gif" };
    }
    if (header.startsWith("52494646") && header.substring(16, 24) === "57454250") {
      return { extension: "webp", mimeType: "image/webp" };
    }
    if (header.startsWith("52494646")) {
      return { extension: "webp", mimeType: "image/webp" };
    }
    return { extension: null, mimeType: null };
  }
  /**
   * Resolve file conflicts by adding numeric suffix
   */
  async resolveFileConflict(originalPath) {
    let finalPath = originalPath;
    let counter = 1;
    while (await this.plugin.app.vault.adapter.exists(finalPath)) {
      const lastDot = originalPath.lastIndexOf(".");
      if (lastDot === -1) {
        finalPath = `${originalPath}_${counter}`;
      } else {
        const nameWithoutExt = originalPath.substring(0, lastDot);
        const extension = originalPath.substring(lastDot);
        finalPath = `${nameWithoutExt}_${counter}${extension}`;
      }
      counter++;
    }
    return finalPath;
  }
  /**
   * Find file in ZIP - ENHANCED WITH COMPREHENSIVE SEARCH + CACHING
   */
  async findChatGPTFileById(zip, attachment) {
    if (!attachment.fileId) {
      this.logger.warn("No fileId provided for attachment:", attachment.fileName);
      return null;
    }
    const cacheKey = `${attachment.fileId}_${attachment.fileName}`;
    if (this.zipFileCache.has(cacheKey)) {
      return this.zipFileCache.get(cacheKey);
    }
    let zipFile = zip.file(attachment.fileName);
    if (zipFile) {
      this.zipFileCache.set(cacheKey, zipFile);
      return zipFile;
    }
    const foundFile = await this.searchZipByFileId(zip, attachment.fileId);
    this.zipFileCache.set(cacheKey, foundFile);
    return foundFile;
  }
  /**
   * Search entire ZIP for file by exact ID
   */
  async searchZipByFileId(zip, fileId) {
    for (const [path, file] of Object.entries(zip.files)) {
      if (file.dir)
        continue;
      if (path.includes(fileId)) {
        return file;
      }
    }
    return null;
  }
  /**
   * Generate local path for ChatGPT attachment using attachmentFolder setting
   */
  generateLocalPath(conversationId, attachment) {
    const category = this.categorizeFile(attachment);
    const safeFileName = this.sanitizeFileName(attachment.fileName);
    return `${this.plugin.settings.attachmentFolder}/chatgpt/${category}/${safeFileName}`;
  }
  /**
   * Categorize file based on MIME type or extension
   */
  categorizeFile(attachment) {
    if (attachment.fileType) {
      if (attachment.fileType.startsWith("image/"))
        return "images";
      if (attachment.fileType.startsWith("audio/"))
        return "audio";
      if (attachment.fileType.startsWith("video/"))
        return "video";
      if (attachment.fileType === "application/pdf")
        return "documents";
      if (attachment.fileType.includes("text/") || attachment.fileType.includes("markdown"))
        return "documents";
    }
    const ext = this.plugin.getFileService().getFileExtension(attachment.fileName);
    const audioExts = ["wav", "mp3", "ogg", "m4a", "flac"];
    const imageExts = ["png", "jpg", "jpeg", "gif", "webp", "svg"];
    const docExts = ["pdf", "doc", "docx", "txt", "md", "rtf"];
    const videoExts = ["mp4", "avi", "mov", "mkv"];
    if (audioExts.includes(ext))
      return "audio";
    if (imageExts.includes(ext))
      return "images";
    if (docExts.includes(ext))
      return "documents";
    if (videoExts.includes(ext))
      return "video";
    return "files";
  }
  /**
   * Sanitize filename and handle potential conflicts
   */
  sanitizeFileName(fileName) {
    let cleanName = fileName.replace(/[<>:"\/\\|?*]/g, "_").replace(/\s+/g, "_").trim();
    return cleanName;
  }
  /**
   * Clear ZIP file cache (call between different ZIP files)
   */
  clearCache() {
    this.zipFileCache.clear();
  }
  /**
   * Get attachment processing statistics
   */
  getStatistics(attachments) {
    return {
      total: attachments.length,
      found: attachments.filter((a) => {
        var _a, _b;
        return ((_a = a.status) == null ? void 0 : _a.found) && ((_b = a.status) == null ? void 0 : _b.processed);
      }).length,
      missing: attachments.filter((a) => {
        var _a, _b;
        return !((_a = a.status) == null ? void 0 : _a.found) && ((_b = a.status) == null ? void 0 : _b.reason) === "missing_from_export";
      }).length,
      failed: attachments.filter((a) => {
        var _a;
        return ((_a = a.status) == null ? void 0 : _a.reason) === "extraction_failed";
      }).length
    };
  }
};

// src/providers/chatgpt/chatgpt-report-naming.ts
var ChatGPTReportNamingStrategy = class {
  /**
   * Extract date prefix from ChatGPT ZIP filename
   * Examples:
   * - "3b00abafb9222a9580aa7cbb198166ed0c61634222cce9571bb079a2886aeed5-2025-04-25-14-40-42-ff19c2fd898d44d9bc5945ee80c199ca.zip"
   * - "chatgpt-export-2025-04-25.zip"
   * - "conversations-2025-04-25-14-40-42.zip"
   */
  extractReportPrefix(zipFileName) {
    const now = new Date();
    const importYear = now.getFullYear();
    const importMonth = String(now.getMonth() + 1).padStart(2, "0");
    const importDay = String(now.getDate()).padStart(2, "0");
    const importDate = `${importYear}.${importMonth}.${importDay}`;
    const dateRegex = /(\d{4})-(\d{2})-(\d{2})/;
    const match = zipFileName.match(dateRegex);
    let archiveDate;
    if (match) {
      const [, year, month, day] = match;
      archiveDate = `${year}.${month}.${day}`;
    } else {
      archiveDate = importDate;
    }
    return `imported-${importDate}-archive-${archiveDate}`;
  }
  /**
   * Get ChatGPT provider name
   */
  getProviderName() {
    return "chatgpt";
  }
  getProviderSpecificColumn() {
    return {
      header: "Attachments",
      getValue: (adapter, chat) => {
        let attachmentCount = 0;
        if (chat.mapping) {
          Object.values(chat.mapping).forEach((node) => {
            var _a, _b;
            if ((_b = (_a = node.message) == null ? void 0 : _a.metadata) == null ? void 0 : _b.attachments) {
              attachmentCount += node.message.metadata.attachments.length;
            }
          });
        }
        return attachmentCount;
      }
    };
  }
};

// src/providers/chatgpt/chatgpt-adapter.ts
init_utils();
var ChatGPTAdapter = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.attachmentExtractor = new ChatGPTAttachmentExtractor(plugin, plugin.logger);
    this.reportNamingStrategy = new ChatGPTReportNamingStrategy();
  }
  detect(rawConversations) {
    if (rawConversations.length === 0)
      return false;
    const sample = rawConversations[0];
    return !!(sample.mapping && sample.create_time && sample.update_time && sample.title);
  }
  getId(chat) {
    return chat.id || "";
  }
  getTitle(chat) {
    return chat.title || "Untitled";
  }
  getCreateTime(chat) {
    return chat.create_time || 0;
  }
  getUpdateTime(chat) {
    return chat.update_time || 0;
  }
  convertChat(chat) {
    return ChatGPTConverter.convertChat(chat);
  }
  convertMessages(messages, conversationId) {
    return ChatGPTConverter.convertMessages(messages, conversationId);
  }
  getProviderName() {
    return "chatgpt";
  }
  getNewMessages(chat, existingMessageIds) {
    var _a;
    const newMessages = [];
    for (const messageObj of Object.values(chat.mapping)) {
      if ((messageObj == null ? void 0 : messageObj.id) && !existingMessageIds.includes(messageObj.id)) {
        const message = messageObj.message;
        if (!message)
          continue;
        if (((_a = message.author) == null ? void 0 : _a.role) === "tool" && this.hasRealDalleImage(message)) {
          const dalleMessage = this.createDalleAssistantMessage(message);
          if (dalleMessage) {
            newMessages.push(dalleMessage);
          }
        } else if (this.shouldIncludeMessage(message)) {
          newMessages.push(message);
        }
      }
    }
    return newMessages;
  }
  async processMessageAttachments(messages, conversationId, zip) {
    const processedMessages = [];
    for (const message of messages) {
      if (message.attachments && message.attachments.length > 0) {
        const processedAttachments = await this.attachmentExtractor.extractAttachments(
          zip,
          conversationId,
          message.attachments
        );
        processedMessages.push({
          ...message,
          attachments: processedAttachments
        });
      } else {
        processedMessages.push(message);
      }
    }
    return processedMessages;
  }
  getReportNamingStrategy() {
    return this.reportNamingStrategy;
  }
  getProviderName() {
    return "chatgpt";
  }
  /**
   * Check if message contains REAL DALL-E image (not user upload)
   */
  hasRealDalleImage(message) {
    var _a;
    if (!((_a = message.content) == null ? void 0 : _a.parts) || !Array.isArray(message.content.parts)) {
      return false;
    }
    return message.content.parts.some((part) => {
      var _a2;
      if (typeof part !== "object" || part === null)
        return false;
      return part.content_type === "image_asset_pointer" && part.asset_pointer && ((_a2 = part.metadata) == null ? void 0 : _a2.dalle) && part.metadata.dalle !== null;
    });
  }
  /**
   * Create Assistant (DALL-E) message from tool message
   */
  createDalleAssistantMessage(toolMessage) {
    var _a, _b;
    if (!((_a = toolMessage.content) == null ? void 0 : _a.parts) || !Array.isArray(toolMessage.content.parts)) {
      return null;
    }
    const attachments = [];
    for (const part of toolMessage.content.parts) {
      if (typeof part === "object" && part !== null) {
        if (part.content_type === "image_asset_pointer" && part.asset_pointer && ((_b = part.metadata) == null ? void 0 : _b.dalle) && part.metadata.dalle !== null) {
          let fileId = part.asset_pointer;
          if (fileId.includes("://")) {
            fileId = fileId.split("://")[1];
          }
          const genId = part.metadata.dalle.gen_id || "unknown";
          const width = part.width || 1024;
          const height = part.height || 1024;
          const fileName = `dalle_${genId}_${width}x${height}.png`;
          const dalleAttachment = {
            fileName,
            fileSize: part.size_bytes,
            fileType: "image/png",
            fileId,
            extractedContent: part.metadata.dalle.prompt
          };
          attachments.push(dalleAttachment);
        }
      }
    }
    if (attachments.length === 0) {
      return null;
    }
    return {
      id: toolMessage.id || "",
      author: { role: "assistant" },
      content: {
        parts: ["Image g\xE9n\xE9r\xE9e par DALL-E"],
        content_type: "text"
      },
      create_time: toolMessage.create_time || 0,
      attachments
    };
  }
  /**
   * Determine if a message should be included - same logic as ChatGPTConverter
   */
  shouldIncludeMessage(message) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    if (!message || !message.author) {
      return false;
    }
    if (message.author.role === "system") {
      return false;
    }
    if (message.author.role === "tool") {
      return false;
    }
    if (((_a = message.metadata) == null ? void 0 : _a.is_visually_hidden_from_conversation) === true) {
      return false;
    }
    if (((_b = message.metadata) == null ? void 0 : _b.is_user_system_message) === true) {
      return false;
    }
    if (((_c = message.content) == null ? void 0 : _c.content_type) === "user_editable_context") {
      return false;
    }
    if (message.author.role === "assistant") {
      if (((_d = message.content) == null ? void 0 : _d.parts) && Array.isArray(message.content.parts) && message.content.parts.every(
        (part) => typeof part === "string" && part.trim() === ""
      )) {
        return false;
      }
      if (((_e = message.content) == null ? void 0 : _e.parts) && Array.isArray(message.content.parts) && message.content.parts.length === 1 && typeof message.content.parts[0] === "string") {
        const content = message.content.parts[0].trim();
        if (content.startsWith("{") && content.includes('"prompt"')) {
          return false;
        }
      }
      const excludedContentTypes = ["code", "system_error", "execution_output"];
      if (((_f = message.content) == null ? void 0 : _f.content_type) && excludedContentTypes.includes(message.content.content_type)) {
        return false;
      }
      if (((_g = message.content) == null ? void 0 : _g.content_type) === "multimodal_text") {
        if (((_h = message.content) == null ? void 0 : _h.parts) && Array.isArray(message.content.parts)) {
          const hasTextContent = message.content.parts.some((part) => {
            if (typeof part === "string" && part.trim() !== "") {
              return true;
            }
            if (typeof part === "object" && part !== null && "text" in part) {
              return typeof part.text === "string" && part.text.trim() !== "";
            }
            return false;
          });
          if (!hasTextContent) {
            return false;
          }
        }
      }
    }
    if (message.author.role === "user") {
      const excludedContentTypes = ["user_editable_context"];
      if (((_i = message.content) == null ? void 0 : _i.content_type) && excludedContentTypes.includes(message.content.content_type)) {
        return false;
      }
    }
    return isValidMessage(message);
  }
};

// src/providers/claude/claude-converter.ts
var ClaudeConverter = class {
  static setPlugin(plugin) {
    this.plugin = plugin;
  }
  static async convertChat(chat) {
    const createTime = chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0;
    const messages = await this.convertMessages(chat.chat_messages, chat.uuid, chat.name, createTime);
    return {
      id: chat.uuid,
      title: chat.name || "Untitled",
      createTime: chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0,
      updateTime: chat.updated_at ? Math.floor(new Date(chat.updated_at).getTime() / 1e3) : 0,
      messages,
      provider: "claude",
      conversationUrl: `https://claude.ai/chat/${chat.uuid}`,
      model: chat.model || "claude-3",
      summary: chat.summary || ""
    };
  }
  static async convertMessages(messages, conversationId, conversationTitle, conversationCreateTime) {
    const standardMessages = [];
    if (!messages || messages.length === 0) {
      return standardMessages;
    }
    const allArtifacts = [];
    for (let msgIndex = 0; msgIndex < messages.length; msgIndex++) {
      const message = messages[msgIndex];
      if (message.content) {
        for (let blockIndex = 0; blockIndex < message.content.length; blockIndex++) {
          const block = message.content[blockIndex];
          if (block.type === "tool_use" && block.name === "artifacts" && block.input) {
            const command = block.input.command || "create";
            const versionUuid = block.input.version_uuid;
            if (command !== "view" && versionUuid) {
              allArtifacts.push({
                artifact: block.input,
                messageIndex: msgIndex,
                blockIndex
              });
            }
          }
        }
      }
    }
    const artifactVersionMap = await this.processAllArtifacts(allArtifacts, conversationId, conversationTitle, conversationCreateTime);
    for (const message of messages) {
      if (!this.shouldIncludeMessage(message)) {
        continue;
      }
      const { text, attachments } = await this.processContentBlocksForDisplay(
        message.content,
        artifactVersionMap,
        conversationId,
        conversationTitle,
        conversationCreateTime
      );
      const fileAttachments = this.processFileAttachments(message.files);
      const standardMessage = {
        id: message.uuid,
        role: message.sender === "human" ? "user" : "assistant",
        content: text || message.text || "",
        timestamp: Math.floor(new Date(message.created_at).getTime() / 1e3),
        attachments: [...attachments, ...fileAttachments]
      };
      standardMessages.push(standardMessage);
    }
    return this.sortMessagesByTimestamp(standardMessages);
  }
  static shouldIncludeMessage(message) {
    if (message.sender === "human" || message.sender === "assistant") {
      if (!message.text && (!message.content || message.content.length === 0)) {
        return false;
      }
      return true;
    }
    return false;
  }
  /**
   * Sort messages by timestamp with UUID as secondary sort for chronological order
   */
  static sortMessagesByTimestamp(messages) {
    if (messages.length <= 1)
      return messages;
    return messages.sort((a, b) => {
      if (a.timestamp !== b.timestamp) {
        return a.timestamp - b.timestamp;
      }
      return a.id.localeCompare(b.id);
    });
  }
  /**
   * Process ALL artifacts from entire conversation and create files
   */
  static async processAllArtifacts(allArtifacts, conversationId, conversationTitle, conversationCreateTime) {
    const artifactVersionMap = /* @__PURE__ */ new Map();
    const versionCounters = /* @__PURE__ */ new Map();
    const artifactContents = /* @__PURE__ */ new Map();
    const artifactLanguages = /* @__PURE__ */ new Map();
    console.log(`Claude converter: Processing ${allArtifacts.length} artifacts from entire conversation`);
    for (const { artifact } of allArtifacts) {
      const artifactId = artifact.id || "unknown";
      const command = artifact.command || "create";
      const currentVersion = (versionCounters.get(artifactId) || 0) + 1;
      versionCounters.set(artifactId, currentVersion);
      let finalContent = "";
      if (command === "create" || command === "rewrite") {
        finalContent = artifact.content || "";
        artifactContents.set(artifactId, finalContent);
        const detectedLanguage = this.detectLanguageFromContent(finalContent, artifact.type);
        artifactLanguages.set(artifactId, detectedLanguage);
      } else if (command === "update") {
        const previousContent = artifactContents.get(artifactId) || "";
        if (artifact.old_str && artifact.new_str) {
          finalContent = previousContent.replace(artifact.old_str, artifact.new_str);
        } else if (artifact.content && artifact.content.length > 0) {
          finalContent = artifact.content;
        } else {
          finalContent = previousContent;
        }
        artifactContents.set(artifactId, finalContent);
      }
      console.log(`Saving ${artifactId} v${currentVersion} (${command}, ${finalContent.length} chars)`);
      try {
        const storedLanguage = artifactLanguages.get(artifactId);
        const languageToUse = storedLanguage || this.detectLanguageFromContent(finalContent, artifact.type);
        await this.saveSingleArtifactVersionWithContent(
          artifactId,
          artifact,
          currentVersion,
          finalContent,
          conversationId,
          conversationTitle,
          conversationCreateTime,
          languageToUse
        );
        artifactVersionMap.set(artifact.version_uuid, {
          versionNumber: currentVersion,
          title: artifact.title || artifactId
        });
      } catch (error) {
        console.error(`Failed to save ${artifactId} v${currentVersion}:`, error);
      }
    }
    return artifactVersionMap;
  }
  /**
   * Process content blocks for display (with artifact links)
   */
  static async processContentBlocksForDisplay(contentBlocks, artifactVersionMap, conversationId, conversationTitle, conversationCreateTime) {
    const textParts = [];
    const attachments = [];
    if (!contentBlocks || contentBlocks.length === 0) {
      return { text: "", attachments: [] };
    }
    for (const block of contentBlocks) {
      switch (block.type) {
        case "text":
          if (block.text) {
            textParts.push(block.text);
          }
          break;
        case "thinking":
          break;
        case "tool_use":
          if (block.name === "artifacts" && block.input) {
            const command = block.input.command || "create";
            const versionUuid = block.input.version_uuid;
            if (command === "view") {
              break;
            }
            if (versionUuid && artifactVersionMap.has(versionUuid)) {
              const versionInfo = artifactVersionMap.get(versionUuid);
              const artifactId = block.input.id || "unknown";
              const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
              const versionFile = `${conversationFolder}/${artifactId}_v${versionInfo.versionNumber}`;
              const specificLink = `>[!${this.CALLOUTS.ARTIFACT}] **${versionInfo.title}** v${versionInfo.versionNumber}
> \u{1F3A8} [[${versionFile}|View Artifact]]`;
              textParts.push(specificLink);
            }
          } else if (block.name === "web_search") {
            break;
          } else if (block.name && block.input) {
            const code = block.input.code || JSON.stringify(block.input, null, 2);
            textParts.push(`**[Tool: ${block.name}]**
\`\`\`
${code}
\`\`\``);
          }
          break;
        case "tool_result":
          break;
      }
    }
    return {
      text: textParts.join("\n\n"),
      attachments
    };
  }
  static async processContentBlocks(contentBlocks, conversationId, conversationTitle, conversationCreateTime, versionCounters, artifactSummaries) {
    const textParts = [];
    const attachments = [];
    const artifactVersionsMap = /* @__PURE__ */ new Map();
    if (!contentBlocks || contentBlocks.length === 0) {
      return { text: "", attachments: [] };
    }
    for (const block of contentBlocks) {
      if (block.type === "tool_use" && block.name === "artifacts" && block.input) {
        const artifactId = block.input.id || "unknown";
        const content = block.input.content || "";
        const command = block.input.command || "create";
        const versionUuid = block.input.version_uuid;
        if (command === "update" && content.length === 0 || command === "view") {
          continue;
        }
        const isSignificant = command === "create" || command === "rewrite" || command === "update" && content.length > 100;
        if (isSignificant && versionUuid) {
          console.log(`Claude converter: Found significant artifact version - ID: ${artifactId}, Command: ${command}, Content length: ${content.length}, UUID: ${versionUuid}`);
          if (!artifactVersionsMap.has(artifactId)) {
            artifactVersionsMap.set(artifactId, []);
          }
          artifactVersionsMap.get(artifactId).push(block.input);
        } else {
          console.log(`Claude converter: Skipped artifact - ID: ${artifactId}, Command: ${command}, Content length: ${content.length}, Significant: ${isSignificant}, Has UUID: ${!!versionUuid}`);
        }
      }
    }
    if (!versionCounters)
      versionCounters = /* @__PURE__ */ new Map();
    if (!artifactSummaries)
      artifactSummaries = /* @__PURE__ */ new Map();
    const artifactContents = /* @__PURE__ */ new Map();
    for (const block of contentBlocks) {
      switch (block.type) {
        case "text":
          if (block.text) {
            textParts.push(block.text);
          }
          break;
        case "thinking":
          break;
        case "tool_use":
          if (block.name === "repl" || block.name === "str_replace_editor" || block.name === "bash") {
            break;
          }
          if (block.name === "artifacts" && block.input) {
            const artifactId = block.input.id || "unknown";
            const command = block.input.command || "create";
            const versionUuid = block.input.version_uuid;
            if (command === "view") {
              break;
            }
            if (versionUuid) {
              const currentVersion = (versionCounters.get(artifactId) || 0) + 1;
              versionCounters.set(artifactId, currentVersion);
              let finalContent = "";
              if (command === "create" || command === "rewrite") {
                finalContent = block.input.content || "";
                artifactContents.set(artifactId, finalContent);
              } else if (command === "update") {
                const previousContent = artifactContents.get(artifactId) || "";
                if (block.input.old_str && block.input.new_str) {
                  finalContent = previousContent.replace(block.input.old_str, block.input.new_str);
                } else if (block.input.content && block.input.content.length > 0) {
                  finalContent = block.input.content;
                } else {
                  finalContent = previousContent;
                }
                artifactContents.set(artifactId, finalContent);
              }
              console.log(`Processing ${artifactId} v${currentVersion} (${command}, ${finalContent.length} chars)`);
              try {
                await this.saveSingleArtifactVersionWithContent(
                  artifactId,
                  block.input,
                  currentVersion,
                  finalContent,
                  conversationId,
                  conversationTitle,
                  conversationCreateTime
                );
                const title = block.input.title || artifactId;
                const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
                const versionFile = `${conversationFolder}/${artifactId}_v${currentVersion}`;
                const specificLink = `>[!${this.CALLOUTS.ARTIFACT}] **${title}** v${currentVersion}
> \u{1F3A8} [[${versionFile}|View Artifact]]`;
                textParts.push(specificLink);
              } catch (error) {
                console.error(`Failed to save ${artifactId} v${currentVersion}:`, error);
                textParts.push(`>[!${this.CALLOUTS.ARTIFACT}] **${block.input.title || artifactId}** v${currentVersion}
> \u274C Error saving artifact`);
              }
            }
          } else if (block.name === "web_search") {
            break;
          } else if (block.name && block.input) {
            const code = block.input.code || JSON.stringify(block.input, null, 2);
            textParts.push(`**[Tool: ${block.name}]**
\`\`\`
${code}
\`\`\``);
          }
          break;
        case "tool_result":
          break;
      }
    }
    return {
      text: textParts.join("\n\n"),
      attachments
    };
  }
  static processFileAttachments(files) {
    const attachments = [];
    if (!files || files.length === 0) {
      return attachments;
    }
    for (const file of files) {
      if (file && file.file_name) {
        attachments.push({
          fileName: file.file_name,
          fileSize: 0,
          // Size not provided in Claude export
          fileType: this.getFileTypeFromName(file.file_name),
          fileId: file.file_name,
          // Use filename as ID
          extractedContent: ""
        });
      }
    }
    return attachments;
  }
  static getFileTypeFromName(fileName) {
    var _a;
    const extension = (_a = fileName.split(".").pop()) == null ? void 0 : _a.toLowerCase();
    switch (extension) {
      case "png":
      case "jpg":
      case "jpeg":
      case "gif":
      case "webp":
        return `image/${extension}`;
      case "pdf":
        return "application/pdf";
      case "txt":
        return "text/plain";
      case "md":
        return "text/markdown";
      case "json":
        return "application/json";
      default:
        return "application/octet-stream";
    }
  }
  /**
   * Save a single artifact version with computed content
   */
  static async saveSingleArtifactVersionWithContent(artifactId, artifactData, versionNumber, finalContent, conversationId, conversationTitle, conversationCreateTime, forcedLanguage) {
    if (!this.plugin) {
      throw new Error("Plugin not available");
    }
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const folderResult = await ensureFolderExists2(conversationFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create artifacts folder: ${folderResult.error}`);
    }
    const safeArtifactId = artifactId.replace(/[\/\\:*?"<>|]/g, "_");
    const fileName = `${safeArtifactId}_v${versionNumber}.md`;
    const filePath = `${conversationFolder}/${fileName}`;
    const shouldSkip = await this.shouldSkipArtifactVersion(filePath, artifactData.version_uuid);
    if (shouldSkip) {
      return;
    }
    await this.saveIndividualArtifactVersion(
      artifactData,
      filePath,
      versionNumber,
      finalContent,
      conversationId,
      conversationTitle,
      conversationCreateTime,
      forcedLanguage
    );
  }
  /**
   * Save a single artifact version (legacy method)
   */
  static async saveSingleArtifactVersion(artifactId, artifactData, versionNumber, conversationId, conversationTitle, conversationCreateTime) {
    if (!this.plugin) {
      throw new Error("Plugin not available");
    }
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const folderResult = await ensureFolderExists2(conversationFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create artifacts folder: ${folderResult.error}`);
    }
    const safeArtifactId = artifactId.replace(/[\/\\:*?"<>|]/g, "_");
    const fileName = `${safeArtifactId}_v${versionNumber}.md`;
    const filePath = `${conversationFolder}/${fileName}`;
    const shouldSkip = await this.shouldSkipArtifactVersion(filePath, artifactData.version_uuid);
    if (shouldSkip) {
      return;
    }
    await this.saveIndividualArtifactVersion(
      artifactData,
      filePath,
      versionNumber,
      artifactData.content || "",
      conversationId,
      conversationTitle,
      conversationCreateTime,
      void 0
      // No forced language for legacy method
    );
  }
  /**
   * Create artifact summary for conversation
   */
  static createArtifactSummary(artifactId, info, conversationId) {
    const title = info.title || artifactId;
    const totalVersions = info.totalVersions || 1;
    const latestVersion = info.latestVersion || 1;
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const latestFile = `${conversationFolder}/${artifactId}_v${latestVersion}`;
    let summary = `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${title}**`;
    if (totalVersions > 1) {
      summary += ` (${totalVersions} versions)`;
    }
    summary += `

\u{1F4CE} **[[${latestFile}|View Latest Version]]**`;
    if (totalVersions > 1) {
      summary += ` | **[[${conversationFolder}/|All Versions]]**`;
    }
    summary += `</div>`;
    return summary;
  }
  /**
   * Save ALL versions of an artifact (legacy method)
   */
  static async saveAllArtifactVersions(artifactId, versions, conversationId, conversationTitle, conversationCreateTime) {
    var _a, _b, _c;
    if (!this.plugin) {
      console.error("Claude converter: Plugin not available for artifact saving");
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${((_a = versions[0]) == null ? void 0 : _a.title) || artifactId}** (Error: Plugin not available)</div>`;
    }
    if (versions.length === 0) {
      console.error("Claude converter: No versions provided for artifact", artifactId);
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${artifactId}** (Error: No versions found)</div>`;
    }
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const folderResult = await ensureFolderExists2(conversationFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      console.error("Claude converter: Failed to create artifacts folder", folderResult.error);
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${((_b = versions[0]) == null ? void 0 : _b.title) || artifactId}** (Error: Could not create folder)</div>`;
    }
    const savedVersions = [];
    let latestVersion = "";
    let currentContent = "";
    for (let i = 0; i < versions.length; i++) {
      const version = versions[i];
      const versionNumber = i + 1;
      const fileName = `${artifactId}_v${versionNumber}.md`;
      const filePath = `${conversationFolder}/${fileName}`;
      try {
        const shouldSkip = await this.shouldSkipArtifactVersion(filePath, version.version_uuid);
        if (shouldSkip) {
          console.log(`Skipping existing artifact version: ${filePath}`);
          savedVersions.push(filePath);
          latestVersion = filePath;
          if (version.command === "create" || version.command === "rewrite") {
            currentContent = version.content || "";
          }
          continue;
        }
        let versionContent = "";
        if (version.command === "create" || version.command === "rewrite") {
          versionContent = version.content || "";
          currentContent = versionContent;
        } else if (version.command === "update") {
          if (version.content && version.content.length > 0) {
            versionContent = version.content;
            currentContent = versionContent;
          } else {
            versionContent = currentContent;
          }
        }
        console.log(`Saving artifact version ${versionNumber}: ${filePath} (${versionContent.length} chars)`);
        await this.saveIndividualArtifactVersion(
          version,
          filePath,
          versionNumber,
          versionContent,
          conversationId,
          conversationTitle,
          conversationCreateTime,
          void 0
          // No forced language for legacy method
        );
        savedVersions.push(filePath);
        latestVersion = filePath;
      } catch (error) {
        console.error(`Failed to save artifact version ${versionNumber} to ${filePath}:`, error);
      }
    }
    if (savedVersions.length === 0) {
      console.error("Claude converter: No versions were saved for artifact", artifactId);
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${((_c = versions[0]) == null ? void 0 : _c.title) || artifactId}** (Error: No versions could be saved)</div>`;
    }
    return this.formatArtifactSummary(versions[0], savedVersions, latestVersion, conversationFolder);
  }
  /**
   * Save all versions of an artifact and return summary for conversation (legacy method)
   */
  static async saveArtifactVersions(artifactId, versions, conversationId, conversationTitle, conversationCreateTime) {
    var _a, _b, _c;
    if (!this.plugin) {
      console.error("Claude converter: Plugin not available for artifact saving");
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${((_a = versions[0]) == null ? void 0 : _a.title) || artifactId}** (Error: Plugin not available)</div>`;
    }
    if (versions.length === 0) {
      console.error("Claude converter: No versions provided for artifact", artifactId);
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${artifactId}** (Error: No versions found)</div>`;
    }
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const conversationFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts/${conversationId}`;
    const folderResult = await ensureFolderExists2(conversationFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      console.error("Claude converter: Failed to create artifacts folder", folderResult.error);
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${((_b = versions[0]) == null ? void 0 : _b.title) || artifactId}** (Error: Could not create folder)</div>`;
    }
    const savedVersions = [];
    let latestVersion = "";
    for (let i = 0; i < versions.length; i++) {
      const version = versions[i];
      const versionNumber = i + 1;
      const safeArtifactId = artifactId.replace(/[\/\\:*?"<>|]/g, "_");
      const fileName = `${safeArtifactId}_v${versionNumber}.md`;
      const filePath = `${conversationFolder}/${fileName}`;
      try {
        const shouldSkip = await this.shouldSkipArtifactVersion(filePath, version.version_uuid);
        if (shouldSkip) {
          savedVersions.push(filePath);
          latestVersion = filePath;
          continue;
        }
        await this.saveArtifactVersion(version, filePath, versionNumber, conversationId, conversationTitle, conversationCreateTime);
        savedVersions.push(filePath);
        latestVersion = filePath;
      } catch (error) {
        console.error(`Failed to save artifact version ${versionNumber} to ${filePath}:`, error);
      }
    }
    if (savedVersions.length === 0) {
      console.error("Claude converter: No versions were saved for artifact", artifactId);
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${((_c = versions[0]) == null ? void 0 : _c.title) || artifactId}** (Error: No versions could be saved)</div>`;
    }
    return this.formatArtifactSummary(versions[0], savedVersions, latestVersion, conversationFolder);
  }
  /**
   * Format artifact summary for conversation display
   */
  static formatArtifactSummary(firstVersion, savedVersions, latestVersion, conversationFolder) {
    const title = (firstVersion == null ? void 0 : firstVersion.title) || "Untitled Artifact";
    const versionCount = savedVersions.length;
    if (!latestVersion) {
      console.error("Claude converter: No latest version available for artifact summary");
      return `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${title}** (Error: No accessible version)</div>`;
    }
    let formattedContent = `<div class="nexus-artifact-box">**\u{1F3A8} Artifact: ${title}**`;
    if (versionCount > 1) {
      formattedContent += ` (${versionCount} versions)`;
    }
    const latestVersionLink = latestVersion.replace(/\.md$/, "");
    formattedContent += `

\u{1F4CE} **[[${latestVersionLink}|View Latest Version]]**`;
    if (versionCount > 1) {
      formattedContent += ` | **[[${conversationFolder}/|All Versions]]**`;
    }
    formattedContent += `</div>`;
    return formattedContent;
  }
  /**
   * Format Claude artifacts as links to separate files only (legacy method for single artifacts)
   */
  static async formatArtifact(artifactInput, conversationId, conversationTitle, conversationCreateTime) {
    const title = artifactInput.title || "Untitled Artifact";
    let language = artifactInput.language || "text";
    const command = artifactInput.command || "create";
    const artifactId = artifactInput.id || "unknown";
    const content = artifactInput.content || "";
    if ((language.toLowerCase() === "text" || !language || language === "undefined") && content) {
      const detectedLanguage = this.detectLanguageFromContent(content, artifactInput.type);
      if (detectedLanguage !== "text") {
        language = detectedLanguage;
      }
    }
    let formattedContent = `<div class="nexus-artifact-box">

**\u{1F3A8} Artifact: ${title}**

`;
    if (command === "edit") {
      formattedContent += `*[Artifact edited]*

`;
    }
    formattedContent += `> **Language:** ${language}`;
    if (artifactInput.language !== language) {
      formattedContent += ` (detected from content, original: ${artifactInput.language})`;
    }
    formattedContent += `
`;
    formattedContent += `> **Type:** ${artifactInput.type || "code"}
`;
    formattedContent += `> **ID:** ${artifactId}

`;
    if (content && this.plugin) {
      try {
        const filePath = await this.saveArtifactToFile(artifactId, title, language, content, conversationId, conversationTitle, conversationCreateTime);
        formattedContent += `\u{1F4CE} **[View Artifact](${filePath})**

`;
      } catch (error) {
        formattedContent += `\u274C **Error saving artifact:** ${error instanceof Error ? error.message : "Unknown error"}

`;
      }
    }
    formattedContent += `</div>

`;
    return formattedContent;
  }
  /**
   * Save a single artifact version with specific content
   */
  static async saveIndividualArtifactVersion(artifactInput, filePath, versionNumber, versionContent, conversationId, conversationTitle, conversationCreateTime, forcedLanguage) {
    const title = artifactInput.title || "Untitled Artifact";
    let language = artifactInput.language || "text";
    const command = artifactInput.command || "create";
    const artifactId = artifactInput.id || "unknown";
    const versionUuid = artifactInput.version_uuid;
    if (forcedLanguage) {
      language = forcedLanguage;
    } else if ((language.toLowerCase() === "text" || !language || language === "undefined") && versionContent) {
      const detectedLanguage = this.detectLanguageFromContent(versionContent, artifactInput.type);
      if (detectedLanguage !== "text") {
        language = detectedLanguage;
      }
    }
    let conversationLink = "";
    if (conversationId && conversationTitle && conversationCreateTime) {
      const createDate = new Date(conversationCreateTime * 1e3);
      const year = createDate.getFullYear();
      const month = String(createDate.getMonth() + 1).padStart(2, "0");
      const { generateConversationFileName: generateConversationFileName2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
      const fileName = generateConversationFileName2(
        conversationTitle,
        conversationCreateTime,
        this.plugin.settings.addDatePrefix,
        this.plugin.settings.dateFormat
      );
      const conversationPath = `${this.plugin.settings.archiveFolder}/claude/${year}/${month}/${fileName}`;
      conversationLink = `[[${conversationPath}|${conversationTitle}]]`;
    }
    let markdownContent = `---
nexus: nexus-ai-chat-importer
plugin_version: ${this.plugin.manifest.version}
provider: claude
artifact_id: ${artifactId}
version_uuid: ${versionUuid}
version_number: ${versionNumber}
command: ${command}
conversation_id: ${conversationId || "unknown"}
format: ${language}
aliases: ["${title}", "${artifactId}_v${versionNumber}"]
---

# ${title} (Version ${versionNumber})

**Type:** Claude Artifact
**Language:** ${language}`;
    if (artifactInput.language !== language) {
      markdownContent += ` (detected from content, original: ${artifactInput.language})`;
    }
    markdownContent += `
**Command:** ${command}
**Version:** ${versionNumber}
**ID:** ${artifactId}
**UUID:** ${versionUuid}`;
    if (conversationLink) {
      markdownContent += `
**Conversation:** ${conversationLink}`;
    }
    markdownContent += `

## Content

`;
    if (language.toLowerCase() === "markdown") {
      markdownContent += versionContent;
    } else {
      markdownContent += `\`\`\`${language}
${versionContent}
\`\`\``;
    }
    try {
      await this.plugin.app.vault.create(filePath, markdownContent);
    } catch (error) {
      console.error(`Failed to create artifact file ${filePath}:`, error);
      throw error;
    }
  }
  /**
   * Save a single artifact version (legacy method)
   */
  static async saveArtifactVersion(artifactInput, filePath, versionNumber, conversationId, conversationTitle, conversationCreateTime) {
    const title = artifactInput.title || "Untitled Artifact";
    let language = artifactInput.language || "text";
    const command = artifactInput.command || "create";
    const artifactId = artifactInput.id || "unknown";
    const content = artifactInput.content || "";
    const versionUuid = artifactInput.version_uuid;
    if ((language.toLowerCase() === "text" || !language || language === "undefined") && content) {
      const detectedLanguage = this.detectLanguageFromContent(content, artifactInput.type);
      if (detectedLanguage !== "text") {
        language = detectedLanguage;
      }
    }
    let conversationLink = "";
    if (conversationId && conversationTitle && conversationCreateTime) {
      const createDate = new Date(conversationCreateTime * 1e3);
      const year = createDate.getFullYear();
      const month = String(createDate.getMonth() + 1).padStart(2, "0");
      const { generateConversationFileName: generateConversationFileName2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
      const fileName = generateConversationFileName2(
        conversationTitle,
        conversationCreateTime,
        this.plugin.settings.addDatePrefix,
        this.plugin.settings.dateFormat
      );
      const conversationPath = `${this.plugin.settings.archiveFolder}/claude/${year}/${month}/${fileName}`;
      conversationLink = `[[${conversationPath}|${conversationTitle}]]`;
    }
    let markdownContent = `---
nexus: nexus-ai-chat-importer
plugin_version: ${this.plugin.manifest.version}
provider: claude
artifact_id: ${artifactId}
version_uuid: ${versionUuid}
version_number: ${versionNumber}
command: ${command}
conversation_id: ${conversationId || "unknown"}
format: ${language}
aliases: ["${title}", "${artifactId}_v${versionNumber}"]
---

# ${title} (Version ${versionNumber})

**Type:** Claude Artifact
**Language:** ${language}`;
    if (artifactInput.language !== language) {
      markdownContent += ` (detected from content, original: ${artifactInput.language})`;
    }
    markdownContent += `
**Command:** ${command}
**Version:** ${versionNumber}
**ID:** ${artifactId}
**UUID:** ${versionUuid}`;
    if (conversationLink) {
      markdownContent += `
**Conversation:** ${conversationLink}`;
    }
    markdownContent += `

## Content

`;
    if (language.toLowerCase() === "markdown") {
      markdownContent += content;
    } else {
      markdownContent += `\`\`\`${language}
${content}
\`\`\``;
    }
    try {
      await this.plugin.app.vault.create(filePath, markdownContent);
    } catch (error) {
      console.error(`Failed to create artifact file ${filePath}:`, error);
      throw error;
    }
  }
  /**
   * Save artifact as markdown note in attachments/artifacts/ folder (legacy method)
   */
  static async saveArtifactToFile(artifactId, title, language, content, conversationId, conversationTitle, conversationCreateTime) {
    const safeTitle = title.replace(/[^a-zA-Z0-9\-_]/g, "_");
    const fileName = `${safeTitle}_${artifactId}.md`;
    const artifactFolder = `${this.plugin.settings.attachmentFolder}/claude/artifacts`;
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const folderResult = await ensureFolderExists2(artifactFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create artifacts folder: ${folderResult.error}`);
    }
    const filePath = `${artifactFolder}/${fileName}`;
    let conversationLink = "";
    if (conversationId && conversationTitle && conversationCreateTime) {
      const createDate = new Date(conversationCreateTime * 1e3);
      const year = createDate.getFullYear();
      const month = String(createDate.getMonth() + 1).padStart(2, "0");
      const { generateConversationFileName: generateConversationFileName2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
      const fileName2 = generateConversationFileName2(
        conversationTitle,
        conversationCreateTime,
        this.plugin.settings.addDatePrefix,
        this.plugin.settings.dateFormat
      );
      const conversationPath = `${this.plugin.settings.archiveFolder}/claude/${year}/${month}/${fileName2}`;
      conversationLink = `[[${conversationPath}|${conversationTitle}]]`;
    }
    let markdownContent = `---
nexus: nexus-ai-chat-importer
plugin_version: ${this.plugin.manifest.version}
provider: claude
aliases: ["${title}", "${artifactId}"]
conversation_id: ${conversationId || "unknown"}
format: ${language}
---

# ${title}

**Type:** Claude Artifact
**Language:** ${language}
**ID:** ${artifactId}`;
    if (conversationLink) {
      markdownContent += `
**Conversation:** ${conversationLink}`;
    }
    markdownContent += `

## Content

`;
    if (language.toLowerCase() === "markdown") {
      markdownContent += content;
    } else {
      markdownContent += `\`\`\`${language}
${content}
\`\`\``;
    }
    await this.plugin.app.vault.create(filePath, markdownContent);
    return filePath;
  }
  /**
   * Check if we should skip saving this artifact version (already exists)
   */
  static async shouldSkipArtifactVersion(filePath, versionUuid) {
    try {
      const existingFile = this.plugin.app.vault.getAbstractFileByPath(filePath);
      if (!existingFile) {
        return false;
      }
      const existingContent = await this.plugin.app.vault.read(existingFile);
      if (existingContent.includes(`version_uuid: ${versionUuid}`)) {
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  /**
   * Determine if we should replace the current artifact with a new one
   * Priority: create > rewrite > update (with content) > view
   */
  static shouldReplaceArtifact(current, candidate) {
    const currentCommand = current.command || "create";
    const candidateCommand = candidate.command || "create";
    const currentContent = (current.content || "").length;
    const candidateContent = (candidate.content || "").length;
    const commandPriority = {
      "create": 4,
      "rewrite": 3,
      "update": 2,
      "view": 1
    };
    const currentPriority = commandPriority[currentCommand] || 1;
    const candidatePriority = commandPriority[candidateCommand] || 1;
    if (candidatePriority > currentPriority) {
      return true;
    }
    if (candidatePriority === currentPriority) {
      return candidateContent > currentContent;
    }
    return false;
  }
  /**
   * Auto-detect language from content and artifact type
   */
  static detectLanguageFromContent(content, artifactType) {
    if (!content || content.trim().length === 0)
      return "text";
    if (artifactType) {
      if (artifactType.includes("react") || artifactType.includes("jsx"))
        return "jsx";
      if (artifactType.includes("vue"))
        return "vue";
      if (artifactType.includes("svelte"))
        return "svelte";
      if (artifactType.includes("html"))
        return "html";
      if (artifactType.includes("css"))
        return "css";
      if (artifactType.includes("json"))
        return "json";
      if (artifactType.includes("xml"))
        return "xml";
      if (artifactType.includes("svg"))
        return "xml";
    }
    const trimmedContent = content.trim();
    if (trimmedContent.startsWith("<?php"))
      return "php";
    if (trimmedContent.startsWith("#!/bin/bash") || trimmedContent.startsWith("#!/bin/sh"))
      return "bash";
    if (trimmedContent.startsWith("<!DOCTYPE html") || trimmedContent.includes("<html"))
      return "html";
    if (trimmedContent.includes("import React") || trimmedContent.includes('from "react"') || trimmedContent.includes("useState") || trimmedContent.includes("useEffect") || trimmedContent.includes("className=") || trimmedContent.includes("jsx")) {
      return "jsx";
    }
    if (trimmedContent.startsWith("{") && trimmedContent.endsWith("}")) {
      try {
        JSON.parse(trimmedContent);
        return "json";
      } catch (e) {
      }
    }
    if (trimmedContent.startsWith("<svg") || trimmedContent.includes("xmlns")) {
      return "xml";
    }
    if (trimmedContent.includes("# ") || trimmedContent.includes("## ") || trimmedContent.includes("**") || trimmedContent.includes("```")) {
      return "markdown";
    }
    if (trimmedContent.includes("def ") || trimmedContent.includes("import ") || trimmedContent.includes("from ") || trimmedContent.includes("class ")) {
      return "python";
    }
    if (trimmedContent.includes("function ") || trimmedContent.includes("const ") || trimmedContent.includes("let ") || trimmedContent.includes("var ") || trimmedContent.includes("=>")) {
      return "javascript";
    }
    if (trimmedContent.includes("{") && trimmedContent.includes(":") && trimmedContent.includes(";") && trimmedContent.includes("}")) {
      return "css";
    }
    if (trimmedContent.toUpperCase().includes("SELECT ") || trimmedContent.toUpperCase().includes("INSERT ") || trimmedContent.toUpperCase().includes("UPDATE ") || trimmedContent.toUpperCase().includes("CREATE TABLE")) {
      return "sql";
    }
    return "text";
  }
  /**
   * Get file extension from language
   */
  static getExtensionFromLanguage(language) {
    switch (language.toLowerCase()) {
      case "python":
        return "py";
      case "javascript":
        return "js";
      case "typescript":
        return "ts";
      case "html":
        return "html";
      case "css":
        return "css";
      case "markdown":
        return "md";
      case "json":
        return "json";
      case "yaml":
        return "yml";
      case "xml":
        return "xml";
      case "sql":
        return "sql";
      case "bash":
        return "sh";
      case "shell":
        return "sh";
      case "php":
        return "php";
      default:
        return "txt";
    }
  }
  /**
   * Count unique artifacts in a conversation (by artifact ID, not versions)
   */
  static countArtifacts(chat) {
    var _a;
    const uniqueArtifacts = /* @__PURE__ */ new Set();
    for (const message of chat.chat_messages) {
      if (message.content) {
        for (const block of message.content) {
          if (block.type === "tool_use" && block.name === "artifacts" && ((_a = block.input) == null ? void 0 : _a.id)) {
            uniqueArtifacts.add(block.input.id);
          }
        }
      }
    }
    return uniqueArtifacts.size;
  }
};
// Nexus custom callouts with icons
ClaudeConverter.CALLOUTS = {
  USER: "nexus_user",
  // 👤 User messages
  AGENT: "nexus_agent",
  // 🤖 Assistant/Agent messages
  ATTACHMENT: "nexus_attachment",
  // 📎 Attachments
  ARTIFACT: "nexus_artifact",
  // 🛠️ Claude artifacts
  PROMPT: "nexus_prompt"
  // 💭 System prompts
};

// src/providers/claude/claude-attachment-extractor.ts
var ClaudeAttachmentExtractor = class {
  constructor(plugin, logger4) {
    this.plugin = plugin;
    this.logger = logger4;
  }
  /**
   * Extract attachments from Claude ZIP archive
   * NOTE: Claude exports typically do NOT include the actual files, only references
   * This method handles the "files not found" case gracefully
   */
  async extractAttachments(zip, conversationId, attachments) {
    if (!this.plugin.settings.importAttachments || attachments.length === 0) {
      return attachments.map((att) => ({
        ...att,
        extractedContent: `File: ${att.fileName} (attachment import disabled)`
      }));
    }
    const processedAttachments = [];
    for (const attachment of attachments) {
      try {
        const processedAttachment = await this.processAttachment(zip, conversationId, attachment);
        processedAttachments.push(processedAttachment);
      } catch (error) {
        this.logger.error(`Failed to process Claude attachment ${attachment.fileName}:`, error);
        processedAttachments.push({
          ...attachment,
          extractedContent: `\u274C **File: ${attachment.fileName}**

Error processing attachment: ${error instanceof Error ? error.message : "Unknown error"}`
        });
      }
    }
    return processedAttachments;
  }
  /**
   * Process a single Claude attachment
   * Claude exports typically don't include files, so we create informative placeholders
   */
  async processAttachment(zip, conversationId, attachment) {
    const fileName = attachment.fileName;
    const zipFile = this.findFileInZip(zip, fileName);
    if (!zipFile) {
      return this.createFileNotFoundPlaceholder(attachment, conversationId);
    }
    if (this.isImageFile(fileName)) {
      return await this.processImageAttachment(zipFile, attachment, conversationId);
    } else if (this.isTextFile(fileName)) {
      return await this.processTextAttachment(zipFile, attachment);
    } else {
      return await this.processBinaryAttachment(zipFile, attachment, conversationId);
    }
  }
  /**
   * Create simple placeholder for missing files (normal for Claude)
   */
  createFileNotFoundPlaceholder(attachment, conversationId) {
    const fileName = attachment.fileName;
    const conversationUrl = `https://claude.ai/chat/${conversationId}`;
    const fileType = this.getFileTypeFromExtension(fileName);
    const placeholder = `>[!nexus_attachment] **${fileName}** (${fileType})
> \u26A0\uFE0F Not included in archive. [Open original conversation](${conversationUrl})`;
    return {
      ...attachment,
      extractedContent: placeholder
    };
  }
  /**
   * Get file type from extension
   */
  getFileTypeFromExtension(fileName) {
    var _a;
    const extension = (_a = fileName.split(".").pop()) == null ? void 0 : _a.toLowerCase();
    switch (extension) {
      case "png":
      case "jpg":
      case "jpeg":
      case "gif":
      case "webp":
        return `image/${extension}`;
      case "pdf":
        return "application/pdf";
      case "txt":
        return "text/plain";
      case "md":
        return "text/markdown";
      case "json":
        return "application/json";
      default:
        return "application/octet-stream";
    }
  }
  /**
   * Find a file in the ZIP archive
   * Claude files might be in root or in subdirectories
   */
  findFileInZip(zip, fileName) {
    let file = zip.file(fileName);
    if (file)
      return file;
    const commonPaths = ["attachments/", "files/", "uploads/"];
    for (const path of commonPaths) {
      file = zip.file(path + fileName);
      if (file)
        return file;
    }
    const allFiles = Object.keys(zip.files);
    for (const filePath of allFiles) {
      if (filePath.endsWith(fileName) || filePath.includes(fileName)) {
        return zip.file(filePath);
      }
    }
    return null;
  }
  /**
   * Process image attachment
   */
  async processImageAttachment(zipFile, attachment, conversationId) {
    try {
      const imageData = await zipFile.async("base64");
      const fileName = this.generateUniqueFileName(attachment.fileName, conversationId);
      if (this.plugin.settings.importAttachments) {
        const filePath = await this.saveAttachmentToVault(fileName, imageData, true, "images");
        return {
          ...attachment,
          fileName,
          extractedContent: `![${attachment.fileName}](${filePath})`
        };
      } else {
        return {
          ...attachment,
          extractedContent: `Image: ${attachment.fileName} (not imported - attachment import disabled)`
        };
      }
    } catch (error) {
      this.logger.error(`Error processing Claude image ${attachment.fileName}:`, error);
      return {
        ...attachment,
        extractedContent: `Error processing image: ${error instanceof Error ? error.message : "Unknown error"}`
      };
    }
  }
  /**
   * Process text attachment
   */
  async processTextAttachment(zipFile, attachment) {
    try {
      const textContent = await zipFile.async("string");
      return {
        ...attachment,
        extractedContent: `\`\`\`
${textContent}
\`\`\``
      };
    } catch (error) {
      this.logger.error(`Error processing Claude text file ${attachment.fileName}:`, error);
      return {
        ...attachment,
        extractedContent: `Error reading text file: ${error instanceof Error ? error.message : "Unknown error"}`
      };
    }
  }
  /**
   * Process binary attachment
   */
  async processBinaryAttachment(zipFile, attachment, conversationId) {
    try {
      if (this.plugin.settings.importAttachments) {
        const binaryData = await zipFile.async("base64");
        const fileName = this.generateUniqueFileName(attachment.fileName, conversationId);
        const filePath = await this.saveAttachmentToVault(fileName, binaryData, true, "documents");
        return {
          ...attachment,
          fileName,
          extractedContent: `[${attachment.fileName}](${filePath})`
        };
      } else {
        return {
          ...attachment,
          extractedContent: `File: ${attachment.fileName} (not imported - attachment import disabled)`
        };
      }
    } catch (error) {
      this.logger.error(`Error processing Claude binary file ${attachment.fileName}:`, error);
      return {
        ...attachment,
        extractedContent: `Error processing file: ${error instanceof Error ? error.message : "Unknown error"}`
      };
    }
  }
  /**
   * Check if file is an image
   */
  isImageFile(fileName) {
    const imageExtensions = [".png", ".jpg", ".jpeg", ".gif", ".webp", ".svg", ".bmp"];
    return imageExtensions.some((ext) => fileName.toLowerCase().endsWith(ext));
  }
  /**
   * Check if file is a text file
   */
  isTextFile(fileName) {
    const textExtensions = [".txt", ".md", ".json", ".csv", ".xml", ".html", ".css", ".js", ".ts", ".py", ".java", ".cpp", ".c", ".h"];
    return textExtensions.some((ext) => fileName.toLowerCase().endsWith(ext));
  }
  /**
   * Generate unique filename to avoid conflicts
   */
  generateUniqueFileName(originalFileName, conversationId) {
    const timestamp = Date.now();
    const shortConversationId = conversationId.substring(0, 8);
    const extension = originalFileName.includes(".") ? originalFileName.split(".").pop() : "";
    const baseName = originalFileName.replace(/\.[^/.]+$/, "");
    return extension ? `claude_${shortConversationId}_${timestamp}_${baseName}.${extension}` : `claude_${shortConversationId}_${timestamp}_${baseName}`;
  }
  /**
   * Save attachment to vault using attachmentFolder setting
   */
  async saveAttachmentToVault(fileName, data, isBase64, category = "files") {
    const attachmentFolder = `${this.plugin.settings.attachmentFolder}/claude/${category}`;
    const { ensureFolderExists: ensureFolderExists2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const folderResult = await ensureFolderExists2(attachmentFolder, this.plugin.app.vault);
    if (!folderResult.success) {
      throw new Error(`Failed to create Claude attachment folder: ${folderResult.error}`);
    }
    const filePath = `${attachmentFolder}/${fileName}`;
    if (isBase64) {
      const binaryString = atob(data);
      const bytes = new Uint8Array(binaryString.length);
      for (let i = 0; i < binaryString.length; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }
      await this.plugin.app.vault.createBinary(filePath, bytes.buffer);
    } else {
      await this.plugin.app.vault.create(filePath, data);
    }
    return filePath;
  }
};

// src/providers/claude/claude-report-naming.ts
var ClaudeReportNamingStrategy = class {
  getProviderName() {
    return "claude";
  }
  extractReportPrefix(zipFileName) {
    const now = new Date();
    const importYear = now.getFullYear();
    const importMonth = String(now.getMonth() + 1).padStart(2, "0");
    const importDay = String(now.getDate()).padStart(2, "0");
    const importDate = `${importYear}.${importMonth}.${importDay}`;
    const claudeBatchPattern = /data-(\d{4})-(\d{2})-(\d{2})-\d{2}-\d{2}-\d{2}-batch-\d{4}/;
    const batchMatch = zipFileName.match(claudeBatchPattern);
    if (batchMatch) {
      const [, year, month, day] = batchMatch;
      const archiveDate = `${year}.${month}.${day}`;
      return `imported-${importDate}-archive-${archiveDate}`;
    }
    const legacyPattern = /(\d{4})-(\d{2})-(\d{2})/;
    const legacyMatch = zipFileName.match(legacyPattern);
    if (legacyMatch) {
      const [, year, month, day] = legacyMatch;
      const archiveDate = `${year}.${month}.${day}`;
      return `imported-${importDate}-archive-${archiveDate}`;
    }
    return `imported-${importDate}-archive-${importDate}`;
  }
  getProviderSpecificColumn() {
    return {
      header: "Artifacts",
      getValue: (adapter, chat) => adapter.countArtifacts ? adapter.countArtifacts(chat) : 0
    };
  }
};

// src/providers/claude/claude-adapter.ts
var ClaudeAdapter = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.attachmentExtractor = new ClaudeAttachmentExtractor(plugin, plugin.logger);
    this.reportNamingStrategy = new ClaudeReportNamingStrategy();
  }
  detect(rawConversations) {
    if (rawConversations.length === 0)
      return false;
    const sample = rawConversations[0];
    return !!(sample.uuid && "name" in sample && sample.chat_messages && Array.isArray(sample.chat_messages) && sample.created_at && sample.updated_at && sample.account);
  }
  getId(chat) {
    return chat.uuid || "";
  }
  getTitle(chat) {
    return chat.name || "Untitled";
  }
  getCreateTime(chat) {
    return chat.created_at ? Math.floor(new Date(chat.created_at).getTime() / 1e3) : 0;
  }
  getUpdateTime(chat) {
    return chat.updated_at ? Math.floor(new Date(chat.updated_at).getTime() / 1e3) : 0;
  }
  async convertChat(chat) {
    ClaudeConverter.setPlugin(this.plugin);
    return await ClaudeConverter.convertChat(chat);
  }
  async convertMessages(messages, conversationId, conversationTitle, conversationCreateTime) {
    ClaudeConverter.setPlugin(this.plugin);
    return await ClaudeConverter.convertMessages(messages, conversationId, conversationTitle, conversationCreateTime);
  }
  getProviderName() {
    return "claude";
  }
  getNewMessages(chat, existingMessageIds) {
    const newMessages = [];
    for (const message of chat.chat_messages) {
      if (message.uuid && !existingMessageIds.includes(message.uuid)) {
        if (this.shouldIncludeMessage(message)) {
          newMessages.push(message);
        }
      }
    }
    return newMessages;
  }
  async processMessageAttachments(messages, conversationId, zip) {
    const processedMessages = [];
    for (const message of messages) {
      if (message.attachments && message.attachments.length > 0) {
        const processedAttachments = await this.attachmentExtractor.extractAttachments(
          zip,
          conversationId,
          message.attachments
        );
        processedMessages.push({
          ...message,
          attachments: processedAttachments
        });
      } else {
        processedMessages.push(message);
      }
    }
    return processedMessages;
  }
  getReportNamingStrategy() {
    return this.reportNamingStrategy;
  }
  getProviderName() {
    return "claude";
  }
  countArtifacts(chat) {
    return ClaudeConverter.countArtifacts(chat);
  }
  shouldIncludeMessage(message) {
    if (message.sender === "human" || message.sender === "assistant") {
      if (!message.text && (!message.content || message.content.length === 0)) {
        return false;
      }
      return true;
    }
    return false;
  }
};

// src/providers/provider-registry.ts
function createProviderRegistry(plugin) {
  const registry = new DefaultProviderRegistry();
  registry.register("chatgpt", new ChatGPTAdapter(plugin));
  registry.register("claude", new ClaudeAdapter(plugin));
  return registry;
}

// src/services/import-service.ts
var ImportService = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.importReport = new ImportReport();
    this.providerRegistry = createProviderRegistry(plugin);
    this.conversationProcessor = new ConversationProcessor(plugin, this.providerRegistry);
  }
  async selectZipFile() {
    const input = document.createElement("input");
    input.type = "file";
    input.accept = ".zip";
    input.multiple = true;
    input.onchange = async (e) => {
      const files = Array.from(e.target.files || []);
      if (files.length > 0) {
        const sortedFiles = this.sortFilesByTimestamp(files);
        for (const file of sortedFiles) {
          await this.handleZipFile(file);
        }
      }
    };
    input.click();
  }
  sortFilesByTimestamp(files) {
    return files.sort((a, b) => {
      const timestampRegex = /(\d{4}-\d{2}-\d{2}-\d{2}-\d{2}-\d{2})/;
      const getTimestamp = (filename) => {
        const match = filename.match(timestampRegex);
        if (!match) {
          this.plugin.logger.warn(`No timestamp found in filename: ${filename}`);
          return "0";
        }
        return match[1];
      };
      return getTimestamp(a.name).localeCompare(getTimestamp(b.name));
    });
  }
  async handleZipFile(file, forcedProvider) {
    this.importReport = new ImportReport();
    const storage = this.plugin.getStorageService();
    try {
      const fileHash = await getFileHash(file);
      const foundByHash = storage.isArchiveImported(fileHash);
      const foundByName = storage.isArchiveImported(file.name);
      const isReprocess = foundByHash || foundByName;
      if (isReprocess) {
        const shouldReimport = await showDialog(
          this.plugin.app,
          "confirmation",
          "Already processed",
          [
            `File ${file.name} has already been imported.`,
            `Do you want to reprocess it?`,
            `**Note:** This will recreate notes from before v1.1.0 to add attachment support.`
          ],
          void 0,
          { button1: "Let's do this", button2: "Forget it" }
        );
        if (!shouldReimport) {
          new import_obsidian12.Notice("Import cancelled.");
          return;
        }
      }
      const zip = await this.validateZipFile(file, forcedProvider);
      await this.processConversations(zip, file, isReprocess, forcedProvider);
      storage.addImportedArchive(fileHash, file.name);
      await this.plugin.saveSettings();
    } catch (error) {
      const message = error instanceof NexusAiChatImporterError ? error.message : error instanceof Error ? error.message : "An unknown error occurred";
      this.plugin.logger.error("Error handling zip file", { message });
    } finally {
      await this.writeImportReport(file.name);
      new import_obsidian12.Notice(
        this.importReport.hasErrors() ? "An error occurred during import. Please check the log file for details." : "Import completed. Log file created in the archive folder."
      );
    }
  }
  async validateZipFile(file, forcedProvider) {
    try {
      const zip = new import_jszip.default();
      const content = await zip.loadAsync(file);
      const fileNames = Object.keys(content.files);
      if (forcedProvider) {
        if (!fileNames.includes("conversations.json")) {
          throw new NexusAiChatImporterError(
            "Invalid ZIP structure",
            `Missing required file: conversations.json for ${forcedProvider} provider.`
          );
        }
      } else {
        const hasConversationsJson = fileNames.includes("conversations.json");
        const hasUsersJson = fileNames.includes("users.json");
        const hasProjectsJson = fileNames.includes("projects.json");
        const isChatGPTFormat = hasConversationsJson && !hasUsersJson && !hasProjectsJson;
        const isClaudeFormat = hasConversationsJson && hasUsersJson;
        if (!isChatGPTFormat && !isClaudeFormat) {
          throw new NexusAiChatImporterError(
            "Invalid ZIP structure",
            "This ZIP file doesn't match any supported chat export format. Expected either ChatGPT format (conversations.json) or Claude format (conversations.json + users.json)."
          );
        }
      }
      return zip;
    } catch (error) {
      if (error instanceof NexusAiChatImporterError) {
        throw error;
      } else {
        throw new NexusAiChatImporterError(
          "Error validating zip file",
          error.message
        );
      }
    }
  }
  async processConversations(zip, file, isReprocess, forcedProvider) {
    try {
      const rawConversations = await this.extractRawConversationsFromZip(zip);
      if (forcedProvider) {
        this.validateProviderMatch(rawConversations, forcedProvider);
      }
      const report = await this.conversationProcessor.processRawConversations(rawConversations, this.importReport, zip, isReprocess, forcedProvider);
      this.importReport = report;
      this.importReport.addSummary(
        file.name,
        this.conversationProcessor.getCounters()
      );
    } catch (error) {
      if (error instanceof NexusAiChatImporterError) {
        this.plugin.logger.error("Error processing conversations", error.message);
      } else if (typeof error === "object" && error instanceof Error) {
        this.plugin.logger.error("General error processing conversations", error.message);
      } else {
        this.plugin.logger.error("Unknown error processing conversations", "An unknown error occurred");
      }
    }
  }
  /**
   * Extract raw conversation data without knowing provider specifics
   * TODO: Make this provider-aware when adding Claude support
   */
  async extractRawConversationsFromZip(zip) {
    const conversationsJson = await zip.file("conversations.json").async("string");
    return JSON.parse(conversationsJson);
  }
  /**
   * Validate that the forced provider matches the actual content structure
   */
  validateProviderMatch(rawConversations, forcedProvider) {
    if (rawConversations.length === 0)
      return;
    const firstConversation = rawConversations[0];
    const isChatGPT = firstConversation.mapping !== void 0;
    const isClaude = firstConversation.chat_messages !== void 0 || firstConversation.name !== void 0 || firstConversation.summary !== void 0;
    if (forcedProvider === "chatgpt" && !isChatGPT) {
      throw new NexusAiChatImporterError(
        "Provider Mismatch",
        "You selected ChatGPT but this archive appears to be from Claude. The structure doesn't match ChatGPT exports."
      );
    }
    if (forcedProvider === "claude" && !isClaude) {
      throw new NexusAiChatImporterError(
        "Provider Mismatch",
        "You selected Claude but this archive appears to be from ChatGPT. The structure doesn't match Claude exports."
      );
    }
  }
  async writeImportReport(zipFileName) {
    const reportWriter = new ReportWriter(this.plugin, this.providerRegistry);
    const currentProvider = this.conversationProcessor.getCurrentProvider();
    await reportWriter.writeReport(this.importReport, zipFileName, currentProvider);
  }
};
var ReportWriter = class {
  constructor(plugin, providerRegistry) {
    this.plugin = plugin;
    this.providerRegistry = providerRegistry;
  }
  async writeReport(report, zipFileName, provider) {
    const { ensureFolderExists: ensureFolderExists2, formatTimestamp: formatTimestamp2 } = await Promise.resolve().then(() => (init_utils(), utils_exports));
    const reportInfo = this.getReportGenerationInfo(zipFileName, provider);
    const adapter = this.providerRegistry.getAdapter(provider);
    if (adapter) {
      const strategy = adapter.getReportNamingStrategy();
      const columnInfo = strategy.getProviderSpecificColumn();
      report.setProviderSpecificColumnHeader(columnInfo.header);
    }
    const folderResult = await ensureFolderExists2(reportInfo.folderPath, this.plugin.app.vault);
    if (!folderResult.success) {
      this.plugin.logger.error(`Failed to create or access log folder: ${reportInfo.folderPath}`, folderResult.error);
      new import_obsidian12.Notice("Failed to create log file. Check console for details.");
      return;
    }
    let logFilePath = `${reportInfo.folderPath}/${reportInfo.baseFileName}`;
    let counter = 2;
    while (await this.plugin.app.vault.adapter.exists(logFilePath)) {
      const baseName = reportInfo.baseFileName.replace(" - import report.md", "");
      logFilePath = `${reportInfo.folderPath}/${baseName}-${counter} - import report.md`;
      counter++;
    }
    const currentDate = `${formatTimestamp2(Date.now() / 1e3, "date")} ${formatTimestamp2(Date.now() / 1e3, "time")}`;
    const archiveDate = this.extractArchiveDateFromFilename(zipFileName);
    const logContent = `---
importdate: ${currentDate}
archivedate: ${archiveDate}
zipFile: ${zipFileName}
provider: ${provider}
totalSuccessfulImports: ${report.getCreatedCount()}
totalUpdatedImports: ${report.getUpdatedCount()}
totalSkippedImports: ${report.getSkippedCount()}
---

${report.generateReportContent()}
`;
    try {
      await this.plugin.app.vault.create(logFilePath, logContent);
    } catch (error) {
      this.plugin.logger.error(`Failed to write import log`, error.message);
      new import_obsidian12.Notice("Failed to create log file. Check console for details.");
    }
  }
  getReportGenerationInfo(zipFileName, provider) {
    const reportFolder = this.plugin.settings.reportFolder;
    const adapter = this.providerRegistry.getAdapter(provider);
    if (adapter) {
      const strategy = adapter.getReportNamingStrategy();
      const reportPrefix = strategy.extractReportPrefix(zipFileName);
      return {
        folderPath: `${reportFolder}/${strategy.getProviderName()}`,
        baseFileName: `${reportPrefix} - import report.md`
      };
    }
    const now = new Date();
    const importDate = `${now.getFullYear()}.${String(now.getMonth() + 1).padStart(2, "0")}.${String(now.getDate()).padStart(2, "0")}`;
    const archiveDate = this.extractArchiveDateFromFilename(zipFileName);
    const fallbackPrefix = `imported-${importDate}-archive-${archiveDate}`;
    return {
      folderPath: `${reportFolder}`,
      baseFileName: `${fallbackPrefix} - import report.md`
    };
  }
  extractArchiveDateFromFilename(zipFileName) {
    const dateRegex = /(\d{4})-(\d{2})-(\d{2})/;
    const match = zipFileName.match(dateRegex);
    if (match) {
      const [, year, month, day] = match;
      return `${year}.${month}.${day}`;
    }
    const now = new Date();
    return `${now.getFullYear()}.${String(now.getMonth() + 1).padStart(2, "0")}.${String(now.getDate()).padStart(2, "0")}`;
  }
};

// src/services/storage-service.ts
var StorageService = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.importedArchives = {};
    this.isDirty = false;
    this.saveTimeout = null;
  }
  async loadData() {
    try {
      const data = await this.plugin.loadData();
      this.importedArchives = (data == null ? void 0 : data.importedArchives) || {};
      this.isDirty = false;
      if (data == null ? void 0 : data.conversationCatalog) {
        const catalogSize = Object.keys(data.conversationCatalog).length;
        this.plugin.logger.info("Legacy conversation catalog detected - will be migrated in upgrade process");
      }
      this.plugin.logger.info("Storage data loaded successfully");
    } catch (error) {
      this.plugin.logger.error("loadData failed:", error);
      throw error;
    }
  }
  async saveData(data) {
    try {
      await this.plugin.saveData(data);
      this.isDirty = false;
    } catch (error) {
      this.plugin.logger.error("saveData failed:", error);
    }
  }
  debouncedSave() {
    if (this.saveTimeout) {
      clearTimeout(this.saveTimeout);
    }
    this.saveTimeout = window.setTimeout(async () => {
      if (this.isDirty) {
        await this.plugin.saveSettings();
      }
    }, 1e3);
  }
  // ========================================
  // ARCHIVE TRACKING - HYBRID DETECTION (1.0.x + 1.1.0)
  // ========================================
  getImportedArchives() {
    return this.importedArchives;
  }
  /**
   * HYBRID detection: Works with both 1.0.x (filename as key) and 1.1.0 (hash as key)
   * FIXED: Handle both old format (string values) and new format (object values)
   */
  isArchiveImported(key) {
    if (this.importedArchives[key]) {
      return true;
    }
    return Object.values(this.importedArchives).some((archive) => {
      if (typeof archive === "object" && archive !== null && archive.fileName) {
        return archive.fileName === key;
      }
      return false;
    });
  }
  addImportedArchive(fileHash, fileName) {
    this.importedArchives[fileHash] = {
      fileName,
      date: new Date().toISOString()
    };
    this.isDirty = true;
    this.debouncedSave();
  }
  // ========================================
  // NEW: VAULT-BASED CONVERSATION DISCOVERY (HYBRID)
  // ========================================
  /**
   * Scan vault for existing Nexus conversations using HYBRID approach:
   * 1. Wait for cache to be clean (fast)
   * 2. Use metadataCache (optimal performance)  
   * 3. Fallback to manual parsing for problematic files
   */
  async scanExistingConversations() {
    const startTime = Date.now();
    await this.waitForCacheClean(1e3);
    const conversations = /* @__PURE__ */ new Map();
    const archiveFolder = this.plugin.settings.archiveFolder;
    const allFiles = this.plugin.app.vault.getMarkdownFiles();
    const conversationFiles = allFiles.filter((file) => {
      if (!file.path.startsWith(archiveFolder))
        return false;
      const relativePath = file.path.substring(archiveFolder.length + 1);
      if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
        return false;
      }
      return true;
    });
    let processed = 0;
    let foundViaCache = 0;
    let foundViaManual = 0;
    let errors = 0;
    const batchSize = 100;
    for (let i = 0; i < conversationFiles.length; i += batchSize) {
      const batch = conversationFiles.slice(i, i + batchSize);
      for (const file of batch) {
        processed++;
        try {
          let entry = await this.parseWithCache(file);
          if (entry) {
            conversations.set(entry.conversationId, entry);
            foundViaCache++;
            continue;
          }
          entry = await this.parseConversationFileManually(file);
          if (entry) {
            conversations.set(entry.conversationId, entry);
            foundViaManual++;
          }
        } catch (error) {
          errors++;
          console.warn(`Error parsing conversation file ${file.path}:`, error);
        }
      }
      if (i + batchSize < conversationFiles.length) {
        await new Promise((resolve) => setTimeout(resolve, 1));
      }
    }
    const duration = Date.now() - startTime;
    const total = foundViaCache + foundViaManual;
    this.plugin.logger.info(`Scanned vault: found ${total} conversations in ${duration}ms`);
    return conversations;
  }
  /**
   * Wait for metadata cache to be clean with timeout
   */
  async waitForCacheClean(maxWaitMs = 1e3) {
    const startTime = Date.now();
    const metadataCache = this.plugin.app.metadataCache;
    while (!metadataCache.isCacheClean()) {
      if (Date.now() - startTime > maxWaitMs) {
        break;
      }
      await new Promise((resolve) => setTimeout(resolve, 10));
    }
  }
  /**
   * Parse conversation using metadataCache (fast but potentially unreliable)
   */
  async parseWithCache(file) {
    var _a;
    try {
      const frontmatter = (_a = this.plugin.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
      if (!(frontmatter == null ? void 0 : frontmatter.nexus) || frontmatter.nexus !== this.plugin.manifest.id) {
        return null;
      }
      if (!frontmatter.conversation_id) {
        return null;
      }
      const createTime = this.parseTimeString(frontmatter.create_time);
      const updateTime = this.parseTimeString(frontmatter.update_time);
      return {
        conversationId: frontmatter.conversation_id,
        provider: frontmatter.provider || "unknown",
        path: file.path,
        updateTime,
        create_time: createTime,
        update_time: updateTime
      };
    } catch (error) {
      return null;
    }
  }
  /**
   * Parse single conversation file manually (robust fallback)
   */
  async parseConversationFileManually(file) {
    try {
      const content = await this.plugin.app.vault.read(file);
      const frontmatterMatch = content.match(/^---\n([\s\S]*?)\n---/);
      if (!frontmatterMatch) {
        return null;
      }
      const frontmatterContent = frontmatterMatch[1];
      const frontmatterData = {};
      const lines = frontmatterContent.split("\n");
      for (const line of lines) {
        const colonIndex = line.indexOf(":");
        if (colonIndex > 0) {
          const key = line.substring(0, colonIndex).trim();
          let value = line.substring(colonIndex + 1).trim();
          if (value.startsWith('"') && value.endsWith('"') || value.startsWith("'") && value.endsWith("'")) {
            value = value.slice(1, -1);
          }
          frontmatterData[key] = value;
        }
      }
      const nexusId = this.plugin.manifest.id;
      if (frontmatterData.nexus !== nexusId) {
        return null;
      }
      if (!frontmatterData.conversation_id) {
        return null;
      }
      const createTime = this.parseTimeString(frontmatterData.create_time);
      const updateTime = this.parseTimeString(frontmatterData.update_time);
      return {
        conversationId: frontmatterData.conversation_id,
        provider: frontmatterData.provider || "unknown",
        path: file.path,
        updateTime,
        create_time: createTime,
        update_time: updateTime
      };
    } catch (error) {
      console.error(`Error manually parsing ${file.path}:`, error);
      return null;
    }
  }
  /**
   * Parse time string from frontmatter (handle multiple formats)
   */
  parseTimeString(timeStr) {
    if (!timeStr)
      return 0;
    try {
      let dateStr = timeStr.replace(" at ", " ");
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) {
        console.warn(`Could not parse date: ${timeStr}`);
        return 0;
      }
      return Math.floor(date.getTime() / 1e3);
    } catch (error) {
      console.warn(`Date parsing error for "${timeStr}":`, error);
      return 0;
    }
  }
  /**
   * Fast check if a specific conversation exists
   */
  async conversationExists(conversationId) {
    const conversations = await this.scanExistingConversations();
    return conversations.has(conversationId);
  }
  /**
   * Get conversation entry by ID (single lookup)
   */
  async getConversationById(conversationId) {
    const conversations = await this.scanExistingConversations();
    return conversations.get(conversationId) || null;
  }
  /**
   * Get conversations by provider (for reporting/stats)
   */
  async getConversationsByProvider(provider) {
    const allConversations = await this.scanExistingConversations();
    return Array.from(allConversations.values()).filter((entry) => entry.provider === provider);
  }
  // ========================================
  // LEGACY SUPPORT & CLEANUP
  // ========================================
  async resetCatalogs() {
    try {
      this.importedArchives = {};
      this.isDirty = false;
      if (this.saveTimeout) {
        clearTimeout(this.saveTimeout);
        this.saveTimeout = null;
      }
      await this.plugin.saveData({
        settings: this.plugin.settings
        // Note: No conversation catalog to reset - it's now vault-based
      });
      this.plugin.logger.info("Reset archive catalog (conversation tracking is now vault-based)");
    } catch (error) {
      this.plugin.logger.error("resetCatalogs failed:", error);
    }
  }
  // Statistics for debugging
  getStats() {
    return {
      totalArchives: Object.keys(this.importedArchives).length,
      isDirty: this.isDirty,
      hasPendingSave: this.saveTimeout !== null,
      catalogMethod: "vault-based-hybrid",
      trackingMethod: "hybrid-hash-filename"
    };
  }
  async forceSave() {
    if (this.saveTimeout) {
      clearTimeout(this.saveTimeout);
      this.saveTimeout = null;
    }
    if (this.isDirty) {
      await this.plugin.saveSettings();
    }
  }
  // ========================================
  // DEPRECATED METHODS (For Compatibility)
  // ========================================
  /**
   * @deprecated Use scanExistingConversations() instead
   */
  getConversationCatalog() {
    this.plugin.logger.warn("getConversationCatalog() is deprecated - use scanExistingConversations()");
    return {};
  }
  /**
   * @deprecated Conversations are now tracked via vault frontmatter
   */
  updateConversationCatalog(id, entry) {
    this.plugin.logger.warn("updateConversationCatalog() is deprecated - conversations tracked via frontmatter");
  }
  /**
   * @deprecated Conversations are now tracked via vault frontmatter  
   */
  deleteFromConversationCatalog(id) {
    this.plugin.logger.warn("deleteFromConversationCatalog() is deprecated - files tracked via vault");
  }
};

// src/upgrade/incremental-upgrade-manager.ts
var import_obsidian15 = require("obsidian");
init_version_utils();
init_dialogs();
init_logger();

// src/upgrade/utils/multi-operation-progress-modal.ts
var import_obsidian13 = require("obsidian");
var MultiOperationProgressModal = class extends import_obsidian13.Modal {
  constructor(app, title, operations) {
    super(app);
    this.canClose = false;
    this.title = title;
    this.operations = [...operations];
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.addClass("nexus-ai-chat-importer-modal");
    contentEl.addClass("multi-operation-progress-modal");
    this.modalTitleEl = contentEl.createEl("h2", {
      text: this.title,
      cls: "modal-title"
    });
    const contentContainer = contentEl.createDiv({ cls: "modal-content" });
    this.operationsContainer = contentContainer.createDiv({ cls: "operations-container" });
    this.operationsContainer.style.cssText = `
            margin: 20px 0;
            max-height: 300px;
            overflow-y: auto;
        `;
    this.overallProgressEl = contentContainer.createDiv({ cls: "overall-progress" });
    this.overallProgressEl.style.cssText = `
            margin-top: 20px;
            padding: 15px;
            background: var(--background-secondary);
            border-radius: 8px;
            border: 1px solid var(--background-modifier-border);
            text-align: center;
            font-weight: 500;
        `;
    this.renderOperations();
    this.updateOverallProgress();
    this.modalEl.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !this.canClose) {
        e.preventDefault();
        e.stopPropagation();
      }
    });
  }
  /**
   * Update operation status
   */
  updateOperation(operationId, updates) {
    const operation = this.operations.find((op) => op.id === operationId);
    if (operation) {
      Object.assign(operation, updates);
      this.renderOperations();
      this.updateOverallProgress();
    }
  }
  /**
   * Mark all operations as complete and allow closing
   */
  markComplete(message = "All operations completed successfully") {
    this.canClose = true;
    this.overallProgressEl.textContent = message;
    this.overallProgressEl.style.color = "var(--text-success)";
    if (!this.closeButtonEl) {
      const buttonContainer = this.contentEl.createDiv({ cls: "modal-button-container" });
      this.closeButtonEl = buttonContainer.createEl("button", {
        text: "Complete",
        cls: "mod-cta"
      });
      this.closeButtonEl.addEventListener("click", () => this.close());
    }
  }
  /**
   * Show error state
   */
  showError(message) {
    this.canClose = true;
    this.overallProgressEl.textContent = message;
    this.overallProgressEl.style.color = "var(--text-error)";
    if (!this.closeButtonEl) {
      const buttonContainer = this.contentEl.createDiv({ cls: "modal-button-container" });
      this.closeButtonEl = buttonContainer.createEl("button", {
        text: "Close",
        cls: "mod-warning"
      });
      this.closeButtonEl.addEventListener("click", () => this.close());
    }
  }
  /**
   * Render all operations
   */
  renderOperations() {
    this.operationsContainer.empty();
    for (const operation of this.operations) {
      const operationEl = this.operationsContainer.createDiv({ cls: "operation-item" });
      operationEl.style.cssText = `
                display: flex;
                align-items: center;
                margin: 10px 0;
                padding: 10px;
                background: var(--background-primary);
                border-radius: 6px;
                border: 1px solid var(--background-modifier-border);
            `;
      const iconEl = operationEl.createDiv({ cls: "operation-icon" });
      iconEl.style.cssText = `
                width: 20px;
                height: 20px;
                margin-right: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 14px;
            `;
      switch (operation.status) {
        case "pending":
          iconEl.textContent = "\u25CB";
          iconEl.style.color = "var(--text-muted)";
          break;
        case "running":
          iconEl.textContent = "\u26A0";
          iconEl.style.color = "var(--text-accent)";
          break;
        case "completed":
          iconEl.textContent = "\u2713";
          iconEl.style.color = "var(--text-success)";
          break;
        case "failed":
          iconEl.textContent = "\u2717";
          iconEl.style.color = "var(--text-error)";
          break;
      }
      const contentEl = operationEl.createDiv({ cls: "operation-content" });
      contentEl.style.cssText = `flex: 1; min-width: 0;`;
      const nameEl = contentEl.createDiv({ cls: "operation-name" });
      nameEl.textContent = operation.name;
      nameEl.style.cssText = `
                font-weight: 500;
                margin-bottom: 5px;
                color: var(--text-normal);
            `;
      if (operation.status === "running" || operation.progress !== void 0 && operation.progress > 0) {
        const progressContainer = contentEl.createDiv({ cls: "progress-container" });
        progressContainer.style.cssText = `
                    background: var(--background-secondary);
                    border-radius: 4px;
                    height: 8px;
                    margin: 5px 0;
                    overflow: hidden;
                `;
        const progressBar = progressContainer.createDiv({ cls: "progress-bar" });
        const progress = operation.progress || 0;
        progressBar.style.cssText = `
                    background: var(--interactive-accent);
                    height: 100%;
                    width: ${progress}%;
                    transition: width 0.3s ease;
                `;
      }
      if (operation.currentDetail) {
        const detailEl = contentEl.createDiv({ cls: "operation-detail" });
        detailEl.textContent = this.truncateDetail(operation.currentDetail);
        detailEl.style.cssText = `
                    font-size: 0.9em;
                    color: var(--text-muted);
                    font-style: italic;
                    margin-top: 3px;
                `;
      }
      if (operation.status === "failed" && operation.error) {
        const errorEl = contentEl.createDiv({ cls: "operation-error" });
        errorEl.textContent = operation.error;
        errorEl.style.cssText = `
                    font-size: 0.9em;
                    color: var(--text-error);
                    margin-top: 3px;
                `;
      }
    }
  }
  /**
   * Update overall progress display
   */
  updateOverallProgress() {
    const completed = this.operations.filter((op) => op.status === "completed").length;
    const failed = this.operations.filter((op) => op.status === "failed").length;
    const total = this.operations.length;
    if (failed > 0) {
      this.overallProgressEl.textContent = `Progress: ${completed}/${total} operations (${failed} failed)`;
      this.overallProgressEl.style.color = "var(--text-error)";
    } else if (completed === total) {
      this.overallProgressEl.textContent = `All ${total} operations completed successfully`;
      this.overallProgressEl.style.color = "var(--text-success)";
    } else {
      this.overallProgressEl.textContent = `Progress: ${completed}/${total} operations`;
      this.overallProgressEl.style.color = "var(--text-normal)";
    }
  }
  /**
   * Truncate detail text to fit in modal
   */
  truncateDetail(detail) {
    const maxLength = 50;
    if (detail.length <= maxLength)
      return detail;
    return "..." + detail.slice(-maxLength + 3);
  }
  /**
   * Override close to respect canClose flag
   */
  close() {
    if (this.canClose) {
      super.close();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/upgrade/incremental-upgrade-manager.ts
var logger3 = new Logger();
var IncrementalUpgradeManager = class {
  constructor(plugin) {
    this.availableUpgrades = [];
    this.plugin = plugin;
    this.registerUpgrades();
  }
  /**
   * Register all available version upgrades
   */
  registerUpgrades() {
    const { Upgrade110: Upgrade1102 } = (init_upgrade_1_1_0(), __toCommonJS(upgrade_1_1_0_exports));
    const { Upgrade120: Upgrade1202 } = (init_upgrade_1_2_0(), __toCommonJS(upgrade_1_2_0_exports));
    this.availableUpgrades = [
      new Upgrade1102(),
      new Upgrade1202()
      // Future: new Upgrade121(), new Upgrade130(), etc.
    ];
    this.availableUpgrades.sort((a, b) => {
      return VersionUtils.compareVersions(a.version, b.version);
    });
    logger3.info(`Registered ${this.availableUpgrades.length} version upgrades`);
  }
  /**
   * Main incremental upgrade check and execution
   */
  async checkAndPerformUpgrade() {
    var _a, _b, _c;
    try {
      const currentVersion = this.plugin.manifest.version;
      const previousVersion = this.plugin.settings.previousVersion;
      console.debug(`[NEXUS-DEBUG] Incremental upgrade check: ${previousVersion} \u2192 ${currentVersion}`);
      if (previousVersion === currentVersion) {
        console.debug(`[NEXUS-DEBUG] No version change - SKIPPING ALL`);
        logger3.info(`No version change (${currentVersion}), skipping upgrade checks`);
        return null;
      }
      const data = await this.plugin.loadData();
      const versionKey = currentVersion.replace(/\./g, "_");
      const hasCompletedThisUpgrade = (_c = (_b = (_a = data == null ? void 0 : data.upgradeHistory) == null ? void 0 : _a.completedUpgrades) == null ? void 0 : _b[versionKey]) == null ? void 0 : _c.completed;
      console.debug(`[NEXUS-DEBUG] Upgrade history check for '${versionKey}': ${hasCompletedThisUpgrade}`);
      if (hasCompletedThisUpgrade) {
        console.debug(`[NEXUS-DEBUG] Upgrade already completed - SKIPPING ALL`);
        logger3.info(`Already completed upgrade to ${currentVersion}, skipping`);
        return null;
      }
      const isFreshInstall = await this.detectFreshInstall();
      console.debug(`[NEXUS-DEBUG] Fresh install detection: ${isFreshInstall}`);
      if (isFreshInstall) {
        console.debug(`[NEXUS-DEBUG] Fresh install detected - marking as complete without upgrades`);
        await this.markUpgradeComplete(currentVersion);
        logger3.info(`Fresh installation detected - marked as up-to-date v${currentVersion}`);
        return {
          success: true,
          upgradesExecuted: 0,
          upgradesSkipped: 0,
          upgradesFailed: 0,
          results: []
        };
      }
      const upgradeChain = this.getUpgradeChain(previousVersion, currentVersion);
      console.debug(`[NEXUS-DEBUG] Upgrade chain:`, upgradeChain.map((u) => u.version));
      if (upgradeChain.length === 0) {
        console.debug(`[NEXUS-DEBUG] No upgrades needed - marking complete`);
        await this.markUpgradeComplete(currentVersion);
        await this.showUpgradeDialog(currentVersion, previousVersion, []);
        return {
          success: true,
          upgradesExecuted: 0,
          upgradesSkipped: 0,
          upgradesFailed: 0,
          results: []
        };
      }
      console.debug(`[NEXUS-DEBUG] Need to execute ${upgradeChain.length} upgrades - showing dialog first`);
      await this.showUpgradeDialog(currentVersion, previousVersion, upgradeChain);
      console.debug(`[NEXUS-DEBUG] Executing upgrades with modal...`);
      const result = await this.executeUpgradeChainWithModal(upgradeChain, previousVersion, currentVersion);
      console.debug(`[NEXUS-DEBUG] Upgrade process completed - marking overall upgrade complete`);
      await this.markUpgradeComplete(currentVersion);
      return result;
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Incremental upgrade FAILED:`, error);
      logger3.error("Error during incremental upgrade:", error);
      new import_obsidian15.Notice("Upgrade failed - see console for details");
      return {
        success: false,
        upgradesExecuted: 0,
        upgradesSkipped: 0,
        upgradesFailed: 1,
        results: []
      };
    }
  }
  /**
   * Detect if this is a fresh installation with no existing data
   */
  async detectFreshInstall() {
    try {
      const data = await this.plugin.loadData();
      const hasLegacyData = !!((data == null ? void 0 : data.conversationCatalog) && Object.keys(data.conversationCatalog).length > 0);
      const hasImportedArchives = !!((data == null ? void 0 : data.importedArchives) && Object.keys(data.importedArchives).length > 0);
      const archiveFolder = this.plugin.settings.archiveFolder;
      const allFiles = this.plugin.app.vault.getMarkdownFiles();
      const existingConversations = allFiles.filter((file) => {
        var _a;
        if (!file.path.startsWith(archiveFolder))
          return false;
        const relativePath = file.path.substring(archiveFolder.length + 1);
        if (relativePath.startsWith("Reports/") || relativePath.startsWith("Attachments/") || relativePath.startsWith("reports/") || relativePath.startsWith("attachments/")) {
          return false;
        }
        const frontmatter = (_a = this.plugin.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
        return (frontmatter == null ? void 0 : frontmatter.nexus) === this.plugin.manifest.id;
      });
      const hasExistingConversations = existingConversations.length > 0;
      const isFreshInstall = !hasLegacyData && !hasImportedArchives && !hasExistingConversations;
      console.debug(`[NEXUS-DEBUG] Fresh install detection:`, {
        hasLegacyData,
        hasImportedArchives,
        hasExistingConversations,
        isFreshInstall
      });
      return isFreshInstall;
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Error detecting fresh install:`, error);
      return false;
    }
  }
  /**
   * Get chain of upgrades to execute incrementally
   */
  getUpgradeChain(fromVersion, toVersion) {
    return this.availableUpgrades.filter(
      (upgrade) => upgrade.shouldRun(fromVersion, toVersion)
    );
  }
  /**
   * Execute upgrade chain with modal progress tracking
   */
  async executeUpgradeChainWithModal(upgradeChain, fromVersion, toVersion) {
    const allOperations = [];
    for (const upgrade of upgradeChain) {
      for (const operation of upgrade.automaticOperations) {
        allOperations.push({
          id: `${upgrade.version}_${operation.id}`,
          name: operation.name,
          status: "pending"
        });
      }
    }
    const progressModal = new MultiOperationProgressModal(
      this.plugin.app,
      `Upgrading to v${toVersion}`,
      allOperations
    );
    progressModal.open();
    const results = [];
    let upgradesExecuted = 0;
    let upgradesSkipped = 0;
    let upgradesFailed = 0;
    try {
      for (const upgrade of upgradeChain) {
        console.debug(`[NEXUS-DEBUG] Executing upgrade ${upgrade.version}...`);
        const context = await this.createUpgradeContext(upgrade, fromVersion, toVersion);
        const automaticResults = await this.executeOperationsWithProgress(
          upgrade.automaticOperations,
          context,
          upgrade.version,
          progressModal
        );
        console.debug(`[NEXUS-DEBUG] Automatic operations for ${upgrade.version}:`, automaticResults);
        const manualResults = { success: true, results: [] };
        results.push({
          version: upgrade.version,
          automaticResults,
          manualResults
        });
        upgradesExecuted++;
      }
      const overallSuccess = true;
      progressModal.markComplete(`All operations completed successfully!`);
      new import_obsidian15.Notice(`Upgrade completed: ${upgradesExecuted} versions processed successfully`);
      return {
        success: overallSuccess,
        upgradesExecuted,
        upgradesSkipped,
        upgradesFailed,
        results
      };
    } catch (error) {
      console.error(`[NEXUS-DEBUG] Modal upgrade execution failed:`, error);
      progressModal.showError(`Upgrade failed: ${error}`);
      throw error;
    }
  }
  /**
   * Execute operations with progress updates to modal
   */
  async executeOperationsWithProgress(operations, context, version, progressModal) {
    const results = [];
    let criticalFailures = 0;
    for (const operation of operations) {
      const modalOperationId = `${version}_${operation.id}`;
      try {
        if (await this.isOperationCompleted(operation.id, version)) {
          progressModal.updateOperation(modalOperationId, {
            status: "completed",
            progress: 100
          });
          results.push({
            operationId: operation.id,
            result: { success: true, message: "Already completed" }
          });
          continue;
        }
        progressModal.updateOperation(modalOperationId, {
          status: "running",
          progress: 0
        });
        if (!await operation.canRun(context)) {
          progressModal.updateOperation(modalOperationId, {
            status: "completed",
            progress: 100,
            currentDetail: "Nothing to process"
          });
          results.push({
            operationId: operation.id,
            result: { success: true, message: "Prerequisites not met - nothing to process" }
          });
          continue;
        }
        const result = await this.executeOperationWithProgress(
          operation,
          context,
          modalOperationId,
          progressModal
        );
        results.push({ operationId: operation.id, result });
        if (result.success) {
          await this.markOperationCompleted(operation.id, version);
          progressModal.updateOperation(modalOperationId, {
            status: "completed",
            progress: 100
          });
        } else {
          const isCritical = this.isCriticalFailure(result);
          if (isCritical) {
            criticalFailures++;
            progressModal.updateOperation(modalOperationId, {
              status: "failed",
              error: result.message
            });
          } else {
            progressModal.updateOperation(modalOperationId, {
              status: "completed",
              progress: 100,
              currentDetail: "Completed with warnings"
            });
          }
        }
      } catch (error) {
        const errorResult = {
          success: false,
          message: `Operation failed: ${error}`,
          details: { error: String(error) }
        };
        results.push({ operationId: operation.id, result: errorResult });
        progressModal.updateOperation(modalOperationId, {
          status: "failed",
          error: String(error)
        });
        criticalFailures++;
      }
    }
    return { success: criticalFailures === 0, results };
  }
  /**
   * Determine if an operation failure is critical
   */
  isCriticalFailure(result) {
    return false;
  }
  /**
   * Execute single operation with progress callbacks
   */
  async executeOperationWithProgress(operation, context, modalOperationId, progressModal) {
    var _a;
    const result = await operation.execute(context);
    const steps = 5;
    for (let i = 1; i <= steps; i++) {
      progressModal.updateOperation(modalOperationId, {
        status: "running",
        progress: i / steps * 100,
        currentDetail: ((_a = result.details) == null ? void 0 : _a.processed) ? `Processing... ${i}/${steps}` : void 0
      });
      await new Promise((resolve) => setTimeout(resolve, 100));
    }
    return result;
  }
  /**
   * Create upgrade context
   */
  async createUpgradeContext(upgrade, fromVersion, toVersion) {
    const pluginData = await this.plugin.loadData();
    return {
      plugin: this.plugin,
      fromVersion,
      toVersion,
      pluginData
    };
  }
  /**
   * Mark overall upgrade as complete
   */
  async markUpgradeComplete(version) {
    const data = await this.plugin.loadData() || {};
    if (!data.upgradeHistory) {
      data.upgradeHistory = {
        completedUpgrades: {},
        completedOperations: {}
      };
    }
    const versionKey = version.replace(/\./g, "_");
    data.upgradeHistory.completedUpgrades[versionKey] = {
      version,
      date: new Date().toISOString(),
      completed: true
    };
    data.lastVersion = version;
    data.hasCompletedUpgrade = true;
    data.upgradeDate = new Date().toISOString();
    if (VersionUtils.compareVersions(version, "1.1.0") >= 0) {
      data.versionTrackingEnabled = true;
    }
    await this.plugin.saveData(data);
    logger3.info(`Marked overall upgrade to ${version} as complete`);
  }
  /**
   * Show upgrade dialog - INFORMATION ONLY (no cancel)
   */
  async showUpgradeDialog(currentVersion, lastVersion, upgradeChain) {
    try {
      const overview = await this.fetchReleaseOverview(currentVersion);
      const baseMessage = overview || `Nexus AI Chat Importer has been upgraded to version ${currentVersion}.`;
      const paragraphs = [];
      paragraphs.push(baseMessage);
      paragraphs.push(this.getDocLinks(currentVersion));
      if (upgradeChain.length > 0) {
        paragraphs.push("");
        paragraphs.push("**Upgrade Operations Required**");
        paragraphs.push("The following operations will be performed automatically:");
        paragraphs.push("");
        const operationsList = [];
        for (const upgrade of upgradeChain) {
          for (const operation of upgrade.automaticOperations) {
            operationsList.push(`\u2022 **${operation.name}**: ${operation.description}`);
          }
        }
        paragraphs.push(operationsList.join("\n"));
      } else {
        paragraphs.push("");
        paragraphs.push("All systems are up to date. No operations required.");
      }
      if (upgradeChain.length > 0) {
        const isV120Upgrade = upgradeChain.some((upgrade) => upgrade.version === "1.2.0");
        if (isV120Upgrade) {
          const { NexusUpgradeModal: NexusUpgradeModal2 } = (init_upgrade_1_2_0(), __toCommonJS(upgrade_1_2_0_exports));
          await new Promise((resolve) => {
            new NexusUpgradeModal2(this.plugin.app, this.plugin, "1.2.0", resolve).open();
          });
        } else {
          await showDialog(
            this.plugin.app,
            "information",
            `Upgrade to ${VersionUtils.formatVersion(currentVersion)}`,
            paragraphs,
            this.shouldShowUpgradeWarning(lastVersion) ? this.getUpgradeWarning() : void 0,
            { button1: "Proceed with Upgrade" }
          );
        }
      } else {
        await showDialog(
          this.plugin.app,
          "information",
          `Upgrade to ${VersionUtils.formatVersion(currentVersion)}`,
          paragraphs,
          this.shouldShowUpgradeWarning(lastVersion) ? this.getUpgradeWarning() : void 0,
          { button1: "Got it!" }
          // ← Juste informatif
        );
      }
    } catch (error) {
      logger3.error("Error showing upgrade dialog:", error);
      new import_obsidian15.Notice(`Upgraded to Nexus AI Chat Importer v${currentVersion}`);
    }
  }
  /**
   * Check if operation was completed using new upgrade history structure
   */
  async isOperationCompleted(operationId, version) {
    var _a, _b, _c;
    const data = await this.plugin.loadData();
    const operationKey = `operation_${version.replace(/\./g, "_")}_${operationId}`;
    return ((_c = (_b = (_a = data == null ? void 0 : data.upgradeHistory) == null ? void 0 : _a.completedOperations) == null ? void 0 : _b[operationKey]) == null ? void 0 : _c.completed) || false;
  }
  /**
   * Mark operation as completed using structured upgrade history
   */
  async markOperationCompleted(operationId, version) {
    const data = await this.plugin.loadData() || {};
    if (!data.upgradeHistory) {
      data.upgradeHistory = {
        completedUpgrades: {},
        completedOperations: {}
      };
    }
    const operationKey = `operation_${version.replace(/\./g, "_")}_${operationId}`;
    data.upgradeHistory.completedOperations[operationKey] = {
      operationId,
      version,
      date: new Date().toISOString(),
      completed: true
    };
    await this.plugin.saveData(data);
    logger3.info(`Marked operation ${operationId} (v${version}) as completed`);
  }
  /**
   * Get documentation links
   */
  getDocLinks(version) {
    return `**Resources:**
\u2022 [Full Release Notes](${GITHUB.REPO_BASE}/blob/${version}/RELEASE_NOTES.md)
\u2022 [Documentation](${GITHUB.REPO_BASE}/blob/${version}/README.md)`;
  }
  /**
   * Check if should show upgrade warning for very old versions
   */
  shouldShowUpgradeWarning(lastVersion) {
    return VersionUtils.compareVersions(lastVersion, "1.0.2") < 0;
  }
  /**
   * Get upgrade warning for very old versions
   */
  getUpgradeWarning() {
    return `\u26A0\uFE0F **Important for users upgrading from versions prior to v1.0.2:**

Version 1.0.2 introduced new metadata parameters required for certain features. For optimal performance and feature compatibility, it's recommended to delete old data and re-import conversations with this new version.`;
  }
  /**
   * Fetch release overview from GitHub
   */
  async fetchReleaseOverview(version) {
    try {
      const { requestUrl: requestUrl2 } = require("obsidian");
      const response = await requestUrl2({
        url: `${GITHUB.RAW_BASE}/${version}/RELEASE_NOTES.md`,
        method: "GET"
      });
      const overviewRegex = /## Overview\s+(.*?)(?=##|$)/s;
      const match = response.text.match(overviewRegex);
      return match ? match[1].trim() : null;
    } catch (error) {
      logger3.warn("Could not fetch release overview:", error);
      return null;
    }
  }
  /**
   * Get manual operations status for settings UI
   */
  async getManualOperationsForSettings() {
    const results = [];
    for (const upgrade of this.availableUpgrades) {
      const context = await this.createUpgradeContext(upgrade, "0.0.0", this.plugin.manifest.version);
      const operationsStatus = await upgrade.getManualOperationsStatus(context);
      if (operationsStatus.length > 0) {
        results.push({
          version: upgrade.version,
          operations: operationsStatus.map((status) => ({
            id: status.operation.id,
            name: status.operation.name,
            description: status.operation.description,
            completed: status.completed,
            canRun: status.canRun
          }))
        });
      }
    }
    return results;
  }
  /**
   * Execute single manual operation from settings
   */
  async executeManualOperation(version, operationId) {
    const upgrade = this.availableUpgrades.find((u) => u.version === version);
    if (!upgrade) {
      return { success: false, message: "Upgrade version not found" };
    }
    const context = await this.createUpgradeContext(upgrade, "0.0.0", this.plugin.manifest.version);
    const result = await upgrade.executeManualOperation(operationId, context);
    return {
      success: result.success,
      message: result.message
    };
  }
};

// src/main.ts
init_logger();

// src/dialogs/provider-selection-dialog.ts
var import_obsidian16 = require("obsidian");
var ProviderSelectionDialog = class extends import_obsidian16.Modal {
  constructor(app, providerRegistry, onProviderSelected) {
    super(app);
    this.selectedProvider = null;
    this.onProviderSelected = onProviderSelected;
    this.providers = this.getAvailableProviders(providerRegistry);
  }
  getAvailableProviders(registry) {
    const providers = [];
    if (registry.getAdapter("chatgpt")) {
      providers.push({
        id: "chatgpt",
        name: "ChatGPT",
        description: "OpenAI ChatGPT conversation exports",
        fileFormats: ["conversations.json only"]
      });
    }
    if (registry.getAdapter("claude")) {
      providers.push({
        id: "claude",
        name: "Claude",
        description: "Anthropic Claude conversation exports",
        fileFormats: ["conversations.json + users.json", "projects.json (optional)"]
      });
    }
    return providers;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Select Archive Provider" });
    this.providers.forEach((provider) => {
      new import_obsidian16.Setting(contentEl).setName(provider.name).setDesc(this.createProviderDescription(provider)).addButton((button) => {
        button.setButtonText("Select").setCta().onClick(() => {
          this.selectedProvider = provider.id;
          this.close();
          this.onProviderSelected(provider.id);
        });
      });
    });
    const buttonContainer = contentEl.createDiv();
    buttonContainer.style.textAlign = "center";
    buttonContainer.style.marginTop = "20px";
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.style.marginRight = "10px";
    cancelButton.onclick = () => this.close();
  }
  createProviderDescription(provider) {
    return provider.description;
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/main.ts
var NexusAiChatImporterPlugin = class extends import_obsidian17.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.logger = new Logger();
    this.storageService = new StorageService(this);
    this.importService = new ImportService(this);
    this.fileService = new FileService(this);
    this.commandRegistry = new CommandRegistry(this);
    this.eventHandlers = new EventHandlers(this);
    this.upgradeManager = new IncrementalUpgradeManager(this);
  }
  async onload() {
    try {
      await this.loadSettings();
      this.addSettingTab(new NexusAiChatImporterPluginSettingTab(this.app, this));
      this.commandRegistry.registerCommands();
      this.eventHandlers.registerEvents();
      const ribbonIconEl = this.addRibbonIcon(
        "message-square-plus",
        "Nexus AI Chat Importer - Import new file",
        () => this.showProviderSelectionDialog()
      );
      ribbonIconEl.addClass("nexus-ai-chat-ribbon");
      await this.upgradeManager.checkAndPerformUpgrade();
    } catch (error) {
      this.logger.error("Plugin loading failed:", error);
      throw error;
    }
  }
  async onunload() {
    try {
      this.eventHandlers.cleanup();
      await this.saveSettings();
    } catch (error) {
      this.logger.error("Plugin unloading failed:", error);
    }
  }
  async loadSettings() {
    try {
      const data = await this.loadData();
      this.settings = Object.assign({}, DEFAULT_SETTINGS, (data == null ? void 0 : data.settings) || {});
      const currentVersion = this.manifest.version;
      const storedCurrentVersion = this.settings.currentVersion;
      if (!storedCurrentVersion || storedCurrentVersion === "0.0.0") {
        const hasExistingConversations = await this.hasExistingNexusConversations();
        if (hasExistingConversations) {
          this.settings.previousVersion = "1.0.x";
          this.settings.currentVersion = currentVersion;
        } else {
          this.settings.previousVersion = currentVersion;
          this.settings.currentVersion = currentVersion;
        }
        await this.saveSettings();
      } else if (storedCurrentVersion !== currentVersion) {
        this.settings.previousVersion = storedCurrentVersion;
        this.settings.currentVersion = currentVersion;
        await this.saveSettings();
      }
      await this.storageService.loadData();
    } catch (error) {
      this.logger.error("loadSettings failed:", error);
      throw error;
    }
  }
  /**
   * Check if vault contains existing Nexus conversations
   */
  async hasExistingNexusConversations() {
    try {
      const files = this.app.vault.getMarkdownFiles();
      return files.some((file) => {
        var _a;
        const frontmatter = (_a = this.app.metadataCache.getFileCache(file)) == null ? void 0 : _a.frontmatter;
        return (frontmatter == null ? void 0 : frontmatter.nexus) === this.manifest.id;
      });
    } catch (error) {
      this.logger.warn("Error checking for existing conversations:", error);
      return false;
    }
  }
  async saveSettings() {
    try {
      const existingData = await this.loadData() || {};
      let finalImportedArchives = this.storageService.getImportedArchives();
      if (existingData.importedArchives && Object.keys(existingData.importedArchives).length > 0) {
        const existingArchives = existingData.importedArchives;
        const storageArchives = this.storageService.getImportedArchives();
        finalImportedArchives = {
          ...existingArchives,
          ...storageArchives
        };
      }
      const mergedData = {
        ...existingData,
        settings: this.settings,
        importedArchives: finalImportedArchives,
        upgradeHistory: existingData.upgradeHistory || {
          completedUpgrades: {},
          completedOperations: {}
        }
      };
      await this.storageService.saveData(mergedData);
    } catch (error) {
      this.logger.error("saveSettings failed:", error);
    }
  }
  async resetCatalogs() {
    try {
      await this.storageService.resetCatalogs();
      await this.loadSettings();
    } catch (error) {
      this.logger.error("resetCatalogs failed:", error);
    }
  }
  getStorageService() {
    return this.storageService;
  }
  getImportService() {
    return this.importService;
  }
  getFileService() {
    return this.fileService;
  }
  getUpgradeManager() {
    return this.upgradeManager;
  }
  /**
   * Show provider selection dialog and then file selection
   */
  showProviderSelectionDialog() {
    const providerRegistry = createProviderRegistry(this);
    new ProviderSelectionDialog(
      this.app,
      providerRegistry,
      (selectedProvider) => {
        this.selectZipFilesForProvider(selectedProvider);
      }
    ).open();
  }
  /**
   * Select ZIP files for a specific provider
   */
  selectZipFilesForProvider(provider) {
    const input = document.createElement("input");
    input.type = "file";
    input.accept = ".zip";
    input.multiple = true;
    input.onchange = async (e) => {
      const files = Array.from(e.target.files || []);
      if (files.length > 0) {
        const sortedFiles = this.sortFilesByTimestamp(files);
        for (const file of sortedFiles) {
          await this.importService.handleZipFile(file, provider);
        }
      }
    };
    input.click();
  }
  /**
   * Sort files by timestamp (same logic as ImportService)
   */
  sortFilesByTimestamp(files) {
    return files.sort((a, b) => {
      const timestampRegex = /(\d{4}-\d{2}-\d{2}-\d{2}-\d{2}-\d{2})/;
      const getTimestamp = (filename) => {
        const match = filename.match(timestampRegex);
        if (!match) {
          this.logger.warn(`No timestamp found in filename: ${filename}`);
          return "0";
        }
        return match[1];
      };
      return getTimestamp(a.name).localeCompare(getTimestamp(b.name));
    });
  }
};
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL2pzemlwL2Rpc3QvanN6aXAubWluLmpzIiwgIi4uL3NyYy9sb2dnZXIudHMiLCAiLi4vc3JjL3V0aWxzLnRzIiwgIi4uL3NyYy9kaWFsb2dzLnRzIiwgIi4uL3NyYy91cGdyYWRlL3V0aWxzL3ZlcnNpb24tdXRpbHMudHMiLCAiLi4vc3JjL3VwZ3JhZGUvdXBncmFkZS1pbnRlcmZhY2UudHMiLCAiLi4vc3JjL3VwZ3JhZGUvdmVyc2lvbnMvdXBncmFkZS0xLjEuMC50cyIsICIuLi9zcmMvdXBncmFkZS92ZXJzaW9ucy91cGdyYWRlLTEuMi4wLnRzIiwgIi4uL3NyYy9tYWluLnRzIiwgIi4uL3NyYy9jb25maWcvY29uc3RhbnRzLnRzIiwgIi4uL3NyYy91aS9zZXR0aW5ncy10YWIudHMiLCAiLi4vc3JjL3VpL3NldHRpbmdzL2NvbnZlcnNhdGlvbi1zZXR0aW5ncy1zZWN0aW9uLnRzIiwgIi4uL3NyYy91aS9zZXR0aW5ncy9iYXNlLXNldHRpbmdzLXNlY3Rpb24udHMiLCAiLi4vc3JjL3VpL3NldHRpbmdzL2F0dGFjaG1lbnQtc2V0dGluZ3Mtc2VjdGlvbi50cyIsICIuLi9zcmMvdWkvc2V0dGluZ3MvbWlncmF0aW9ucy1zZXR0aW5ncy1zZWN0aW9uLnRzIiwgIi4uL3NyYy9jb21tYW5kcy9jb21tYW5kLXJlZ2lzdHJ5LnRzIiwgIi4uL3NyYy9ldmVudHMvZXZlbnQtaGFuZGxlcnMudHMiLCAiLi4vc3JjL3NlcnZpY2VzL2ltcG9ydC1zZXJ2aWNlLnRzIiwgIi4uL3NyYy9tb2RlbHMvaW1wb3J0LXJlcG9ydC50cyIsICIuLi9zcmMvc2VydmljZXMvY29udmVyc2F0aW9uLXByb2Nlc3Nvci50cyIsICIuLi9zcmMvZm9ybWF0dGVycy9tZXNzYWdlLWZvcm1hdHRlci50cyIsICIuLi9zcmMvZm9ybWF0dGVycy9ub3RlLWZvcm1hdHRlci50cyIsICIuLi9zcmMvdHlwZXMvc3RhbmRhcmQudHMiLCAiLi4vc3JjL3NlcnZpY2VzL2ZpbGUtc2VydmljZS50cyIsICIuLi9zcmMvbW9kZWxzL2Vycm9ycy50cyIsICIuLi9zcmMvcHJvdmlkZXJzL3Byb3ZpZGVyLWFkYXB0ZXIudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9jaGF0Z3B0L2NoYXRncHQtY29udmVydGVyLnRzIiwgIi4uL3NyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LWF0dGFjaG1lbnQtZXh0cmFjdG9yLnRzIiwgIi4uL3NyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LXJlcG9ydC1uYW1pbmcudHMiLCAiLi4vc3JjL3Byb3ZpZGVycy9jaGF0Z3B0L2NoYXRncHQtYWRhcHRlci50cyIsICIuLi9zcmMvcHJvdmlkZXJzL2NsYXVkZS9jbGF1ZGUtY29udmVydGVyLnRzIiwgIi4uL3NyYy9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS1hdHRhY2htZW50LWV4dHJhY3Rvci50cyIsICIuLi9zcmMvcHJvdmlkZXJzL2NsYXVkZS9jbGF1ZGUtcmVwb3J0LW5hbWluZy50cyIsICIuLi9zcmMvcHJvdmlkZXJzL2NsYXVkZS9jbGF1ZGUtYWRhcHRlci50cyIsICIuLi9zcmMvcHJvdmlkZXJzL3Byb3ZpZGVyLXJlZ2lzdHJ5LnRzIiwgIi4uL3NyYy9zZXJ2aWNlcy9zdG9yYWdlLXNlcnZpY2UudHMiLCAiLi4vc3JjL3VwZ3JhZGUvaW5jcmVtZW50YWwtdXBncmFkZS1tYW5hZ2VyLnRzIiwgIi4uL3NyYy91cGdyYWRlL3V0aWxzL211bHRpLW9wZXJhdGlvbi1wcm9ncmVzcy1tb2RhbC50cyIsICIuLi9zcmMvZGlhbG9ncy9wcm92aWRlci1zZWxlY3Rpb24tZGlhbG9nLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKiFcblxuSlNaaXAgdjMuMTAuMSAtIEEgSmF2YVNjcmlwdCBjbGFzcyBmb3IgZ2VuZXJhdGluZyBhbmQgcmVhZGluZyB6aXAgZmlsZXNcbjxodHRwOi8vc3R1YXJ0ay5jb20vanN6aXA+XG5cbihjKSAyMDA5LTIwMTYgU3R1YXJ0IEtuaWdodGxleSA8c3R1YXJ0IFthdF0gc3R1YXJ0ay5jb20+XG5EdWFsIGxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBvciBHUEx2My4gU2VlIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vU3R1ay9qc3ppcC9tYWluL0xJQ0VOU0UubWFya2Rvd24uXG5cbkpTWmlwIHVzZXMgdGhlIGxpYnJhcnkgcGFrbyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgOlxuaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvL2Jsb2IvbWFpbi9MSUNFTlNFXG4qL1xuXG4hZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNleyhcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMpLkpTWmlwPWUoKX19KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHMoYSxvLGgpe2Z1bmN0aW9uIHUocixlKXtpZighb1tyXSl7aWYoIWFbcl0pe3ZhciB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWUmJnQpcmV0dXJuIHQociwhMCk7aWYobClyZXR1cm4gbChyLCEwKTt2YXIgbj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3IrXCInXCIpO3Rocm93IG4uY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixufXZhciBpPW9bcl09e2V4cG9ydHM6e319O2Fbcl1bMF0uY2FsbChpLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHQ9YVtyXVsxXVtlXTtyZXR1cm4gdSh0fHxlKX0saSxpLmV4cG9ydHMscyxhLG8saCl9cmV0dXJuIG9bcl0uZXhwb3J0c31mb3IodmFyIGw9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxlPTA7ZTxoLmxlbmd0aDtlKyspdShoW2VdKTtyZXR1cm4gdX0oezE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgZD1lKFwiLi91dGlsc1wiKSxjPWUoXCIuL3N1cHBvcnRcIikscD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7ci5lbmNvZGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsbixpLHMsYSxvLGg9W10sdT0wLGw9ZS5sZW5ndGgsZj1sLGM9XCJzdHJpbmdcIiE9PWQuZ2V0VHlwZU9mKGUpO3U8ZS5sZW5ndGg7KWY9bC11LG49Yz8odD1lW3UrK10scj11PGw/ZVt1KytdOjAsdTxsP2VbdSsrXTowKToodD1lLmNoYXJDb2RlQXQodSsrKSxyPXU8bD9lLmNoYXJDb2RlQXQodSsrKTowLHU8bD9lLmNoYXJDb2RlQXQodSsrKTowKSxpPXQ+PjIscz0oMyZ0KTw8NHxyPj40LGE9MTxmPygxNSZyKTw8MnxuPj42OjY0LG89MjxmPzYzJm46NjQsaC5wdXNoKHAuY2hhckF0KGkpK3AuY2hhckF0KHMpK3AuY2hhckF0KGEpK3AuY2hhckF0KG8pKTtyZXR1cm4gaC5qb2luKFwiXCIpfSxyLmRlY29kZT1mdW5jdGlvbihlKXt2YXIgdCxyLG4saSxzLGEsbz0wLGg9MCx1PVwiZGF0YTpcIjtpZihlLnN1YnN0cigwLHUubGVuZ3RoKT09PXUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGl0IGxvb2tzIGxpa2UgYSBkYXRhIHVybC5cIik7dmFyIGwsZj0zKihlPWUucmVwbGFjZSgvW15BLVphLXowLTkrLz1dL2csXCJcIikpLmxlbmd0aC80O2lmKGUuY2hhckF0KGUubGVuZ3RoLTEpPT09cC5jaGFyQXQoNjQpJiZmLS0sZS5jaGFyQXQoZS5sZW5ndGgtMik9PT1wLmNoYXJBdCg2NCkmJmYtLSxmJTEhPTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGJhZCBjb250ZW50IGxlbmd0aC5cIik7Zm9yKGw9Yy51aW50OGFycmF5P25ldyBVaW50OEFycmF5KDB8Zik6bmV3IEFycmF5KDB8Zik7bzxlLmxlbmd0aDspdD1wLmluZGV4T2YoZS5jaGFyQXQobysrKSk8PDJ8KGk9cC5pbmRleE9mKGUuY2hhckF0KG8rKykpKT4+NCxyPSgxNSZpKTw8NHwocz1wLmluZGV4T2YoZS5jaGFyQXQobysrKSkpPj4yLG49KDMmcyk8PDZ8KGE9cC5pbmRleE9mKGUuY2hhckF0KG8rKykpKSxsW2grK109dCw2NCE9PXMmJihsW2grK109ciksNjQhPT1hJiYobFtoKytdPW4pO3JldHVybiBsfX0se1wiLi9zdXBwb3J0XCI6MzAsXCIuL3V0aWxzXCI6MzJ9XSwyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vZXh0ZXJuYWxcIiksaT1lKFwiLi9zdHJlYW0vRGF0YVdvcmtlclwiKSxzPWUoXCIuL3N0cmVhbS9DcmMzMlByb2JlXCIpLGE9ZShcIi4vc3RyZWFtL0RhdGFMZW5ndGhQcm9iZVwiKTtmdW5jdGlvbiBvKGUsdCxyLG4saSl7dGhpcy5jb21wcmVzc2VkU2l6ZT1lLHRoaXMudW5jb21wcmVzc2VkU2l6ZT10LHRoaXMuY3JjMzI9cix0aGlzLmNvbXByZXNzaW9uPW4sdGhpcy5jb21wcmVzc2VkQ29udGVudD1pfW8ucHJvdG90eXBlPXtnZXRDb250ZW50V29ya2VyOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IGkobi5Qcm9taXNlLnJlc29sdmUodGhpcy5jb21wcmVzc2VkQ29udGVudCkpLnBpcGUodGhpcy5jb21wcmVzc2lvbi51bmNvbXByZXNzV29ya2VyKCkpLnBpcGUobmV3IGEoXCJkYXRhX2xlbmd0aFwiKSksdD10aGlzO3JldHVybiBlLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtpZih0aGlzLnN0cmVhbUluZm8uZGF0YV9sZW5ndGghPT10LnVuY29tcHJlc3NlZFNpemUpdGhyb3cgbmV3IEVycm9yKFwiQnVnIDogdW5jb21wcmVzc2VkIGRhdGEgc2l6ZSBtaXNtYXRjaFwiKX0pLGV9LGdldENvbXByZXNzZWRXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkobi5Qcm9taXNlLnJlc29sdmUodGhpcy5jb21wcmVzc2VkQ29udGVudCkpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3NlZFNpemVcIix0aGlzLmNvbXByZXNzZWRTaXplKS53aXRoU3RyZWFtSW5mbyhcInVuY29tcHJlc3NlZFNpemVcIix0aGlzLnVuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKFwiY3JjMzJcIix0aGlzLmNyYzMyKS53aXRoU3RyZWFtSW5mbyhcImNvbXByZXNzaW9uXCIsdGhpcy5jb21wcmVzc2lvbil9fSxvLmNyZWF0ZVdvcmtlckZyb209ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnBpcGUobmV3IHMpLnBpcGUobmV3IGEoXCJ1bmNvbXByZXNzZWRTaXplXCIpKS5waXBlKHQuY29tcHJlc3NXb3JrZXIocikpLnBpcGUobmV3IGEoXCJjb21wcmVzc2VkU2l6ZVwiKSkud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2lvblwiLHQpfSx0LmV4cG9ydHM9b30se1wiLi9leHRlcm5hbFwiOjYsXCIuL3N0cmVhbS9DcmMzMlByb2JlXCI6MjUsXCIuL3N0cmVhbS9EYXRhTGVuZ3RoUHJvYmVcIjoyNixcIi4vc3RyZWFtL0RhdGFXb3JrZXJcIjoyN31dLDM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKTtyLlNUT1JFPXttYWdpYzpcIlxcMFxcMFwiLGNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKFwiU1RPUkUgY29tcHJlc3Npb25cIil9LHVuY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4oXCJTVE9SRSBkZWNvbXByZXNzaW9uXCIpfX0sci5ERUZMQVRFPWUoXCIuL2ZsYXRlXCIpfSx7XCIuL2ZsYXRlXCI6NyxcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDQ6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi91dGlsc1wiKTt2YXIgbz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PVtdLHI9MDtyPDI1NjtyKyspe2U9cjtmb3IodmFyIG49MDtuPDg7bisrKWU9MSZlPzM5ODgyOTIzODReZT4+PjE6ZT4+PjE7dFtyXT1lfXJldHVybiB0fSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT1lJiZlLmxlbmd0aD9cInN0cmluZ1wiIT09bi5nZXRUeXBlT2YoZSk/ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9byxzPW4rcjtlXj0tMTtmb3IodmFyIGE9bjthPHM7YSsrKWU9ZT4+PjheaVsyNTUmKGVedFthXSldO3JldHVybi0xXmV9KDB8dCxlLGUubGVuZ3RoLDApOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPW8scz1uK3I7ZV49LTE7Zm9yKHZhciBhPW47YTxzO2ErKyllPWU+Pj44XmlbMjU1JihlXnQuY2hhckNvZGVBdChhKSldO3JldHVybi0xXmV9KDB8dCxlLGUubGVuZ3RoLDApOjB9fSx7XCIuL3V0aWxzXCI6MzJ9XSw1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5iYXNlNjQ9ITEsci5iaW5hcnk9ITEsci5kaXI9ITEsci5jcmVhdGVGb2xkZXJzPSEwLHIuZGF0ZT1udWxsLHIuY29tcHJlc3Npb249bnVsbCxyLmNvbXByZXNzaW9uT3B0aW9ucz1udWxsLHIuY29tbWVudD1udWxsLHIudW5peFBlcm1pc3Npb25zPW51bGwsci5kb3NQZXJtaXNzaW9ucz1udWxsfSx7fV0sNjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPW51bGw7bj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOmUoXCJsaWVcIiksdC5leHBvcnRzPXtQcm9taXNlOm59fSx7bGllOjM3fV0sNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDE2QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MzJBcnJheSxpPWUoXCJwYWtvXCIpLHM9ZShcIi4vdXRpbHNcIiksYT1lKFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKSxvPW4/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2Z1bmN0aW9uIGgoZSx0KXthLmNhbGwodGhpcyxcIkZsYXRlV29ya2VyL1wiK2UpLHRoaXMuX3Bha289bnVsbCx0aGlzLl9wYWtvQWN0aW9uPWUsdGhpcy5fcGFrb09wdGlvbnM9dCx0aGlzLm1ldGE9e319ci5tYWdpYz1cIlxcYlxcMFwiLHMuaW5oZXJpdHMoaCxhKSxoLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7dGhpcy5tZXRhPWUubWV0YSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaChzLnRyYW5zZm9ybVRvKG8sZS5kYXRhKSwhMSl9LGgucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7YS5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaChbXSwhMCl9LGgucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXthLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5fcGFrbz1udWxsfSxoLnByb3RvdHlwZS5fY3JlYXRlUGFrbz1mdW5jdGlvbigpe3RoaXMuX3Bha289bmV3IGlbdGhpcy5fcGFrb0FjdGlvbl0oe3JhdzohMCxsZXZlbDp0aGlzLl9wYWtvT3B0aW9ucy5sZXZlbHx8LTF9KTt2YXIgdD10aGlzO3RoaXMuX3Bha28ub25EYXRhPWZ1bmN0aW9uKGUpe3QucHVzaCh7ZGF0YTplLG1ldGE6dC5tZXRhfSl9fSxyLmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaChcIkRlZmxhdGVcIixlKX0sci51bmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoKFwiSW5mbGF0ZVwiLHt9KX19LHtcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4vdXRpbHNcIjozMixwYWtvOjM4fV0sODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEEoZSx0KXt2YXIgcixuPVwiXCI7Zm9yKHI9MDtyPHQ7cisrKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoMjU1JmUpLGU+Pj49ODtyZXR1cm4gbn1mdW5jdGlvbiBuKGUsdCxyLG4saSxzKXt2YXIgYSxvLGg9ZS5maWxlLHU9ZS5jb21wcmVzc2lvbixsPXMhPT1PLnV0ZjhlbmNvZGUsZj1JLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIscyhoLm5hbWUpKSxjPUkudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixPLnV0ZjhlbmNvZGUoaC5uYW1lKSksZD1oLmNvbW1lbnQscD1JLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIscyhkKSksbT1JLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsTy51dGY4ZW5jb2RlKGQpKSxfPWMubGVuZ3RoIT09aC5uYW1lLmxlbmd0aCxnPW0ubGVuZ3RoIT09ZC5sZW5ndGgsYj1cIlwiLHY9XCJcIix5PVwiXCIsdz1oLmRpcixrPWguZGF0ZSx4PXtjcmMzMjowLGNvbXByZXNzZWRTaXplOjAsdW5jb21wcmVzc2VkU2l6ZTowfTt0JiYhcnx8KHguY3JjMzI9ZS5jcmMzMix4LmNvbXByZXNzZWRTaXplPWUuY29tcHJlc3NlZFNpemUseC51bmNvbXByZXNzZWRTaXplPWUudW5jb21wcmVzc2VkU2l6ZSk7dmFyIFM9MDt0JiYoU3w9OCksbHx8IV8mJiFnfHwoU3w9MjA0OCk7dmFyIHo9MCxDPTA7dyYmKHp8PTE2KSxcIlVOSVhcIj09PWk/KEM9Nzk4LHp8PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtyZXR1cm4gZXx8KHI9dD8xNjg5MzozMzIwNCksKDY1NTM1JnIpPDwxNn0oaC51bml4UGVybWlzc2lvbnMsdykpOihDPTIwLHp8PWZ1bmN0aW9uKGUpe3JldHVybiA2MyYoZXx8MCl9KGguZG9zUGVybWlzc2lvbnMpKSxhPWsuZ2V0VVRDSG91cnMoKSxhPDw9NixhfD1rLmdldFVUQ01pbnV0ZXMoKSxhPDw9NSxhfD1rLmdldFVUQ1NlY29uZHMoKS8yLG89ay5nZXRVVENGdWxsWWVhcigpLTE5ODAsbzw8PTQsb3w9ay5nZXRVVENNb250aCgpKzEsbzw8PTUsb3w9ay5nZXRVVENEYXRlKCksXyYmKHY9QSgxLDEpK0EoQihmKSw0KStjLGIrPVwidXBcIitBKHYubGVuZ3RoLDIpK3YpLGcmJih5PUEoMSwxKStBKEIocCksNCkrbSxiKz1cInVjXCIrQSh5Lmxlbmd0aCwyKSt5KTt2YXIgRT1cIlwiO3JldHVybiBFKz1cIlxcblxcMFwiLEUrPUEoUywyKSxFKz11Lm1hZ2ljLEUrPUEoYSwyKSxFKz1BKG8sMiksRSs9QSh4LmNyYzMyLDQpLEUrPUEoeC5jb21wcmVzc2VkU2l6ZSw0KSxFKz1BKHgudW5jb21wcmVzc2VkU2l6ZSw0KSxFKz1BKGYubGVuZ3RoLDIpLEUrPUEoYi5sZW5ndGgsMikse2ZpbGVSZWNvcmQ6Ui5MT0NBTF9GSUxFX0hFQURFUitFK2YrYixkaXJSZWNvcmQ6Ui5DRU5UUkFMX0ZJTEVfSEVBREVSK0EoQywyKStFK0EocC5sZW5ndGgsMikrXCJcXDBcXDBcXDBcXDBcIitBKHosNCkrQShuLDQpK2YrYitwfX12YXIgST1lKFwiLi4vdXRpbHNcIiksaT1lKFwiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIiksTz1lKFwiLi4vdXRmOFwiKSxCPWUoXCIuLi9jcmMzMlwiKSxSPWUoXCIuLi9zaWduYXR1cmVcIik7ZnVuY3Rpb24gcyhlLHQscixuKXtpLmNhbGwodGhpcyxcIlppcEZpbGVXb3JrZXJcIiksdGhpcy5ieXRlc1dyaXR0ZW49MCx0aGlzLnppcENvbW1lbnQ9dCx0aGlzLnppcFBsYXRmb3JtPXIsdGhpcy5lbmNvZGVGaWxlTmFtZT1uLHRoaXMuc3RyZWFtRmlsZXM9ZSx0aGlzLmFjY3VtdWxhdGU9ITEsdGhpcy5jb250ZW50QnVmZmVyPVtdLHRoaXMuZGlyUmVjb3Jkcz1bXSx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQ9MCx0aGlzLmVudHJpZXNDb3VudD0wLHRoaXMuY3VycmVudEZpbGU9bnVsbCx0aGlzLl9zb3VyY2VzPVtdfUkuaW5oZXJpdHMocyxpKSxzLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWV0YS5wZXJjZW50fHwwLHI9dGhpcy5lbnRyaWVzQ291bnQsbj10aGlzLl9zb3VyY2VzLmxlbmd0aDt0aGlzLmFjY3VtdWxhdGU/dGhpcy5jb250ZW50QnVmZmVyLnB1c2goZSk6KHRoaXMuYnl0ZXNXcml0dGVuKz1lLmRhdGEubGVuZ3RoLGkucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHtkYXRhOmUuZGF0YSxtZXRhOntjdXJyZW50RmlsZTp0aGlzLmN1cnJlbnRGaWxlLHBlcmNlbnQ6cj8odCsxMDAqKHItbi0xKSkvcjoxMDB9fSkpfSxzLnByb3RvdHlwZS5vcGVuZWRTb3VyY2U9ZnVuY3Rpb24oZSl7dGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PXRoaXMuYnl0ZXNXcml0dGVuLHRoaXMuY3VycmVudEZpbGU9ZS5maWxlLm5hbWU7dmFyIHQ9dGhpcy5zdHJlYW1GaWxlcyYmIWUuZmlsZS5kaXI7aWYodCl7dmFyIHI9bihlLHQsITEsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOnIuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSl9ZWxzZSB0aGlzLmFjY3VtdWxhdGU9ITB9LHMucHJvdG90eXBlLmNsb3NlZFNvdXJjZT1mdW5jdGlvbihlKXt0aGlzLmFjY3VtdWxhdGU9ITE7dmFyIHQ9dGhpcy5zdHJlYW1GaWxlcyYmIWUuZmlsZS5kaXIscj1uKGUsdCwhMCx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQsdGhpcy56aXBQbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lKTtpZih0aGlzLmRpclJlY29yZHMucHVzaChyLmRpclJlY29yZCksdCl0aGlzLnB1c2goe2RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIFIuREFUQV9ERVNDUklQVE9SK0EoZS5jcmMzMiw0KStBKGUuY29tcHJlc3NlZFNpemUsNCkrQShlLnVuY29tcHJlc3NlZFNpemUsNCl9KGUpLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO2Vsc2UgZm9yKHRoaXMucHVzaCh7ZGF0YTpyLmZpbGVSZWNvcmQsbWV0YTp7cGVyY2VudDowfX0pO3RoaXMuY29udGVudEJ1ZmZlci5sZW5ndGg7KXRoaXMucHVzaCh0aGlzLmNvbnRlbnRCdWZmZXIuc2hpZnQoKSk7dGhpcy5jdXJyZW50RmlsZT1udWxsfSxzLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ5dGVzV3JpdHRlbix0PTA7dDx0aGlzLmRpclJlY29yZHMubGVuZ3RoO3QrKyl0aGlzLnB1c2goe2RhdGE6dGhpcy5kaXJSZWNvcmRzW3RdLG1ldGE6e3BlcmNlbnQ6MTAwfX0pO3ZhciByPXRoaXMuYnl0ZXNXcml0dGVuLWUsbj1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBzPUkudHJhbnNmb3JtVG8oXCJzdHJpbmdcIixpKG4pKTtyZXR1cm4gUi5DRU5UUkFMX0RJUkVDVE9SWV9FTkQrXCJcXDBcXDBcXDBcXDBcIitBKGUsMikrQShlLDIpK0EodCw0KStBKHIsNCkrQShzLmxlbmd0aCwyKStzfSh0aGlzLmRpclJlY29yZHMubGVuZ3RoLHIsZSx0aGlzLnppcENvbW1lbnQsdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOm4sbWV0YTp7cGVyY2VudDoxMDB9fSl9LHMucHJvdG90eXBlLnByZXBhcmVOZXh0U291cmNlPWZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLl9zb3VyY2VzLnNoaWZ0KCksdGhpcy5vcGVuZWRTb3VyY2UodGhpcy5wcmV2aW91cy5zdHJlYW1JbmZvKSx0aGlzLmlzUGF1c2VkP3RoaXMucHJldmlvdXMucGF1c2UoKTp0aGlzLnByZXZpb3VzLnJlc3VtZSgpfSxzLnByb3RvdHlwZS5yZWdpc3RlclByZXZpb3VzPWZ1bmN0aW9uKGUpe3RoaXMuX3NvdXJjZXMucHVzaChlKTt2YXIgdD10aGlzO3JldHVybiBlLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUpe3QucHJvY2Vzc0NodW5rKGUpfSksZS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7dC5jbG9zZWRTb3VyY2UodC5wcmV2aW91cy5zdHJlYW1JbmZvKSx0Ll9zb3VyY2VzLmxlbmd0aD90LnByZXBhcmVOZXh0U291cmNlKCk6dC5lbmQoKX0pLGUub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3QuZXJyb3IoZSl9KSx0aGlzfSxzLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIWkucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMucHJldmlvdXMmJnRoaXMuX3NvdXJjZXMubGVuZ3RoPyh0aGlzLnByZXBhcmVOZXh0U291cmNlKCksITApOnRoaXMucHJldmlvdXN8fHRoaXMuX3NvdXJjZXMubGVuZ3RofHx0aGlzLmdlbmVyYXRlZEVycm9yP3ZvaWQgMDoodGhpcy5lbmQoKSwhMCkpfSxzLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zb3VyY2VzO2lmKCFpLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsZSkpcmV0dXJuITE7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspdHJ5e3Rbcl0uZXJyb3IoZSl9Y2F0Y2goZSl7fXJldHVybiEwfSxzLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUubG9jay5jYWxsKHRoaXMpO2Zvcih2YXIgZT10aGlzLl9zb3VyY2VzLHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmxvY2soKX0sdC5leHBvcnRzPXN9LHtcIi4uL2NyYzMyXCI6NCxcIi4uL3NpZ25hdHVyZVwiOjIzLFwiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4uL3V0ZjhcIjozMSxcIi4uL3V0aWxzXCI6MzJ9XSw5OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHU9ZShcIi4uL2NvbXByZXNzaW9uc1wiKSxuPWUoXCIuL1ppcEZpbGVXb3JrZXJcIik7ci5nZW5lcmF0ZVdvcmtlcj1mdW5jdGlvbihlLGEsdCl7dmFyIG89bmV3IG4oYS5zdHJlYW1GaWxlcyx0LGEucGxhdGZvcm0sYS5lbmNvZGVGaWxlTmFtZSksaD0wO3RyeXtlLmZvckVhY2goZnVuY3Rpb24oZSx0KXtoKys7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lfHx0LG49dVtyXTtpZighbil0aHJvdyBuZXcgRXJyb3IocitcIiBpcyBub3QgYSB2YWxpZCBjb21wcmVzc2lvbiBtZXRob2QgIVwiKTtyZXR1cm4gbn0odC5vcHRpb25zLmNvbXByZXNzaW9uLGEuY29tcHJlc3Npb24pLG49dC5vcHRpb25zLmNvbXByZXNzaW9uT3B0aW9uc3x8YS5jb21wcmVzc2lvbk9wdGlvbnN8fHt9LGk9dC5kaXIscz10LmRhdGU7dC5fY29tcHJlc3NXb3JrZXIocixuKS53aXRoU3RyZWFtSW5mbyhcImZpbGVcIix7bmFtZTplLGRpcjppLGRhdGU6cyxjb21tZW50OnQuY29tbWVudHx8XCJcIix1bml4UGVybWlzc2lvbnM6dC51bml4UGVybWlzc2lvbnMsZG9zUGVybWlzc2lvbnM6dC5kb3NQZXJtaXNzaW9uc30pLnBpcGUobyl9KSxvLmVudHJpZXNDb3VudD1ofWNhdGNoKGUpe28uZXJyb3IoZSl9cmV0dXJuIG99fSx7XCIuLi9jb21wcmVzc2lvbnNcIjozLFwiLi9aaXBGaWxlV29ya2VyXCI6OH1dLDEwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbjtpZihhcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBjb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIik7dGhpcy5maWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuY29tbWVudD1udWxsLHRoaXMucm9vdD1cIlwiLHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjtmb3IodmFyIHQgaW4gdGhpcylcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW3RdJiYoZVt0XT10aGlzW3RdKTtyZXR1cm4gZX19KG4ucHJvdG90eXBlPWUoXCIuL29iamVjdFwiKSkubG9hZEFzeW5jPWUoXCIuL2xvYWRcIiksbi5zdXBwb3J0PWUoXCIuL3N1cHBvcnRcIiksbi5kZWZhdWx0cz1lKFwiLi9kZWZhdWx0c1wiKSxuLnZlcnNpb249XCIzLjEwLjFcIixuLmxvYWRBc3luYz1mdW5jdGlvbihlLHQpe3JldHVybihuZXcgbikubG9hZEFzeW5jKGUsdCl9LG4uZXh0ZXJuYWw9ZShcIi4vZXh0ZXJuYWxcIiksdC5leHBvcnRzPW59LHtcIi4vZGVmYXVsdHNcIjo1LFwiLi9leHRlcm5hbFwiOjYsXCIuL2xvYWRcIjoxMSxcIi4vb2JqZWN0XCI6MTUsXCIuL3N1cHBvcnRcIjozMH1dLDExOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHU9ZShcIi4vdXRpbHNcIiksaT1lKFwiLi9leHRlcm5hbFwiKSxuPWUoXCIuL3V0ZjhcIikscz1lKFwiLi96aXBFbnRyaWVzXCIpLGE9ZShcIi4vc3RyZWFtL0NyYzMyUHJvYmVcIiksbD1lKFwiLi9ub2RlanNVdGlsc1wiKTtmdW5jdGlvbiBmKG4pe3JldHVybiBuZXcgaS5Qcm9taXNlKGZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5kZWNvbXByZXNzZWQuZ2V0Q29udGVudFdvcmtlcigpLnBpcGUobmV3IGEpO3Iub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3QoZSl9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7ci5zdHJlYW1JbmZvLmNyYzMyIT09bi5kZWNvbXByZXNzZWQuY3JjMzI/dChuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIDogQ1JDMzIgbWlzbWF0Y2hcIikpOmUoKX0pLnJlc3VtZSgpfSl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsbyl7dmFyIGg9dGhpcztyZXR1cm4gbz11LmV4dGVuZChvfHx7fSx7YmFzZTY0OiExLGNoZWNrQ1JDMzI6ITEsb3B0aW1pemVkQmluYXJ5U3RyaW5nOiExLGNyZWF0ZUZvbGRlcnM6ITEsZGVjb2RlRmlsZU5hbWU6bi51dGY4ZGVjb2RlfSksbC5pc05vZGUmJmwuaXNTdHJlYW0oZSk/aS5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJKU1ppcCBjYW4ndCBhY2NlcHQgYSBzdHJlYW0gd2hlbiBsb2FkaW5nIGEgemlwIGZpbGUuXCIpKTp1LnByZXBhcmVDb250ZW50KFwidGhlIGxvYWRlZCB6aXAgZmlsZVwiLGUsITAsby5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcsby5iYXNlNjQpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHMobyk7cmV0dXJuIHQubG9hZChlKSx0fSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1baS5Qcm9taXNlLnJlc29sdmUoZSldLHI9ZS5maWxlcztpZihvLmNoZWNrQ1JDMzIpZm9yKHZhciBuPTA7bjxyLmxlbmd0aDtuKyspdC5wdXNoKGYocltuXSkpO3JldHVybiBpLlByb21pc2UuYWxsKHQpfSkudGhlbihmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zaGlmdCgpLHI9dC5maWxlcyxuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl0scz1pLmZpbGVOYW1lU3RyLGE9dS5yZXNvbHZlKGkuZmlsZU5hbWVTdHIpO2guZmlsZShhLGkuZGVjb21wcmVzc2VkLHtiaW5hcnk6ITAsb3B0aW1pemVkQmluYXJ5U3RyaW5nOiEwLGRhdGU6aS5kYXRlLGRpcjppLmRpcixjb21tZW50OmkuZmlsZUNvbW1lbnRTdHIubGVuZ3RoP2kuZmlsZUNvbW1lbnRTdHI6bnVsbCx1bml4UGVybWlzc2lvbnM6aS51bml4UGVybWlzc2lvbnMsZG9zUGVybWlzc2lvbnM6aS5kb3NQZXJtaXNzaW9ucyxjcmVhdGVGb2xkZXJzOm8uY3JlYXRlRm9sZGVyc30pLGkuZGlyfHwoaC5maWxlKGEpLnVuc2FmZU9yaWdpbmFsTmFtZT1zKX1yZXR1cm4gdC56aXBDb21tZW50Lmxlbmd0aCYmKGguY29tbWVudD10LnppcENvbW1lbnQpLGh9KX19LHtcIi4vZXh0ZXJuYWxcIjo2LFwiLi9ub2RlanNVdGlsc1wiOjE0LFwiLi9zdHJlYW0vQ3JjMzJQcm9iZVwiOjI1LFwiLi91dGY4XCI6MzEsXCIuL3V0aWxzXCI6MzIsXCIuL3ppcEVudHJpZXNcIjozM31dLDEyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4uL3V0aWxzXCIpLGk9ZShcIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyXCIpO2Z1bmN0aW9uIHMoZSx0KXtpLmNhbGwodGhpcyxcIk5vZGVqcyBzdHJlYW0gaW5wdXQgYWRhcHRlciBmb3IgXCIrZSksdGhpcy5fdXBzdHJlYW1FbmRlZD0hMSx0aGlzLl9iaW5kU3RyZWFtKHQpfW4uaW5oZXJpdHMocyxpKSxzLnByb3RvdHlwZS5fYmluZFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzOyh0aGlzLl9zdHJlYW09ZSkucGF1c2UoKSxlLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUpe3QucHVzaCh7ZGF0YTplLG1ldGE6e3BlcmNlbnQ6MH19KX0pLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXt0LmlzUGF1c2VkP3RoaXMuZ2VuZXJhdGVkRXJyb3I9ZTp0LmVycm9yKGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3QuaXNQYXVzZWQ/dC5fdXBzdHJlYW1FbmRlZD0hMDp0LmVuZCgpfSl9LHMucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuISFpLnByb3RvdHlwZS5wYXVzZS5jYWxsKHRoaXMpJiYodGhpcy5fc3RyZWFtLnBhdXNlKCksITApfSxzLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIWkucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYodGhpcy5fdXBzdHJlYW1FbmRlZD90aGlzLmVuZCgpOnRoaXMuX3N0cmVhbS5yZXN1bWUoKSwhMCl9LHQuZXhwb3J0cz1zfSx7XCIuLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiOjI4LFwiLi4vdXRpbHNcIjozMn1dLDEzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZShcInJlYWRhYmxlLXN0cmVhbVwiKS5SZWFkYWJsZTtmdW5jdGlvbiBuKGUsdCxyKXtpLmNhbGwodGhpcyx0KSx0aGlzLl9oZWxwZXI9ZTt2YXIgbj10aGlzO2Uub24oXCJkYXRhXCIsZnVuY3Rpb24oZSx0KXtuLnB1c2goZSl8fG4uX2hlbHBlci5wYXVzZSgpLHImJnIodCl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7bi5lbWl0KFwiZXJyb3JcIixlKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtuLnB1c2gobnVsbCl9KX1lKFwiLi4vdXRpbHNcIikuaW5oZXJpdHMobixpKSxuLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe3RoaXMuX2hlbHBlci5yZXN1bWUoKX0sdC5leHBvcnRzPW59LHtcIi4uL3V0aWxzXCI6MzIsXCJyZWFkYWJsZS1zdHJlYW1cIjoxNn1dLDE0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPXtpc05vZGU6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJ1ZmZlcixuZXdCdWZmZXJGcm9tOmZ1bmN0aW9uKGUsdCl7aWYoQnVmZmVyLmZyb20mJkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tKXJldHVybiBCdWZmZXIuZnJvbShlLHQpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcignVGhlIFwiZGF0YVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuIG5ldyBCdWZmZXIoZSx0KX0sYWxsb2NCdWZmZXI6ZnVuY3Rpb24oZSl7aWYoQnVmZmVyLmFsbG9jKXJldHVybiBCdWZmZXIuYWxsb2MoZSk7dmFyIHQ9bmV3IEJ1ZmZlcihlKTtyZXR1cm4gdC5maWxsKDApLHR9LGlzQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIoZSl9LGlzU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnBhdXNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlc3VtZX19fSx7fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBzKGUsdCxyKXt2YXIgbixpPXUuZ2V0VHlwZU9mKHQpLHM9dS5leHRlbmQocnx8e30sZik7cy5kYXRlPXMuZGF0ZXx8bmV3IERhdGUsbnVsbCE9PXMuY29tcHJlc3Npb24mJihzLmNvbXByZXNzaW9uPXMuY29tcHJlc3Npb24udG9VcHBlckNhc2UoKSksXCJzdHJpbmdcIj09dHlwZW9mIHMudW5peFBlcm1pc3Npb25zJiYocy51bml4UGVybWlzc2lvbnM9cGFyc2VJbnQocy51bml4UGVybWlzc2lvbnMsOCkpLHMudW5peFBlcm1pc3Npb25zJiYxNjM4NCZzLnVuaXhQZXJtaXNzaW9ucyYmKHMuZGlyPSEwKSxzLmRvc1Blcm1pc3Npb25zJiYxNiZzLmRvc1Blcm1pc3Npb25zJiYocy5kaXI9ITApLHMuZGlyJiYoZT1nKGUpKSxzLmNyZWF0ZUZvbGRlcnMmJihuPV8oZSkpJiZiLmNhbGwodGhpcyxuLCEwKTt2YXIgYT1cInN0cmluZ1wiPT09aSYmITE9PT1zLmJpbmFyeSYmITE9PT1zLmJhc2U2NDtyJiZ2b2lkIDAhPT1yLmJpbmFyeXx8KHMuYmluYXJ5PSFhKSwodCBpbnN0YW5jZW9mIGMmJjA9PT10LnVuY29tcHJlc3NlZFNpemV8fHMuZGlyfHwhdHx8MD09PXQubGVuZ3RoKSYmKHMuYmFzZTY0PSExLHMuYmluYXJ5PSEwLHQ9XCJcIixzLmNvbXByZXNzaW9uPVwiU1RPUkVcIixpPVwic3RyaW5nXCIpO3ZhciBvPW51bGw7bz10IGluc3RhbmNlb2YgY3x8dCBpbnN0YW5jZW9mIGw/dDpwLmlzTm9kZSYmcC5pc1N0cmVhbSh0KT9uZXcgbShlLHQpOnUucHJlcGFyZUNvbnRlbnQoZSx0LHMuYmluYXJ5LHMub3B0aW1pemVkQmluYXJ5U3RyaW5nLHMuYmFzZTY0KTt2YXIgaD1uZXcgZChlLG8scyk7dGhpcy5maWxlc1tlXT1ofXZhciBpPWUoXCIuL3V0ZjhcIiksdT1lKFwiLi91dGlsc1wiKSxsPWUoXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCIpLGE9ZShcIi4vc3RyZWFtL1N0cmVhbUhlbHBlclwiKSxmPWUoXCIuL2RlZmF1bHRzXCIpLGM9ZShcIi4vY29tcHJlc3NlZE9iamVjdFwiKSxkPWUoXCIuL3ppcE9iamVjdFwiKSxvPWUoXCIuL2dlbmVyYXRlXCIpLHA9ZShcIi4vbm9kZWpzVXRpbHNcIiksbT1lKFwiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyXCIpLF89ZnVuY3Rpb24oZSl7XCIvXCI9PT1lLnNsaWNlKC0xKSYmKGU9ZS5zdWJzdHJpbmcoMCxlLmxlbmd0aC0xKSk7dmFyIHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuIDA8dD9lLnN1YnN0cmluZygwLHQpOlwiXCJ9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuXCIvXCIhPT1lLnNsaWNlKC0xKSYmKGUrPVwiL1wiKSxlfSxiPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dm9pZCAwIT09dD90OmYuY3JlYXRlRm9sZGVycyxlPWcoZSksdGhpcy5maWxlc1tlXXx8cy5jYWxsKHRoaXMsZSxudWxsLHtkaXI6ITAsY3JlYXRlRm9sZGVyczp0fSksdGhpcy5maWxlc1tlXX07ZnVuY3Rpb24gaChlKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfXZhciBuPXtsb2FkOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIil9LGZvckVhY2g6ZnVuY3Rpb24oZSl7dmFyIHQscixuO2Zvcih0IGluIHRoaXMuZmlsZXMpbj10aGlzLmZpbGVzW3RdLChyPXQuc2xpY2UodGhpcy5yb290Lmxlbmd0aCx0Lmxlbmd0aCkpJiZ0LnNsaWNlKDAsdGhpcy5yb290Lmxlbmd0aCk9PT10aGlzLnJvb3QmJmUocixuKX0sZmlsdGVyOmZ1bmN0aW9uKHIpe3ZhciBuPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyKGUsdCkmJm4ucHVzaCh0KX0pLG59LGZpbGU6ZnVuY3Rpb24oZSx0LHIpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBlPXRoaXMucm9vdCtlLHMuY2FsbCh0aGlzLGUsdCxyKSx0aGlzO2lmKGgoZSkpe3ZhciBuPWU7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIXQuZGlyJiZuLnRlc3QoZSl9KX12YXIgaT10aGlzLmZpbGVzW3RoaXMucm9vdCtlXTtyZXR1cm4gaSYmIWkuZGlyP2k6bnVsbH0sZm9sZGVyOmZ1bmN0aW9uKHIpe2lmKCFyKXJldHVybiB0aGlzO2lmKGgocikpcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZGlyJiZyLnRlc3QoZSl9KTt2YXIgZT10aGlzLnJvb3Qrcix0PWIuY2FsbCh0aGlzLGUpLG49dGhpcy5jbG9uZSgpO3JldHVybiBuLnJvb3Q9dC5uYW1lLG59LHJlbW92ZTpmdW5jdGlvbihyKXtyPXRoaXMucm9vdCtyO3ZhciBlPXRoaXMuZmlsZXNbcl07aWYoZXx8KFwiL1wiIT09ci5zbGljZSgtMSkmJihyKz1cIi9cIiksZT10aGlzLmZpbGVzW3JdKSxlJiYhZS5kaXIpZGVsZXRlIHRoaXMuZmlsZXNbcl07ZWxzZSBmb3IodmFyIHQ9dGhpcy5maWx0ZXIoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5uYW1lLnNsaWNlKDAsci5sZW5ndGgpPT09cn0pLG49MDtuPHQubGVuZ3RoO24rKylkZWxldGUgdGhpcy5maWxlc1t0W25dLm5hbWVdO3JldHVybiB0aGlzfSxnZW5lcmF0ZTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxnZW5lcmF0ZUludGVybmFsU3RyZWFtOmZ1bmN0aW9uKGUpe3ZhciB0LHI9e307dHJ5e2lmKChyPXUuZXh0ZW5kKGV8fHt9LHtzdHJlYW1GaWxlczohMSxjb21wcmVzc2lvbjpcIlNUT1JFXCIsY29tcHJlc3Npb25PcHRpb25zOm51bGwsdHlwZTpcIlwiLHBsYXRmb3JtOlwiRE9TXCIsY29tbWVudDpudWxsLG1pbWVUeXBlOlwiYXBwbGljYXRpb24vemlwXCIsZW5jb2RlRmlsZU5hbWU6aS51dGY4ZW5jb2RlfSkpLnR5cGU9ci50eXBlLnRvTG93ZXJDYXNlKCksci5jb21wcmVzc2lvbj1yLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCksXCJiaW5hcnlzdHJpbmdcIj09PXIudHlwZSYmKHIudHlwZT1cInN0cmluZ1wiKSwhci50eXBlKXRocm93IG5ldyBFcnJvcihcIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC5cIik7dS5jaGVja1N1cHBvcnQoci50eXBlKSxcImRhcndpblwiIT09ci5wbGF0Zm9ybSYmXCJmcmVlYnNkXCIhPT1yLnBsYXRmb3JtJiZcImxpbnV4XCIhPT1yLnBsYXRmb3JtJiZcInN1bm9zXCIhPT1yLnBsYXRmb3JtfHwoci5wbGF0Zm9ybT1cIlVOSVhcIiksXCJ3aW4zMlwiPT09ci5wbGF0Zm9ybSYmKHIucGxhdGZvcm09XCJET1NcIik7dmFyIG49ci5jb21tZW50fHx0aGlzLmNvbW1lbnR8fFwiXCI7dD1vLmdlbmVyYXRlV29ya2VyKHRoaXMscixuKX1jYXRjaChlKXsodD1uZXcgbChcImVycm9yXCIpKS5lcnJvcihlKX1yZXR1cm4gbmV3IGEodCxyLnR5cGV8fFwic3RyaW5nXCIsci5taW1lVHlwZSl9LGdlbmVyYXRlQXN5bmM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKGUpLmFjY3VtdWxhdGUodCl9LGdlbmVyYXRlTm9kZVN0cmVhbTpmdW5jdGlvbihlLHQpe3JldHVybihlPWV8fHt9KS50eXBlfHwoZS50eXBlPVwibm9kZWJ1ZmZlclwiKSx0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0oZSkudG9Ob2RlanNTdHJlYW0odCl9fTt0LmV4cG9ydHM9bn0se1wiLi9jb21wcmVzc2VkT2JqZWN0XCI6MixcIi4vZGVmYXVsdHNcIjo1LFwiLi9nZW5lcmF0ZVwiOjksXCIuL25vZGVqcy9Ob2RlanNTdHJlYW1JbnB1dEFkYXB0ZXJcIjoxMixcIi4vbm9kZWpzVXRpbHNcIjoxNCxcIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXJcIjoyOCxcIi4vc3RyZWFtL1N0cmVhbUhlbHBlclwiOjI5LFwiLi91dGY4XCI6MzEsXCIuL3V0aWxzXCI6MzIsXCIuL3ppcE9iamVjdFwiOjM1fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZShcInN0cmVhbVwiKX0se3N0cmVhbTp2b2lkIDB9XSwxNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuL0RhdGFSZWFkZXJcIik7ZnVuY3Rpb24gaShlKXtuLmNhbGwodGhpcyxlKTtmb3IodmFyIHQ9MDt0PHRoaXMuZGF0YS5sZW5ndGg7dCsrKWVbdF09MjU1JmVbdF19ZShcIi4uL3V0aWxzXCIpLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGFbdGhpcy56ZXJvK2VdfSxpLnByb3RvdHlwZS5sYXN0SW5kZXhPZlNpZ25hdHVyZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5jaGFyQ29kZUF0KDApLHI9ZS5jaGFyQ29kZUF0KDEpLG49ZS5jaGFyQ29kZUF0KDIpLGk9ZS5jaGFyQ29kZUF0KDMpLHM9dGhpcy5sZW5ndGgtNDswPD1zOy0tcylpZih0aGlzLmRhdGFbc109PT10JiZ0aGlzLmRhdGFbcysxXT09PXImJnRoaXMuZGF0YVtzKzJdPT09biYmdGhpcy5kYXRhW3MrM109PT1pKXJldHVybiBzLXRoaXMuemVybztyZXR1cm4tMX0saS5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKSxyPWUuY2hhckNvZGVBdCgxKSxuPWUuY2hhckNvZGVBdCgyKSxpPWUuY2hhckNvZGVBdCgzKSxzPXRoaXMucmVhZERhdGEoNCk7cmV0dXJuIHQ9PT1zWzBdJiZyPT09c1sxXSYmbj09PXNbMl0mJmk9PT1zWzNdfSxpLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXtpZih0aGlzLmNoZWNrT2Zmc2V0KGUpLDA9PT1lKXJldHVybltdO3ZhciB0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9aX0se1wiLi4vdXRpbHNcIjozMixcIi4vRGF0YVJlYWRlclwiOjE4fV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi4vdXRpbHNcIik7ZnVuY3Rpb24gaShlKXt0aGlzLmRhdGE9ZSx0aGlzLmxlbmd0aD1lLmxlbmd0aCx0aGlzLmluZGV4PTAsdGhpcy56ZXJvPTB9aS5wcm90b3R5cGU9e2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKGUpe3RoaXMuY2hlY2tJbmRleCh0aGlzLmluZGV4K2UpfSxjaGVja0luZGV4OmZ1bmN0aW9uKGUpe2lmKHRoaXMubGVuZ3RoPHRoaXMuemVybytlfHxlPDApdGhyb3cgbmV3IEVycm9yKFwiRW5kIG9mIGRhdGEgcmVhY2hlZCAoZGF0YSBsZW5ndGggPSBcIit0aGlzLmxlbmd0aCtcIiwgYXNrZWQgaW5kZXggPSBcIitlK1wiKS4gQ29ycnVwdGVkIHppcCA/XCIpfSxzZXRJbmRleDpmdW5jdGlvbihlKXt0aGlzLmNoZWNrSW5kZXgoZSksdGhpcy5pbmRleD1lfSxza2lwOmZ1bmN0aW9uKGUpe3RoaXMuc2V0SW5kZXgodGhpcy5pbmRleCtlKX0sYnl0ZUF0OmZ1bmN0aW9uKCl7fSxyZWFkSW50OmZ1bmN0aW9uKGUpe3ZhciB0LHI9MDtmb3IodGhpcy5jaGVja09mZnNldChlKSx0PXRoaXMuaW5kZXgrZS0xO3Q+PXRoaXMuaW5kZXg7dC0tKXI9KHI8PDgpK3RoaXMuYnl0ZUF0KHQpO3JldHVybiB0aGlzLmluZGV4Kz1lLHJ9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG4udHJhbnNmb3JtVG8oXCJzdHJpbmdcIix0aGlzLnJlYWREYXRhKGUpKX0scmVhZERhdGE6ZnVuY3Rpb24oKXt9LGxhc3RJbmRleE9mU2lnbmF0dXJlOmZ1bmN0aW9uKCl7fSxyZWFkQW5kQ2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24oKXt9LHJlYWREYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkSW50KDQpO3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQygxOTgwKyhlPj4yNSYxMjcpLChlPj4yMSYxNSktMSxlPj4xNiYzMSxlPj4xMSYzMSxlPj41JjYzLCgzMSZlKTw8MSkpfX0sdC5leHBvcnRzPWl9LHtcIi4uL3V0aWxzXCI6MzJ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuL1VpbnQ4QXJyYXlSZWFkZXJcIik7ZnVuY3Rpb24gaShlKXtuLmNhbGwodGhpcyxlKX1lKFwiLi4vdXRpbHNcIikuaW5oZXJpdHMoaSxuKSxpLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNoZWNrT2Zmc2V0KGUpO3ZhciB0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9aX0se1wiLi4vdXRpbHNcIjozMixcIi4vVWludDhBcnJheVJlYWRlclwiOjIxfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9EYXRhUmVhZGVyXCIpO2Z1bmN0aW9uIGkoZSl7bi5jYWxsKHRoaXMsZSl9ZShcIi4uL3V0aWxzXCIpLmluaGVyaXRzKGksbiksaS5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnplcm8rZSl9LGkucHJvdG90eXBlLmxhc3RJbmRleE9mU2lnbmF0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEubGFzdEluZGV4T2YoZSktdGhpcy56ZXJvfSxpLnByb3RvdHlwZS5yZWFkQW5kQ2hlY2tTaWduYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzLnJlYWREYXRhKDQpfSxpLnByb3RvdHlwZS5yZWFkRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNoZWNrT2Zmc2V0KGUpO3ZhciB0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9aX0se1wiLi4vdXRpbHNcIjozMixcIi4vRGF0YVJlYWRlclwiOjE4fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9BcnJheVJlYWRlclwiKTtmdW5jdGlvbiBpKGUpe24uY2FsbCh0aGlzLGUpfWUoXCIuLi91dGlsc1wiKS5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2hlY2tPZmZzZXQoZSksMD09PWUpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciB0PXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtlKTtyZXR1cm4gdGhpcy5pbmRleCs9ZSx0fSx0LmV4cG9ydHM9aX0se1wiLi4vdXRpbHNcIjozMixcIi4vQXJyYXlSZWFkZXJcIjoxN31dLDIyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4uL3V0aWxzXCIpLGk9ZShcIi4uL3N1cHBvcnRcIikscz1lKFwiLi9BcnJheVJlYWRlclwiKSxhPWUoXCIuL1N0cmluZ1JlYWRlclwiKSxvPWUoXCIuL05vZGVCdWZmZXJSZWFkZXJcIiksaD1lKFwiLi9VaW50OEFycmF5UmVhZGVyXCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uLmdldFR5cGVPZihlKTtyZXR1cm4gbi5jaGVja1N1cHBvcnQodCksXCJzdHJpbmdcIiE9PXR8fGkudWludDhhcnJheT9cIm5vZGVidWZmZXJcIj09PXQ/bmV3IG8oZSk6aS51aW50OGFycmF5P25ldyBoKG4udHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsZSkpOm5ldyBzKG4udHJhbnNmb3JtVG8oXCJhcnJheVwiLGUpKTpuZXcgYShlKX19LHtcIi4uL3N1cHBvcnRcIjozMCxcIi4uL3V0aWxzXCI6MzIsXCIuL0FycmF5UmVhZGVyXCI6MTcsXCIuL05vZGVCdWZmZXJSZWFkZXJcIjoxOSxcIi4vU3RyaW5nUmVhZGVyXCI6MjAsXCIuL1VpbnQ4QXJyYXlSZWFkZXJcIjoyMX1dLDIzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5MT0NBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAzXHUwMDA0XCIsci5DRU5UUkFMX0ZJTEVfSEVBREVSPVwiUEtcdTAwMDFcdTAwMDJcIixyLkNFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA1XHUwMDA2XCIsci5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SPVwiUEtcdTAwMDZcdTAwMDdcIixyLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORD1cIlBLXHUwMDA2XHUwMDA2XCIsci5EQVRBX0RFU0NSSVBUT1I9XCJQS1x1MDAwN1xcYlwifSx7fV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9HZW5lcmljV29ya2VyXCIpLGk9ZShcIi4uL3V0aWxzXCIpO2Z1bmN0aW9uIHMoZSl7bi5jYWxsKHRoaXMsXCJDb252ZXJ0V29ya2VyIHRvIFwiK2UpLHRoaXMuZGVzdFR5cGU9ZX1pLmluaGVyaXRzKHMsbikscy5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe3RoaXMucHVzaCh7ZGF0YTppLnRyYW5zZm9ybVRvKHRoaXMuZGVzdFR5cGUsZS5kYXRhKSxtZXRhOmUubWV0YX0pfSx0LmV4cG9ydHM9c30se1wiLi4vdXRpbHNcIjozMixcIi4vR2VuZXJpY1dvcmtlclwiOjI4fV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi9HZW5lcmljV29ya2VyXCIpLGk9ZShcIi4uL2NyYzMyXCIpO2Z1bmN0aW9uIHMoKXtuLmNhbGwodGhpcyxcIkNyYzMyUHJvYmVcIiksdGhpcy53aXRoU3RyZWFtSW5mbyhcImNyYzMyXCIsMCl9ZShcIi4uL3V0aWxzXCIpLmluaGVyaXRzKHMsbikscy5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGUpe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1pKGUuZGF0YSx0aGlzLnN0cmVhbUluZm8uY3JjMzJ8fDApLHRoaXMucHVzaChlKX0sdC5leHBvcnRzPXN9LHtcIi4uL2NyYzMyXCI6NCxcIi4uL3V0aWxzXCI6MzIsXCIuL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDI2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4uL3V0aWxzXCIpLGk9ZShcIi4vR2VuZXJpY1dvcmtlclwiKTtmdW5jdGlvbiBzKGUpe2kuY2FsbCh0aGlzLFwiRGF0YUxlbmd0aFByb2JlIGZvciBcIitlKSx0aGlzLnByb3BOYW1lPWUsdGhpcy53aXRoU3RyZWFtSW5mbyhlLDApfW4uaW5oZXJpdHMocyxpKSxzLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdfHwwO3RoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXT10K2UuZGF0YS5sZW5ndGh9aS5wcm90b3R5cGUucHJvY2Vzc0NodW5rLmNhbGwodGhpcyxlKX0sdC5leHBvcnRzPXN9LHtcIi4uL3V0aWxzXCI6MzIsXCIuL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDI3OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4uL3V0aWxzXCIpLGk9ZShcIi4vR2VuZXJpY1dvcmtlclwiKTtmdW5jdGlvbiBzKGUpe2kuY2FsbCh0aGlzLFwiRGF0YVdvcmtlclwiKTt2YXIgdD10aGlzO3RoaXMuZGF0YUlzUmVhZHk9ITEsdGhpcy5pbmRleD0wLHRoaXMubWF4PTAsdGhpcy5kYXRhPW51bGwsdGhpcy50eXBlPVwiXCIsdGhpcy5fdGlja1NjaGVkdWxlZD0hMSxlLnRoZW4oZnVuY3Rpb24oZSl7dC5kYXRhSXNSZWFkeT0hMCx0LmRhdGE9ZSx0Lm1heD1lJiZlLmxlbmd0aHx8MCx0LnR5cGU9bi5nZXRUeXBlT2YoZSksdC5pc1BhdXNlZHx8dC5fdGlja0FuZFJlcGVhdCgpfSxmdW5jdGlvbihlKXt0LmVycm9yKGUpfSl9bi5pbmhlcml0cyhzLGkpLHMucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5kYXRhPW51bGx9LHMucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhaS5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJighdGhpcy5fdGlja1NjaGVkdWxlZCYmdGhpcy5kYXRhSXNSZWFkeSYmKHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITAsbi5kZWxheSh0aGlzLl90aWNrQW5kUmVwZWF0LFtdLHRoaXMpKSwhMCl9LHMucHJvdG90eXBlLl90aWNrQW5kUmVwZWF0PWZ1bmN0aW9uKCl7dGhpcy5fdGlja1NjaGVkdWxlZD0hMSx0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWR8fCh0aGlzLl90aWNrKCksdGhpcy5pc0ZpbmlzaGVkfHwobi5kZWxheSh0aGlzLl90aWNrQW5kUmVwZWF0LFtdLHRoaXMpLHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITApKX0scy5wcm90b3R5cGUuX3RpY2s9ZnVuY3Rpb24oKXtpZih0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dmFyIGU9bnVsbCx0PU1hdGgubWluKHRoaXMubWF4LHRoaXMuaW5kZXgrMTYzODQpO2lmKHRoaXMuaW5kZXg+PXRoaXMubWF4KXJldHVybiB0aGlzLmVuZCgpO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2VcInN0cmluZ1wiOmU9dGhpcy5kYXRhLnN1YnN0cmluZyh0aGlzLmluZGV4LHQpO2JyZWFrO2Nhc2VcInVpbnQ4YXJyYXlcIjplPXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLmluZGV4LHQpO2JyZWFrO2Nhc2VcImFycmF5XCI6Y2FzZVwibm9kZWJ1ZmZlclwiOmU9dGhpcy5kYXRhLnNsaWNlKHRoaXMuaW5kZXgsdCl9cmV0dXJuIHRoaXMuaW5kZXg9dCx0aGlzLnB1c2goe2RhdGE6ZSxtZXRhOntwZXJjZW50OnRoaXMubWF4P3RoaXMuaW5kZXgvdGhpcy5tYXgqMTAwOjB9fSl9LHQuZXhwb3J0cz1zfSx7XCIuLi91dGlsc1wiOjMyLFwiLi9HZW5lcmljV29ya2VyXCI6Mjh9XSwyODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7dGhpcy5uYW1lPWV8fFwiZGVmYXVsdFwiLHRoaXMuc3RyZWFtSW5mbz17fSx0aGlzLmdlbmVyYXRlZEVycm9yPW51bGwsdGhpcy5leHRyYVN0cmVhbUluZm89e30sdGhpcy5pc1BhdXNlZD0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5pc0xvY2tlZD0hMSx0aGlzLl9saXN0ZW5lcnM9e2RhdGE6W10sZW5kOltdLGVycm9yOltdfSx0aGlzLnByZXZpb3VzPW51bGx9bi5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KFwiZGF0YVwiLGUpfSxlbmQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dGhpcy5mbHVzaCgpO3RyeXt0aGlzLmVtaXQoXCJlbmRcIiksdGhpcy5jbGVhblVwKCksdGhpcy5pc0ZpbmlzaGVkPSEwfWNhdGNoKGUpe3RoaXMuZW1pdChcImVycm9yXCIsZSl9cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkP3RoaXMuZ2VuZXJhdGVkRXJyb3I9ZToodGhpcy5pc0ZpbmlzaGVkPSEwLHRoaXMuZW1pdChcImVycm9yXCIsZSksdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5lcnJvcihlKSx0aGlzLmNsZWFuVXAoKSksITApfSxvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnNbZV0ucHVzaCh0KSx0aGlzfSxjbGVhblVwOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW1JbmZvPXRoaXMuZ2VuZXJhdGVkRXJyb3I9dGhpcy5leHRyYVN0cmVhbUluZm89bnVsbCx0aGlzLl9saXN0ZW5lcnM9W119LGVtaXQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9saXN0ZW5lcnNbZV0pZm9yKHZhciByPTA7cjx0aGlzLl9saXN0ZW5lcnNbZV0ubGVuZ3RoO3IrKyl0aGlzLl9saXN0ZW5lcnNbZV1bcl0uY2FsbCh0aGlzLHQpfSxwaXBlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZ2lzdGVyUHJldmlvdXModGhpcyl9LHJlZ2lzdGVyUHJldmlvdXM6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuc3RyZWFtSW5mbz1lLnN0cmVhbUluZm8sdGhpcy5tZXJnZVN0cmVhbUluZm8oKSx0aGlzLnByZXZpb3VzPWU7dmFyIHQ9dGhpcztyZXR1cm4gZS5vbihcImRhdGFcIixmdW5jdGlvbihlKXt0LnByb2Nlc3NDaHVuayhlKX0pLGUub24oXCJlbmRcIixmdW5jdGlvbigpe3QuZW5kKCl9KSxlLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXt0LmVycm9yKGUpfSksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1BhdXNlZCYmIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5wYXVzZSgpLCEwKX0scmVzdW1lOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt2YXIgZT10aGlzLmlzUGF1c2VkPSExO3JldHVybiB0aGlzLmdlbmVyYXRlZEVycm9yJiYodGhpcy5lcnJvcih0aGlzLmdlbmVyYXRlZEVycm9yKSxlPSEwKSx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLnJlc3VtZSgpLCFlfSxmbHVzaDpmdW5jdGlvbigpe30scHJvY2Vzc0NodW5rOmZ1bmN0aW9uKGUpe3RoaXMucHVzaChlKX0sd2l0aFN0cmVhbUluZm86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5leHRyYVN0cmVhbUluZm9bZV09dCx0aGlzLm1lcmdlU3RyZWFtSW5mbygpLHRoaXN9LG1lcmdlU3RyZWFtSW5mbzpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLmV4dHJhU3RyZWFtSW5mbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5leHRyYVN0cmVhbUluZm8sZSkmJih0aGlzLnN0cmVhbUluZm9bZV09dGhpcy5leHRyYVN0cmVhbUluZm9bZV0pfSxsb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuaXNMb2NrZWQ9ITAsdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5sb2NrKCl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9XCJXb3JrZXIgXCIrdGhpcy5uYW1lO3JldHVybiB0aGlzLnByZXZpb3VzP3RoaXMucHJldmlvdXMrXCIgLT4gXCIrZTplfX0sdC5leHBvcnRzPW59LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBoPWUoXCIuLi91dGlsc1wiKSxpPWUoXCIuL0NvbnZlcnRXb3JrZXJcIikscz1lKFwiLi9HZW5lcmljV29ya2VyXCIpLHU9ZShcIi4uL2Jhc2U2NFwiKSxuPWUoXCIuLi9zdXBwb3J0XCIpLGE9ZShcIi4uL2V4dGVybmFsXCIpLG89bnVsbDtpZihuLm5vZGVzdHJlYW0pdHJ5e289ZShcIi4uL25vZGVqcy9Ob2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyXCIpfWNhdGNoKGUpe31mdW5jdGlvbiBsKGUsbyl7cmV0dXJuIG5ldyBhLlByb21pc2UoZnVuY3Rpb24odCxyKXt2YXIgbj1bXSxpPWUuX2ludGVybmFsVHlwZSxzPWUuX291dHB1dFR5cGUsYT1lLl9taW1lVHlwZTtlLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUsdCl7bi5wdXNoKGUpLG8mJm8odCl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7bj1bXSxyKGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3RyeXt2YXIgZT1mdW5jdGlvbihlLHQscil7c3dpdGNoKGUpe2Nhc2VcImJsb2JcIjpyZXR1cm4gaC5uZXdCbG9iKGgudHJhbnNmb3JtVG8oXCJhcnJheWJ1ZmZlclwiLHQpLHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiB1LmVuY29kZSh0KTtkZWZhdWx0OnJldHVybiBoLnRyYW5zZm9ybVRvKGUsdCl9fShzLGZ1bmN0aW9uKGUsdCl7dmFyIHIsbj0wLGk9bnVsbCxzPTA7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKylzKz10W3JdLmxlbmd0aDtzd2l0Y2goZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHQuam9pbihcIlwiKTtjYXNlXCJhcnJheVwiOnJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHQpO2Nhc2VcInVpbnQ4YXJyYXlcIjpmb3IoaT1uZXcgVWludDhBcnJheShzKSxyPTA7cjx0Lmxlbmd0aDtyKyspaS5zZXQodFtyXSxuKSxuKz10W3JdLmxlbmd0aDtyZXR1cm4gaTtjYXNlXCJub2RlYnVmZmVyXCI6cmV0dXJuIEJ1ZmZlci5jb25jYXQodCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJjb25jYXQgOiB1bnN1cHBvcnRlZCB0eXBlICdcIitlK1wiJ1wiKX19KGksbiksYSk7dChlKX1jYXRjaChlKXtyKGUpfW49W119KS5yZXN1bWUoKX0pfWZ1bmN0aW9uIGYoZSx0LHIpe3ZhciBuPXQ7c3dpdGNoKHQpe2Nhc2VcImJsb2JcIjpjYXNlXCJhcnJheWJ1ZmZlclwiOm49XCJ1aW50OGFycmF5XCI7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6bj1cInN0cmluZ1wifXRyeXt0aGlzLl9pbnRlcm5hbFR5cGU9bix0aGlzLl9vdXRwdXRUeXBlPXQsdGhpcy5fbWltZVR5cGU9cixoLmNoZWNrU3VwcG9ydChuKSx0aGlzLl93b3JrZXI9ZS5waXBlKG5ldyBpKG4pKSxlLmxvY2soKX1jYXRjaChlKXt0aGlzLl93b3JrZXI9bmV3IHMoXCJlcnJvclwiKSx0aGlzLl93b3JrZXIuZXJyb3IoZSl9fWYucHJvdG90eXBlPXthY2N1bXVsYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsZSl9LG9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm5cImRhdGFcIj09PWU/dGhpcy5fd29ya2VyLm9uKGUsZnVuY3Rpb24oZSl7dC5jYWxsKHIsZS5kYXRhLGUubWV0YSl9KTp0aGlzLl93b3JrZXIub24oZSxmdW5jdGlvbigpe2guZGVsYXkodCxhcmd1bWVudHMscil9KSx0aGlzfSxyZXN1bWU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5kZWxheSh0aGlzLl93b3JrZXIucmVzdW1lLFtdLHRoaXMuX3dvcmtlciksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29ya2VyLnBhdXNlKCksdGhpc30sdG9Ob2RlanNTdHJlYW06ZnVuY3Rpb24oZSl7aWYoaC5jaGVja1N1cHBvcnQoXCJub2Rlc3RyZWFtXCIpLFwibm9kZWJ1ZmZlclwiIT09dGhpcy5fb3V0cHV0VHlwZSl0aHJvdyBuZXcgRXJyb3IodGhpcy5fb3V0cHV0VHlwZStcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbWV0aG9kXCIpO3JldHVybiBuZXcgbyh0aGlzLHtvYmplY3RNb2RlOlwibm9kZWJ1ZmZlclwiIT09dGhpcy5fb3V0cHV0VHlwZX0sZSl9fSx0LmV4cG9ydHM9Zn0se1wiLi4vYmFzZTY0XCI6MSxcIi4uL2V4dGVybmFsXCI6NixcIi4uL25vZGVqcy9Ob2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyXCI6MTMsXCIuLi9zdXBwb3J0XCI6MzAsXCIuLi91dGlsc1wiOjMyLFwiLi9Db252ZXJ0V29ya2VyXCI6MjQsXCIuL0dlbmVyaWNXb3JrZXJcIjoyOH1dLDMwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7aWYoci5iYXNlNjQ9ITAsci5hcnJheT0hMCxyLnN0cmluZz0hMCxyLmFycmF5YnVmZmVyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXksci5ub2RlYnVmZmVyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBCdWZmZXIsci51aW50OGFycmF5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5LFwidW5kZWZpbmVkXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcilyLmJsb2I9ITE7ZWxzZXt2YXIgbj1uZXcgQXJyYXlCdWZmZXIoMCk7dHJ5e3IuYmxvYj0wPT09bmV3IEJsb2IoW25dLHt0eXBlOlwiYXBwbGljYXRpb24vemlwXCJ9KS5zaXplfWNhdGNoKGUpe3RyeXt2YXIgaT1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtpLmFwcGVuZChuKSxyLmJsb2I9MD09PWkuZ2V0QmxvYihcImFwcGxpY2F0aW9uL3ppcFwiKS5zaXplfWNhdGNoKGUpe3IuYmxvYj0hMX19fXRyeXtyLm5vZGVzdHJlYW09ISFlKFwicmVhZGFibGUtc3RyZWFtXCIpLlJlYWRhYmxlfWNhdGNoKGUpe3Iubm9kZXN0cmVhbT0hMX19LHtcInJlYWRhYmxlLXN0cmVhbVwiOjE2fV0sMzE6W2Z1bmN0aW9uKGUsdCxzKXtcInVzZSBzdHJpY3RcIjtmb3IodmFyIG89ZShcIi4vdXRpbHNcIiksaD1lKFwiLi9zdXBwb3J0XCIpLHI9ZShcIi4vbm9kZWpzVXRpbHNcIiksbj1lKFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiKSx1PW5ldyBBcnJheSgyNTYpLGk9MDtpPDI1NjtpKyspdVtpXT0yNTI8PWk/NjoyNDg8PWk/NToyNDA8PWk/NDoyMjQ8PWk/MzoxOTI8PWk/MjoxO3VbMjU0XT11WzI1NF09MTtmdW5jdGlvbiBhKCl7bi5jYWxsKHRoaXMsXCJ1dGYtOCBkZWNvZGVcIiksdGhpcy5sZWZ0T3Zlcj1udWxsfWZ1bmN0aW9uIGwoKXtuLmNhbGwodGhpcyxcInV0Zi04IGVuY29kZVwiKX1zLnV0ZjhlbmNvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGgubm9kZWJ1ZmZlcj9yLm5ld0J1ZmZlckZyb20oZSxcInV0Zi04XCIpOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLHMsYT1lLmxlbmd0aCxvPTA7Zm9yKGk9MDtpPGE7aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxhJiY1NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKG4tNTYzMjApLGkrKyksbys9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NDtmb3IodD1oLnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkobyk6bmV3IEFycmF5KG8pLGk9cz0wO3M8bztpKyspNTUyOTY9PSg2NDUxMiYocj1lLmNoYXJDb2RlQXQoaSkpKSYmaSsxPGEmJjU2MzIwPT0oNjQ1MTImKG49ZS5jaGFyQ29kZUF0KGkrMSkpKSYmKHI9NjU1MzYrKHItNTUyOTY8PDEwKSsobi01NjMyMCksaSsrKSxyPDEyOD90W3MrK109cjoocjwyMDQ4P3RbcysrXT0xOTJ8cj4+PjY6KHI8NjU1MzY/dFtzKytdPTIyNHxyPj4+MTI6KHRbcysrXT0yNDB8cj4+PjE4LHRbcysrXT0xMjh8cj4+PjEyJjYzKSx0W3MrK109MTI4fHI+Pj42JjYzKSx0W3MrK109MTI4fDYzJnIpO3JldHVybiB0fShlKX0scy51dGY4ZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBoLm5vZGVidWZmZXI/by50cmFuc2Zvcm1UbyhcIm5vZGVidWZmZXJcIixlKS50b1N0cmluZyhcInV0Zi04XCIpOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpLHM9ZS5sZW5ndGgsYT1uZXcgQXJyYXkoMipzKTtmb3IodD1yPTA7dDxzOylpZigobj1lW3QrK10pPDEyOClhW3IrK109bjtlbHNlIGlmKDQ8KGk9dVtuXSkpYVtyKytdPTY1NTMzLHQrPWktMTtlbHNle2ZvcihuJj0yPT09aT8zMTozPT09aT8xNTo3OzE8aSYmdDxzOyluPW48PDZ8NjMmZVt0KytdLGktLTsxPGk/YVtyKytdPTY1NTMzOm48NjU1MzY/YVtyKytdPW46KG4tPTY1NTM2LGFbcisrXT01NTI5NnxuPj4xMCYxMDIzLGFbcisrXT01NjMyMHwxMDIzJm4pfXJldHVybiBhLmxlbmd0aCE9PXImJihhLnN1YmFycmF5P2E9YS5zdWJhcnJheSgwLHIpOmEubGVuZ3RoPXIpLG8uYXBwbHlGcm9tQ2hhckNvZGUoYSl9KGU9by50cmFuc2Zvcm1UbyhoLnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLGUpKX0sby5pbmhlcml0cyhhLG4pLGEucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihlKXt2YXIgdD1vLnRyYW5zZm9ybVRvKGgudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsZS5kYXRhKTtpZih0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCl7aWYoaC51aW50OGFycmF5KXt2YXIgcj10Oyh0PW5ldyBVaW50OEFycmF5KHIubGVuZ3RoK3RoaXMubGVmdE92ZXIubGVuZ3RoKSkuc2V0KHRoaXMubGVmdE92ZXIsMCksdC5zZXQocix0aGlzLmxlZnRPdmVyLmxlbmd0aCl9ZWxzZSB0PXRoaXMubGVmdE92ZXIuY29uY2F0KHQpO3RoaXMubGVmdE92ZXI9bnVsbH12YXIgbj1mdW5jdGlvbihlLHQpe3ZhciByO2ZvcigodD10fHxlLmxlbmd0aCk+ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSxyPXQtMTswPD1yJiYxMjg9PSgxOTImZVtyXSk7KXItLTtyZXR1cm4gcjwwP3Q6MD09PXI/dDpyK3VbZVtyXV0+dD9yOnR9KHQpLGk9dDtuIT09dC5sZW5ndGgmJihoLnVpbnQ4YXJyYXk/KGk9dC5zdWJhcnJheSgwLG4pLHRoaXMubGVmdE92ZXI9dC5zdWJhcnJheShuLHQubGVuZ3RoKSk6KGk9dC5zbGljZSgwLG4pLHRoaXMubGVmdE92ZXI9dC5zbGljZShuLHQubGVuZ3RoKSkpLHRoaXMucHVzaCh7ZGF0YTpzLnV0ZjhkZWNvZGUoaSksbWV0YTplLm1ldGF9KX0sYS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCYmKHRoaXMucHVzaCh7ZGF0YTpzLnV0ZjhkZWNvZGUodGhpcy5sZWZ0T3ZlciksbWV0YTp7fX0pLHRoaXMubGVmdE92ZXI9bnVsbCl9LHMuVXRmOERlY29kZVdvcmtlcj1hLG8uaW5oZXJpdHMobCxuKSxsLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oZSl7dGhpcy5wdXNoKHtkYXRhOnMudXRmOGVuY29kZShlLmRhdGEpLG1ldGE6ZS5tZXRhfSl9LHMuVXRmOEVuY29kZVdvcmtlcj1sfSx7XCIuL25vZGVqc1V0aWxzXCI6MTQsXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCI6MjgsXCIuL3N1cHBvcnRcIjozMCxcIi4vdXRpbHNcIjozMn1dLDMyOltmdW5jdGlvbihlLHQsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZShcIi4vc3VwcG9ydFwiKSxoPWUoXCIuL2Jhc2U2NFwiKSxyPWUoXCIuL25vZGVqc1V0aWxzXCIpLHU9ZShcIi4vZXh0ZXJuYWxcIik7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZX1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpdFtyXT0yNTUmZS5jaGFyQ29kZUF0KHIpO3JldHVybiB0fWUoXCJzZXRpbW1lZGlhdGVcIiksYS5uZXdCbG9iPWZ1bmN0aW9uKHQscil7YS5jaGVja1N1cHBvcnQoXCJibG9iXCIpO3RyeXtyZXR1cm4gbmV3IEJsb2IoW3RdLHt0eXBlOnJ9KX1jYXRjaChlKXt0cnl7dmFyIG49bmV3KHNlbGYuQmxvYkJ1aWxkZXJ8fHNlbGYuV2ViS2l0QmxvYkJ1aWxkZXJ8fHNlbGYuTW96QmxvYkJ1aWxkZXJ8fHNlbGYuTVNCbG9iQnVpbGRlcik7cmV0dXJuIG4uYXBwZW5kKHQpLG4uZ2V0QmxvYihyKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJCdWcgOiBjYW4ndCBjb25zdHJ1Y3QgdGhlIEJsb2IuXCIpfX19O3ZhciBpPXtzdHJpbmdpZnlCeUNodW5rOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bXSxpPTAscz1lLmxlbmd0aDtpZihzPD1yKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZSk7Zm9yKDtpPHM7KVwiYXJyYXlcIj09PXR8fFwibm9kZWJ1ZmZlclwiPT09dD9uLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUuc2xpY2UoaSxNYXRoLm1pbihpK3IscykpKSk6bi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLnN1YmFycmF5KGksTWF0aC5taW4oaStyLHMpKSkpLGkrPXI7cmV0dXJuIG4uam9pbihcIlwiKX0sc3RyaW5naWZ5QnlDaGFyOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUubGVuZ3RoO3IrKyl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbcl0pO3JldHVybiB0fSxhcHBseUNhbkJlVXNlZDp7dWludDhhcnJheTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gby51aW50OGFycmF5JiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLG5vZGVidWZmZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG8ubm9kZWJ1ZmZlciYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxyLmFsbG9jQnVmZmVyKDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpfX07ZnVuY3Rpb24gcyhlKXt2YXIgdD02NTUzNixyPWEuZ2V0VHlwZU9mKGUpLG49ITA7aWYoXCJ1aW50OGFycmF5XCI9PT1yP249aS5hcHBseUNhbkJlVXNlZC51aW50OGFycmF5Olwibm9kZWJ1ZmZlclwiPT09ciYmKG49aS5hcHBseUNhbkJlVXNlZC5ub2RlYnVmZmVyKSxuKWZvcig7MTx0Oyl0cnl7cmV0dXJuIGkuc3RyaW5naWZ5QnlDaHVuayhlLHIsdCl9Y2F0Y2goZSl7dD1NYXRoLmZsb29yKHQvMil9cmV0dXJuIGkuc3RyaW5naWZ5QnlDaGFyKGUpfWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0W3JdPWVbcl07cmV0dXJuIHR9YS5hcHBseUZyb21DaGFyQ29kZT1zO3ZhciBjPXt9O2Muc3RyaW5nPXtzdHJpbmc6bixhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gbChlLG5ldyBBcnJheShlLmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gYy5zdHJpbmcudWludDhhcnJheShlKS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZSxuZXcgVWludDhBcnJheShlLmxlbmd0aCkpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBsKGUsci5hbGxvY0J1ZmZlcihlLmxlbmd0aCkpfX0sYy5hcnJheT17c3RyaW5nOnMsYXJyYXk6bixhcnJheWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVWludDhBcnJheShlKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gci5uZXdCdWZmZXJGcm9tKGUpfX0sYy5hcnJheWJ1ZmZlcj17c3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBzKG5ldyBVaW50OEFycmF5KGUpKX0sYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGYobmV3IFVpbnQ4QXJyYXkoZSksbmV3IEFycmF5KGUuYnl0ZUxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpuLHVpbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiByLm5ld0J1ZmZlckZyb20obmV3IFVpbnQ4QXJyYXkoZSkpfX0sYy51aW50OGFycmF5PXtzdHJpbmc6cyxhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gZihlLG5ldyBBcnJheShlLmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5idWZmZXJ9LHVpbnQ4YXJyYXk6bixub2RlYnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiByLm5ld0J1ZmZlckZyb20oZSl9fSxjLm5vZGVidWZmZXI9e3N0cmluZzpzLGFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiBmKGUsbmV3IEFycmF5KGUubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBjLm5vZGVidWZmZXIudWludDhhcnJheShlKS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGYoZSxuZXcgVWludDhBcnJheShlLmxlbmd0aCkpfSxub2RlYnVmZmVyOm59LGEudHJhbnNmb3JtVG89ZnVuY3Rpb24oZSx0KXtpZih0PXR8fFwiXCIsIWUpcmV0dXJuIHQ7YS5jaGVja1N1cHBvcnQoZSk7dmFyIHI9YS5nZXRUeXBlT2YodCk7cmV0dXJuIGNbcl1bZV0odCl9LGEucmVzb2x2ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zcGxpdChcIi9cIikscj1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07XCIuXCI9PT1pfHxcIlwiPT09aSYmMCE9PW4mJm4hPT10Lmxlbmd0aC0xfHwoXCIuLlwiPT09aT9yLnBvcCgpOnIucHVzaChpKSl9cmV0dXJuIHIuam9pbihcIi9cIil9LGEuZ2V0VHlwZU9mPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI6XCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpP1wiYXJyYXlcIjpvLm5vZGVidWZmZXImJnIuaXNCdWZmZXIoZSk/XCJub2RlYnVmZmVyXCI6by51aW50OGFycmF5JiZlIGluc3RhbmNlb2YgVWludDhBcnJheT9cInVpbnQ4YXJyYXlcIjpvLmFycmF5YnVmZmVyJiZlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/XCJhcnJheWJ1ZmZlclwiOnZvaWQgMH0sYS5jaGVja1N1cHBvcnQ9ZnVuY3Rpb24oZSl7aWYoIW9bZS50b0xvd2VyQ2FzZSgpXSl0aHJvdyBuZXcgRXJyb3IoZStcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGxhdGZvcm1cIil9LGEuTUFYX1ZBTFVFXzE2QklUUz02NTUzNSxhLk1BWF9WQUxVRV8zMkJJVFM9LTEsYS5wcmV0dHk9ZnVuY3Rpb24oZSl7dmFyIHQscixuPVwiXCI7Zm9yKHI9MDtyPChlfHxcIlwiKS5sZW5ndGg7cisrKW4rPVwiXFxcXHhcIisoKHQ9ZS5jaGFyQ29kZUF0KHIpKTwxNj9cIjBcIjpcIlwiKSt0LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiBufSxhLmRlbGF5PWZ1bmN0aW9uKGUsdCxyKXtzZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXtlLmFwcGx5KHJ8fG51bGwsdHx8W10pfSl9LGEuaW5oZXJpdHM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7fXIucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyByfSxhLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQscj17fTtmb3IoZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspZm9yKHQgaW4gYXJndW1lbnRzW2VdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbZV0sdCkmJnZvaWQgMD09PXJbdF0mJihyW3RdPWFyZ3VtZW50c1tlXVt0XSk7cmV0dXJuIHJ9LGEucHJlcGFyZUNvbnRlbnQ9ZnVuY3Rpb24ocixlLG4saSxzKXtyZXR1cm4gdS5Qcm9taXNlLnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gby5ibG9iJiYobiBpbnN0YW5jZW9mIEJsb2J8fC0xIT09W1wiW29iamVjdCBGaWxlXVwiLFwiW29iamVjdCBCbG9iXVwiXS5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSkpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgRmlsZVJlYWRlcj9uZXcgdS5Qcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIGU9bmV3IEZpbGVSZWFkZXI7ZS5vbmxvYWQ9ZnVuY3Rpb24oZSl7dChlLnRhcmdldC5yZXN1bHQpfSxlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cihlLnRhcmdldC5lcnJvcil9LGUucmVhZEFzQXJyYXlCdWZmZXIobil9KTpufSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1hLmdldFR5cGVPZihlKTtyZXR1cm4gdD8oXCJhcnJheWJ1ZmZlclwiPT09dD9lPWEudHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsZSk6XCJzdHJpbmdcIj09PXQmJihzP2U9aC5kZWNvZGUoZSk6biYmITAhPT1pJiYoZT1mdW5jdGlvbihlKXtyZXR1cm4gbChlLG8udWludDhhcnJheT9uZXcgVWludDhBcnJheShlLmxlbmd0aCk6bmV3IEFycmF5KGUubGVuZ3RoKSl9KGUpKSksZSk6dS5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJDYW4ndCByZWFkIHRoZSBkYXRhIG9mICdcIityK1wiJy4gSXMgaXQgaW4gYSBzdXBwb3J0ZWQgSmF2YVNjcmlwdCB0eXBlIChTdHJpbmcsIEJsb2IsIEFycmF5QnVmZmVyLCBldGMpID9cIikpfSl9fSx7XCIuL2Jhc2U2NFwiOjEsXCIuL2V4dGVybmFsXCI6NixcIi4vbm9kZWpzVXRpbHNcIjoxNCxcIi4vc3VwcG9ydFwiOjMwLHNldGltbWVkaWF0ZTo1NH1dLDMzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vcmVhZGVyL3JlYWRlckZvclwiKSxpPWUoXCIuL3V0aWxzXCIpLHM9ZShcIi4vc2lnbmF0dXJlXCIpLGE9ZShcIi4vemlwRW50cnlcIiksbz1lKFwiLi9zdXBwb3J0XCIpO2Z1bmN0aW9uIGgoZSl7dGhpcy5maWxlcz1bXSx0aGlzLmxvYWRPcHRpb25zPWV9aC5wcm90b3R5cGU9e2NoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnJlYWRlci5yZWFkQW5kQ2hlY2tTaWduYXR1cmUoZSkpe3RoaXMucmVhZGVyLmluZGV4LT00O3ZhciB0PXRoaXMucmVhZGVyLnJlYWRTdHJpbmcoNCk7dGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCBvciBidWc6IHVuZXhwZWN0ZWQgc2lnbmF0dXJlIChcIitpLnByZXR0eSh0KStcIiwgZXhwZWN0ZWQgXCIraS5wcmV0dHkoZSkrXCIpXCIpfX0saXNTaWduYXR1cmU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnJlYWRlci5pbmRleDt0aGlzLnJlYWRlci5zZXRJbmRleChlKTt2YXIgbj10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpPT09dDtyZXR1cm4gdGhpcy5yZWFkZXIuc2V0SW5kZXgociksbn0scmVhZEJsb2NrRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLnppcENvbW1lbnRMZW5ndGg9dGhpcy5yZWFkZXIucmVhZEludCgyKTt2YXIgZT10aGlzLnJlYWRlci5yZWFkRGF0YSh0aGlzLnppcENvbW1lbnRMZW5ndGgpLHQ9by51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIixyPWkudHJhbnNmb3JtVG8odCxlKTt0aGlzLnppcENvbW1lbnQ9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShyKX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMucmVhZGVyLnNraXAoNCksdGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnppcDY0RXh0ZW5zaWJsZURhdGE9e307Zm9yKHZhciBlLHQscixuPXRoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplLTQ0OzA8bjspZT10aGlzLnJlYWRlci5yZWFkSW50KDIpLHQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSxyPXRoaXMucmVhZGVyLnJlYWREYXRhKHQpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YVtlXT17aWQ6ZSxsZW5ndGg6dCx2YWx1ZTpyfX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNrV2l0aFppcDY0Q2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5kaXNrc0NvdW50PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksMTx0aGlzLmRpc2tzQ291bnQpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktdm9sdW1lcyB6aXAgYXJlIG5vdCBzdXBwb3J0ZWRcIil9LHJlYWRMb2NhbEZpbGVzOmZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IoZT0wO2U8dGhpcy5maWxlcy5sZW5ndGg7ZSsrKXQ9dGhpcy5maWxlc1tlXSx0aGlzLnJlYWRlci5zZXRJbmRleCh0LmxvY2FsSGVhZGVyT2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHMuTE9DQUxfRklMRV9IRUFERVIpLHQucmVhZExvY2FsUGFydCh0aGlzLnJlYWRlciksdC5oYW5kbGVVVEY4KCksdC5wcm9jZXNzQXR0cmlidXRlcygpfSxyZWFkQ2VudHJhbERpcjpmdW5jdGlvbigpe3ZhciBlO2Zvcih0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLmNlbnRyYWxEaXJPZmZzZXQpO3RoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShzLkNFTlRSQUxfRklMRV9IRUFERVIpOykoZT1uZXcgYSh7emlwNjQ6dGhpcy56aXA2NH0sdGhpcy5sb2FkT3B0aW9ucykpLnJlYWRDZW50cmFsUGFydCh0aGlzLnJlYWRlciksdGhpcy5maWxlcy5wdXNoKGUpO2lmKHRoaXMuY2VudHJhbERpclJlY29yZHMhPT10aGlzLmZpbGVzLmxlbmd0aCYmMCE9PXRoaXMuY2VudHJhbERpclJlY29yZHMmJjA9PT10aGlzLmZpbGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIG9yIGJ1ZzogZXhwZWN0ZWQgXCIrdGhpcy5jZW50cmFsRGlyUmVjb3JkcytcIiByZWNvcmRzIGluIGNlbnRyYWwgZGlyLCBnb3QgXCIrdGhpcy5maWxlcy5sZW5ndGgpfSxyZWFkRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUocy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpO2lmKGU8MCl0aHJvdyF0aGlzLmlzU2lnbmF0dXJlKDAscy5MT0NBTF9GSUxFX0hFQURFUik/bmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgOiBpcyB0aGlzIGEgemlwIGZpbGUgPyBJZiBpdCBpcywgc2VlIGh0dHBzOi8vc3R1ay5naXRodWIuaW8vanN6aXAvZG9jdW1lbnRhdGlvbi9ob3d0by9yZWFkX3ppcC5odG1sXCIpOm5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5XCIpO3RoaXMucmVhZGVyLnNldEluZGV4KGUpO3ZhciB0PWU7aWYodGhpcy5jaGVja1NpZ25hdHVyZShzLkNFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2tFbmRPZkNlbnRyYWwoKSx0aGlzLmRpc2tOdW1iZXI9PT1pLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9PT1pLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPT09aS5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPT09aS5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJTaXplPT09aS5NQVhfVkFMVUVfMzJCSVRTfHx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9PT1pLk1BWF9WQUxVRV8zMkJJVFMpe2lmKHRoaXMuemlwNjQ9ITAsKGU9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUocy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SKSk8MCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIHRoZSBaSVA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgbG9jYXRvclwiKTtpZih0aGlzLnJlYWRlci5zZXRJbmRleChlKSx0aGlzLmNoZWNrU2lnbmF0dXJlKHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUiksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3IoKSwhdGhpcy5pc1NpZ25hdHVyZSh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIscy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpJiYodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI8MCkpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5XCIpO3RoaXMucmVhZGVyLnNldEluZGV4KHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpciksdGhpcy5jaGVja1NpZ25hdHVyZShzLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbCgpfXZhciByPXRoaXMuY2VudHJhbERpck9mZnNldCt0aGlzLmNlbnRyYWxEaXJTaXplO3RoaXMuemlwNjQmJihyKz0yMCxyKz0xMit0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZSk7dmFyIG49dC1yO2lmKDA8bil0aGlzLmlzU2lnbmF0dXJlKHQscy5DRU5UUkFMX0ZJTEVfSEVBREVSKXx8KHRoaXMucmVhZGVyLnplcm89bik7ZWxzZSBpZihuPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogbWlzc2luZyBcIitNYXRoLmFicyhuKStcIiBieXRlcy5cIil9LHByZXBhcmVSZWFkZXI6ZnVuY3Rpb24oZSl7dGhpcy5yZWFkZXI9bihlKX0sbG9hZDpmdW5jdGlvbihlKXt0aGlzLnByZXBhcmVSZWFkZXIoZSksdGhpcy5yZWFkRW5kT2ZDZW50cmFsKCksdGhpcy5yZWFkQ2VudHJhbERpcigpLHRoaXMucmVhZExvY2FsRmlsZXMoKX19LHQuZXhwb3J0cz1ofSx7XCIuL3JlYWRlci9yZWFkZXJGb3JcIjoyMixcIi4vc2lnbmF0dXJlXCI6MjMsXCIuL3N1cHBvcnRcIjozMCxcIi4vdXRpbHNcIjozMixcIi4vemlwRW50cnlcIjozNH1dLDM0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZShcIi4vcmVhZGVyL3JlYWRlckZvclwiKSxzPWUoXCIuL3V0aWxzXCIpLGk9ZShcIi4vY29tcHJlc3NlZE9iamVjdFwiKSxhPWUoXCIuL2NyYzMyXCIpLG89ZShcIi4vdXRmOFwiKSxoPWUoXCIuL2NvbXByZXNzaW9uc1wiKSx1PWUoXCIuL3N1cHBvcnRcIik7ZnVuY3Rpb24gbChlLHQpe3RoaXMub3B0aW9ucz1lLHRoaXMubG9hZE9wdGlvbnM9dH1sLnByb3RvdHlwZT17aXNFbmNyeXB0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5iaXRGbGFnKX0sdXNlVVRGODpmdW5jdGlvbigpe3JldHVybiAyMDQ4PT0oMjA0OCZ0aGlzLmJpdEZsYWcpfSxyZWFkTG9jYWxQYXJ0OmZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZS5za2lwKDIyKSx0aGlzLmZpbGVOYW1lTGVuZ3RoPWUucmVhZEludCgyKSxyPWUucmVhZEludCgyKSx0aGlzLmZpbGVOYW1lPWUucmVhZERhdGEodGhpcy5maWxlTmFtZUxlbmd0aCksZS5za2lwKHIpLC0xPT09dGhpcy5jb21wcmVzc2VkU2l6ZXx8LTE9PT10aGlzLnVuY29tcHJlc3NlZFNpemUpdGhyb3cgbmV3IEVycm9yKFwiQnVnIG9yIGNvcnJ1cHRlZCB6aXAgOiBkaWRuJ3QgZ2V0IGVub3VnaCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBjZW50cmFsIGRpcmVjdG9yeSAoY29tcHJlc3NlZFNpemUgPT09IC0xIHx8IHVuY29tcHJlc3NlZFNpemUgPT09IC0xKVwiKTtpZihudWxsPT09KHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGgpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsdCkmJmhbdF0ubWFnaWM9PT1lKXJldHVybiBoW3RdO3JldHVybiBudWxsfSh0aGlzLmNvbXByZXNzaW9uTWV0aG9kKSkpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCA6IGNvbXByZXNzaW9uIFwiK3MucHJldHR5KHRoaXMuY29tcHJlc3Npb25NZXRob2QpK1wiIHVua25vd24gKGlubmVyIGZpbGUgOiBcIitzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsdGhpcy5maWxlTmFtZSkrXCIpXCIpO3RoaXMuZGVjb21wcmVzc2VkPW5ldyBpKHRoaXMuY29tcHJlc3NlZFNpemUsdGhpcy51bmNvbXByZXNzZWRTaXplLHRoaXMuY3JjMzIsdCxlLnJlYWREYXRhKHRoaXMuY29tcHJlc3NlZFNpemUpKX0scmVhZENlbnRyYWxQYXJ0OmZ1bmN0aW9uKGUpe3RoaXMudmVyc2lvbk1hZGVCeT1lLnJlYWRJbnQoMiksZS5za2lwKDIpLHRoaXMuYml0RmxhZz1lLnJlYWRJbnQoMiksdGhpcy5jb21wcmVzc2lvbk1ldGhvZD1lLnJlYWRTdHJpbmcoMiksdGhpcy5kYXRlPWUucmVhZERhdGUoKSx0aGlzLmNyYzMyPWUucmVhZEludCg0KSx0aGlzLmNvbXByZXNzZWRTaXplPWUucmVhZEludCg0KSx0aGlzLnVuY29tcHJlc3NlZFNpemU9ZS5yZWFkSW50KDQpO3ZhciB0PWUucmVhZEludCgyKTtpZih0aGlzLmV4dHJhRmllbGRzTGVuZ3RoPWUucmVhZEludCgyKSx0aGlzLmZpbGVDb21tZW50TGVuZ3RoPWUucmVhZEludCgyKSx0aGlzLmRpc2tOdW1iZXJTdGFydD1lLnJlYWRJbnQoMiksdGhpcy5pbnRlcm5hbEZpbGVBdHRyaWJ1dGVzPWUucmVhZEludCgyKSx0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM9ZS5yZWFkSW50KDQpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9ZS5yZWFkSW50KDQpLHRoaXMuaXNFbmNyeXB0ZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0ZWQgemlwIGFyZSBub3Qgc3VwcG9ydGVkXCIpO2Uuc2tpcCh0KSx0aGlzLnJlYWRFeHRyYUZpZWxkcyhlKSx0aGlzLnBhcnNlWklQNjRFeHRyYUZpZWxkKGUpLHRoaXMuZmlsZUNvbW1lbnQ9ZS5yZWFkRGF0YSh0aGlzLmZpbGVDb21tZW50TGVuZ3RoKX0scHJvY2Vzc0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLnVuaXhQZXJtaXNzaW9ucz1udWxsLHRoaXMuZG9zUGVybWlzc2lvbnM9bnVsbDt2YXIgZT10aGlzLnZlcnNpb25NYWRlQnk+Pjg7dGhpcy5kaXI9ISEoMTYmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwwPT1lJiYodGhpcy5kb3NQZXJtaXNzaW9ucz02MyZ0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXMpLDM9PWUmJih0aGlzLnVuaXhQZXJtaXNzaW9ucz10aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM+PjE2JjY1NTM1KSx0aGlzLmRpcnx8XCIvXCIhPT10aGlzLmZpbGVOYW1lU3RyLnNsaWNlKC0xKXx8KHRoaXMuZGlyPSEwKX0scGFyc2VaSVA2NEV4dHJhRmllbGQ6ZnVuY3Rpb24oKXtpZih0aGlzLmV4dHJhRmllbGRzWzFdKXt2YXIgZT1uKHRoaXMuZXh0cmFGaWVsZHNbMV0udmFsdWUpO3RoaXMudW5jb21wcmVzc2VkU2l6ZT09PXMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMudW5jb21wcmVzc2VkU2l6ZT1lLnJlYWRJbnQoOCkpLHRoaXMuY29tcHJlc3NlZFNpemU9PT1zLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmNvbXByZXNzZWRTaXplPWUucmVhZEludCg4KSksdGhpcy5sb2NhbEhlYWRlck9mZnNldD09PXMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9ZS5yZWFkSW50KDgpKSx0aGlzLmRpc2tOdW1iZXJTdGFydD09PXMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMuZGlza051bWJlclN0YXJ0PWUucmVhZEludCg0KSl9fSxyZWFkRXh0cmFGaWVsZHM6ZnVuY3Rpb24oZSl7dmFyIHQscixuLGk9ZS5pbmRleCt0aGlzLmV4dHJhRmllbGRzTGVuZ3RoO2Zvcih0aGlzLmV4dHJhRmllbGRzfHwodGhpcy5leHRyYUZpZWxkcz17fSk7ZS5pbmRleCs0PGk7KXQ9ZS5yZWFkSW50KDIpLHI9ZS5yZWFkSW50KDIpLG49ZS5yZWFkRGF0YShyKSx0aGlzLmV4dHJhRmllbGRzW3RdPXtpZDp0LGxlbmd0aDpyLHZhbHVlOm59O2Uuc2V0SW5kZXgoaSl9LGhhbmRsZVVURjg6ZnVuY3Rpb24oKXt2YXIgZT11LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2lmKHRoaXMudXNlVVRGOCgpKXRoaXMuZmlsZU5hbWVTdHI9by51dGY4ZGVjb2RlKHRoaXMuZmlsZU5hbWUpLHRoaXMuZmlsZUNvbW1lbnRTdHI9by51dGY4ZGVjb2RlKHRoaXMuZmlsZUNvbW1lbnQpO2Vsc2V7dmFyIHQ9dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoKCk7aWYobnVsbCE9PXQpdGhpcy5maWxlTmFtZVN0cj10O2Vsc2V7dmFyIHI9cy50cmFuc2Zvcm1UbyhlLHRoaXMuZmlsZU5hbWUpO3RoaXMuZmlsZU5hbWVTdHI9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShyKX12YXIgbj10aGlzLmZpbmRFeHRyYUZpZWxkVW5pY29kZUNvbW1lbnQoKTtpZihudWxsIT09bil0aGlzLmZpbGVDb21tZW50U3RyPW47ZWxzZXt2YXIgaT1zLnRyYW5zZm9ybVRvKGUsdGhpcy5maWxlQ29tbWVudCk7dGhpcy5maWxlQ29tbWVudFN0cj10aGlzLmxvYWRPcHRpb25zLmRlY29kZUZpbGVOYW1lKGkpfX19LGZpbmRFeHRyYUZpZWxkVW5pY29kZVBhdGg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmV4dHJhRmllbGRzWzI4Nzg5XTtpZihlKXt2YXIgdD1uKGUudmFsdWUpO3JldHVybiAxIT09dC5yZWFkSW50KDEpP251bGw6YSh0aGlzLmZpbGVOYW1lKSE9PXQucmVhZEludCg0KT9udWxsOm8udXRmOGRlY29kZSh0LnJlYWREYXRhKGUubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH0sZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZXh0cmFGaWVsZHNbMjU0NjFdO2lmKGUpe3ZhciB0PW4oZS52YWx1ZSk7cmV0dXJuIDEhPT10LnJlYWRJbnQoMSk/bnVsbDphKHRoaXMuZmlsZUNvbW1lbnQpIT09dC5yZWFkSW50KDQpP251bGw6by51dGY4ZGVjb2RlKHQucmVhZERhdGEoZS5sZW5ndGgtNSkpfXJldHVybiBudWxsfX0sdC5leHBvcnRzPWx9LHtcIi4vY29tcHJlc3NlZE9iamVjdFwiOjIsXCIuL2NvbXByZXNzaW9uc1wiOjMsXCIuL2NyYzMyXCI6NCxcIi4vcmVhZGVyL3JlYWRlckZvclwiOjIyLFwiLi9zdXBwb3J0XCI6MzAsXCIuL3V0ZjhcIjozMSxcIi4vdXRpbHNcIjozMn1dLDM1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQscil7dGhpcy5uYW1lPWUsdGhpcy5kaXI9ci5kaXIsdGhpcy5kYXRlPXIuZGF0ZSx0aGlzLmNvbW1lbnQ9ci5jb21tZW50LHRoaXMudW5peFBlcm1pc3Npb25zPXIudW5peFBlcm1pc3Npb25zLHRoaXMuZG9zUGVybWlzc2lvbnM9ci5kb3NQZXJtaXNzaW9ucyx0aGlzLl9kYXRhPXQsdGhpcy5fZGF0YUJpbmFyeT1yLmJpbmFyeSx0aGlzLm9wdGlvbnM9e2NvbXByZXNzaW9uOnIuY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zOnIuY29tcHJlc3Npb25PcHRpb25zfX12YXIgcz1lKFwiLi9zdHJlYW0vU3RyZWFtSGVscGVyXCIpLGk9ZShcIi4vc3RyZWFtL0RhdGFXb3JrZXJcIiksYT1lKFwiLi91dGY4XCIpLG89ZShcIi4vY29tcHJlc3NlZE9iamVjdFwiKSxoPWUoXCIuL3N0cmVhbS9HZW5lcmljV29ya2VyXCIpO24ucHJvdG90eXBlPXtpbnRlcm5hbFN0cmVhbTpmdW5jdGlvbihlKXt2YXIgdD1udWxsLHI9XCJzdHJpbmdcIjt0cnl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gb3V0cHV0IHR5cGUgc3BlY2lmaWVkLlwiKTt2YXIgbj1cInN0cmluZ1wiPT09KHI9ZS50b0xvd2VyQ2FzZSgpKXx8XCJ0ZXh0XCI9PT1yO1wiYmluYXJ5c3RyaW5nXCIhPT1yJiZcInRleHRcIiE9PXJ8fChyPVwic3RyaW5nXCIpLHQ9dGhpcy5fZGVjb21wcmVzc1dvcmtlcigpO3ZhciBpPSF0aGlzLl9kYXRhQmluYXJ5O2kmJiFuJiYodD10LnBpcGUobmV3IGEuVXRmOEVuY29kZVdvcmtlcikpLCFpJiZuJiYodD10LnBpcGUobmV3IGEuVXRmOERlY29kZVdvcmtlcikpfWNhdGNoKGUpeyh0PW5ldyBoKFwiZXJyb3JcIikpLmVycm9yKGUpfXJldHVybiBuZXcgcyh0LHIsXCJcIil9LGFzeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdHJlYW0oZSkuYWNjdW11bGF0ZSh0KX0sbm9kZVN0cmVhbTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmludGVybmFsU3RyZWFtKGV8fFwibm9kZWJ1ZmZlclwiKS50b05vZGVqc1N0cmVhbSh0KX0sX2NvbXByZXNzV29ya2VyOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fZGF0YSBpbnN0YW5jZW9mIG8mJnRoaXMuX2RhdGEuY29tcHJlc3Npb24ubWFnaWM9PT1lLm1hZ2ljKXJldHVybiB0aGlzLl9kYXRhLmdldENvbXByZXNzZWRXb3JrZXIoKTt2YXIgcj10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7cmV0dXJuIHRoaXMuX2RhdGFCaW5hcnl8fChyPXIucGlwZShuZXcgYS5VdGY4RW5jb2RlV29ya2VyKSksby5jcmVhdGVXb3JrZXJGcm9tKHIsZSx0KX0sX2RlY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YSBpbnN0YW5jZW9mIG8/dGhpcy5fZGF0YS5nZXRDb250ZW50V29ya2VyKCk6dGhpcy5fZGF0YSBpbnN0YW5jZW9mIGg/dGhpcy5fZGF0YTpuZXcgaSh0aGlzLl9kYXRhKX19O2Zvcih2YXIgdT1bXCJhc1RleHRcIixcImFzQmluYXJ5XCIsXCJhc05vZGVCdWZmZXJcIixcImFzVWludDhBcnJheVwiLFwiYXNBcnJheUJ1ZmZlclwiXSxsPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgaGFzIGJlZW4gcmVtb3ZlZCBpbiBKU1ppcCAzLjAsIHBsZWFzZSBjaGVjayB0aGUgdXBncmFkZSBndWlkZS5cIil9LGY9MDtmPHUubGVuZ3RoO2YrKyluLnByb3RvdHlwZVt1W2ZdXT1sO3QuZXhwb3J0cz1ufSx7XCIuL2NvbXByZXNzZWRPYmplY3RcIjoyLFwiLi9zdHJlYW0vRGF0YVdvcmtlclwiOjI3LFwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlclwiOjI4LFwiLi9zdHJlYW0vU3RyZWFtSGVscGVyXCI6MjksXCIuL3V0ZjhcIjozMX1dLDM2OltmdW5jdGlvbihlLGwsdCl7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciByLG4sZT10Lk11dGF0aW9uT2JzZXJ2ZXJ8fHQuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtpZihlKXt2YXIgaT0wLHM9bmV3IGUodSksYT10LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO3Mub2JzZXJ2ZShhLHtjaGFyYWN0ZXJEYXRhOiEwfSkscj1mdW5jdGlvbigpe2EuZGF0YT1pPSsraSUyfX1lbHNlIGlmKHQuc2V0SW1tZWRpYXRlfHx2b2lkIDA9PT10Lk1lc3NhZ2VDaGFubmVsKXI9XCJkb2N1bWVudFwiaW4gdCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbigpe3ZhciBlPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3UoKSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlPW51bGx9LHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGUpfTpmdW5jdGlvbigpe3NldFRpbWVvdXQodSwwKX07ZWxzZXt2YXIgbz1uZXcgdC5NZXNzYWdlQ2hhbm5lbDtvLnBvcnQxLm9ubWVzc2FnZT11LHI9ZnVuY3Rpb24oKXtvLnBvcnQyLnBvc3RNZXNzYWdlKDApfX12YXIgaD1bXTtmdW5jdGlvbiB1KCl7dmFyIGUsdDtuPSEwO2Zvcih2YXIgcj1oLmxlbmd0aDtyOyl7Zm9yKHQ9aCxoPVtdLGU9LTE7KytlPHI7KXRbZV0oKTtyPWgubGVuZ3RofW49ITF9bC5leHBvcnRzPWZ1bmN0aW9uKGUpezEhPT1oLnB1c2goZSl8fG58fHIoKX19KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCJpbW1lZGlhdGVcIik7ZnVuY3Rpb24gdSgpe312YXIgbD17fSxzPVtcIlJFSkVDVEVEXCJdLGE9W1wiRlVMRklMTEVEXCJdLG49W1wiUEVORElOR1wiXTtmdW5jdGlvbiBvKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLnN0YXRlPW4sdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLGUhPT11JiZkKHRoaXMsZSl9ZnVuY3Rpb24gaChlLHQscil7dGhpcy5wcm9taXNlPWUsXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHRoaXMub25GdWxmaWxsZWQ9dCx0aGlzLmNhbGxGdWxmaWxsZWQ9dGhpcy5vdGhlckNhbGxGdWxmaWxsZWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJih0aGlzLm9uUmVqZWN0ZWQ9cix0aGlzLmNhbGxSZWplY3RlZD10aGlzLm90aGVyQ2FsbFJlamVjdGVkKX1mdW5jdGlvbiBmKHQscixuKXtpKGZ1bmN0aW9uKCl7dmFyIGU7dHJ5e2U9cihuKX1jYXRjaChlKXtyZXR1cm4gbC5yZWplY3QodCxlKX1lPT09dD9sLnJlamVjdCh0LG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBwcm9taXNlIHdpdGggaXRzZWxmXCIpKTpsLnJlc29sdmUodCxlKX0pfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZSYmZS50aGVuO2lmKGUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIGZ1bmN0aW9uKCl7dC5hcHBseShlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGQodCxlKXt2YXIgcj0hMTtmdW5jdGlvbiBuKGUpe3J8fChyPSEwLGwucmVqZWN0KHQsZSkpfWZ1bmN0aW9uIGkoZSl7cnx8KHI9ITAsbC5yZXNvbHZlKHQsZSkpfXZhciBzPXAoZnVuY3Rpb24oKXtlKGksbil9KTtcImVycm9yXCI9PT1zLnN0YXR1cyYmbihzLnZhbHVlKX1mdW5jdGlvbiBwKGUsdCl7dmFyIHI9e307dHJ5e3IudmFsdWU9ZSh0KSxyLnN0YXR1cz1cInN1Y2Nlc3NcIn1jYXRjaChlKXtyLnN0YXR1cz1cImVycm9yXCIsci52YWx1ZT1lfXJldHVybiByfSh0LmV4cG9ydHM9bykucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gdGhpczt2YXIgcj10aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVzb2x2ZSh0KCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSxmdW5jdGlvbihlKXtyZXR1cm4gci5yZXNvbHZlKHQoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IGV9KX0pfSxvLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LG8ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZ0aGlzLnN0YXRlPT09YXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdCYmdGhpcy5zdGF0ZT09PXMpcmV0dXJuIHRoaXM7dmFyIHI9bmV3IHRoaXMuY29uc3RydWN0b3IodSk7dGhpcy5zdGF0ZSE9PW4/ZihyLHRoaXMuc3RhdGU9PT1hP2U6dCx0aGlzLm91dGNvbWUpOnRoaXMucXVldWUucHVzaChuZXcgaChyLGUsdCkpO3JldHVybiByfSxoLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKGUpe2wucmVzb2x2ZSh0aGlzLnByb21pc2UsZSl9LGgucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZD1mdW5jdGlvbihlKXtmKHRoaXMucHJvbWlzZSx0aGlzLm9uRnVsZmlsbGVkLGUpfSxoLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7bC5yZWplY3QodGhpcy5wcm9taXNlLGUpfSxoLnByb3RvdHlwZS5vdGhlckNhbGxSZWplY3RlZD1mdW5jdGlvbihlKXtmKHRoaXMucHJvbWlzZSx0aGlzLm9uUmVqZWN0ZWQsZSl9LGwucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3ZhciByPXAoYyx0KTtpZihcImVycm9yXCI9PT1yLnN0YXR1cylyZXR1cm4gbC5yZWplY3QoZSxyLnZhbHVlKTt2YXIgbj1yLnZhbHVlO2lmKG4pZChlLG4pO2Vsc2V7ZS5zdGF0ZT1hLGUub3V0Y29tZT10O2Zvcih2YXIgaT0tMSxzPWUucXVldWUubGVuZ3RoOysraTxzOyllLnF1ZXVlW2ldLmNhbGxGdWxmaWxsZWQodCl9cmV0dXJuIGV9LGwucmVqZWN0PWZ1bmN0aW9uKGUsdCl7ZS5zdGF0ZT1zLGUub3V0Y29tZT10O2Zvcih2YXIgcj0tMSxuPWUucXVldWUubGVuZ3RoOysrcjxuOyllLnF1ZXVlW3JdLmNhbGxSZWplY3RlZCh0KTtyZXR1cm4gZX0sby5yZXNvbHZlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB0aGlzKXJldHVybiBlO3JldHVybiBsLnJlc29sdmUobmV3IHRoaXModSksZSl9LG8ucmVqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzKHUpO3JldHVybiBsLnJlamVjdCh0LGUpfSxvLmFsbD1mdW5jdGlvbihlKXt2YXIgcj10aGlzO2lmKFwiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIm11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciBuPWUubGVuZ3RoLGk9ITE7aWYoIW4pcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7dmFyIHM9bmV3IEFycmF5KG4pLGE9MCx0PS0xLG89bmV3IHRoaXModSk7Zm9yKDsrK3Q8bjspaChlW3RdLHQpO3JldHVybiBvO2Z1bmN0aW9uIGgoZSx0KXtyLnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXtzW3RdPWUsKythIT09bnx8aXx8KGk9ITAsbC5yZXNvbHZlKG8scykpfSxmdW5jdGlvbihlKXtpfHwoaT0hMCxsLnJlamVjdChvLGUpKX0pfX0sby5yYWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKFwibXVzdCBiZSBhbiBhcnJheVwiKSk7dmFyIHI9ZS5sZW5ndGgsbj0hMTtpZighcilyZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTt2YXIgaT0tMSxzPW5ldyB0aGlzKHUpO2Zvcig7KytpPHI7KWE9ZVtpXSx0LnJlc29sdmUoYSkudGhlbihmdW5jdGlvbihlKXtufHwobj0hMCxsLnJlc29sdmUocyxlKSl9LGZ1bmN0aW9uKGUpe258fChuPSEwLGwucmVqZWN0KHMsZSkpfSk7dmFyIGE7cmV0dXJuIHN9fSx7aW1tZWRpYXRlOjM2fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj17fTsoMCxlKFwiLi9saWIvdXRpbHMvY29tbW9uXCIpLmFzc2lnbikobixlKFwiLi9saWIvZGVmbGF0ZVwiKSxlKFwiLi9saWIvaW5mbGF0ZVwiKSxlKFwiLi9saWIvemxpYi9jb25zdGFudHNcIikpLHQuZXhwb3J0cz1ufSx7XCIuL2xpYi9kZWZsYXRlXCI6MzksXCIuL2xpYi9pbmZsYXRlXCI6NDAsXCIuL2xpYi91dGlscy9jb21tb25cIjo0MSxcIi4vbGliL3psaWIvY29uc3RhbnRzXCI6NDR9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBhPWUoXCIuL3psaWIvZGVmbGF0ZVwiKSxvPWUoXCIuL3V0aWxzL2NvbW1vblwiKSxoPWUoXCIuL3V0aWxzL3N0cmluZ3NcIiksaT1lKFwiLi96bGliL21lc3NhZ2VzXCIpLHM9ZShcIi4vemxpYi96c3RyZWFtXCIpLHU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxsPTAsZj0tMSxjPTAsZD04O2Z1bmN0aW9uIHAoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcCkpcmV0dXJuIG5ldyBwKGUpO3RoaXMub3B0aW9ucz1vLmFzc2lnbih7bGV2ZWw6ZixtZXRob2Q6ZCxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5OmMsdG86XCJcIn0sZXx8e30pO3ZhciB0PXRoaXMub3B0aW9uczt0LnJhdyYmMDx0LndpbmRvd0JpdHM/dC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHM6dC5nemlwJiYwPHQud2luZG93Qml0cyYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzKz0xNiksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBzLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDt2YXIgcj1hLmRlZmxhdGVJbml0Mih0aGlzLnN0cm0sdC5sZXZlbCx0Lm1ldGhvZCx0LndpbmRvd0JpdHMsdC5tZW1MZXZlbCx0LnN0cmF0ZWd5KTtpZihyIT09bCl0aHJvdyBuZXcgRXJyb3IoaVtyXSk7aWYodC5oZWFkZXImJmEuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sdC5oZWFkZXIpLHQuZGljdGlvbmFyeSl7dmFyIG47aWYobj1cInN0cmluZ1wiPT10eXBlb2YgdC5kaWN0aW9uYXJ5P2guc3RyaW5nMmJ1Zih0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXUuY2FsbCh0LmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSk6dC5kaWN0aW9uYXJ5LChyPWEuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLG4pKSE9PWwpdGhyb3cgbmV3IEVycm9yKGlbcl0pO3RoaXMuX2RpY3Rfc2V0PSEwfX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9bmV3IHAodCk7aWYoci5wdXNoKGUsITApLHIuZXJyKXRocm93IHIubXNnfHxpW3IuZXJyXTtyZXR1cm4gci5yZXN1bHR9cC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciByLG4saT10aGlzLnN0cm0scz10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7bj10PT09fn50P3Q6ITA9PT10PzQ6MCxcInN0cmluZ1wiPT10eXBlb2YgZT9pLmlucHV0PWguc3RyaW5nMmJ1ZihlKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT11LmNhbGwoZSk/aS5pbnB1dD1uZXcgVWludDhBcnJheShlKTppLmlucHV0PWUsaS5uZXh0X2luPTAsaS5hdmFpbF9pbj1pLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09aS5hdmFpbF9vdXQmJihpLm91dHB1dD1uZXcgby5CdWY4KHMpLGkubmV4dF9vdXQ9MCxpLmF2YWlsX291dD1zKSwxIT09KHI9YS5kZWZsYXRlKGksbikpJiZyIT09bClyZXR1cm4gdGhpcy5vbkVuZChyKSwhKHRoaXMuZW5kZWQ9ITApOzAhPT1pLmF2YWlsX291dCYmKDAhPT1pLmF2YWlsX2lufHw0IT09biYmMiE9PW4pfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLm9uRGF0YShoLmJ1ZjJiaW5zdHJpbmcoby5zaHJpbmtCdWYoaS5vdXRwdXQsaS5uZXh0X291dCkpKTp0aGlzLm9uRGF0YShvLnNocmlua0J1ZihpLm91dHB1dCxpLm5leHRfb3V0KSkpfXdoaWxlKCgwPGkuYXZhaWxfaW58fDA9PT1pLmF2YWlsX291dCkmJjEhPT1yKTtyZXR1cm4gND09PW4/KHI9YS5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1sKToyIT09bnx8KHRoaXMub25FbmQobCksIShpLmF2YWlsX291dD0wKSl9LHAucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNodW5rcy5wdXNoKGUpfSxwLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09bCYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD1vLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1lLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LHIuRGVmbGF0ZT1wLHIuZGVmbGF0ZT1uLHIuZGVmbGF0ZVJhdz1mdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5yYXc9ITAsbihlLHQpfSxyLmd6aXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx7fSkuZ3ppcD0hMCxuKGUsdCl9fSx7XCIuL3V0aWxzL2NvbW1vblwiOjQxLFwiLi91dGlscy9zdHJpbmdzXCI6NDIsXCIuL3psaWIvZGVmbGF0ZVwiOjQ2LFwiLi96bGliL21lc3NhZ2VzXCI6NTEsXCIuL3psaWIvenN0cmVhbVwiOjUzfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgYz1lKFwiLi96bGliL2luZmxhdGVcIiksZD1lKFwiLi91dGlscy9jb21tb25cIikscD1lKFwiLi91dGlscy9zdHJpbmdzXCIpLG09ZShcIi4vemxpYi9jb25zdGFudHNcIiksbj1lKFwiLi96bGliL21lc3NhZ2VzXCIpLGk9ZShcIi4vemxpYi96c3RyZWFtXCIpLHM9ZShcIi4vemxpYi9nemhlYWRlclwiKSxfPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gYShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBhKSlyZXR1cm4gbmV3IGEoZSk7dGhpcy5vcHRpb25zPWQuYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOlwiXCJ9LGV8fHt9KTt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYXcmJjA8PXQud2luZG93Qml0cyYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHMsMD09PXQud2luZG93Qml0cyYmKHQud2luZG93Qml0cz0tMTUpKSwhKDA8PXQud2luZG93Qml0cyYmdC53aW5kb3dCaXRzPDE2KXx8ZSYmZS53aW5kb3dCaXRzfHwodC53aW5kb3dCaXRzKz0zMiksMTU8dC53aW5kb3dCaXRzJiZ0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZ0LndpbmRvd0JpdHMpJiYodC53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBpLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDt2YXIgcj1jLmluZmxhdGVJbml0Mih0aGlzLnN0cm0sdC53aW5kb3dCaXRzKTtpZihyIT09bS5aX09LKXRocm93IG5ldyBFcnJvcihuW3JdKTt0aGlzLmhlYWRlcj1uZXcgcyxjLmluZmxhdGVHZXRIZWFkZXIodGhpcy5zdHJtLHRoaXMuaGVhZGVyKX1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9bmV3IGEodCk7aWYoci5wdXNoKGUsITApLHIuZXJyKXRocm93IHIubXNnfHxuW3IuZXJyXTtyZXR1cm4gci5yZXN1bHR9YS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxzLGEsbyxoPXRoaXMuc3RybSx1PXRoaXMub3B0aW9ucy5jaHVua1NpemUsbD10aGlzLm9wdGlvbnMuZGljdGlvbmFyeSxmPSExO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7bj10PT09fn50P3Q6ITA9PT10P20uWl9GSU5JU0g6bS5aX05PX0ZMVVNILFwic3RyaW5nXCI9PXR5cGVvZiBlP2guaW5wdXQ9cC5iaW5zdHJpbmcyYnVmKGUpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PV8uY2FsbChlKT9oLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmguaW5wdXQ9ZSxoLm5leHRfaW49MCxoLmF2YWlsX2luPWguaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1oLmF2YWlsX291dCYmKGgub3V0cHV0PW5ldyBkLkJ1ZjgodSksaC5uZXh0X291dD0wLGguYXZhaWxfb3V0PXUpLChyPWMuaW5mbGF0ZShoLG0uWl9OT19GTFVTSCkpPT09bS5aX05FRURfRElDVCYmbCYmKG89XCJzdHJpbmdcIj09dHlwZW9mIGw/cC5zdHJpbmcyYnVmKGwpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PV8uY2FsbChsKT9uZXcgVWludDhBcnJheShsKTpsLHI9Yy5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sbykpLHI9PT1tLlpfQlVGX0VSUk9SJiYhMD09PWYmJihyPW0uWl9PSyxmPSExKSxyIT09bS5aX1NUUkVBTV9FTkQmJnIhPT1tLlpfT0spcmV0dXJuIHRoaXMub25FbmQociksISh0aGlzLmVuZGVkPSEwKTtoLm5leHRfb3V0JiYoMCE9PWguYXZhaWxfb3V0JiZyIT09bS5aX1NUUkVBTV9FTkQmJigwIT09aC5hdmFpbF9pbnx8biE9PW0uWl9GSU5JU0gmJm4hPT1tLlpfU1lOQ19GTFVTSCl8fChcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvPyhpPXAudXRmOGJvcmRlcihoLm91dHB1dCxoLm5leHRfb3V0KSxzPWgubmV4dF9vdXQtaSxhPXAuYnVmMnN0cmluZyhoLm91dHB1dCxpKSxoLm5leHRfb3V0PXMsaC5hdmFpbF9vdXQ9dS1zLHMmJmQuYXJyYXlTZXQoaC5vdXRwdXQsaC5vdXRwdXQsaSxzLDApLHRoaXMub25EYXRhKGEpKTp0aGlzLm9uRGF0YShkLnNocmlua0J1ZihoLm91dHB1dCxoLm5leHRfb3V0KSkpKSwwPT09aC5hdmFpbF9pbiYmMD09PWguYXZhaWxfb3V0JiYoZj0hMCl9d2hpbGUoKDA8aC5hdmFpbF9pbnx8MD09PWguYXZhaWxfb3V0KSYmciE9PW0uWl9TVFJFQU1fRU5EKTtyZXR1cm4gcj09PW0uWl9TVFJFQU1fRU5EJiYobj1tLlpfRklOSVNIKSxuPT09bS5aX0ZJTklTSD8ocj1jLmluZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHIpLHRoaXMuZW5kZWQ9ITAscj09PW0uWl9PSyk6biE9PW0uWl9TWU5DX0ZMVVNIfHwodGhpcy5vbkVuZChtLlpfT0spLCEoaC5hdmFpbF9vdXQ9MCkpfSxhLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sYS5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oZSl7ZT09PW0uWl9PSyYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD1kLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1lLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LHIuSW5mbGF0ZT1hLHIuaW5mbGF0ZT1vLHIuaW5mbGF0ZVJhdz1mdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5yYXc9ITAsbyhlLHQpfSxyLnVuZ3ppcD1vfSx7XCIuL3V0aWxzL2NvbW1vblwiOjQxLFwiLi91dGlscy9zdHJpbmdzXCI6NDIsXCIuL3psaWIvY29uc3RhbnRzXCI6NDQsXCIuL3psaWIvZ3poZWFkZXJcIjo0NyxcIi4vemxpYi9pbmZsYXRlXCI6NDksXCIuL3psaWIvbWVzc2FnZXNcIjo1MSxcIi4vemxpYi96c3RyZWFtXCI6NTN9XSw0MTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDE2QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBJbnQzMkFycmF5O3IuYXNzaWduPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dC5sZW5ndGg7KXt2YXIgcj10LnNoaWZ0KCk7aWYocil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihyK1wibXVzdCBiZSBub24tb2JqZWN0XCIpO2Zvcih2YXIgbiBpbiByKXIuaGFzT3duUHJvcGVydHkobikmJihlW25dPXJbbl0pfX1yZXR1cm4gZX0sci5zaHJpbmtCdWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5sZW5ndGg9PT10P2U6ZS5zdWJhcnJheT9lLnN1YmFycmF5KDAsdCk6KGUubGVuZ3RoPXQsZSl9O3ZhciBpPXthcnJheVNldDpmdW5jdGlvbihlLHQscixuLGkpe2lmKHQuc3ViYXJyYXkmJmUuc3ViYXJyYXkpZS5zZXQodC5zdWJhcnJheShyLHIrbiksaSk7ZWxzZSBmb3IodmFyIHM9MDtzPG47cysrKWVbaStzXT10W3Irc119LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oZSl7dmFyIHQscixuLGkscyxhO2Zvcih0PW49MCxyPWUubGVuZ3RoO3Q8cjt0Kyspbis9ZVt0XS5sZW5ndGg7Zm9yKGE9bmV3IFVpbnQ4QXJyYXkobiksdD1pPTAscj1lLmxlbmd0aDt0PHI7dCsrKXM9ZVt0XSxhLnNldChzLGkpLGkrPXMubGVuZ3RoO3JldHVybiBhfX0scz17YXJyYXlTZXQ6ZnVuY3Rpb24oZSx0LHIsbixpKXtmb3IodmFyIHM9MDtzPG47cysrKWVbaStzXT10W3Irc119LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oZSl7cmV0dXJuW10uY29uY2F0LmFwcGx5KFtdLGUpfX07ci5zZXRUeXBlZD1mdW5jdGlvbihlKXtlPyhyLkJ1Zjg9VWludDhBcnJheSxyLkJ1ZjE2PVVpbnQxNkFycmF5LHIuQnVmMzI9SW50MzJBcnJheSxyLmFzc2lnbihyLGkpKTooci5CdWY4PUFycmF5LHIuQnVmMTY9QXJyYXksci5CdWYzMj1BcnJheSxyLmFzc2lnbihyLHMpKX0sci5zZXRUeXBlZChuKX0se31dLDQyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGg9ZShcIi4vY29tbW9uXCIpLGk9ITAscz0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFswXSl9Y2F0Y2goZSl7aT0hMX10cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaChlKXtzPSExfWZvcih2YXIgdT1uZXcgaC5CdWY4KDI1Niksbj0wO248MjU2O24rKyl1W25dPTI1Mjw9bj82OjI0ODw9bj81OjI0MDw9bj80OjIyNDw9bj8zOjE5Mjw9bj8yOjE7ZnVuY3Rpb24gbChlLHQpe2lmKHQ8NjU1MzcmJihlLnN1YmFycmF5JiZzfHwhZS5zdWJhcnJheSYmaSkpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxoLnNocmlua0J1ZihlLHQpKTtmb3IodmFyIHI9XCJcIixuPTA7bjx0O24rKylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3JldHVybiByfXVbMjU0XT11WzI1NF09MSxyLnN0cmluZzJidWY9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGkscyxhPWUubGVuZ3RoLG89MDtmb3IoaT0wO2k8YTtpKyspNTUyOTY9PSg2NDUxMiYocj1lLmNoYXJDb2RlQXQoaSkpKSYmaSsxPGEmJjU2MzIwPT0oNjQ1MTImKG49ZS5jaGFyQ29kZUF0KGkrMSkpKSYmKHI9NjU1MzYrKHItNTUyOTY8PDEwKSsobi01NjMyMCksaSsrKSxvKz1yPDEyOD8xOnI8MjA0OD8yOnI8NjU1MzY/Mzo0O2Zvcih0PW5ldyBoLkJ1ZjgobyksaT1zPTA7czxvO2krKyk1NTI5Nj09KDY0NTEyJihyPWUuY2hhckNvZGVBdChpKSkpJiZpKzE8YSYmNTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQoaSsxKSkpJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSxpKyspLHI8MTI4P3RbcysrXT1yOihyPDIwNDg/dFtzKytdPTE5MnxyPj4+Njoocjw2NTUzNj90W3MrK109MjI0fHI+Pj4xMjoodFtzKytdPTI0MHxyPj4+MTgsdFtzKytdPTEyOHxyPj4+MTImNjMpLHRbcysrXT0xMjh8cj4+PjYmNjMpLHRbcysrXT0xMjh8NjMmcik7cmV0dXJuIHR9LHIuYnVmMmJpbnN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gbChlLGUubGVuZ3RoKX0sci5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgaC5CdWY4KGUubGVuZ3RoKSxyPTAsbj10Lmxlbmd0aDtyPG47cisrKXRbcl09ZS5jaGFyQ29kZUF0KHIpO3JldHVybiB0fSxyLmJ1ZjJzdHJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGkscyxhPXR8fGUubGVuZ3RoLG89bmV3IEFycmF5KDIqYSk7Zm9yKHI9bj0wO3I8YTspaWYoKGk9ZVtyKytdKTwxMjgpb1tuKytdPWk7ZWxzZSBpZig0PChzPXVbaV0pKW9bbisrXT02NTUzMyxyKz1zLTE7ZWxzZXtmb3IoaSY9Mj09PXM/MzE6Mz09PXM/MTU6NzsxPHMmJnI8YTspaT1pPDw2fDYzJmVbcisrXSxzLS07MTxzP29bbisrXT02NTUzMzppPDY1NTM2P29bbisrXT1pOihpLT02NTUzNixvW24rK109NTUyOTZ8aT4+MTAmMTAyMyxvW24rK109NTYzMjB8MTAyMyZpKX1yZXR1cm4gbChvLG4pfSxyLnV0Zjhib3JkZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IoKHQ9dHx8ZS5sZW5ndGgpPmUubGVuZ3RoJiYodD1lLmxlbmd0aCkscj10LTE7MDw9ciYmMTI4PT0oMTkyJmVbcl0pOylyLS07cmV0dXJuIHI8MD90OjA9PT1yP3Q6cit1W2Vbcl1dPnQ/cjp0fX0se1wiLi9jb21tb25cIjo0MX1dLDQzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgaT02NTUzNSZlfDAscz1lPj4+MTYmNjU1MzV8MCxhPTA7MCE9PXI7KXtmb3Ioci09YT0yZTM8cj8yZTM6cjtzPXMrKGk9aSt0W24rK118MCl8MCwtLWE7KTtpJT02NTUyMSxzJT02NTUyMX1yZXR1cm4gaXxzPDwxNnwwfX0se31dLDQ0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PVtdLHI9MDtyPDI1NjtyKyspe2U9cjtmb3IodmFyIG49MDtuPDg7bisrKWU9MSZlPzM5ODgyOTIzODReZT4+PjE6ZT4+PjE7dFtyXT1lfXJldHVybiB0fSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscixuKXt2YXIgaT1vLHM9bityO2VePS0xO2Zvcih2YXIgYT1uO2E8czthKyspZT1lPj4+OF5pWzI1NSYoZV50W2FdKV07cmV0dXJuLTFeZX19LHt9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBoLGM9ZShcIi4uL3V0aWxzL2NvbW1vblwiKSx1PWUoXCIuL3RyZWVzXCIpLGQ9ZShcIi4vYWRsZXIzMlwiKSxwPWUoXCIuL2NyYzMyXCIpLG49ZShcIi4vbWVzc2FnZXNcIiksbD0wLGY9NCxtPTAsXz0tMixnPS0xLGI9NCxpPTIsdj04LHk9OSxzPTI4NixhPTMwLG89MTksdz0yKnMrMSxrPTE1LHg9MyxTPTI1OCx6PVMreCsxLEM9NDIsRT0xMTMsQT0xLEk9MixPPTMsQj00O2Z1bmN0aW9uIFIoZSx0KXtyZXR1cm4gZS5tc2c9blt0XSx0fWZ1bmN0aW9uIFQoZSl7cmV0dXJuKGU8PDEpLSg0PGU/OTowKX1mdW5jdGlvbiBEKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDswPD0tLXQ7KWVbdF09MH1mdW5jdGlvbiBGKGUpe3ZhciB0PWUuc3RhdGUscj10LnBlbmRpbmc7cj5lLmF2YWlsX291dCYmKHI9ZS5hdmFpbF9vdXQpLDAhPT1yJiYoYy5hcnJheVNldChlLm91dHB1dCx0LnBlbmRpbmdfYnVmLHQucGVuZGluZ19vdXQscixlLm5leHRfb3V0KSxlLm5leHRfb3V0Kz1yLHQucGVuZGluZ19vdXQrPXIsZS50b3RhbF9vdXQrPXIsZS5hdmFpbF9vdXQtPXIsdC5wZW5kaW5nLT1yLDA9PT10LnBlbmRpbmcmJih0LnBlbmRpbmdfb3V0PTApKX1mdW5jdGlvbiBOKGUsdCl7dS5fdHJfZmx1c2hfYmxvY2soZSwwPD1lLmJsb2NrX3N0YXJ0P2UuYmxvY2tfc3RhcnQ6LTEsZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LHQpLGUuYmxvY2tfc3RhcnQ9ZS5zdHJzdGFydCxGKGUuc3RybSl9ZnVuY3Rpb24gVShlLHQpe2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXR9ZnVuY3Rpb24gUChlLHQpe2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmdH1mdW5jdGlvbiBMKGUsdCl7dmFyIHIsbixpPWUubWF4X2NoYWluX2xlbmd0aCxzPWUuc3Ryc3RhcnQsYT1lLnByZXZfbGVuZ3RoLG89ZS5uaWNlX21hdGNoLGg9ZS5zdHJzdGFydD5lLndfc2l6ZS16P2Uuc3Ryc3RhcnQtKGUud19zaXplLXopOjAsdT1lLndpbmRvdyxsPWUud19tYXNrLGY9ZS5wcmV2LGM9ZS5zdHJzdGFydCtTLGQ9dVtzK2EtMV0scD11W3MrYV07ZS5wcmV2X2xlbmd0aD49ZS5nb29kX21hdGNoJiYoaT4+PTIpLG8+ZS5sb29rYWhlYWQmJihvPWUubG9va2FoZWFkKTtkb3tpZih1WyhyPXQpK2FdPT09cCYmdVtyK2EtMV09PT1kJiZ1W3JdPT09dVtzXSYmdVsrK3JdPT09dVtzKzFdKXtzKz0yLHIrKztkb3t9d2hpbGUodVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnM8Yyk7aWYobj1TLShjLXMpLHM9Yy1TLGE8bil7aWYoZS5tYXRjaF9zdGFydD10LG88PShhPW4pKWJyZWFrO2Q9dVtzK2EtMV0scD11W3MrYV19fX13aGlsZSgodD1mW3QmbF0pPmgmJjAhPS0taSk7cmV0dXJuIGE8PWUubG9va2FoZWFkP2E6ZS5sb29rYWhlYWR9ZnVuY3Rpb24gaihlKXt2YXIgdCxyLG4saSxzLGEsbyxoLHUsbCxmPWUud19zaXplO2Rve2lmKGk9ZS53aW5kb3dfc2l6ZS1lLmxvb2thaGVhZC1lLnN0cnN0YXJ0LGUuc3Ryc3RhcnQ+PWYrKGYteikpe2ZvcihjLmFycmF5U2V0KGUud2luZG93LGUud2luZG93LGYsZiwwKSxlLm1hdGNoX3N0YXJ0LT1mLGUuc3Ryc3RhcnQtPWYsZS5ibG9ja19zdGFydC09Zix0PXI9ZS5oYXNoX3NpemU7bj1lLmhlYWRbLS10XSxlLmhlYWRbdF09Zjw9bj9uLWY6MCwtLXI7KTtmb3IodD1yPWY7bj1lLnByZXZbLS10XSxlLnByZXZbdF09Zjw9bj9uLWY6MCwtLXI7KTtpKz1mfWlmKDA9PT1lLnN0cm0uYXZhaWxfaW4pYnJlYWs7aWYoYT1lLnN0cm0sbz1lLndpbmRvdyxoPWUuc3Ryc3RhcnQrZS5sb29rYWhlYWQsdT1pLGw9dm9pZCAwLGw9YS5hdmFpbF9pbix1PGwmJihsPXUpLHI9MD09PWw/MDooYS5hdmFpbF9pbi09bCxjLmFycmF5U2V0KG8sYS5pbnB1dCxhLm5leHRfaW4sbCxoKSwxPT09YS5zdGF0ZS53cmFwP2EuYWRsZXI9ZChhLmFkbGVyLG8sbCxoKToyPT09YS5zdGF0ZS53cmFwJiYoYS5hZGxlcj1wKGEuYWRsZXIsbyxsLGgpKSxhLm5leHRfaW4rPWwsYS50b3RhbF9pbis9bCxsKSxlLmxvb2thaGVhZCs9cixlLmxvb2thaGVhZCtlLmluc2VydD49eClmb3Iocz1lLnN0cnN0YXJ0LWUuaW5zZXJ0LGUuaW5zX2g9ZS53aW5kb3dbc10sZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W3MrMV0pJmUuaGFzaF9tYXNrO2UuaW5zZXJ0JiYoZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W3MreC0xXSkmZS5oYXNoX21hc2ssZS5wcmV2W3MmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09cyxzKyssZS5pbnNlcnQtLSwhKGUubG9va2FoZWFkK2UuaW5zZXJ0PHgpKTspO313aGlsZShlLmxvb2thaGVhZDx6JiYwIT09ZS5zdHJtLmF2YWlsX2luKX1mdW5jdGlvbiBaKGUsdCl7Zm9yKHZhciByLG47Oyl7aWYoZS5sb29rYWhlYWQ8eil7aWYoaihlKSxlLmxvb2thaGVhZDx6JiZ0PT09bClyZXR1cm4gQTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYocj0wLGUubG9va2FoZWFkPj14JiYoZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQreC0xXSkmZS5oYXNoX21hc2sscj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSwwIT09ciYmZS5zdHJzdGFydC1yPD1lLndfc2l6ZS16JiYoZS5tYXRjaF9sZW5ndGg9TChlLHIpKSxlLm1hdGNoX2xlbmd0aD49eClpZihuPXUuX3RyX3RhbGx5KGUsZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoLXgpLGUubG9va2FoZWFkLT1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aDw9ZS5tYXhfbGF6eV9tYXRjaCYmZS5sb29rYWhlYWQ+PXgpe2ZvcihlLm1hdGNoX2xlbmd0aC0tO2Uuc3Ryc3RhcnQrKyxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCt4LTFdKSZlLmhhc2hfbWFzayxyPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQsMCE9LS1lLm1hdGNoX2xlbmd0aDspO2Uuc3Ryc3RhcnQrK31lbHNlIGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTAsZS5pbnNfaD1lLndpbmRvd1tlLnN0cnN0YXJ0XSxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCsxXSkmZS5oYXNoX21hc2s7ZWxzZSBuPXUuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYobiYmKE4oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiBlLmluc2VydD1lLnN0cnN0YXJ0PHgtMT9lLnN0cnN0YXJ0OngtMSx0PT09Zj8oTihlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9POkIpOmUubGFzdF9saXQmJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT9BOkl9ZnVuY3Rpb24gVyhlLHQpe2Zvcih2YXIgcixuLGk7Oyl7aWYoZS5sb29rYWhlYWQ8eil7aWYoaihlKSxlLmxvb2thaGVhZDx6JiZ0PT09bClyZXR1cm4gQTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYocj0wLGUubG9va2FoZWFkPj14JiYoZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQreC0xXSkmZS5oYXNoX21hc2sscj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxlLnByZXZfbGVuZ3RoPWUubWF0Y2hfbGVuZ3RoLGUucHJldl9tYXRjaD1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoPXgtMSwwIT09ciYmZS5wcmV2X2xlbmd0aDxlLm1heF9sYXp5X21hdGNoJiZlLnN0cnN0YXJ0LXI8PWUud19zaXplLXomJihlLm1hdGNoX2xlbmd0aD1MKGUsciksZS5tYXRjaF9sZW5ndGg8PTUmJigxPT09ZS5zdHJhdGVneXx8ZS5tYXRjaF9sZW5ndGg9PT14JiY0MDk2PGUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydCkmJihlLm1hdGNoX2xlbmd0aD14LTEpKSxlLnByZXZfbGVuZ3RoPj14JiZlLm1hdGNoX2xlbmd0aDw9ZS5wcmV2X2xlbmd0aCl7Zm9yKGk9ZS5zdHJzdGFydCtlLmxvb2thaGVhZC14LG49dS5fdHJfdGFsbHkoZSxlLnN0cnN0YXJ0LTEtZS5wcmV2X21hdGNoLGUucHJldl9sZW5ndGgteCksZS5sb29rYWhlYWQtPWUucHJldl9sZW5ndGgtMSxlLnByZXZfbGVuZ3RoLT0yOysrZS5zdHJzdGFydDw9aSYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K3gtMV0pJmUuaGFzaF9tYXNrLHI9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksMCE9LS1lLnByZXZfbGVuZ3RoOyk7aWYoZS5tYXRjaF9hdmFpbGFibGU9MCxlLm1hdGNoX2xlbmd0aD14LTEsZS5zdHJzdGFydCsrLG4mJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQX1lbHNlIGlmKGUubWF0Y2hfYXZhaWxhYmxlKXtpZigobj11Ll90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSkpJiZOKGUsITEpLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tLDA9PT1lLnN0cm0uYXZhaWxfb3V0KXJldHVybiBBfWVsc2UgZS5tYXRjaF9hdmFpbGFibGU9MSxlLnN0cnN0YXJ0KyssZS5sb29rYWhlYWQtLX1yZXR1cm4gZS5tYXRjaF9hdmFpbGFibGUmJihuPXUuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxlLm1hdGNoX2F2YWlsYWJsZT0wKSxlLmluc2VydD1lLnN0cnN0YXJ0PHgtMT9lLnN0cnN0YXJ0OngtMSx0PT09Zj8oTihlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9POkIpOmUubGFzdF9saXQmJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT9BOkl9ZnVuY3Rpb24gTShlLHQscixuLGkpe3RoaXMuZ29vZF9sZW5ndGg9ZSx0aGlzLm1heF9sYXp5PXQsdGhpcy5uaWNlX2xlbmd0aD1yLHRoaXMubWF4X2NoYWluPW4sdGhpcy5mdW5jPWl9ZnVuY3Rpb24gSCgpe3RoaXMuc3RybT1udWxsLHRoaXMuc3RhdHVzPTAsdGhpcy5wZW5kaW5nX2J1Zj1udWxsLHRoaXMucGVuZGluZ19idWZfc2l6ZT0wLHRoaXMucGVuZGluZ19vdXQ9MCx0aGlzLnBlbmRpbmc9MCx0aGlzLndyYXA9MCx0aGlzLmd6aGVhZD1udWxsLHRoaXMuZ3ppbmRleD0wLHRoaXMubWV0aG9kPXYsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IGMuQnVmMTYoMip3KSx0aGlzLmR5bl9kdHJlZT1uZXcgYy5CdWYxNigyKigyKmErMSkpLHRoaXMuYmxfdHJlZT1uZXcgYy5CdWYxNigyKigyKm8rMSkpLEQodGhpcy5keW5fbHRyZWUpLEQodGhpcy5keW5fZHRyZWUpLEQodGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgYy5CdWYxNihrKzEpLHRoaXMuaGVhcD1uZXcgYy5CdWYxNigyKnMrMSksRCh0aGlzLmhlYXApLHRoaXMuaGVhcF9sZW49MCx0aGlzLmhlYXBfbWF4PTAsdGhpcy5kZXB0aD1uZXcgYy5CdWYxNigyKnMrMSksRCh0aGlzLmRlcHRoKSx0aGlzLmxfYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMubGFzdF9saXQ9MCx0aGlzLmRfYnVmPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH1mdW5jdGlvbiBHKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyhlLnRvdGFsX2luPWUudG90YWxfb3V0PTAsZS5kYXRhX3R5cGU9aSwodD1lLnN0YXRlKS5wZW5kaW5nPTAsdC5wZW5kaW5nX291dD0wLHQud3JhcDwwJiYodC53cmFwPS10LndyYXApLHQuc3RhdHVzPXQud3JhcD9DOkUsZS5hZGxlcj0yPT09dC53cmFwPzA6MSx0Lmxhc3RfZmx1c2g9bCx1Ll90cl9pbml0KHQpLG0pOlIoZSxfKX1mdW5jdGlvbiBLKGUpe3ZhciB0PUcoZSk7cmV0dXJuIHQ9PT1tJiZmdW5jdGlvbihlKXtlLndpbmRvd19zaXplPTIqZS53X3NpemUsRChlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9aFtlLmxldmVsXS5tYXhfbGF6eSxlLmdvb2RfbWF0Y2g9aFtlLmxldmVsXS5nb29kX2xlbmd0aCxlLm5pY2VfbWF0Y2g9aFtlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9aFtlLmxldmVsXS5tYXhfY2hhaW4sZS5zdHJzdGFydD0wLGUuYmxvY2tfc3RhcnQ9MCxlLmxvb2thaGVhZD0wLGUuaW5zZXJ0PTAsZS5tYXRjaF9sZW5ndGg9ZS5wcmV2X2xlbmd0aD14LTEsZS5tYXRjaF9hdmFpbGFibGU9MCxlLmluc19oPTB9KGUuc3RhdGUpLHR9ZnVuY3Rpb24gWShlLHQscixuLGkscyl7aWYoIWUpcmV0dXJuIF87dmFyIGE9MTtpZih0PT09ZyYmKHQ9NiksbjwwPyhhPTAsbj0tbik6MTU8biYmKGE9MixuLT0xNiksaTwxfHx5PGl8fHIhPT12fHxuPDh8fDE1PG58fHQ8MHx8OTx0fHxzPDB8fGI8cylyZXR1cm4gUihlLF8pOzg9PT1uJiYobj05KTt2YXIgbz1uZXcgSDtyZXR1cm4oZS5zdGF0ZT1vKS5zdHJtPWUsby53cmFwPWEsby5nemhlYWQ9bnVsbCxvLndfYml0cz1uLG8ud19zaXplPTE8PG8ud19iaXRzLG8ud19tYXNrPW8ud19zaXplLTEsby5oYXNoX2JpdHM9aSs3LG8uaGFzaF9zaXplPTE8PG8uaGFzaF9iaXRzLG8uaGFzaF9tYXNrPW8uaGFzaF9zaXplLTEsby5oYXNoX3NoaWZ0PX5+KChvLmhhc2hfYml0cyt4LTEpL3gpLG8ud2luZG93PW5ldyBjLkJ1ZjgoMipvLndfc2l6ZSksby5oZWFkPW5ldyBjLkJ1ZjE2KG8uaGFzaF9zaXplKSxvLnByZXY9bmV3IGMuQnVmMTYoby53X3NpemUpLG8ubGl0X2J1ZnNpemU9MTw8aSs2LG8ucGVuZGluZ19idWZfc2l6ZT00Km8ubGl0X2J1ZnNpemUsby5wZW5kaW5nX2J1Zj1uZXcgYy5CdWY4KG8ucGVuZGluZ19idWZfc2l6ZSksby5kX2J1Zj0xKm8ubGl0X2J1ZnNpemUsby5sX2J1Zj0zKm8ubGl0X2J1ZnNpemUsby5sZXZlbD10LG8uc3RyYXRlZ3k9cyxvLm1ldGhvZD1yLEsoZSl9aD1bbmV3IE0oMCwwLDAsMCxmdW5jdGlvbihlLHQpe3ZhciByPTY1NTM1O2ZvcihyPmUucGVuZGluZ19idWZfc2l6ZS01JiYocj1lLnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYoZS5sb29rYWhlYWQ8PTEpe2lmKGooZSksMD09PWUubG9va2FoZWFkJiZ0PT09bClyZXR1cm4gQTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9ZS5zdHJzdGFydCs9ZS5sb29rYWhlYWQsZS5sb29rYWhlYWQ9MDt2YXIgbj1lLmJsb2NrX3N0YXJ0K3I7aWYoKDA9PT1lLnN0cnN0YXJ0fHxlLnN0cnN0YXJ0Pj1uKSYmKGUubG9va2FoZWFkPWUuc3Ryc3RhcnQtbixlLnN0cnN0YXJ0PW4sTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEE7aWYoZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0Pj1lLndfc2l6ZS16JiYoTihlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PWY/KE4oZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/TzpCKTooZS5zdHJzdGFydD5lLmJsb2NrX3N0YXJ0JiYoTihlLCExKSxlLnN0cm0uYXZhaWxfb3V0KSxBKX0pLG5ldyBNKDQsNCw4LDQsWiksbmV3IE0oNCw1LDE2LDgsWiksbmV3IE0oNCw2LDMyLDMyLFopLG5ldyBNKDQsNCwxNiwxNixXKSxuZXcgTSg4LDE2LDMyLDMyLFcpLG5ldyBNKDgsMTYsMTI4LDEyOCxXKSxuZXcgTSg4LDMyLDEyOCwyNTYsVyksbmV3IE0oMzIsMTI4LDI1OCwxMDI0LFcpLG5ldyBNKDMyLDI1OCwyNTgsNDA5NixXKV0sci5kZWZsYXRlSW5pdD1mdW5jdGlvbihlLHQpe3JldHVybiBZKGUsdCx2LDE1LDgsMCl9LHIuZGVmbGF0ZUluaXQyPVksci5kZWZsYXRlUmVzZXQ9SyxyLmRlZmxhdGVSZXNldEtlZXA9RyxyLmRlZmxhdGVTZXRIZWFkZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5zdGF0ZT8yIT09ZS5zdGF0ZS53cmFwP186KGUuc3RhdGUuZ3poZWFkPXQsbSk6X30sci5kZWZsYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLHM7aWYoIWV8fCFlLnN0YXRlfHw1PHR8fHQ8MClyZXR1cm4gZT9SKGUsXyk6XztpZihuPWUuc3RhdGUsIWUub3V0cHV0fHwhZS5pbnB1dCYmMCE9PWUuYXZhaWxfaW58fDY2Nj09PW4uc3RhdHVzJiZ0IT09ZilyZXR1cm4gUihlLDA9PT1lLmF2YWlsX291dD8tNTpfKTtpZihuLnN0cm09ZSxyPW4ubGFzdF9mbHVzaCxuLmxhc3RfZmx1c2g9dCxuLnN0YXR1cz09PUMpaWYoMj09PW4ud3JhcCllLmFkbGVyPTAsVShuLDMxKSxVKG4sMTM5KSxVKG4sOCksbi5nemhlYWQ/KFUobiwobi5nemhlYWQudGV4dD8xOjApKyhuLmd6aGVhZC5oY3JjPzI6MCkrKG4uZ3poZWFkLmV4dHJhPzQ6MCkrKG4uZ3poZWFkLm5hbWU/ODowKSsobi5nemhlYWQuY29tbWVudD8xNjowKSksVShuLDI1NSZuLmd6aGVhZC50aW1lKSxVKG4sbi5nemhlYWQudGltZT4+OCYyNTUpLFUobixuLmd6aGVhZC50aW1lPj4xNiYyNTUpLFUobixuLmd6aGVhZC50aW1lPj4yNCYyNTUpLFUobiw5PT09bi5sZXZlbD8yOjI8PW4uc3RyYXRlZ3l8fG4ubGV2ZWw8Mj80OjApLFUobiwyNTUmbi5nemhlYWQub3MpLG4uZ3poZWFkLmV4dHJhJiZuLmd6aGVhZC5leHRyYS5sZW5ndGgmJihVKG4sMjU1Jm4uZ3poZWFkLmV4dHJhLmxlbmd0aCksVShuLG4uZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxuLmd6aGVhZC5oY3JjJiYoZS5hZGxlcj1wKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmcsMCkpLG4uZ3ppbmRleD0wLG4uc3RhdHVzPTY5KTooVShuLDApLFUobiwwKSxVKG4sMCksVShuLDApLFUobiwwKSxVKG4sOT09PW4ubGV2ZWw/MjoyPD1uLnN0cmF0ZWd5fHxuLmxldmVsPDI/NDowKSxVKG4sMyksbi5zdGF0dXM9RSk7ZWxzZXt2YXIgYT12KyhuLndfYml0cy04PDw0KTw8ODthfD0oMjw9bi5zdHJhdGVneXx8bi5sZXZlbDwyPzA6bi5sZXZlbDw2PzE6Nj09PW4ubGV2ZWw/MjozKTw8NiwwIT09bi5zdHJzdGFydCYmKGF8PTMyKSxhKz0zMS1hJTMxLG4uc3RhdHVzPUUsUChuLGEpLDAhPT1uLnN0cnN0YXJ0JiYoUChuLGUuYWRsZXI+Pj4xNiksUChuLDY1NTM1JmUuYWRsZXIpKSxlLmFkbGVyPTF9aWYoNjk9PT1uLnN0YXR1cylpZihuLmd6aGVhZC5leHRyYSl7Zm9yKGk9bi5wZW5kaW5nO24uZ3ppbmRleDwoNjU1MzUmbi5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKG4ucGVuZGluZyE9PW4ucGVuZGluZ19idWZfc2l6ZXx8KG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5pJiYoZS5hZGxlcj1wKGUuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctaSxpKSksRihlKSxpPW4ucGVuZGluZyxuLnBlbmRpbmchPT1uLnBlbmRpbmdfYnVmX3NpemUpKTspVShuLDI1NSZuLmd6aGVhZC5leHRyYVtuLmd6aW5kZXhdKSxuLmd6aW5kZXgrKztuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+aSYmKGUuYWRsZXI9cChlLmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLWksaSkpLG4uZ3ppbmRleD09PW4uZ3poZWFkLmV4dHJhLmxlbmd0aCYmKG4uZ3ppbmRleD0wLG4uc3RhdHVzPTczKX1lbHNlIG4uc3RhdHVzPTczO2lmKDczPT09bi5zdGF0dXMpaWYobi5nemhlYWQubmFtZSl7aT1uLnBlbmRpbmc7ZG97aWYobi5wZW5kaW5nPT09bi5wZW5kaW5nX2J1Zl9zaXplJiYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPmkmJihlLmFkbGVyPXAoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1pLGkpKSxGKGUpLGk9bi5wZW5kaW5nLG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSkpe3M9MTticmVha31zPW4uZ3ppbmRleDxuLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmbi5nemhlYWQubmFtZS5jaGFyQ29kZUF0KG4uZ3ppbmRleCsrKTowLFUobixzKX13aGlsZSgwIT09cyk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPmkmJihlLmFkbGVyPXAoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1pLGkpKSwwPT09cyYmKG4uZ3ppbmRleD0wLG4uc3RhdHVzPTkxKX1lbHNlIG4uc3RhdHVzPTkxO2lmKDkxPT09bi5zdGF0dXMpaWYobi5nemhlYWQuY29tbWVudCl7aT1uLnBlbmRpbmc7ZG97aWYobi5wZW5kaW5nPT09bi5wZW5kaW5nX2J1Zl9zaXplJiYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPmkmJihlLmFkbGVyPXAoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1pLGkpKSxGKGUpLGk9bi5wZW5kaW5nLG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSkpe3M9MTticmVha31zPW4uZ3ppbmRleDxuLmd6aGVhZC5jb21tZW50Lmxlbmd0aD8yNTUmbi5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KG4uZ3ppbmRleCsrKTowLFUobixzKX13aGlsZSgwIT09cyk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPmkmJihlLmFkbGVyPXAoZS5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1pLGkpKSwwPT09cyYmKG4uc3RhdHVzPTEwMyl9ZWxzZSBuLnN0YXR1cz0xMDM7aWYoMTAzPT09bi5zdGF0dXMmJihuLmd6aGVhZC5oY3JjPyhuLnBlbmRpbmcrMj5uLnBlbmRpbmdfYnVmX3NpemUmJkYoZSksbi5wZW5kaW5nKzI8PW4ucGVuZGluZ19idWZfc2l6ZSYmKFUobiwyNTUmZS5hZGxlciksVShuLGUuYWRsZXI+PjgmMjU1KSxlLmFkbGVyPTAsbi5zdGF0dXM9RSkpOm4uc3RhdHVzPUUpLDAhPT1uLnBlbmRpbmcpe2lmKEYoZSksMD09PWUuYXZhaWxfb3V0KXJldHVybiBuLmxhc3RfZmx1c2g9LTEsbX1lbHNlIGlmKDA9PT1lLmF2YWlsX2luJiZUKHQpPD1UKHIpJiZ0IT09ZilyZXR1cm4gUihlLC01KTtpZig2NjY9PT1uLnN0YXR1cyYmMCE9PWUuYXZhaWxfaW4pcmV0dXJuIFIoZSwtNSk7aWYoMCE9PWUuYXZhaWxfaW58fDAhPT1uLmxvb2thaGVhZHx8dCE9PWwmJjY2NiE9PW4uc3RhdHVzKXt2YXIgbz0yPT09bi5zdHJhdGVneT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcjs7KXtpZigwPT09ZS5sb29rYWhlYWQmJihqKGUpLDA9PT1lLmxvb2thaGVhZCkpe2lmKHQ9PT1sKXJldHVybiBBO2JyZWFrfWlmKGUubWF0Y2hfbGVuZ3RoPTAscj11Ll90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrLHImJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQX1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09Zj8oTihlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9POkIpOmUubGFzdF9saXQmJihOKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT9BOkl9KG4sdCk6Mz09PW4uc3RyYXRlZ3k/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixpLHMsYT1lLndpbmRvdzs7KXtpZihlLmxvb2thaGVhZDw9Uyl7aWYoaihlKSxlLmxvb2thaGVhZDw9UyYmdD09PWwpcmV0dXJuIEE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKGUubWF0Y2hfbGVuZ3RoPTAsZS5sb29rYWhlYWQ+PXgmJjA8ZS5zdHJzdGFydCYmKG49YVtpPWUuc3Ryc3RhcnQtMV0pPT09YVsrK2ldJiZuPT09YVsrK2ldJiZuPT09YVsrK2ldKXtzPWUuc3Ryc3RhcnQrUztkb3t9d2hpbGUobj09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSYmbj09PWFbKytpXSYmaTxzKTtlLm1hdGNoX2xlbmd0aD1TLShzLWkpLGUubWF0Y2hfbGVuZ3RoPmUubG9va2FoZWFkJiYoZS5tYXRjaF9sZW5ndGg9ZS5sb29rYWhlYWQpfWlmKGUubWF0Y2hfbGVuZ3RoPj14PyhyPXUuX3RyX3RhbGx5KGUsMSxlLm1hdGNoX2xlbmd0aC14KSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5zdHJzdGFydCs9ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg9MCk6KHI9dS5fdHJfdGFsbHkoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyksciYmKE4oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiBlLmluc2VydD0wLHQ9PT1mPyhOKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0P086Qik6ZS5sYXN0X2xpdCYmKE4oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpP0E6SX0obix0KTpoW24ubGV2ZWxdLmZ1bmMobix0KTtpZihvIT09TyYmbyE9PUJ8fChuLnN0YXR1cz02NjYpLG89PT1BfHxvPT09TylyZXR1cm4gMD09PWUuYXZhaWxfb3V0JiYobi5sYXN0X2ZsdXNoPS0xKSxtO2lmKG89PT1JJiYoMT09PXQ/dS5fdHJfYWxpZ24obik6NSE9PXQmJih1Ll90cl9zdG9yZWRfYmxvY2sobiwwLDAsITEpLDM9PT10JiYoRChuLmhlYWQpLDA9PT1uLmxvb2thaGVhZCYmKG4uc3Ryc3RhcnQ9MCxuLmJsb2NrX3N0YXJ0PTAsbi5pbnNlcnQ9MCkpKSxGKGUpLDA9PT1lLmF2YWlsX291dCkpcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxtfXJldHVybiB0IT09Zj9tOm4ud3JhcDw9MD8xOigyPT09bi53cmFwPyhVKG4sMjU1JmUuYWRsZXIpLFUobixlLmFkbGVyPj44JjI1NSksVShuLGUuYWRsZXI+PjE2JjI1NSksVShuLGUuYWRsZXI+PjI0JjI1NSksVShuLDI1NSZlLnRvdGFsX2luKSxVKG4sZS50b3RhbF9pbj4+OCYyNTUpLFUobixlLnRvdGFsX2luPj4xNiYyNTUpLFUobixlLnRvdGFsX2luPj4yNCYyNTUpKTooUChuLGUuYWRsZXI+Pj4xNiksUChuLDY1NTM1JmUuYWRsZXIpKSxGKGUpLDA8bi53cmFwJiYobi53cmFwPS1uLndyYXApLDAhPT1uLnBlbmRpbmc/bToxKX0sci5kZWZsYXRlRW5kPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyh0PWUuc3RhdGUuc3RhdHVzKSE9PUMmJjY5IT09dCYmNzMhPT10JiY5MSE9PXQmJjEwMyE9PXQmJnQhPT1FJiY2NjYhPT10P1IoZSxfKTooZS5zdGF0ZT1udWxsLHQ9PT1FP1IoZSwtMyk6bSk6X30sci5kZWZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxzLGEsbyxoLHUsbD10Lmxlbmd0aDtpZighZXx8IWUuc3RhdGUpcmV0dXJuIF87aWYoMj09PShzPShyPWUuc3RhdGUpLndyYXApfHwxPT09cyYmci5zdGF0dXMhPT1DfHxyLmxvb2thaGVhZClyZXR1cm4gXztmb3IoMT09PXMmJihlLmFkbGVyPWQoZS5hZGxlcix0LGwsMCkpLHIud3JhcD0wLGw+PXIud19zaXplJiYoMD09PXMmJihEKHIuaGVhZCksci5zdHJzdGFydD0wLHIuYmxvY2tfc3RhcnQ9MCxyLmluc2VydD0wKSx1PW5ldyBjLkJ1Zjgoci53X3NpemUpLGMuYXJyYXlTZXQodSx0LGwtci53X3NpemUsci53X3NpemUsMCksdD11LGw9ci53X3NpemUpLGE9ZS5hdmFpbF9pbixvPWUubmV4dF9pbixoPWUuaW5wdXQsZS5hdmFpbF9pbj1sLGUubmV4dF9pbj0wLGUuaW5wdXQ9dCxqKHIpO3IubG9va2FoZWFkPj14Oyl7Zm9yKG49ci5zdHJzdGFydCxpPXIubG9va2FoZWFkLSh4LTEpO3IuaW5zX2g9KHIuaW5zX2g8PHIuaGFzaF9zaGlmdF5yLndpbmRvd1tuK3gtMV0pJnIuaGFzaF9tYXNrLHIucHJldltuJnIud19tYXNrXT1yLmhlYWRbci5pbnNfaF0sci5oZWFkW3IuaW5zX2hdPW4sbisrLC0taTspO3Iuc3Ryc3RhcnQ9bixyLmxvb2thaGVhZD14LTEsaihyKX1yZXR1cm4gci5zdHJzdGFydCs9ci5sb29rYWhlYWQsci5ibG9ja19zdGFydD1yLnN0cnN0YXJ0LHIuaW5zZXJ0PXIubG9va2FoZWFkLHIubG9va2FoZWFkPTAsci5tYXRjaF9sZW5ndGg9ci5wcmV2X2xlbmd0aD14LTEsci5tYXRjaF9hdmFpbGFibGU9MCxlLm5leHRfaW49byxlLmlucHV0PWgsZS5hdmFpbF9pbj1hLHIud3JhcD1zLG19LHIuZGVmbGF0ZUluZm89XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LHtcIi4uL3V0aWxzL2NvbW1vblwiOjQxLFwiLi9hZGxlcjMyXCI6NDMsXCIuL2NyYzMyXCI6NDUsXCIuL21lc3NhZ2VzXCI6NTEsXCIuL3RyZWVzXCI6NTJ9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMudGV4dD0wLHRoaXMudGltZT0wLHRoaXMueGZsYWdzPTAsdGhpcy5vcz0wLHRoaXMuZXh0cmE9bnVsbCx0aGlzLmV4dHJhX2xlbj0wLHRoaXMubmFtZT1cIlwiLHRoaXMuY29tbWVudD1cIlwiLHRoaXMuaGNyYz0wLHRoaXMuZG9uZT0hMX19LHt9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxzLGEsbyxoLHUsbCxmLGMsZCxwLG0sXyxnLGIsdix5LHcsayx4LFMseixDO3I9ZS5zdGF0ZSxuPWUubmV4dF9pbix6PWUuaW5wdXQsaT1uKyhlLmF2YWlsX2luLTUpLHM9ZS5uZXh0X291dCxDPWUub3V0cHV0LGE9cy0odC1lLmF2YWlsX291dCksbz1zKyhlLmF2YWlsX291dC0yNTcpLGg9ci5kbWF4LHU9ci53c2l6ZSxsPXIud2hhdmUsZj1yLnduZXh0LGM9ci53aW5kb3csZD1yLmhvbGQscD1yLmJpdHMsbT1yLmxlbmNvZGUsXz1yLmRpc3Rjb2RlLGc9KDE8PHIubGVuYml0cyktMSxiPSgxPDxyLmRpc3RiaXRzKS0xO2U6ZG97cDwxNSYmKGQrPXpbbisrXTw8cCxwKz04LGQrPXpbbisrXTw8cCxwKz04KSx2PW1bZCZnXTt0OmZvcig7Oyl7aWYoZD4+Pj15PXY+Pj4yNCxwLT15LDA9PT0oeT12Pj4+MTYmMjU1KSlDW3MrK109NjU1MzUmdjtlbHNle2lmKCEoMTYmeSkpe2lmKDA9PSg2NCZ5KSl7dj1tWyg2NTUzNSZ2KSsoZCYoMTw8eSktMSldO2NvbnRpbnVlIHR9aWYoMzImeSl7ci5tb2RlPTEyO2JyZWFrIGV9ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixyLm1vZGU9MzA7YnJlYWsgZX13PTY1NTM1JnYsKHkmPTE1KSYmKHA8eSYmKGQrPXpbbisrXTw8cCxwKz04KSx3Kz1kJigxPDx5KS0xLGQ+Pj49eSxwLT15KSxwPDE1JiYoZCs9eltuKytdPDxwLHArPTgsZCs9eltuKytdPDxwLHArPTgpLHY9X1tkJmJdO3I6Zm9yKDs7KXtpZihkPj4+PXk9dj4+PjI0LHAtPXksISgxNiYoeT12Pj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZ5KSl7dj1fWyg2NTUzNSZ2KSsoZCYoMTw8eSktMSldO2NvbnRpbnVlIHJ9ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixyLm1vZGU9MzA7YnJlYWsgZX1pZihrPTY1NTM1JnYscDwoeSY9MTUpJiYoZCs9eltuKytdPDxwLChwKz04KTx5JiYoZCs9eltuKytdPDxwLHArPTgpKSxoPChrKz1kJigxPDx5KS0xKSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHIubW9kZT0zMDticmVhayBlfWlmKGQ+Pj49eSxwLT15LCh5PXMtYSk8ayl7aWYobDwoeT1rLXkpJiZyLnNhbmUpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixyLm1vZGU9MzA7YnJlYWsgZX1pZihTPWMsKHg9MCk9PT1mKXtpZih4Kz11LXkseTx3KXtmb3Iody09eTtDW3MrK109Y1t4KytdLC0teTspO3g9cy1rLFM9Q319ZWxzZSBpZihmPHkpe2lmKHgrPXUrZi15LCh5LT1mKTx3KXtmb3Iody09eTtDW3MrK109Y1t4KytdLC0teTspO2lmKHg9MCxmPHcpe2Zvcih3LT15PWY7Q1tzKytdPWNbeCsrXSwtLXk7KTt4PXMtayxTPUN9fX1lbHNlIGlmKHgrPWYteSx5PHcpe2Zvcih3LT15O0NbcysrXT1jW3grK10sLS15Oyk7eD1zLWssUz1DfWZvcig7Mjx3OylDW3MrK109U1t4KytdLENbcysrXT1TW3grK10sQ1tzKytdPVNbeCsrXSx3LT0zO3cmJihDW3MrK109U1t4KytdLDE8dyYmKENbcysrXT1TW3grK10pKX1lbHNle2Zvcih4PXMtaztDW3MrK109Q1t4KytdLENbcysrXT1DW3grK10sQ1tzKytdPUNbeCsrXSwyPCh3LT0zKTspO3cmJihDW3MrK109Q1t4KytdLDE8dyYmKENbcysrXT1DW3grK10pKX1icmVha319YnJlYWt9fXdoaWxlKG48aSYmczxvKTtuLT13PXA+PjMsZCY9KDE8PChwLT13PDwzKSktMSxlLm5leHRfaW49bixlLm5leHRfb3V0PXMsZS5hdmFpbF9pbj1uPGk/aS1uKzU6NS0obi1pKSxlLmF2YWlsX291dD1zPG8/by1zKzI1NzoyNTctKHMtbyksci5ob2xkPWQsci5iaXRzPXB9fSx7fV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgST1lKFwiLi4vdXRpbHMvY29tbW9uXCIpLE89ZShcIi4vYWRsZXIzMlwiKSxCPWUoXCIuL2NyYzMyXCIpLFI9ZShcIi4vaW5mZmFzdFwiKSxUPWUoXCIuL2luZnRyZWVzXCIpLEQ9MSxGPTIsTj0wLFU9LTIsUD0xLG49ODUyLGk9NTkyO2Z1bmN0aW9uIEwoZSl7cmV0dXJuKGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KX1mdW5jdGlvbiBzKCl7dGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyBJLkJ1ZjE2KDMyMCksdGhpcy53b3JrPW5ldyBJLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWZ1bmN0aW9uIGEoZSl7dmFyIHQ7cmV0dXJuIGUmJmUuc3RhdGU/KHQ9ZS5zdGF0ZSxlLnRvdGFsX2luPWUudG90YWxfb3V0PXQudG90YWw9MCxlLm1zZz1cIlwiLHQud3JhcCYmKGUuYWRsZXI9MSZ0LndyYXApLHQubW9kZT1QLHQubGFzdD0wLHQuaGF2ZWRpY3Q9MCx0LmRtYXg9MzI3NjgsdC5oZWFkPW51bGwsdC5ob2xkPTAsdC5iaXRzPTAsdC5sZW5jb2RlPXQubGVuZHluPW5ldyBJLkJ1ZjMyKG4pLHQuZGlzdGNvZGU9dC5kaXN0ZHluPW5ldyBJLkJ1ZjMyKGkpLHQuc2FuZT0xLHQuYmFjaz0tMSxOKTpVfWZ1bmN0aW9uIG8oZSl7dmFyIHQ7cmV0dXJuIGUmJmUuc3RhdGU/KCh0PWUuc3RhdGUpLndzaXplPTAsdC53aGF2ZT0wLHQud25leHQ9MCxhKGUpKTpVfWZ1bmN0aW9uIGgoZSx0KXt2YXIgcixuO3JldHVybiBlJiZlLnN0YXRlPyhuPWUuc3RhdGUsdDwwPyhyPTAsdD0tdCk6KHI9MSsodD4+NCksdDw0OCYmKHQmPTE1KSksdCYmKHQ8OHx8MTU8dCk/VToobnVsbCE9PW4ud2luZG93JiZuLndiaXRzIT09dCYmKG4ud2luZG93PW51bGwpLG4ud3JhcD1yLG4ud2JpdHM9dCxvKGUpKSk6VX1mdW5jdGlvbiB1KGUsdCl7dmFyIHIsbjtyZXR1cm4gZT8obj1uZXcgcywoZS5zdGF0ZT1uKS53aW5kb3c9bnVsbCwocj1oKGUsdCkpIT09TiYmKGUuc3RhdGU9bnVsbCkscik6VX12YXIgbCxmLGM9ITA7ZnVuY3Rpb24gaihlKXtpZihjKXt2YXIgdDtmb3IobD1uZXcgSS5CdWYzMig1MTIpLGY9bmV3IEkuQnVmMzIoMzIpLHQ9MDt0PDE0NDspZS5sZW5zW3QrK109ODtmb3IoO3Q8MjU2OyllLmxlbnNbdCsrXT05O2Zvcig7dDwyODA7KWUubGVuc1t0KytdPTc7Zm9yKDt0PDI4ODspZS5sZW5zW3QrK109ODtmb3IoVChELGUubGVucywwLDI4OCxsLDAsZS53b3JrLHtiaXRzOjl9KSx0PTA7dDwzMjspZS5sZW5zW3QrK109NTtUKEYsZS5sZW5zLDAsMzIsZiwwLGUud29yayx7Yml0czo1fSksYz0hMX1lLmxlbmNvZGU9bCxlLmxlbmJpdHM9OSxlLmRpc3Rjb2RlPWYsZS5kaXN0Yml0cz01fWZ1bmN0aW9uIFooZSx0LHIsbil7dmFyIGkscz1lLnN0YXRlO3JldHVybiBudWxsPT09cy53aW5kb3cmJihzLndzaXplPTE8PHMud2JpdHMscy53bmV4dD0wLHMud2hhdmU9MCxzLndpbmRvdz1uZXcgSS5CdWY4KHMud3NpemUpKSxuPj1zLndzaXplPyhJLmFycmF5U2V0KHMud2luZG93LHQsci1zLndzaXplLHMud3NpemUsMCkscy53bmV4dD0wLHMud2hhdmU9cy53c2l6ZSk6KG48KGk9cy53c2l6ZS1zLnduZXh0KSYmKGk9biksSS5hcnJheVNldChzLndpbmRvdyx0LHItbixpLHMud25leHQpLChuLT1pKT8oSS5hcnJheVNldChzLndpbmRvdyx0LHItbixuLDApLHMud25leHQ9bixzLndoYXZlPXMud3NpemUpOihzLnduZXh0Kz1pLHMud25leHQ9PT1zLndzaXplJiYocy53bmV4dD0wKSxzLndoYXZlPHMud3NpemUmJihzLndoYXZlKz1pKSkpLDB9ci5pbmZsYXRlUmVzZXQ9byxyLmluZmxhdGVSZXNldDI9aCxyLmluZmxhdGVSZXNldEtlZXA9YSxyLmluZmxhdGVJbml0PWZ1bmN0aW9uKGUpe3JldHVybiB1KGUsMTUpfSxyLmluZmxhdGVJbml0Mj11LHIuaW5mbGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxzLGEsbyxoLHUsbCxmLGMsZCxwLG0sXyxnLGIsdix5LHcsayx4LFMseixDPTAsRT1uZXcgSS5CdWY4KDQpLEE9WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdO2lmKCFlfHwhZS5zdGF0ZXx8IWUub3V0cHV0fHwhZS5pbnB1dCYmMCE9PWUuYXZhaWxfaW4pcmV0dXJuIFU7MTI9PT0ocj1lLnN0YXRlKS5tb2RlJiYoci5tb2RlPTEzKSxhPWUubmV4dF9vdXQsaT1lLm91dHB1dCxoPWUuYXZhaWxfb3V0LHM9ZS5uZXh0X2luLG49ZS5pbnB1dCxvPWUuYXZhaWxfaW4sdT1yLmhvbGQsbD1yLmJpdHMsZj1vLGM9aCx4PU47ZTpmb3IoOzspc3dpdGNoKHIubW9kZSl7Y2FzZSBQOmlmKDA9PT1yLndyYXApe3IubW9kZT0xMzticmVha31mb3IoO2w8MTY7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZigyJnIud3JhcCYmMzU2MTU9PT11KXtFW3IuY2hlY2s9MF09MjU1JnUsRVsxXT11Pj4+OCYyNTUsci5jaGVjaz1CKHIuY2hlY2ssRSwyLDApLGw9dT0wLHIubW9kZT0yO2JyZWFrfWlmKHIuZmxhZ3M9MCxyLmhlYWQmJihyLmhlYWQuZG9uZT0hMSksISgxJnIud3JhcCl8fCgoKDI1NSZ1KTw8OCkrKHU+PjgpKSUzMSl7ZS5tc2c9XCJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrXCIsci5tb2RlPTMwO2JyZWFrfWlmKDghPSgxNSZ1KSl7ZS5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLHIubW9kZT0zMDticmVha31pZihsLT00LGs9OCsoMTUmKHU+Pj49NCkpLDA9PT1yLndiaXRzKXIud2JpdHM9aztlbHNlIGlmKGs+ci53Yml0cyl7ZS5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsci5tb2RlPTMwO2JyZWFrfXIuZG1heD0xPDxrLGUuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT01MTImdT8xMDoxMixsPXU9MDticmVhaztjYXNlIDI6Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYoci5mbGFncz11LDghPSgyNTUmci5mbGFncykpe2UubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixyLm1vZGU9MzA7YnJlYWt9aWYoNTczNDQmci5mbGFncyl7ZS5tc2c9XCJ1bmtub3duIGhlYWRlciBmbGFncyBzZXRcIixyLm1vZGU9MzA7YnJlYWt9ci5oZWFkJiYoci5oZWFkLnRleHQ9dT4+OCYxKSw1MTImci5mbGFncyYmKEVbMF09MjU1JnUsRVsxXT11Pj4+OCYyNTUsci5jaGVjaz1CKHIuY2hlY2ssRSwyLDApKSxsPXU9MCxyLm1vZGU9MztjYXNlIDM6Zm9yKDtsPDMyOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9ci5oZWFkJiYoci5oZWFkLnRpbWU9dSksNTEyJnIuZmxhZ3MmJihFWzBdPTI1NSZ1LEVbMV09dT4+PjgmMjU1LEVbMl09dT4+PjE2JjI1NSxFWzNdPXU+Pj4yNCYyNTUsci5jaGVjaz1CKHIuY2hlY2ssRSw0LDApKSxsPXU9MCxyLm1vZGU9NDtjYXNlIDQ6Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9ci5oZWFkJiYoci5oZWFkLnhmbGFncz0yNTUmdSxyLmhlYWQub3M9dT4+OCksNTEyJnIuZmxhZ3MmJihFWzBdPTI1NSZ1LEVbMV09dT4+PjgmMjU1LHIuY2hlY2s9QihyLmNoZWNrLEUsMiwwKSksbD11PTAsci5tb2RlPTU7Y2FzZSA1OmlmKDEwMjQmci5mbGFncyl7Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9ci5sZW5ndGg9dSxyLmhlYWQmJihyLmhlYWQuZXh0cmFfbGVuPXUpLDUxMiZyLmZsYWdzJiYoRVswXT0yNTUmdSxFWzFdPXU+Pj44JjI1NSxyLmNoZWNrPUIoci5jaGVjayxFLDIsMCkpLGw9dT0wfWVsc2Ugci5oZWFkJiYoci5oZWFkLmV4dHJhPW51bGwpO3IubW9kZT02O2Nhc2UgNjppZigxMDI0JnIuZmxhZ3MmJihvPChkPXIubGVuZ3RoKSYmKGQ9byksZCYmKHIuaGVhZCYmKGs9ci5oZWFkLmV4dHJhX2xlbi1yLmxlbmd0aCxyLmhlYWQuZXh0cmF8fChyLmhlYWQuZXh0cmE9bmV3IEFycmF5KHIuaGVhZC5leHRyYV9sZW4pKSxJLmFycmF5U2V0KHIuaGVhZC5leHRyYSxuLHMsZCxrKSksNTEyJnIuZmxhZ3MmJihyLmNoZWNrPUIoci5jaGVjayxuLGQscykpLG8tPWQscys9ZCxyLmxlbmd0aC09ZCksci5sZW5ndGgpKWJyZWFrIGU7ci5sZW5ndGg9MCxyLm1vZGU9NztjYXNlIDc6aWYoMjA0OCZyLmZsYWdzKXtpZigwPT09bylicmVhayBlO2ZvcihkPTA7az1uW3MrZCsrXSxyLmhlYWQmJmsmJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoaykpLGsmJmQ8bzspO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1CKHIuY2hlY2ssbixkLHMpKSxvLT1kLHMrPWQsaylicmVhayBlfWVsc2Ugci5oZWFkJiYoci5oZWFkLm5hbWU9bnVsbCk7ci5sZW5ndGg9MCxyLm1vZGU9ODtjYXNlIDg6aWYoNDA5NiZyLmZsYWdzKXtpZigwPT09bylicmVhayBlO2ZvcihkPTA7az1uW3MrZCsrXSxyLmhlYWQmJmsmJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoaykpLGsmJmQ8bzspO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1CKHIuY2hlY2ssbixkLHMpKSxvLT1kLHMrPWQsaylicmVhayBlfWVsc2Ugci5oZWFkJiYoci5oZWFkLmNvbW1lbnQ9bnVsbCk7ci5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZyLmZsYWdzKXtmb3IoO2w8MTY7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZih1IT09KDY1NTM1JnIuY2hlY2spKXtlLm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixyLm1vZGU9MzA7YnJlYWt9bD11PTB9ci5oZWFkJiYoci5oZWFkLmhjcmM9ci5mbGFncz4+OSYxLHIuaGVhZC5kb25lPSEwKSxlLmFkbGVyPXIuY2hlY2s9MCxyLm1vZGU9MTI7YnJlYWs7Y2FzZSAxMDpmb3IoO2w8MzI7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1lLmFkbGVyPXIuY2hlY2s9TCh1KSxsPXU9MCxyLm1vZGU9MTE7Y2FzZSAxMTppZigwPT09ci5oYXZlZGljdClyZXR1cm4gZS5uZXh0X291dD1hLGUuYXZhaWxfb3V0PWgsZS5uZXh0X2luPXMsZS5hdmFpbF9pbj1vLHIuaG9sZD11LHIuYml0cz1sLDI7ZS5hZGxlcj1yLmNoZWNrPTEsci5tb2RlPTEyO2Nhc2UgMTI6aWYoNT09PXR8fDY9PT10KWJyZWFrIGU7Y2FzZSAxMzppZihyLmxhc3Qpe3U+Pj49NyZsLGwtPTcmbCxyLm1vZGU9Mjc7YnJlYWt9Zm9yKDtsPDM7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1zd2l0Y2goci5sYXN0PTEmdSxsLT0xLDMmKHU+Pj49MSkpe2Nhc2UgMDpyLm1vZGU9MTQ7YnJlYWs7Y2FzZSAxOmlmKGoociksci5tb2RlPTIwLDYhPT10KWJyZWFrO3U+Pj49MixsLT0yO2JyZWFrIGU7Y2FzZSAyOnIubW9kZT0xNzticmVhaztjYXNlIDM6ZS5tc2c9XCJpbnZhbGlkIGJsb2NrIHR5cGVcIixyLm1vZGU9MzB9dT4+Pj0yLGwtPTI7YnJlYWs7Y2FzZSAxNDpmb3IodT4+Pj03JmwsbC09NyZsO2w8MzI7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZigoNjU1MzUmdSkhPSh1Pj4+MTZeNjU1MzUpKXtlLm1zZz1cImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHNcIixyLm1vZGU9MzA7YnJlYWt9aWYoci5sZW5ndGg9NjU1MzUmdSxsPXU9MCxyLm1vZGU9MTUsNj09PXQpYnJlYWsgZTtjYXNlIDE1OnIubW9kZT0xNjtjYXNlIDE2OmlmKGQ9ci5sZW5ndGgpe2lmKG88ZCYmKGQ9byksaDxkJiYoZD1oKSwwPT09ZClicmVhayBlO0kuYXJyYXlTZXQoaSxuLHMsZCxhKSxvLT1kLHMrPWQsaC09ZCxhKz1kLHIubGVuZ3RoLT1kO2JyZWFrfXIubW9kZT0xMjticmVhaztjYXNlIDE3OmZvcig7bDwxNDspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fWlmKHIubmxlbj0yNTcrKDMxJnUpLHU+Pj49NSxsLT01LHIubmRpc3Q9MSsoMzEmdSksdT4+Pj01LGwtPTUsci5uY29kZT00KygxNSZ1KSx1Pj4+PTQsbC09NCwyODY8ci5ubGVufHwzMDxyLm5kaXN0KXtlLm1zZz1cInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzXCIsci5tb2RlPTMwO2JyZWFrfXIuaGF2ZT0wLHIubW9kZT0xODtjYXNlIDE4OmZvcig7ci5oYXZlPHIubmNvZGU7KXtmb3IoO2w8Mzspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fXIubGVuc1tBW3IuaGF2ZSsrXV09NyZ1LHU+Pj49MyxsLT0zfWZvcig7ci5oYXZlPDE5OylyLmxlbnNbQVtyLmhhdmUrK11dPTA7aWYoci5sZW5jb2RlPXIubGVuZHluLHIubGVuYml0cz03LFM9e2JpdHM6ci5sZW5iaXRzfSx4PVQoMCxyLmxlbnMsMCwxOSxyLmxlbmNvZGUsMCxyLndvcmssUyksci5sZW5iaXRzPVMuYml0cyx4KXtlLm1zZz1cImludmFsaWQgY29kZSBsZW5ndGhzIHNldFwiLHIubW9kZT0zMDticmVha31yLmhhdmU9MCxyLm1vZGU9MTk7Y2FzZSAxOTpmb3IoO3IuaGF2ZTxyLm5sZW4rci5uZGlzdDspe2Zvcig7Zz0oQz1yLmxlbmNvZGVbdSYoMTw8ci5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsYj02NTUzNSZDLCEoKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZihiPDE2KXU+Pj49XyxsLT1fLHIubGVuc1tyLmhhdmUrK109YjtlbHNle2lmKDE2PT09Yil7Zm9yKHo9XysyO2w8ejspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fWlmKHU+Pj49XyxsLT1fLDA9PT1yLmhhdmUpe2UubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLHIubW9kZT0zMDticmVha31rPXIubGVuc1tyLmhhdmUtMV0sZD0zKygzJnUpLHU+Pj49MixsLT0yfWVsc2UgaWYoMTc9PT1iKXtmb3Ioej1fKzM7bDx6Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9bC09XyxrPTAsZD0zKyg3Jih1Pj4+PV8pKSx1Pj4+PTMsbC09M31lbHNle2Zvcih6PV8rNztsPHo7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1sLT1fLGs9MCxkPTExKygxMjcmKHU+Pj49XykpLHU+Pj49NyxsLT03fWlmKHIuaGF2ZStkPnIubmxlbityLm5kaXN0KXtlLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixyLm1vZGU9MzA7YnJlYWt9Zm9yKDtkLS07KXIubGVuc1tyLmhhdmUrK109a319aWYoMzA9PT1yLm1vZGUpYnJlYWs7aWYoMD09PXIubGVuc1syNTZdKXtlLm1zZz1cImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9ja1wiLHIubW9kZT0zMDticmVha31pZihyLmxlbmJpdHM9OSxTPXtiaXRzOnIubGVuYml0c30seD1UKEQsci5sZW5zLDAsci5ubGVuLHIubGVuY29kZSwwLHIud29yayxTKSxyLmxlbmJpdHM9Uy5iaXRzLHgpe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0XCIsci5tb2RlPTMwO2JyZWFrfWlmKHIuZGlzdGJpdHM9NixyLmRpc3Rjb2RlPXIuZGlzdGR5bixTPXtiaXRzOnIuZGlzdGJpdHN9LHg9VChGLHIubGVucyxyLm5sZW4sci5uZGlzdCxyLmRpc3Rjb2RlLDAsci53b3JrLFMpLHIuZGlzdGJpdHM9Uy5iaXRzLHgpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZXMgc2V0XCIsci5tb2RlPTMwO2JyZWFrfWlmKHIubW9kZT0yMCw2PT09dClicmVhayBlO2Nhc2UgMjA6ci5tb2RlPTIxO2Nhc2UgMjE6aWYoNjw9byYmMjU4PD1oKXtlLm5leHRfb3V0PWEsZS5hdmFpbF9vdXQ9aCxlLm5leHRfaW49cyxlLmF2YWlsX2luPW8sci5ob2xkPXUsci5iaXRzPWwsUihlLGMpLGE9ZS5uZXh0X291dCxpPWUub3V0cHV0LGg9ZS5hdmFpbF9vdXQscz1lLm5leHRfaW4sbj1lLmlucHV0LG89ZS5hdmFpbF9pbix1PXIuaG9sZCxsPXIuYml0cywxMj09PXIubW9kZSYmKHIuYmFjaz0tMSk7YnJlYWt9Zm9yKHIuYmFjaz0wO2c9KEM9ci5sZW5jb2RlW3UmKDE8PHIubGVuYml0cyktMV0pPj4+MTYmMjU1LGI9NjU1MzUmQywhKChfPUM+Pj4yNCk8PWwpOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYoZyYmMD09KDI0MCZnKSl7Zm9yKHY9Xyx5PWcsdz1iO2c9KEM9ci5sZW5jb2RlW3crKCh1JigxPDx2K3kpLTEpPj52KV0pPj4+MTYmMjU1LGI9NjU1MzUmQywhKHYrKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH11Pj4+PXYsbC09dixyLmJhY2srPXZ9aWYodT4+Pj1fLGwtPV8sci5iYWNrKz1fLHIubGVuZ3RoPWIsMD09PWcpe3IubW9kZT0yNjticmVha31pZigzMiZnKXtyLmJhY2s9LTEsci5tb2RlPTEyO2JyZWFrfWlmKDY0Jmcpe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsci5tb2RlPTMwO2JyZWFrfXIuZXh0cmE9MTUmZyxyLm1vZGU9MjI7Y2FzZSAyMjppZihyLmV4dHJhKXtmb3Ioej1yLmV4dHJhO2w8ejspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHUrPW5bcysrXTw8bCxsKz04fXIubGVuZ3RoKz11JigxPDxyLmV4dHJhKS0xLHU+Pj49ci5leHRyYSxsLT1yLmV4dHJhLHIuYmFjays9ci5leHRyYX1yLndhcz1yLmxlbmd0aCxyLm1vZGU9MjM7Y2FzZSAyMzpmb3IoO2c9KEM9ci5kaXN0Y29kZVt1JigxPDxyLmRpc3RiaXRzKS0xXSk+Pj4xNiYyNTUsYj02NTUzNSZDLCEoKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH1pZigwPT0oMjQwJmcpKXtmb3Iodj1fLHk9Zyx3PWI7Zz0oQz1yLmRpc3Rjb2RlW3crKCh1JigxPDx2K3kpLTEpPj52KV0pPj4+MTYmMjU1LGI9NjU1MzUmQywhKHYrKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayBlO28tLSx1Kz1uW3MrK108PGwsbCs9OH11Pj4+PXYsbC09dixyLmJhY2srPXZ9aWYodT4+Pj1fLGwtPV8sci5iYWNrKz1fLDY0Jmcpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsci5tb2RlPTMwO2JyZWFrfXIub2Zmc2V0PWIsci5leHRyYT0xNSZnLHIubW9kZT0yNDtjYXNlIDI0OmlmKHIuZXh0cmEpe2Zvcih6PXIuZXh0cmE7bDx6Oyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9ci5vZmZzZXQrPXUmKDE8PHIuZXh0cmEpLTEsdT4+Pj1yLmV4dHJhLGwtPXIuZXh0cmEsci5iYWNrKz1yLmV4dHJhfWlmKHIub2Zmc2V0PnIuZG1heCl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHIubW9kZT0zMDticmVha31yLm1vZGU9MjU7Y2FzZSAyNTppZigwPT09aClicmVhayBlO2lmKGQ9Yy1oLHIub2Zmc2V0PmQpe2lmKChkPXIub2Zmc2V0LWQpPnIud2hhdmUmJnIuc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHIubW9kZT0zMDticmVha31wPWQ+ci53bmV4dD8oZC09ci53bmV4dCxyLndzaXplLWQpOnIud25leHQtZCxkPnIubGVuZ3RoJiYoZD1yLmxlbmd0aCksbT1yLndpbmRvd31lbHNlIG09aSxwPWEtci5vZmZzZXQsZD1yLmxlbmd0aDtmb3IoaDxkJiYoZD1oKSxoLT1kLHIubGVuZ3RoLT1kO2lbYSsrXT1tW3ArK10sLS1kOyk7MD09PXIubGVuZ3RoJiYoci5tb2RlPTIxKTticmVhaztjYXNlIDI2OmlmKDA9PT1oKWJyZWFrIGU7aVthKytdPXIubGVuZ3RoLGgtLSxyLm1vZGU9MjE7YnJlYWs7Y2FzZSAyNzppZihyLndyYXApe2Zvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIGU7by0tLHV8PW5bcysrXTw8bCxsKz04fWlmKGMtPWgsZS50b3RhbF9vdXQrPWMsci50b3RhbCs9YyxjJiYoZS5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/QihyLmNoZWNrLGksYyxhLWMpOk8oci5jaGVjayxpLGMsYS1jKSksYz1oLChyLmZsYWdzP3U6TCh1KSkhPT1yLmNoZWNrKXtlLm1zZz1cImluY29ycmVjdCBkYXRhIGNoZWNrXCIsci5tb2RlPTMwO2JyZWFrfWw9dT0wfXIubW9kZT0yODtjYXNlIDI4OmlmKHIud3JhcCYmci5mbGFncyl7Zm9yKDtsPDMyOyl7aWYoMD09PW8pYnJlYWsgZTtvLS0sdSs9bltzKytdPDxsLGwrPTh9aWYodSE9PSg0Mjk0OTY3Mjk1JnIudG90YWwpKXtlLm1zZz1cImluY29ycmVjdCBsZW5ndGggY2hlY2tcIixyLm1vZGU9MzA7YnJlYWt9bD11PTB9ci5tb2RlPTI5O2Nhc2UgMjk6eD0xO2JyZWFrIGU7Y2FzZSAzMDp4PS0zO2JyZWFrIGU7Y2FzZSAzMTpyZXR1cm4tNDtjYXNlIDMyOmRlZmF1bHQ6cmV0dXJuIFV9cmV0dXJuIGUubmV4dF9vdXQ9YSxlLmF2YWlsX291dD1oLGUubmV4dF9pbj1zLGUuYXZhaWxfaW49byxyLmhvbGQ9dSxyLmJpdHM9bCwoci53c2l6ZXx8YyE9PWUuYXZhaWxfb3V0JiZyLm1vZGU8MzAmJihyLm1vZGU8Mjd8fDQhPT10KSkmJlooZSxlLm91dHB1dCxlLm5leHRfb3V0LGMtZS5hdmFpbF9vdXQpPyhyLm1vZGU9MzEsLTQpOihmLT1lLmF2YWlsX2luLGMtPWUuYXZhaWxfb3V0LGUudG90YWxfaW4rPWYsZS50b3RhbF9vdXQrPWMsci50b3RhbCs9YyxyLndyYXAmJmMmJihlLmFkbGVyPXIuY2hlY2s9ci5mbGFncz9CKHIuY2hlY2ssaSxjLGUubmV4dF9vdXQtYyk6TyhyLmNoZWNrLGksYyxlLm5leHRfb3V0LWMpKSxlLmRhdGFfdHlwZT1yLmJpdHMrKHIubGFzdD82NDowKSsoMTI9PT1yLm1vZGU/MTI4OjApKygyMD09PXIubW9kZXx8MTU9PT1yLm1vZGU/MjU2OjApLCgwPT1mJiYwPT09Y3x8ND09PXQpJiZ4PT09TiYmKHg9LTUpLHgpfSxyLmluZmxhdGVFbmQ9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnN0YXRlKXJldHVybiBVO3ZhciB0PWUuc3RhdGU7cmV0dXJuIHQud2luZG93JiYodC53aW5kb3c9bnVsbCksZS5zdGF0ZT1udWxsLE59LHIuaW5mbGF0ZUdldEhlYWRlcj1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiBlJiZlLnN0YXRlPzA9PSgyJihyPWUuc3RhdGUpLndyYXApP1U6KChyLmhlYWQ9dCkuZG9uZT0hMSxOKTpVfSxyLmluZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10Lmxlbmd0aDtyZXR1cm4gZSYmZS5zdGF0ZT8wIT09KHI9ZS5zdGF0ZSkud3JhcCYmMTEhPT1yLm1vZGU/VToxMT09PXIubW9kZSYmTygxLHQsbiwwKSE9PXIuY2hlY2s/LTM6WihlLHQsbixuKT8oci5tb2RlPTMxLC00KTooci5oYXZlZGljdD0xLE4pOlV9LHIuaW5mbGF0ZUluZm89XCJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LHtcIi4uL3V0aWxzL2NvbW1vblwiOjQxLFwiLi9hZGxlcjMyXCI6NDMsXCIuL2NyYzMyXCI6NDUsXCIuL2luZmZhc3RcIjo0OCxcIi4vaW5mdHJlZXNcIjo1MH1dLDUwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIEQ9ZShcIi4uL3V0aWxzL2NvbW1vblwiKSxGPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0sTj1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLFU9WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLFA9WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbixpLHMsYSxvKXt2YXIgaCx1LGwsZixjLGQscCxtLF8sZz1vLmJpdHMsYj0wLHY9MCx5PTAsdz0wLGs9MCx4PTAsUz0wLHo9MCxDPTAsRT0wLEE9bnVsbCxJPTAsTz1uZXcgRC5CdWYxNigxNiksQj1uZXcgRC5CdWYxNigxNiksUj1udWxsLFQ9MDtmb3IoYj0wO2I8PTE1O2IrKylPW2JdPTA7Zm9yKHY9MDt2PG47disrKU9bdFtyK3ZdXSsrO2ZvcihrPWcsdz0xNTsxPD13JiYwPT09T1t3XTt3LS0pO2lmKHc8ayYmKGs9dyksMD09PXcpcmV0dXJuIGlbcysrXT0yMDk3MTUyMCxpW3MrK109MjA5NzE1MjAsby5iaXRzPTEsMDtmb3IoeT0xO3k8dyYmMD09PU9beV07eSsrKTtmb3Ioazx5JiYoaz15KSxiPXo9MTtiPD0xNTtiKyspaWYoejw8PTEsKHotPU9bYl0pPDApcmV0dXJuLTE7aWYoMDx6JiYoMD09PWV8fDEhPT13KSlyZXR1cm4tMTtmb3IoQlsxXT0wLGI9MTtiPDE1O2IrKylCW2IrMV09QltiXStPW2JdO2Zvcih2PTA7djxuO3YrKykwIT09dFtyK3ZdJiYoYVtCW3Rbcit2XV0rK109dik7aWYoZD0wPT09ZT8oQT1SPWEsMTkpOjE9PT1lPyhBPUYsSS09MjU3LFI9TixULT0yNTcsMjU2KTooQT1VLFI9UCwtMSksYj15LGM9cyxTPXY9RT0wLGw9LTEsZj0oQz0xPDwoeD1rKSktMSwxPT09ZSYmODUyPEN8fDI9PT1lJiY1OTI8QylyZXR1cm4gMTtmb3IoOzspe2ZvcihwPWItUyxfPWFbdl08ZD8obT0wLGFbdl0pOmFbdl0+ZD8obT1SW1QrYVt2XV0sQVtJK2Fbdl1dKToobT05NiwwKSxoPTE8PGItUyx5PXU9MTw8eDtpW2MrKEU+PlMpKyh1LT1oKV09cDw8MjR8bTw8MTZ8X3wwLDAhPT11Oyk7Zm9yKGg9MTw8Yi0xO0UmaDspaD4+PTE7aWYoMCE9PWg/KEUmPWgtMSxFKz1oKTpFPTAsdisrLDA9PS0tT1tiXSl7aWYoYj09PXcpYnJlYWs7Yj10W3IrYVt2XV19aWYoazxiJiYoRSZmKSE9PWwpe2ZvcigwPT09UyYmKFM9ayksYys9eSx6PTE8PCh4PWItUyk7eCtTPHcmJiEoKHotPU9beCtTXSk8PTApOyl4Kyssejw8PTE7aWYoQys9MTw8eCwxPT09ZSYmODUyPEN8fDI9PT1lJiY1OTI8QylyZXR1cm4gMTtpW2w9RSZmXT1rPDwyNHx4PDwxNnxjLXN8MH19cmV0dXJuIDAhPT1FJiYoaVtjK0VdPWItUzw8MjR8NjQ8PDE2fDApLG8uYml0cz1rLDB9fSx7XCIuLi91dGlscy9jb21tb25cIjo0MX1dLDUxOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPXsyOlwibmVlZCBkaWN0aW9uYXJ5XCIsMTpcInN0cmVhbSBlbmRcIiwwOlwiXCIsXCItMVwiOlwiZmlsZSBlcnJvclwiLFwiLTJcIjpcInN0cmVhbSBlcnJvclwiLFwiLTNcIjpcImRhdGEgZXJyb3JcIixcIi00XCI6XCJpbnN1ZmZpY2llbnQgbWVtb3J5XCIsXCItNVwiOlwiYnVmZmVyIGVycm9yXCIsXCItNlwiOlwiaW5jb21wYXRpYmxlIHZlcnNpb25cIn19LHt9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi91dGlscy9jb21tb25cIiksbz0wLGg9MTtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDswPD0tLXQ7KWVbdF09MH12YXIgcz0wLGE9MjksdT0yNTYsbD11KzErYSxmPTMwLGM9MTksXz0yKmwrMSxnPTE1LGQ9MTYscD03LG09MjU2LGI9MTYsdj0xNyx5PTE4LHc9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0saz1bMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10seD1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10sUz1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0sej1uZXcgQXJyYXkoMioobCsyKSk7bih6KTt2YXIgQz1uZXcgQXJyYXkoMipmKTtuKEMpO3ZhciBFPW5ldyBBcnJheSg1MTIpO24oRSk7dmFyIEE9bmV3IEFycmF5KDI1Nik7bihBKTt2YXIgST1uZXcgQXJyYXkoYSk7bihJKTt2YXIgTyxCLFIsVD1uZXcgQXJyYXkoZik7ZnVuY3Rpb24gRChlLHQscixuLGkpe3RoaXMuc3RhdGljX3RyZWU9ZSx0aGlzLmV4dHJhX2JpdHM9dCx0aGlzLmV4dHJhX2Jhc2U9cix0aGlzLmVsZW1zPW4sdGhpcy5tYXhfbGVuZ3RoPWksdGhpcy5oYXNfc3RyZWU9ZSYmZS5sZW5ndGh9ZnVuY3Rpb24gRihlLHQpe3RoaXMuZHluX3RyZWU9ZSx0aGlzLm1heF9jb2RlPTAsdGhpcy5zdGF0X2Rlc2M9dH1mdW5jdGlvbiBOKGUpe3JldHVybiBlPDI1Nj9FW2VdOkVbMjU2KyhlPj4+NyldfWZ1bmN0aW9uIFUoZSx0KXtlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmdCxlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10Pj4+OCYyNTV9ZnVuY3Rpb24gUChlLHQscil7ZS5iaV92YWxpZD5kLXI/KGUuYmlfYnVmfD10PDxlLmJpX3ZhbGlkJjY1NTM1LFUoZSxlLmJpX2J1ZiksZS5iaV9idWY9dD4+ZC1lLmJpX3ZhbGlkLGUuYmlfdmFsaWQrPXItZCk6KGUuYmlfYnVmfD10PDxlLmJpX3ZhbGlkJjY1NTM1LGUuYmlfdmFsaWQrPXIpfWZ1bmN0aW9uIEwoZSx0LHIpe1AoZSxyWzIqdF0sclsyKnQrMV0pfWZ1bmN0aW9uIGooZSx0KXtmb3IodmFyIHI9MDtyfD0xJmUsZT4+Pj0xLHI8PD0xLDA8LS10Oyk7cmV0dXJuIHI+Pj4xfWZ1bmN0aW9uIFooZSx0LHIpe3ZhciBuLGkscz1uZXcgQXJyYXkoZysxKSxhPTA7Zm9yKG49MTtuPD1nO24rKylzW25dPWE9YStyW24tMV08PDE7Zm9yKGk9MDtpPD10O2krKyl7dmFyIG89ZVsyKmkrMV07MCE9PW8mJihlWzIqaV09aihzW29dKyssbykpfX1mdW5jdGlvbiBXKGUpe3ZhciB0O2Zvcih0PTA7dDxsO3QrKyllLmR5bl9sdHJlZVsyKnRdPTA7Zm9yKHQ9MDt0PGY7dCsrKWUuZHluX2R0cmVlWzIqdF09MDtmb3IodD0wO3Q8Yzt0KyspZS5ibF90cmVlWzIqdF09MDtlLmR5bl9sdHJlZVsyKm1dPTEsZS5vcHRfbGVuPWUuc3RhdGljX2xlbj0wLGUubGFzdF9saXQ9ZS5tYXRjaGVzPTB9ZnVuY3Rpb24gTShlKXs4PGUuYmlfdmFsaWQ/VShlLGUuYmlfYnVmKTowPGUuYmlfdmFsaWQmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT1lLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTB9ZnVuY3Rpb24gSChlLHQscixuKXt2YXIgaT0yKnQscz0yKnI7cmV0dXJuIGVbaV08ZVtzXXx8ZVtpXT09PWVbc10mJm5bdF08PW5bcl19ZnVuY3Rpb24gRyhlLHQscil7Zm9yKHZhciBuPWUuaGVhcFtyXSxpPXI8PDE7aTw9ZS5oZWFwX2xlbiYmKGk8ZS5oZWFwX2xlbiYmSCh0LGUuaGVhcFtpKzFdLGUuaGVhcFtpXSxlLmRlcHRoKSYmaSsrLCFIKHQsbixlLmhlYXBbaV0sZS5kZXB0aCkpOyllLmhlYXBbcl09ZS5oZWFwW2ldLHI9aSxpPDw9MTtlLmhlYXBbcl09bn1mdW5jdGlvbiBLKGUsdCxyKXt2YXIgbixpLHMsYSxvPTA7aWYoMCE9PWUubGFzdF9saXQpZm9yKDtuPWUucGVuZGluZ19idWZbZS5kX2J1ZisyKm9dPDw4fGUucGVuZGluZ19idWZbZS5kX2J1ZisyKm8rMV0saT1lLnBlbmRpbmdfYnVmW2UubF9idWYrb10sbysrLDA9PT1uP0woZSxpLHQpOihMKGUsKHM9QVtpXSkrdSsxLHQpLDAhPT0oYT13W3NdKSYmUChlLGktPUlbc10sYSksTChlLHM9TigtLW4pLHIpLDAhPT0oYT1rW3NdKSYmUChlLG4tPVRbc10sYSkpLG88ZS5sYXN0X2xpdDspO0woZSxtLHQpfWZ1bmN0aW9uIFkoZSx0KXt2YXIgcixuLGkscz10LmR5bl90cmVlLGE9dC5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsbz10LnN0YXRfZGVzYy5oYXNfc3RyZWUsaD10LnN0YXRfZGVzYy5lbGVtcyx1PS0xO2ZvcihlLmhlYXBfbGVuPTAsZS5oZWFwX21heD1fLHI9MDtyPGg7cisrKTAhPT1zWzIqcl0/KGUuaGVhcFsrK2UuaGVhcF9sZW5dPXU9cixlLmRlcHRoW3JdPTApOnNbMipyKzFdPTA7Zm9yKDtlLmhlYXBfbGVuPDI7KXNbMiooaT1lLmhlYXBbKytlLmhlYXBfbGVuXT11PDI/Kyt1OjApXT0xLGUuZGVwdGhbaV09MCxlLm9wdF9sZW4tLSxvJiYoZS5zdGF0aWNfbGVuLT1hWzIqaSsxXSk7Zm9yKHQubWF4X2NvZGU9dSxyPWUuaGVhcF9sZW4+PjE7MTw9cjtyLS0pRyhlLHMscik7Zm9yKGk9aDtyPWUuaGVhcFsxXSxlLmhlYXBbMV09ZS5oZWFwW2UuaGVhcF9sZW4tLV0sRyhlLHMsMSksbj1lLmhlYXBbMV0sZS5oZWFwWy0tZS5oZWFwX21heF09cixlLmhlYXBbLS1lLmhlYXBfbWF4XT1uLHNbMippXT1zWzIqcl0rc1syKm5dLGUuZGVwdGhbaV09KGUuZGVwdGhbcl0+PWUuZGVwdGhbbl0/ZS5kZXB0aFtyXTplLmRlcHRoW25dKSsxLHNbMipyKzFdPXNbMipuKzFdPWksZS5oZWFwWzFdPWkrKyxHKGUscywxKSwyPD1lLmhlYXBfbGVuOyk7ZS5oZWFwWy0tZS5oZWFwX21heF09ZS5oZWFwWzFdLGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLHMsYSxvLGg9dC5keW5fdHJlZSx1PXQubWF4X2NvZGUsbD10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxmPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxjPXQuc3RhdF9kZXNjLmV4dHJhX2JpdHMsZD10LnN0YXRfZGVzYy5leHRyYV9iYXNlLHA9dC5zdGF0X2Rlc2MubWF4X2xlbmd0aCxtPTA7Zm9yKHM9MDtzPD1nO3MrKyllLmJsX2NvdW50W3NdPTA7Zm9yKGhbMiplLmhlYXBbZS5oZWFwX21heF0rMV09MCxyPWUuaGVhcF9tYXgrMTtyPF87cisrKXA8KHM9aFsyKmhbMioobj1lLmhlYXBbcl0pKzFdKzFdKzEpJiYocz1wLG0rKyksaFsyKm4rMV09cyx1PG58fChlLmJsX2NvdW50W3NdKyssYT0wLGQ8PW4mJihhPWNbbi1kXSksbz1oWzIqbl0sZS5vcHRfbGVuKz1vKihzK2EpLGYmJihlLnN0YXRpY19sZW4rPW8qKGxbMipuKzFdK2EpKSk7aWYoMCE9PW0pe2Rve2ZvcihzPXAtMTswPT09ZS5ibF9jb3VudFtzXTspcy0tO2UuYmxfY291bnRbc10tLSxlLmJsX2NvdW50W3MrMV0rPTIsZS5ibF9jb3VudFtwXS0tLG0tPTJ9d2hpbGUoMDxtKTtmb3Iocz1wOzAhPT1zO3MtLSlmb3Iobj1lLmJsX2NvdW50W3NdOzAhPT1uOyl1PChpPWUuaGVhcFstLXJdKXx8KGhbMippKzFdIT09cyYmKGUub3B0X2xlbis9KHMtaFsyKmkrMV0pKmhbMippXSxoWzIqaSsxXT1zKSxuLS0pfX0oZSx0KSxaKHMsdSxlLmJsX2NvdW50KX1mdW5jdGlvbiBYKGUsdCxyKXt2YXIgbixpLHM9LTEsYT10WzFdLG89MCxoPTcsdT00O2ZvcigwPT09YSYmKGg9MTM4LHU9MyksdFsyKihyKzEpKzFdPTY1NTM1LG49MDtuPD1yO24rKylpPWEsYT10WzIqKG4rMSkrMV0sKytvPGgmJmk9PT1hfHwobzx1P2UuYmxfdHJlZVsyKmldKz1vOjAhPT1pPyhpIT09cyYmZS5ibF90cmVlWzIqaV0rKyxlLmJsX3RyZWVbMipiXSsrKTpvPD0xMD9lLmJsX3RyZWVbMip2XSsrOmUuYmxfdHJlZVsyKnldKysscz1pLHU9KG89MCk9PT1hPyhoPTEzOCwzKTppPT09YT8oaD02LDMpOihoPTcsNCkpfWZ1bmN0aW9uIFYoZSx0LHIpe3ZhciBuLGkscz0tMSxhPXRbMV0sbz0wLGg9Nyx1PTQ7Zm9yKDA9PT1hJiYoaD0xMzgsdT0zKSxuPTA7bjw9cjtuKyspaWYoaT1hLGE9dFsyKihuKzEpKzFdLCEoKytvPGgmJmk9PT1hKSl7aWYobzx1KWZvcig7TChlLGksZS5ibF90cmVlKSwwIT0tLW87KTtlbHNlIDAhPT1pPyhpIT09cyYmKEwoZSxpLGUuYmxfdHJlZSksby0tKSxMKGUsYixlLmJsX3RyZWUpLFAoZSxvLTMsMikpOm88PTEwPyhMKGUsdixlLmJsX3RyZWUpLFAoZSxvLTMsMykpOihMKGUseSxlLmJsX3RyZWUpLFAoZSxvLTExLDcpKTtzPWksdT0obz0wKT09PWE/KGg9MTM4LDMpOmk9PT1hPyhoPTYsMyk6KGg9Nyw0KX19bihUKTt2YXIgcT0hMTtmdW5jdGlvbiBKKGUsdCxyLG4pe1AoZSwoczw8MSkrKG4/MTowKSwzKSxmdW5jdGlvbihlLHQscixuKXtNKGUpLG4mJihVKGUsciksVShlLH5yKSksaS5hcnJheVNldChlLnBlbmRpbmdfYnVmLGUud2luZG93LHQscixlLnBlbmRpbmcpLGUucGVuZGluZys9cn0oZSx0LHIsITApfXIuX3RyX2luaXQ9ZnVuY3Rpb24oZSl7cXx8KGZ1bmN0aW9uKCl7dmFyIGUsdCxyLG4saSxzPW5ldyBBcnJheShnKzEpO2ZvcihuPXI9MDtuPGEtMTtuKyspZm9yKElbbl09cixlPTA7ZTwxPDx3W25dO2UrKylBW3IrK109bjtmb3IoQVtyLTFdPW4sbj1pPTA7bjwxNjtuKyspZm9yKFRbbl09aSxlPTA7ZTwxPDxrW25dO2UrKylFW2krK109bjtmb3IoaT4+PTc7bjxmO24rKylmb3IoVFtuXT1pPDw3LGU9MDtlPDE8PGtbbl0tNztlKyspRVsyNTYraSsrXT1uO2Zvcih0PTA7dDw9Zzt0Kyspc1t0XT0wO2ZvcihlPTA7ZTw9MTQzOyl6WzIqZSsxXT04LGUrKyxzWzhdKys7Zm9yKDtlPD0yNTU7KXpbMiplKzFdPTksZSsrLHNbOV0rKztmb3IoO2U8PTI3OTspelsyKmUrMV09NyxlKyssc1s3XSsrO2Zvcig7ZTw9Mjg3Oyl6WzIqZSsxXT04LGUrKyxzWzhdKys7Zm9yKFooeixsKzEscyksZT0wO2U8ZjtlKyspQ1syKmUrMV09NSxDWzIqZV09aihlLDUpO089bmV3IEQoeix3LHUrMSxsLGcpLEI9bmV3IEQoQyxrLDAsZixnKSxSPW5ldyBEKG5ldyBBcnJheSgwKSx4LDAsYyxwKX0oKSxxPSEwKSxlLmxfZGVzYz1uZXcgRihlLmR5bl9sdHJlZSxPKSxlLmRfZGVzYz1uZXcgRihlLmR5bl9kdHJlZSxCKSxlLmJsX2Rlc2M9bmV3IEYoZS5ibF90cmVlLFIpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wLFcoZSl9LHIuX3RyX3N0b3JlZF9ibG9jaz1KLHIuX3RyX2ZsdXNoX2Jsb2NrPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLHMsYT0wOzA8ZS5sZXZlbD8oMj09PWUuc3RybS5kYXRhX3R5cGUmJihlLnN0cm0uZGF0YV90eXBlPWZ1bmN0aW9uKGUpe3ZhciB0LHI9NDA5MzYyNDQ0Nztmb3IodD0wO3Q8PTMxO3QrKyxyPj4+PTEpaWYoMSZyJiYwIT09ZS5keW5fbHRyZWVbMip0XSlyZXR1cm4gbztpZigwIT09ZS5keW5fbHRyZWVbMThdfHwwIT09ZS5keW5fbHRyZWVbMjBdfHwwIT09ZS5keW5fbHRyZWVbMjZdKXJldHVybiBoO2Zvcih0PTMyO3Q8dTt0KyspaWYoMCE9PWUuZHluX2x0cmVlWzIqdF0pcmV0dXJuIGg7cmV0dXJuIG99KGUpKSxZKGUsZS5sX2Rlc2MpLFkoZSxlLmRfZGVzYyksYT1mdW5jdGlvbihlKXt2YXIgdDtmb3IoWChlLGUuZHluX2x0cmVlLGUubF9kZXNjLm1heF9jb2RlKSxYKGUsZS5keW5fZHRyZWUsZS5kX2Rlc2MubWF4X2NvZGUpLFkoZSxlLmJsX2Rlc2MpLHQ9Yy0xOzM8PXQmJjA9PT1lLmJsX3RyZWVbMipTW3RdKzFdO3QtLSk7cmV0dXJuIGUub3B0X2xlbis9MyoodCsxKSs1KzUrNCx0fShlKSxpPWUub3B0X2xlbiszKzc+Pj4zLChzPWUuc3RhdGljX2xlbiszKzc+Pj4zKTw9aSYmKGk9cykpOmk9cz1yKzUscis0PD1pJiYtMSE9PXQ/SihlLHQscixuKTo0PT09ZS5zdHJhdGVneXx8cz09PWk/KFAoZSwyKyhuPzE6MCksMyksSyhlLHosQykpOihQKGUsNCsobj8xOjApLDMpLGZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpO2ZvcihQKGUsdC0yNTcsNSksUChlLHItMSw1KSxQKGUsbi00LDQpLGk9MDtpPG47aSsrKVAoZSxlLmJsX3RyZWVbMipTW2ldKzFdLDMpO1YoZSxlLmR5bl9sdHJlZSx0LTEpLFYoZSxlLmR5bl9kdHJlZSxyLTEpfShlLGUubF9kZXNjLm1heF9jb2RlKzEsZS5kX2Rlc2MubWF4X2NvZGUrMSxhKzEpLEsoZSxlLmR5bl9sdHJlZSxlLmR5bl9kdHJlZSkpLFcoZSksbiYmTShlKX0sci5fdHJfdGFsbHk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnBlbmRpbmdfYnVmW2UuZF9idWYrMiplLmxhc3RfbGl0XT10Pj4+OCYyNTUsZS5wZW5kaW5nX2J1ZltlLmRfYnVmKzIqZS5sYXN0X2xpdCsxXT0yNTUmdCxlLnBlbmRpbmdfYnVmW2UubF9idWYrZS5sYXN0X2xpdF09MjU1JnIsZS5sYXN0X2xpdCsrLDA9PT10P2UuZHluX2x0cmVlWzIqcl0rKzooZS5tYXRjaGVzKyssdC0tLGUuZHluX2x0cmVlWzIqKEFbcl0rdSsxKV0rKyxlLmR5bl9kdHJlZVsyKk4odCldKyspLGUubGFzdF9saXQ9PT1lLmxpdF9idWZzaXplLTF9LHIuX3RyX2FsaWduPWZ1bmN0aW9uKGUpe1AoZSwyLDMpLEwoZSxtLHopLGZ1bmN0aW9uKGUpezE2PT09ZS5iaV92YWxpZD8oVShlLGUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCk6ODw9ZS5iaV92YWxpZCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZlLmJpX2J1ZixlLmJpX2J1Zj4+PTgsZS5iaV92YWxpZC09OCl9KGUpfX0se1wiLi4vdXRpbHMvY29tbW9uXCI6NDF9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz1cIlwiLHRoaXMuc3RhdGU9bnVsbCx0aGlzLmRhdGFfdHlwZT0yLHRoaXMuYWRsZXI9MH19LHt9XSw1NDpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXshZnVuY3Rpb24ocixuKXtcInVzZSBzdHJpY3RcIjtpZighci5zZXRJbW1lZGlhdGUpe3ZhciBpLHMsdCxhLG89MSxoPXt9LHU9ITEsbD1yLmRvY3VtZW50LGU9T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2Yocik7ZT1lJiZlLnNldFRpbWVvdXQ/ZTpyLGk9XCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHIucHJvY2Vzcyk/ZnVuY3Rpb24oZSl7cHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe2MoZSl9KX06ZnVuY3Rpb24oKXtpZihyLnBvc3RNZXNzYWdlJiYhci5pbXBvcnRTY3JpcHRzKXt2YXIgZT0hMCx0PXIub25tZXNzYWdlO3JldHVybiByLm9ubWVzc2FnZT1mdW5jdGlvbigpe2U9ITF9LHIucG9zdE1lc3NhZ2UoXCJcIixcIipcIiksci5vbm1lc3NhZ2U9dCxlfX0oKT8oYT1cInNldEltbWVkaWF0ZSRcIitNYXRoLnJhbmRvbSgpK1wiJFwiLHIuYWRkRXZlbnRMaXN0ZW5lcj9yLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZCwhMSk6ci5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLGQpLGZ1bmN0aW9uKGUpe3IucG9zdE1lc3NhZ2UoYStlLFwiKlwiKX0pOnIuTWVzc2FnZUNoYW5uZWw/KCh0PW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKGUpe2MoZS5kYXRhKX0sZnVuY3Rpb24oZSl7dC5wb3J0Mi5wb3N0TWVzc2FnZShlKX0pOmwmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBsLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/KHM9bC5kb2N1bWVudEVsZW1lbnQsZnVuY3Rpb24oZSl7dmFyIHQ9bC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7YyhlKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHMucmVtb3ZlQ2hpbGQodCksdD1udWxsfSxzLmFwcGVuZENoaWxkKHQpfSk6ZnVuY3Rpb24oZSl7c2V0VGltZW91dChjLDAsZSl9LGUuc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihlPW5ldyBGdW5jdGlvbihcIlwiK2UpKTtmb3IodmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSkscj0wO3I8dC5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3IrMV07dmFyIG49e2NhbGxiYWNrOmUsYXJnczp0fTtyZXR1cm4gaFtvXT1uLGkobyksbysrfSxlLmNsZWFySW1tZWRpYXRlPWZ9ZnVuY3Rpb24gZihlKXtkZWxldGUgaFtlXX1mdW5jdGlvbiBjKGUpe2lmKHUpc2V0VGltZW91dChjLDAsZSk7ZWxzZXt2YXIgdD1oW2VdO2lmKHQpe3U9ITA7dHJ5eyFmdW5jdGlvbihlKXt2YXIgdD1lLmNhbGxiYWNrLHI9ZS5hcmdzO3N3aXRjaChyLmxlbmd0aCl7Y2FzZSAwOnQoKTticmVhaztjYXNlIDE6dChyWzBdKTticmVhaztjYXNlIDI6dChyWzBdLHJbMV0pO2JyZWFrO2Nhc2UgMzp0KHJbMF0sclsxXSxyWzJdKTticmVhaztkZWZhdWx0OnQuYXBwbHkobixyKX19KHQpfWZpbmFsbHl7ZihlKSx1PSExfX19fWZ1bmN0aW9uIGQoZSl7ZS5zb3VyY2U9PT1yJiZcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhJiYwPT09ZS5kYXRhLmluZGV4T2YoYSkmJmMoK2UuZGF0YS5zbGljZShhLmxlbmd0aCkpfX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09ZT90aGlzOmU6c2VsZil9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XX0se30sWzEwXSkoMTApfSk7IiwgIi8vIGxvZ2dlci50c1xuZW51bSBMb2dMZXZlbCB7XG4gICAgSU5GTyxcbiAgICBXQVJOLFxuICAgIEVSUk9SLFxufVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgICBwcml2YXRlIGxvZ1RvQ29uc29sZShsZXZlbDogTG9nTGV2ZWwsIG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IGFueSkge1xuICAgICAgICAvLyBTT0xVVElPTiBCUlVUQUxFIDogY29uc29sZS5sb2cgZGlyZWN0XG4gICAgICAgIGNvbnNvbGUubG9nKGBbTmV4dXMgQUkgQ2hhdCBJbXBvcnRlcl0gWyR7TG9nTGV2ZWxbbGV2ZWxdfV0gJHttZXNzYWdlfWApO1xuICAgIH1cblxuICAgIGluZm8obWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogYW55KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbTmV4dXMgQUkgQ2hhdCBJbXBvcnRlcl0gW0lORk9dICR7bWVzc2FnZX1gKTtcbiAgICB9XG5cbiAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IGFueSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFtOZXh1cyBBSSBDaGF0IEltcG9ydGVyXSBbV0FSTl0gJHttZXNzYWdlfWApO1xuICAgIH1cblxuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbTmV4dXMgQUkgQ2hhdCBJbXBvcnRlcl0gW0VSUk9SXSAke21lc3NhZ2V9YCk7XG4gICAgfVxufSIsICIvLyBzcmMvdXRpbHMudHNcbmltcG9ydCB7IG1vbWVudCwgQXBwLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyXCI7XG5pbXBvcnQgeyByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWVzdGFtcChcbiAgICAvLyBSRVFVSVJFIFJFRkFDVE9SSU5HIFRPIFNVUFBPUlQgT1RIRVIgREFURSBGT1JNQVRTIFRIQU4gVU5JWFRJTUVcbiAgICB1bml4VGltZTogbnVtYmVyLFxuICAgIGZvcm1hdDogXCJwcmVmaXhcIiB8IFwiZGF0ZVwiIHwgXCJ0aW1lXCJcbik6IHN0cmluZyB7XG4gICAgY29uc3QgZGF0ZSA9IG1vbWVudCh1bml4VGltZSAqIDEwMDApO1xuICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICAgIGNhc2UgXCJwcmVmaXhcIjpcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmZvcm1hdChcIllZWVlNTUREXCIpO1xuICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZm9ybWF0KFwiTFwiKTtcbiAgICAgICAgY2FzZSBcInRpbWVcIjpcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmZvcm1hdChcIkxUXCIpO1xuICAgIH1cbn1cblxuLy8gR2VuZXJhdGUgc3ViZm9sZGVyIGZvciBZWVlZIE1NIHRyZWUgc3RydWN0dXJlXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVZZWFyTW9udGhGb2xkZXIodW5peFRpbWU6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHVuaXhUaW1lICogMTAwMCk7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgcmV0dXJuIGAke3llYXJ9LyR7bW9udGh9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpdGxlKHRpdGxlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aXRsZS50cmltKCkgfHwgXCJVbnRpdGxlZFwiOyAvLyBKdXN0IHRyaW0gd2hpdGVzcGFjZTsgcmV0YWluIHNwYWNlcyBhbmQgY2hhcmFjdGVycyBmb3IgcmVhZGFiaWxpdHlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlRmlsZU5hbWUodGl0bGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IGZpbGVOYW1lID0gZm9ybWF0VGl0bGUodGl0bGUpXG4gICAgICAgIC5ub3JtYWxpemUoXCJORkRcIilcbiAgICAgICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIpIC8vIFJlbW92ZSBkaWFjcml0aWNzXG4gICAgICAgIC5yZXBsYWNlKC9bPD46XCJcXC9cXFxcfD8qXFxuXFxyXSsvZywgXCJcIikgLy8gUmVtb3ZlIGludmFsaWQgZmlsZXN5c3RlbSBjaGFyYWN0ZXJzXG4gICAgICAgIC5yZXBsYWNlKC9cXC57Mix9L2csIFwiLlwiKSAvLyBSZXBsYWNlIG11bHRpcGxlIGRvdHMgd2l0aCBzaW5nbGUgZG90XG4gICAgICAgIC50cmltKCk7XG5cbiAgICAvLyBDUklUSUNBTDogUmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycyBmcm9tIHRoZSBiZWdpbm5pbmdcbiAgICAvLyBUaGlzIGZpeGVzIGlzc3VlcyBsaWtlIFwiLmh0YWNjZXNzXCIgYmVjb21pbmcgYW4gaW52aXNpYmxlIGZpbGVcbiAgICBmaWxlTmFtZSA9IGZpbGVOYW1lLnJlcGxhY2UoL15bXlxcd1xcZFxcc10rLywgXCJcIik7IC8vIFJlbW92ZSBub24tYWxwaGFudW1lcmljIGF0IHN0YXJ0XG4gICAgXG4gICAgLy8gQ2xlYW4gdXAgYW55IHJlbWFpbmluZyBwcm9ibGVtYXRpYyBwYXR0ZXJuc1xuICAgIGZpbGVOYW1lID0gZmlsZU5hbWVcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpIC8vIE5vcm1hbGl6ZSBzcGFjZXNcbiAgICAgICAgLnRyaW0oKTtcblxuICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGEgdmFsaWQgZmlsZW5hbWVcbiAgICBpZiAoIWZpbGVOYW1lIHx8IGZpbGVOYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmaWxlTmFtZSA9IFwiVW50aXRsZWRcIjtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgZmlsZW5hbWUgZG9lc24ndCBzdGFydCB3aXRoIGEgZG90IChoaWRkZW4gZmlsZXMpXG4gICAgaWYgKGZpbGVOYW1lLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICAgIGZpbGVOYW1lID0gZmlsZU5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIC8vIEZpbmFsIHNhZmV0eSBjaGVjayAtIGlmIHN0aWxsIGVtcHR5IGFmdGVyIGNsZWFuaW5nXG4gICAgaWYgKCFmaWxlTmFtZSB8fCBmaWxlTmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZmlsZU5hbWUgPSBcIlVudGl0bGVkXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbGVOYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkUHJlZml4KFxuICAgIGZpbGVuYW1lOiBzdHJpbmcsXG4gICAgdGltZVN0YW1wOiBudW1iZXIsXG4gICAgZGF0ZUZvcm1hdDogc3RyaW5nXG4pOiBzdHJpbmcge1xuICAgIGNvbnN0IHRpbWVTdGFtcFN0ciA9IGZvcm1hdFRpbWVzdGFtcCh0aW1lU3RhbXAsIGRhdGVGb3JtYXQpOyAvLyBVc2UgdGhlIHNwZWNpZmllZCBmb3JtYXRcbiAgICBpZiAodGltZVN0YW1wU3RyKSB7XG4gICAgICAgIGZpbGVuYW1lID0gYCR7dGltZVN0YW1wU3RyfSAtICR7ZmlsZW5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGVuYW1lOyAvLyBSZXR1cm4gdGhlIGZpbGVuYW1lIHdpdGggcHJlZml4IGlmIGFwcGxpY2FibGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhdGVQcmVmaXgoXG4gICAgdGltZVN0YW1wOiBudW1iZXIsXG4gICAgZGF0ZUZvcm1hdDogc3RyaW5nXG4pOiBzdHJpbmcge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lU3RhbXAgKiAxMDAwKTsgLy8gQ29udmVydCBVbml4IHRpbWVzdGFtcCB0byBEYXRlXG4gICAgbGV0IHByZWZpeCA9IFwiXCI7XG5cbiAgICAvLyBGb3JtYXQgdGhlIGRhdGUgYmFzZWQgb24gdGhlIHNwZWNpZmllZCBmb3JtYXRcbiAgICBpZiAoZGF0ZUZvcm1hdCA9PT0gXCJZWVlZLU1NLUREXCIpIHtcbiAgICAgICAgcHJlZml4ID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTsgLy8gRm9ybWF0IGFzIFlZWVktTU0tRERcbiAgICB9IGVsc2UgaWYgKGRhdGVGb3JtYXQgPT09IFwiWVlZWU1NRERcIikge1xuICAgICAgICBwcmVmaXggPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLnJlcGxhY2UoLy0vZywgXCJcIik7IC8vIFJlbW92ZSBkYXNoZXMgZm9yIFlZWVlNTUREXG4gICAgfVxuXG4gICAgcmV0dXJuIHByZWZpeDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlRmlsZU5hbWUoXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcbiAgICB2YXVsdEFkYXB0ZXI6IGFueVxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgdW5pcXVlRmlsZU5hbWUgPSBmaWxlUGF0aDtcblxuICAgIC8vIEV4dHJhY3QgdGhlIGJhc2UgbmFtZSBhbmQgZXh0ZW5zaW9uXG4gICAgY29uc3QgYmFzZU5hbWUgPSBmaWxlUGF0aC5yZXBsYWNlKC9cXC5tZCQvLCBcIlwiKTsgLy8gUmVtb3ZlIHRoZSAubWQgZXh0ZW5zaW9uIGZvciB1bmlxdWUgbmFtZSBnZW5lcmF0aW9uXG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGV4aXN0ZW5jZSBhbmQgZ2VuZXJhdGUgdW5pcXVlIG5hbWVzXG4gICAgd2hpbGUgKGF3YWl0IHZhdWx0QWRhcHRlci5leGlzdHModW5pcXVlRmlsZU5hbWUpKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBuYW1lIHdpdGggY291bnRlciBhcHBlbmRlZFxuICAgICAgICB1bmlxdWVGaWxlTmFtZSA9IGAke2Jhc2VOYW1lfSAoJHtjb3VudGVyKyt9KS5tZGA7IC8vIEFwcGVuZCB0aGUgY291bnRlciBhbmQga2VlcCAubWRcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pcXVlRmlsZU5hbWU7IC8vIFJldHVybiB0aGUgdW5pcXVlIGZpbGUgbmFtZVxufVxuXG4vLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZnVsbCBmaWxlIHBhdGggZXhpc3RzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG9lc0ZpbGVQYXRoRXhpc3QoXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcbiAgICB2YXVsdDogYW55XG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBmaWxlID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICByZXR1cm4gZmlsZSAhPT0gbnVsbDsgLy8gUmV0dXJuIHRydWUgaWYgdGhlIGZpbGUgZXhpc3RzLCBmYWxzZSBvdGhlcndpc2Vcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZpbGVIYXNoKGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsIGJ1ZmZlcik7XG4gICAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7XG4gICAgcmV0dXJuIGhhc2hBcnJheS5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgZXhhY3QgZmlsZW5hbWUgdGhhdCB3b3VsZCBiZSB1c2VkIGZvciBhIGNvbnZlcnNhdGlvblxuICogVGhpcyBtYXRjaGVzIHRoZSBsb2dpYyBpbiBDb252ZXJzYXRpb25Qcm9jZXNzb3IuZ2VuZXJhdGVGaWxlUGF0aEZvckNoYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ29udmVyc2F0aW9uRmlsZU5hbWUoXG4gICAgY2hhdFRpdGxlOiBzdHJpbmcsXG4gICAgY3JlYXRlVGltZTogbnVtYmVyLFxuICAgIGFkZERhdGVQcmVmaXg6IGJvb2xlYW4sXG4gICAgZGF0ZUZvcm1hdDogc3RyaW5nXG4pOiBzdHJpbmcge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjcmVhdGVUaW1lICogMTAwMCk7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cbiAgICBsZXQgZmlsZU5hbWUgPSBnZW5lcmF0ZUZpbGVOYW1lKGNoYXRUaXRsZSk7XG5cbiAgICBpZiAoYWRkRGF0ZVByZWZpeCkge1xuICAgICAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgICAgICAgbGV0IHByZWZpeCA9IFwiXCI7XG4gICAgICAgIGlmIChkYXRlRm9ybWF0ID09PSBcIllZWVktTU0tRERcIikge1xuICAgICAgICAgICAgcHJlZml4ID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRlRm9ybWF0ID09PSBcIllZWVlNTUREXCIpIHtcbiAgICAgICAgICAgIHByZWZpeCA9IGAke3llYXJ9JHttb250aH0ke2RheX1gO1xuICAgICAgICB9XG4gICAgICAgIGZpbGVOYW1lID0gYCR7cHJlZml4fSAtICR7ZmlsZU5hbWV9YDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsZU5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkTWVzc2FnZShtZXNzYWdlOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBtZXNzYWdlICYmXG4gICAgICAgIHR5cGVvZiBtZXNzYWdlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIG1lc3NhZ2UuY29udGVudCAmJlxuICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50LnBhcnRzKSAmJlxuICAgICAgICBtZXNzYWdlLmNvbnRlbnQucGFydHMubGVuZ3RoID4gMCAmJlxuICAgICAgICBtZXNzYWdlLmNvbnRlbnQucGFydHMuc29tZShcbiAgICAgICAgICAgIChwYXJ0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc2ltcGxlIHN0cmluZyBwYXJ0c1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJzdHJpbmdcIiAmJiBwYXJ0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIG9iamVjdCBwYXJ0cyB3aXRoIGNvbnRlbnRfdHlwZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF1ZGlvIHRyYW5zY3JpcHRpb24gcGFydHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuY29udGVudF90eXBlID09PSBcImF1ZGlvX3RyYW5zY3JpcHRpb25cIiAmJiBwYXJ0LnRleHQgJiYgcGFydC50ZXh0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVGV4dCBwYXJ0cyB3aXRoIGNvbnRlbnRfdHlwZVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydC5jb250ZW50X3R5cGUgPT09IFwidGV4dFwiICYmIHBhcnQudGV4dCAmJiBwYXJ0LnRleHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBNdWx0aW1vZGFsIHRleHQgcGFydHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuY29udGVudF90eXBlID09PSBcIm11bHRpbW9kYWxfdGV4dFwiICYmIHBhcnQudGV4dCAmJiBwYXJ0LnRleHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDdXN0b21FcnJvcihlcnJvcjogYW55KTogZXJyb3IgaXMgQ3VzdG9tRXJyb3Ige1xuICAgIHJldHVybiBlcnJvciAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIjsgLy8gQ2hlY2sgaWYgZXJyb3IgaGFzIGEgJ21lc3NhZ2UnIHByb3BlcnR5XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnN1cmVGb2xkZXJFeGlzdHMoXG4gICAgZm9sZGVyUGF0aDogc3RyaW5nLFxuICAgIHZhdWx0OiBhbnlcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgY29uc3QgZm9sZGVycyA9IGZvbGRlclBhdGguc3BsaXQoXCIvXCIpLmZpbHRlcigocCkgPT4gcC5sZW5ndGgpO1xuICAgIGxldCBjdXJyZW50UGF0aCA9IFwiXCI7XG5cbiAgICBmb3IgKGNvbnN0IGZvbGRlciBvZiBmb2xkZXJzKSB7XG4gICAgICAgIGN1cnJlbnRQYXRoICs9IGZvbGRlciArIFwiL1wiO1xuICAgICAgICBjb25zdCBjdXJyZW50Rm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGN1cnJlbnRQYXRoKTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRGb2xkZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdmF1bHQuY3JlYXRlRm9sZGVyKGN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSAhPT0gXCJGb2xkZXIgYWxyZWFkeSBleGlzdHMuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgYEZhaWxlZCB0byBjcmVhdGUgZm9sZGVyOiAke2N1cnJlbnRQYXRofWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBgRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXI6ICR7Y3VycmVudFBhdGh9LiBSZWFzb246ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBmb2xkZXIgYWxyZWFkeSBleGlzdHMsIGNvbnRpbnVlIHNpbGVudGx5XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tDb252ZXJzYXRpb25MaW5rKFxuICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgcHJvdmlkZXI6IHN0cmluZyA9ICdjaGF0Z3B0J1xuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgLy8gR2VuZXJhdGUgcHJvdmlkZXItc3BlY2lmaWMgVVJMXG4gICAgbGV0IHVybDogc3RyaW5nO1xuICAgIHN3aXRjaCAocHJvdmlkZXIpIHtcbiAgICAgICAgY2FzZSAnY2hhdGdwdCc6XG4gICAgICAgICAgICB1cmwgPSBgaHR0cHM6Ly9jaGF0Z3B0LmNvbS9jLyR7Y29udmVyc2F0aW9uSWR9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbGF1ZGUnOlxuICAgICAgICAgICAgdXJsID0gYGh0dHBzOi8vY2xhdWRlLmFpL2NoYXQvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoYFVua25vd24gcHJvdmlkZXIgZm9yIGxpbmsgY2hlY2tpbmc6ICR7cHJvdmlkZXJ9YCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkhFQURcIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwOyAvLyBSZXR1cm5zIHRydWUgZm9yIHN0YXR1cyBjb2RlcyAyMDAtMjk5XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGBFcnJvciBmZXRjaGluZyAke3VybH06YCwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFJldHVybiBmYWxzZSBpbiBjYXNlIG9mIGVycm9yIChlLmcuLCBuZXR3b3JrIGlzc3VlcylcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbGRfZ2V0Q29udmVyc2F0aW9uSWQoYXBwOiBBcHApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICBpZiAoYWN0aXZlRmlsZSkge1xuICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9XG4gICAgICAgICAgICBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoYWN0aXZlRmlsZSk/LmZyb250bWF0dGVyO1xuICAgICAgICByZXR1cm4gZnJvbnRtYXR0ZXI/LmNvbnZlcnNhdGlvbl9pZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gUmV0dXJuIHVuZGVmaW5lZCBpZiB0aGVyZSBpcyBubyBhY3RpdmUgZmlsZVxufVxuXG4vLyBSRU1PVkVEOiBnZXRDb252ZXJzYXRpb25JZCgpIC0gbm8gbG9uZ2VyIG5lZWRlZCAoY2xpY2sgaGFuZGxlciByZW1vdmVkKVxuLy8gUkVNT1ZFRDogZ2V0UHJvdmlkZXIoKSAtIG5vIGxvbmdlciBuZWVkZWQgKGNsaWNrIGhhbmRsZXIgcmVtb3ZlZClcblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmV4dXNSZWxhdGVkKGZpbGU6IFRGaWxlLCBhcHA6IEFwcCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZyb250bWF0dGVyID0gYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpPy5mcm9udG1hdHRlcjtcbiAgICByZXR1cm4gZnJvbnRtYXR0ZXI/Lm5leHVzID09PSBcIm5leHVzLWFpLWNoYXQtaW1wb3J0ZXJcIjsgLy8gUmV0dXJuIHRydWUgaWYgdGhlIG5leHVzIG1hdGNoZXNcbn1cblxuaW50ZXJmYWNlIEN1c3RvbUVycm9yIHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgbmFtZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIENoYXRNZXNzYWdlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGNvbnRlbnQ/OiB7XG4gICAgICAgIHBhcnRzOiBhbnlbXTtcbiAgICAgICAgY29udGVudF90eXBlPzogc3RyaW5nO1xuICAgIH07XG59IiwgIi8vIHNyYy9kaWFsb2dzLnRzXG5pbXBvcnQgeyBNb2RhbCwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbi8vIEZ1bmN0aW9uIHRvIHNob3cgdGhlIG1vZGFsIHdpdGggaW1wcm92ZWQgc3BhY2luZ1xuZnVuY3Rpb24gZGlzcGxheU1vZGFsKGFwcDogQXBwLCB0aXRsZTogc3RyaW5nLCBwYXJhZ3JhcGhzOiBzdHJpbmdbXSwgbm90ZT86IHN0cmluZyk6IE1vZGFsIHtcbiAgICBjb25zdCBtb2RhbCA9IG5ldyBNb2RhbChhcHApO1xuICAgIG1vZGFsLmNvbnRlbnRFbC5hZGRDbGFzcyhcIm5leHVzLWFpLWNoYXQtaW1wb3J0ZXItbW9kYWxcIik7XG5cbiAgICAvLyBUaXRsZSB3aXRoIHJlZHVjZWQgdG9wIHNwYWNpbmdcbiAgICBjb25zdCB0aXRsZUVsID0gbW9kYWwuY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyBcbiAgICAgICAgdGV4dDogdGl0bGUsXG4gICAgICAgIGNsczogXCJtb2RhbC10aXRsZVwiXG4gICAgfSk7XG5cbiAgICAvLyBDb250ZW50IGNvbnRhaW5lclxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBtb2RhbC5jb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLWNvbnRlbnRcIiB9KTtcblxuICAgIC8vIFByb2Nlc3MgcGFyYWdyYXBocyB3aXRoIGF1dG9tYXRpYyBzcGFjaW5nXG4gICAgcGFyYWdyYXBocy5mb3JFYWNoKChwYXJhZ3JhcGgsIHBhcmFncmFwaEluZGV4KSA9PiB7XG4gICAgICAgIC8vIEFkZCBkb3VibGUgbGluZSBicmVha3MgdG8gZW5zdXJlIHNlY3Rpb25zIGFyZSBzZXBhcmF0ZWRcbiAgICAgICAgY29uc3QgcGFyYWdyYXBoV2l0aFNwYWNpbmcgPSBwYXJhZ3JhcGggKyAnXFxuXFxuJztcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBhcmFncmFwaERpdiA9IGNvbnRlbnRDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLXBhcmFncmFwaFwiIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU3BsaXQgaW50byBzZWN0aW9ucyAoZG91YmxlIGxpbmUgYnJlYWtzIGNyZWF0ZSBuZXcgc2VjdGlvbnMpXG4gICAgICAgIGNvbnN0IHNlY3Rpb25zID0gcGFyYWdyYXBoV2l0aFNwYWNpbmcuc3BsaXQoJ1xcblxcbicpLmZpbHRlcihzZWN0aW9uID0+IHNlY3Rpb24udHJpbSgpICE9PSAnJyk7XG4gICAgICAgIFxuICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uLCBzZWN0aW9uSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXYgPSBwYXJhZ3JhcGhEaXYuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLXNlY3Rpb25cIiB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUHJvY2VzcyBlYWNoIGxpbmUgd2l0aGluIHRoZSBzZWN0aW9uXG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IHNlY3Rpb24uc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSAnJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lRGl2ID0gc2VjdGlvbkRpdi5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtbGluZVwiIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgbWFya2Rvd24gZm9ybWF0dGluZyB0byBIVE1MXG4gICAgICAgICAgICAgICAgbGV0IGh0bWxDb250ZW50ID0gbGluZVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxbKFteXFxdXSspXFxdXFwoKFteKV0rKVxcKS9nLCAnPGEgaHJlZj1cIiQyXCIgY2xhc3M9XCJleHRlcm5hbC1saW5rXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JDE8L2E+JylcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcKlxcKihbXipdKylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3Igc3BlY2lhbCBmb3JtYXR0aW5nXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpLmVuZHNXaXRoKCc6JykgJiYgbGluZS50cmltKCkubGVuZ3RoIDwgMzApIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZURpdi5pbm5lckhUTUwgPSBgPHN0cm9uZyBjbGFzcz1cInNlY3Rpb24taGVhZGVyXCI+JHtodG1sQ29udGVudH08L3N0cm9uZz5gO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS50cmltKCkuc3RhcnRzV2l0aCgnXHUyMDIyJykgfHwgbGluZS50cmltKCkuc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVEaXYuaW5uZXJIVE1MID0gaHRtbENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVEaXYuYWRkQ2xhc3MoJ21vZGFsLWxpc3QtaXRlbScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVEaXYuaW5uZXJIVE1MID0gaHRtbENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBzcGFjaW5nIGJldHdlZW4gc2VjdGlvbnMgd2l0aGluIHBhcmFncmFwaFxuICAgICAgICAgICAgaWYgKHNlY3Rpb25JbmRleCA8IHNlY3Rpb25zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhEaXYuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLXNlY3Rpb24tYnJlYWtcIiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgbm90ZSBhcyBzZXBhcmF0ZSBzZWN0aW9uIHdpdGggc3BhY2luZ1xuICAgIGlmIChub3RlKSB7XG4gICAgICAgIC8vIEFkZCBzcGFjaW5nIGJlZm9yZSBub3RlXG4gICAgICAgIGNvbnRlbnRDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLW1ham9yLWJyZWFrXCIgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBub3RlRGl2ID0gY29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtbm90ZVwiIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gUHJvY2VzcyBub3RlIGNvbnRlbnQgd2l0aCBzYW1lIGZvcm1hdHRpbmdcbiAgICAgICAgbGV0IG5vdGVDb250ZW50ID0gbm90ZVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcWyhbXlxcXV0rKVxcXVxcKChbXildKylcXCkvZywgJzxhIGhyZWY9XCIkMlwiIGNsYXNzPVwiZXh0ZXJuYWwtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiPiQxPC9hPicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnPHN0cm9uZz4kMTwvc3Ryb25nPicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwqKFteKl0rKVxcKi9nLCAnPGVtPiQxPC9lbT4nKTtcbiAgICAgICAgXG4gICAgICAgIG5vdGVEaXYuaW5uZXJIVE1MID0gbm90ZUNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGFsO1xufVxuXG4vLyBGdW5jdGlvbiB0byBhZGQgYnV0dG9ucyB3aXRoIGJldHRlciBzdHlsaW5nXG5mdW5jdGlvbiBhZGRCdXR0b25zKFxuICAgIG1vZGFsOiBNb2RhbCwgXG4gICAgdHlwZTogXCJpbmZvcm1hdGlvblwiIHwgXCJjb25maXJtYXRpb25cIiwgXG4gICAgcmVzb2x2ZTogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkLFxuICAgIGN1c3RvbUxhYmVscz86IHsgYnV0dG9uMT86IHN0cmluZzsgYnV0dG9uMj86IHN0cmluZyB9XG4pOiB2b2lkIHtcbiAgICBjb25zdCBidXR0b25Db250YWluZXIgPSBtb2RhbC5jb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLWJ1dHRvbi1jb250YWluZXJcIiB9KTtcbiAgICBcbiAgICBpZiAodHlwZSA9PT0gXCJpbmZvcm1hdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkxhYmVsID0gY3VzdG9tTGFiZWxzPy5idXR0b24xIHx8IFwiVW5kZXJzdG9vZFwiO1xuICAgICAgICBjb25zdCBidXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBcbiAgICAgICAgICAgIHRleHQ6IGJ1dHRvbkxhYmVsLFxuICAgICAgICAgICAgY2xzOiBcIm1vZC1jdGFcIiAgLy8gT2JzaWRpYW4ncyBwcmltYXJ5IGJ1dHRvbiBjbGFzc1xuICAgICAgICB9KTtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBtb2RhbC5jbG9zZSgpO1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHsgLy8gXCJjb25maXJtYXRpb25cIlxuICAgICAgICBjb25zdCBub0xhYmVsID0gY3VzdG9tTGFiZWxzPy5idXR0b24yIHx8IFwiTm9cIjtcbiAgICAgICAgY29uc3QgeWVzTGFiZWwgPSBjdXN0b21MYWJlbHM/LmJ1dHRvbjEgfHwgXCJZZXNcIjtcbiAgICAgICAgXG4gICAgICAgIC8vIE5vIGJ1dHRvbiAoc2Vjb25kYXJ5KVxuICAgICAgICBjb25zdCBub0J1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7IFxuICAgICAgICAgICAgdGV4dDogbm9MYWJlbCxcbiAgICAgICAgICAgIGNsczogXCJtb2QtbXV0ZWRcIiAgLy8gT2JzaWRpYW4ncyBzZWNvbmRhcnkgYnV0dG9uIGNsYXNzXG4gICAgICAgIH0pO1xuICAgICAgICBub0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFllcyBidXR0b24gKHByaW1hcnkpXG4gICAgICAgIGNvbnN0IHllc0J1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7IFxuICAgICAgICAgICAgdGV4dDogeWVzTGFiZWwsXG4gICAgICAgICAgICBjbHM6IFwibW9kLWN0YVwiICAvLyBPYnNpZGlhbidzIHByaW1hcnkgYnV0dG9uIGNsYXNzXG4gICAgICAgIH0pO1xuICAgICAgICB5ZXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIG1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIE1haW4gZnVuY3Rpb24gdG8gc2hvdyBjb25maXJtYXRpb24gb3IgaW5mb3JtYXRpb24gZGlhbG9nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd0RpYWxvZyhcbiAgICBhcHA6IEFwcCxcbiAgICB0eXBlOiBcImluZm9ybWF0aW9uXCIgfCBcImNvbmZpcm1hdGlvblwiLFxuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgcGFyYWdyYXBoczogc3RyaW5nW10sXG4gICAgbm90ZT86IHN0cmluZyxcbiAgICBjdXN0b21MYWJlbHM/OiB7IGJ1dHRvbjE/OiBzdHJpbmc7IGJ1dHRvbjI/OiBzdHJpbmcgfVxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGFsID0gZGlzcGxheU1vZGFsKGFwcCwgdGl0bGUsIHBhcmFncmFwaHMsIG5vdGUpO1xuICAgICAgICBhZGRCdXR0b25zKG1vZGFsLCB0eXBlLCByZXNvbHZlLCBjdXN0b21MYWJlbHMpO1xuICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQmVhdXRpZnVsIHVwZ3JhZGUgZGlhbG9nIHdpdGggZW5oYW5jZWQgc3R5bGluZyAobGlrZSBFeGNhbGlkcmF3KVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd1VwZ3JhZGVEaWFsb2coXG4gICAgYXBwOiBBcHAsXG4gICAgb3B0aW9uczoge1xuICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIGJ1dHRvbnM6IEFycmF5PHsgdGV4dDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nOyBwcmltYXJ5PzogYm9vbGVhbiB9PjtcbiAgICB9XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBCZWF1dGlmdWxVcGdyYWRlRGlhbG9nKGFwcCwgb3B0aW9ucywgcmVzb2x2ZSk7XG4gICAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9KTtcbn1cblxuY2xhc3MgQmVhdXRpZnVsVXBncmFkZURpYWxvZyBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIHJlc29sdmU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgb3B0aW9uczoge1xuICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIGJ1dHRvbnM6IEFycmF5PHsgdGV4dDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nOyBwcmltYXJ5PzogYm9vbGVhbiB9PjtcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwcDogQXBwLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICAgICAgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgYnV0dG9uczogQXJyYXk8eyB0ZXh0OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmc7IHByaW1hcnk/OiBib29sZWFuIH0+O1xuICAgICAgICB9LFxuICAgICAgICByZXNvbHZlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZFxuICAgICkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgICAgIC8vIEFkZCBjdXN0b20gQ1NTIGNsYXNzIGZvciBzdHlsaW5nXG4gICAgICAgIGNvbnRlbnRFbC5hZGRDbGFzcygnbmV4dXMtdXBncmFkZS1kaWFsb2cnKTtcblxuICAgICAgICAvLyBDcmVhdGUgbWFpbiBjb250YWluZXJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdignbmV4dXMtdXBncmFkZS1jb250YWluZXInKTtcblxuICAgICAgICAvLyBIZWFkZXIgd2l0aCBpY29uIGFuZCB0aXRsZVxuICAgICAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCduZXh1cy11cGdyYWRlLWhlYWRlcicpO1xuICAgICAgICBjb25zdCBoZWFkZXJJY29uID0gaGVhZGVyLmNyZWF0ZURpdignbmV4dXMtdXBncmFkZS1pY29uJyk7XG4gICAgICAgIGhlYWRlckljb24uaW5uZXJIVE1MID0gJ1x1RDgzRFx1REU4MCc7XG4gICAgICAgIGNvbnN0IGhlYWRlclRpdGxlID0gaGVhZGVyLmNyZWF0ZURpdignbmV4dXMtdXBncmFkZS10aXRsZScpO1xuICAgICAgICBoZWFkZXJUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMub3B0aW9ucy50aXRsZTtcblxuICAgICAgICAvLyBDb250ZW50IGFyZWEgd2l0aCByaWNoIGZvcm1hdHRpbmdcbiAgICAgICAgY29uc3QgY29udGVudCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25leHVzLXVwZ3JhZGUtY29udGVudCcpO1xuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5tZXNzYWdlO1xuXG4gICAgICAgIC8vIEtvLWZpIHN1cHBvcnQgc2VjdGlvbiAobGlrZSBFeGNhbGlkcmF3KVxuICAgICAgICBjb25zdCBzdXBwb3J0U2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25leHVzLXN1cHBvcnQtc2VjdGlvbicpO1xuICAgICAgICBzdXBwb3J0U2VjdGlvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmV4dXMtc3VwcG9ydC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgSSBidWlsZCB0aGlzIHBsdWdpbiBpbiBteSBmcmVlIHRpbWUsIGFzIGEgbGFib3Igb2YgbG92ZS4gSWYgeW91IGZpbmQgaXQgdmFsdWFibGUsIHNheSBUSEFOSyBZT1Ugb3JcdTIwMjZcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5leHVzLWNvZmZlZS1kaXZcIj5cbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9rby1maS5jb20vc3VwZXJraWtpbVwiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vc3RvcmFnZS5rby1maS5jb20vY2RuL2tvZmk2LnBuZz92PTZcIiBib3JkZXI9XCIwXCIgYWx0PVwiQnV5IE1lIGEgQ29mZmVlIGF0IGtvLWZpLmNvbVwiIGhlaWdodD1cIjQ1XCI+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gQnV0dG9ucyBjb250YWluZXJcbiAgICAgICAgY29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ25leHVzLXVwZ3JhZGUtYnV0dG9ucycpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5idXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBidXR0b24udGV4dCxcbiAgICAgICAgICAgICAgICBjbHM6IGJ1dHRvbi5wcmltYXJ5ID8gJ25leHVzLWJ0bi1wcmltYXJ5JyA6ICduZXh1cy1idG4tc2Vjb25kYXJ5J1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlKGJ1dHRvbi52YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn0iLCAiLy8gc3JjL3VwZ3JhZGUvdXRpbHMvdmVyc2lvbi11dGlscy50c1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZFZlcnNpb24ge1xuICAgIG1ham9yOiBudW1iZXI7XG4gICAgbWlub3I6IG51bWJlcjtcbiAgICBwYXRjaDogbnVtYmVyO1xuICAgIG9yaWdpbmFsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBWZXJzaW9uVXRpbHMge1xuICAgIC8qKlxuICAgICAqIFBhcnNlIHZlcnNpb24gc3RyaW5nIGludG8gY29tcG9uZW50c1xuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZVZlcnNpb24odmVyc2lvbjogc3RyaW5nKTogUGFyc2VkVmVyc2lvbiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdmVyc2lvbi5zcGxpdCgnLicpLm1hcChOdW1iZXIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFqb3I6IHBhcnRzWzBdIHx8IDAsXG4gICAgICAgICAgICBtaW5vcjogcGFydHNbMV0gfHwgMCwgXG4gICAgICAgICAgICBwYXRjaDogcGFydHNbMl0gfHwgMCxcbiAgICAgICAgICAgIG9yaWdpbmFsOiB2ZXJzaW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZSB0d28gdmVyc2lvbnNcbiAgICAgKiBSZXR1cm5zOiAtMSAodjEgPCB2MiksIDAgKHYxID0gdjIpLCAxICh2MSA+IHYyKVxuICAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlVmVyc2lvbnModmVyc2lvbjE6IHN0cmluZywgdmVyc2lvbjI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHYxID0gdGhpcy5wYXJzZVZlcnNpb24odmVyc2lvbjEpO1xuICAgICAgICBjb25zdCB2MiA9IHRoaXMucGFyc2VWZXJzaW9uKHZlcnNpb24yKTtcblxuICAgICAgICBpZiAodjEubWFqb3IgIT09IHYyLm1ham9yKSByZXR1cm4gdjEubWFqb3IgLSB2Mi5tYWpvcjtcbiAgICAgICAgaWYgKHYxLm1pbm9yICE9PSB2Mi5taW5vcikgcmV0dXJuIHYxLm1pbm9yIC0gdjIubWlub3I7XG4gICAgICAgIHJldHVybiB2MS5wYXRjaCAtIHYyLnBhdGNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZlcnNpb24gaXMgaW4gcmFuZ2UgW21pbiwgbWF4XVxuICAgICAqL1xuICAgIHN0YXRpYyBpc0luUmFuZ2UodmVyc2lvbjogc3RyaW5nLCBtaW5WZXJzaW9uOiBzdHJpbmcsIG1heFZlcnNpb24/OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaXNBYm92ZU1pbiA9IHRoaXMuY29tcGFyZVZlcnNpb25zKHZlcnNpb24sIG1pblZlcnNpb24pID49IDA7XG4gICAgICAgIGlmICghbWF4VmVyc2lvbikgcmV0dXJuIGlzQWJvdmVNaW47XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpc0JlbG93TWF4ID0gdGhpcy5jb21wYXJlVmVyc2lvbnModmVyc2lvbiwgbWF4VmVyc2lvbikgPD0gMDtcbiAgICAgICAgcmV0dXJuIGlzQWJvdmVNaW4gJiYgaXNCZWxvd01heDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBtaWdyYXRpb24gc2hvdWxkIHJ1biBiYXNlZCBvbiB2ZXJzaW9uIHJhbmdlXG4gICAgICovXG4gICAgc3RhdGljIHNob3VsZFJ1bk1pZ3JhdGlvbihcbiAgICAgICAgZnJvbVZlcnNpb246IHN0cmluZywgXG4gICAgICAgIHRvVmVyc2lvbjogc3RyaW5nLCBcbiAgICAgICAgbWlncmF0aW9uRnJvbVZlcnNpb246IHN0cmluZyxcbiAgICAgICAgbWlncmF0aW9uVG9WZXJzaW9uPzogc3RyaW5nXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIE1pZ3JhdGlvbiBuZWVkZWQgaWYgdXNlcidzIG9sZCB2ZXJzaW9uIGlzID49IG1pZ3JhdGlvbidzIHRhcmdldCByYW5nZVxuICAgICAgICAvLyBhbmQgdXNlcidzIG5ldyB2ZXJzaW9uIGlzID49IG1pZ3JhdGlvbidzIHRhcmdldCB2ZXJzaW9uXG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2VyRnJvbSA9IHRoaXMucGFyc2VWZXJzaW9uKGZyb21WZXJzaW9uKTtcbiAgICAgICAgY29uc3QgdXNlclRvID0gdGhpcy5wYXJzZVZlcnNpb24odG9WZXJzaW9uKTtcbiAgICAgICAgY29uc3QgbWlncmF0aW9uRnJvbSA9IHRoaXMucGFyc2VWZXJzaW9uKG1pZ3JhdGlvbkZyb21WZXJzaW9uKTtcbiAgICAgICAgY29uc3QgbWlncmF0aW9uVG8gPSBtaWdyYXRpb25Ub1ZlcnNpb24gPyB0aGlzLnBhcnNlVmVyc2lvbihtaWdyYXRpb25Ub1ZlcnNpb24pIDogdXNlclRvO1xuXG4gICAgICAgIC8vIFVzZXIgd2FzIGluIHRoZSByYW5nZSB0aGF0IG5lZWRzIHRoaXMgbWlncmF0aW9uXG4gICAgICAgIGNvbnN0IHdhc0luUmFuZ2UgPSB0aGlzLmNvbXBhcmVWZXJzaW9ucyhmcm9tVmVyc2lvbiwgbWlncmF0aW9uRnJvbVZlcnNpb24pID49IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2VyIGlzIHVwZ3JhZGluZyB0byBhIHZlcnNpb24gdGhhdCBoYXMgdGhpcyBtaWdyYXRpb25cbiAgICAgICAgY29uc3QgaXNVcGdyYWRpbmdUbyA9IHRoaXMuY29tcGFyZVZlcnNpb25zKHRvVmVyc2lvbiwgbWlncmF0aW9uVG8ub3JpZ2luYWwpID49IDA7XG5cbiAgICAgICAgcmV0dXJuIHdhc0luUmFuZ2UgJiYgaXNVcGdyYWRpbmdUbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHZlcnNpb25zIGJldHdlZW4gdHdvIHZlcnNpb25zIChmb3Igc2VxdWVudGlhbCBtaWdyYXRpb25zKVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRWZXJzaW9uc0luUmFuZ2UoZnJvbVZlcnNpb246IHN0cmluZywgdG9WZXJzaW9uOiBzdHJpbmcsIGF2YWlsYWJsZVZlcnNpb25zOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIGF2YWlsYWJsZVZlcnNpb25zXG4gICAgICAgICAgICAuZmlsdGVyKHYgPT4gXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wYXJlVmVyc2lvbnModiwgZnJvbVZlcnNpb24pID4gMCAmJiBcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBhcmVWZXJzaW9ucyh2LCB0b1ZlcnNpb24pIDw9IDBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB0aGlzLmNvbXBhcmVWZXJzaW9ucyhhLCBiKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHZlcnNpb24gZm9yIGRpc3BsYXlcbiAgICAgKi9cbiAgICBzdGF0aWMgZm9ybWF0VmVyc2lvbih2ZXJzaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLnBhcnNlVmVyc2lvbih2ZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIGB2JHtwYXJzZWQubWFqb3J9LiR7cGFyc2VkLm1pbm9yfS4ke3BhcnNlZC5wYXRjaH1gO1xuICAgIH1cbn0iLCAiLy8gc3JjL3VwZ3JhZGUvdXBncmFkZS1pbnRlcmZhY2UudHNcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCB7IFZlcnNpb25VdGlscyB9IGZyb20gXCIuL3V0aWxzL3ZlcnNpb24tdXRpbHNcIjtcbmltcG9ydCB7IHNob3dEaWFsb2cgfSBmcm9tIFwiLi4vZGlhbG9nc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlcmF0aW9uUmVzdWx0IHtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBkZXRhaWxzPzogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZ3JhZGVDb250ZXh0IHtcbiAgICBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW47XG4gICAgZnJvbVZlcnNpb246IHN0cmluZztcbiAgICB0b1ZlcnNpb246IHN0cmluZztcbiAgICBwbHVnaW5EYXRhOiBhbnk7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICBhYnN0cmFjdCByZWFkb25seSBpZDogc3RyaW5nO1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICBhYnN0cmFjdCByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IHR5cGU6ICdhdXRvbWF0aWMnIHwgJ21hbnVhbCc7XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBvcGVyYXRpb24gY2FuIHJ1biAocHJlcmVxdWlzaXRlcylcbiAgICAgKi9cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYWJzdHJhY3QgZXhlY3V0ZShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8T3BlcmF0aW9uUmVzdWx0PjtcblxuICAgIC8qKlxuICAgICAqIFZlcmlmeSBvcGVyYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuICAgICAqL1xuICAgIGFzeW5jIHZlcmlmeShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWZXJzaW9uVXBncmFkZSB7XG4gICAgYWJzdHJhY3QgcmVhZG9ubHkgdmVyc2lvbjogc3RyaW5nO1xuICAgIGFic3RyYWN0IHJlYWRvbmx5IGF1dG9tYXRpY09wZXJhdGlvbnM6IFVwZ3JhZGVPcGVyYXRpb25bXTtcbiAgICBhYnN0cmFjdCByZWFkb25seSBtYW51YWxPcGVyYXRpb25zOiBVcGdyYWRlT3BlcmF0aW9uW107XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGlzIHVwZ3JhZGUgc2hvdWxkIHJ1biBmb3IgdGhlIHZlcnNpb24gcmFuZ2VcbiAgICAgKi9cbiAgICBzaG91bGRSdW4oZnJvbVZlcnNpb246IHN0cmluZywgdG9WZXJzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgLy8gUnVuIGlmIHRhcmdldCB2ZXJzaW9uID49IHRoaXMgdXBncmFkZSB2ZXJzaW9uIGFuZCB1c2VyIGlzIHVwZ3JhZGluZyB0by9wYXN0IGl0XG4gICAgICAgIHJldHVybiBWZXJzaW9uVXRpbHMuY29tcGFyZVZlcnNpb25zKHRvVmVyc2lvbiwgdGhpcy52ZXJzaW9uKSA+PSAwICYmXG4gICAgICAgICAgICAgICBWZXJzaW9uVXRpbHMuY29tcGFyZVZlcnNpb25zKGZyb21WZXJzaW9uLCB0aGlzLnZlcnNpb24pIDwgMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGFsbCBhdXRvbWF0aWMgb3BlcmF0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIGV4ZWN1dGVBdXRvbWF0aWNPcGVyYXRpb25zKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTx7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgIHJlc3VsdHM6IEFycmF5PHtvcGVyYXRpb25JZDogc3RyaW5nOyByZXN1bHQ6IE9wZXJhdGlvblJlc3VsdH0+O1xuICAgIH0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8e29wZXJhdGlvbklkOiBzdHJpbmc7IHJlc3VsdDogT3BlcmF0aW9uUmVzdWx0fT4gPSBbXTtcbiAgICAgICAgbGV0IGFsbFN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIHRoaXMuYXV0b21hdGljT3BlcmF0aW9ucykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgIGlmIChhd2FpdCB0aGlzLmlzT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbi5pZCwgY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJBbHJlYWR5IGNvbXBsZXRlZFwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGNhbiBydW5cbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCBvcGVyYXRpb24uY2FuUnVuKGNvbnRleHQpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJQcmVyZXF1aXNpdGVzIG5vdCBtZXRcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBhbGxTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uLmV4ZWN1dGUoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbi5pZCwgcmVzdWx0IH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWFya09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgT3BlcmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsIHJlc3VsdDogZXJyb3JSZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgYWxsU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogYWxsU3VjY2VzcywgcmVzdWx0cyB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgbWFudWFsIG9wZXJhdGlvbnMgZGlhbG9nIGFuZCBleGVjdXRlIHNlbGVjdGVkIG9uZXNcbiAgICAgKi9cbiAgICBhc3luYyBzaG93TWFudWFsT3BlcmF0aW9uc0RpYWxvZyhjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8e1xuICAgICAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgICAgICByZXN1bHRzOiBBcnJheTx7b3BlcmF0aW9uSWQ6IHN0cmluZzsgcmVzdWx0OiBPcGVyYXRpb25SZXN1bHR9PjtcbiAgICB9PiB7XG4gICAgICAgIC8vIEZpbHRlciBvcGVyYXRpb25zIHRoYXQgY2FuIHJ1biBhbmQgYXJlbid0IGNvbXBsZXRlZFxuICAgICAgICBjb25zdCBhdmFpbGFibGVPcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIHRoaXMubWFudWFsT3BlcmF0aW9ucykge1xuICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5pc09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIGNvbnRleHQpKSAmJlxuICAgICAgICAgICAgICAgIGF3YWl0IG9wZXJhdGlvbi5jYW5SdW4oY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVPcGVyYXRpb25zLnB1c2gob3BlcmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdmFpbGFibGVPcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0czogW10gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJ1aWxkIGRpYWxvZyBjb250ZW50XG4gICAgICAgIGNvbnN0IHBhcmFncmFwaHMgPSBbXG4gICAgICAgICAgICBgKipWZXJzaW9uICR7dGhpcy52ZXJzaW9ufSBNYW51YWwgT3BlcmF0aW9ucyoqYCxcbiAgICAgICAgICAgIFwiVGhlIGZvbGxvd2luZyBvcHRpb25hbCBvcGVyYXRpb25zIGFyZSBhdmFpbGFibGU6XCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgLi4uYXZhaWxhYmxlT3BlcmF0aW9ucy5tYXAob3AgPT4gYFx1MjAyMiAqKiR7b3AubmFtZX0qKjogJHtvcC5kZXNjcmlwdGlvbn1gKVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZEV4ZWN1dGUgPSBhd2FpdCBzaG93RGlhbG9nKFxuICAgICAgICAgICAgY29udGV4dC5wbHVnaW4uYXBwLFxuICAgICAgICAgICAgXCJjb25maXJtYXRpb25cIixcbiAgICAgICAgICAgIGBPcHRpb25hbCBPcGVyYXRpb25zIC0gdiR7dGhpcy52ZXJzaW9ufWAsXG4gICAgICAgICAgICBwYXJhZ3JhcGhzLFxuICAgICAgICAgICAgXCJUaGVzZSBvcGVyYXRpb25zIGFyZSBvcHRpb25hbCBhbmQgY2FuIGJlIHJ1biBsYXRlciBmcm9tIFNldHRpbmdzIFx1MjE5MiBNaWdyYXRpb25zXCIsXG4gICAgICAgICAgICB7IGJ1dHRvbjE6IFwiUnVuIEFsbCBOb3dcIiwgYnV0dG9uMjogXCJTa2lwIChSdW4gTGF0ZXIpXCIgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PHtvcGVyYXRpb25JZDogc3RyaW5nOyByZXN1bHQ6IE9wZXJhdGlvblJlc3VsdH0+ID0gW107XG5cbiAgICAgICAgaWYgKHNob3VsZEV4ZWN1dGUpIHtcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgYWxsIGF2YWlsYWJsZSBtYW51YWwgb3BlcmF0aW9uc1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgYXZhaWxhYmxlT3BlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZXJhdGlvbi5leGVjdXRlKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goeyBvcGVyYXRpb25JZDogb3BlcmF0aW9uLmlkLCByZXN1bHQgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1hcmtPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uLmlkLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yUmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgT3BlcmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsIHJlc3VsdDogZXJyb3JSZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICBzdWNjZXNzOiByZXN1bHRzLmV2ZXJ5KHIgPT4gci5yZXN1bHQuc3VjY2VzcyksIFxuICAgICAgICAgICAgcmVzdWx0cyBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbWFudWFsIG9wZXJhdGlvbnMgc3RhdHVzIGZvciBzZXR0aW5ncyBVSVxuICAgICAqL1xuICAgIGFzeW5jIGdldE1hbnVhbE9wZXJhdGlvbnNTdGF0dXMoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPEFycmF5PHtcbiAgICAgICAgb3BlcmF0aW9uOiBVcGdyYWRlT3BlcmF0aW9uO1xuICAgICAgICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gICAgICAgIGNhblJ1bjogYm9vbGVhbjtcbiAgICB9Pj4ge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIHRoaXMubWFudWFsT3BlcmF0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkID0gYXdhaXQgdGhpcy5pc09wZXJhdGlvbkNvbXBsZXRlZChvcGVyYXRpb24uaWQsIGNvbnRleHQpO1xuICAgICAgICAgICAgY29uc3QgY2FuUnVuID0gIWNvbXBsZXRlZCAmJiBhd2FpdCBvcGVyYXRpb24uY2FuUnVuKGNvbnRleHQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzdGF0dXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCxcbiAgICAgICAgICAgICAgICBjYW5SdW5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgc2luZ2xlIG1hbnVhbCBvcGVyYXRpb24gKGZyb20gc2V0dGluZ3MpXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZU1hbnVhbE9wZXJhdGlvbihvcGVyYXRpb25JZDogc3RyaW5nLCBjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8T3BlcmF0aW9uUmVzdWx0PiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHRoaXMubWFudWFsT3BlcmF0aW9ucy5maW5kKG9wID0+IG9wLmlkID09PSBvcGVyYXRpb25JZCk7XG4gICAgICAgIGlmICghb3BlcmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJPcGVyYXRpb24gbm90IGZvdW5kXCIgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhd2FpdCB0aGlzLmlzT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbi5pZCwgY29udGV4dCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiQWxyZWFkeSBjb21wbGV0ZWRcIiB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoYXdhaXQgb3BlcmF0aW9uLmNhblJ1bihjb250ZXh0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlByZXJlcXVpc2l0ZXMgbm90IG1ldFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uLmV4ZWN1dGUoY29udGV4dCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1hcmtPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uLmlkLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBPcGVyYXRpb24gZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgb3BlcmF0aW9uIHdhcyBjb21wbGV0ZWQgdXNpbmcgc3RydWN0dXJlZCB1cGdyYWRlIGhpc3RvcnlcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGlzT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbklkOiBzdHJpbmcsIGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICBjb25zdCBvcGVyYXRpb25LZXkgPSBgb3BlcmF0aW9uXyR7dGhpcy52ZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpfV8ke29wZXJhdGlvbklkfWA7XG4gICAgICAgIHJldHVybiBkYXRhPy51cGdyYWRlSGlzdG9yeT8uY29tcGxldGVkT3BlcmF0aW9ucz8uW29wZXJhdGlvbktleV0/LmNvbXBsZXRlZCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXJrIG9wZXJhdGlvbiBhcyBjb21wbGV0ZWQgdXNpbmcgc3RydWN0dXJlZCB1cGdyYWRlIGhpc3RvcnlcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIG1hcmtPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uSWQ6IHN0cmluZywgY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmxvYWREYXRhKCkgfHwge307XG4gICAgICAgIFxuICAgICAgICAvLyBJbml0aWFsaXplIHVwZ3JhZGUgaGlzdG9yeSBzdHJ1Y3R1cmUgaWYgbmVlZGVkXG4gICAgICAgIGlmICghZGF0YS51cGdyYWRlSGlzdG9yeSkge1xuICAgICAgICAgICAgZGF0YS51cGdyYWRlSGlzdG9yeSA9IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRVcGdyYWRlczoge30sXG4gICAgICAgICAgICAgICAgY29tcGxldGVkT3BlcmF0aW9uczoge31cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIE1hcmsgb3BlcmF0aW9uIGFzIGNvbXBsZXRlZCBpbiBzdHJ1Y3R1cmVkIGZvcm1hdFxuICAgICAgICBjb25zdCBvcGVyYXRpb25LZXkgPSBgb3BlcmF0aW9uXyR7dGhpcy52ZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpfV8ke29wZXJhdGlvbklkfWA7XG4gICAgICAgIGRhdGEudXBncmFkZUhpc3RvcnkuY29tcGxldGVkT3BlcmF0aW9uc1tvcGVyYXRpb25LZXldID0ge1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbklkLFxuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy52ZXJzaW9uLFxuICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY29tcGxldGVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBjb250ZXh0LnBsdWdpbi5zYXZlRGF0YShkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGxvZ2dlci5pbmZvKGBNYXJrZWQgb3BlcmF0aW9uICR7b3BlcmF0aW9uSWR9ICh2JHt0aGlzLnZlcnNpb259KSBhcyBjb21wbGV0ZWRgKTtcbiAgICB9XG59IiwgIi8vIHNyYy91cGdyYWRlL3ZlcnNpb25zL3VwZ3JhZGUtMS4xLjAudHNcbmltcG9ydCB7IFZlcnNpb25VcGdyYWRlLCBVcGdyYWRlT3BlcmF0aW9uLCBVcGdyYWRlQ29udGV4dCwgT3BlcmF0aW9uUmVzdWx0IH0gZnJvbSBcIi4uL3VwZ3JhZGUtaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBVcGdyYWRlUHJvZ3Jlc3NNb2RhbCB9IGZyb20gXCIuLi91dGlscy9wcm9ncmVzcy1tb2RhbFwiO1xuaW1wb3J0IHsgc2hvd0RpYWxvZyB9IGZyb20gXCIuLi8uLi9kaWFsb2dzXCI7XG5pbXBvcnQgeyBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG4vKipcbiAqIERlbGV0ZSBvbGQgY29udmVyc2F0aW9uIGNhdGFsb2cgKGF1dG9tYXRpYyBvcGVyYXRpb24pXG4gKi9cbmNsYXNzIERlbGV0ZUNhdGFsb2dPcGVyYXRpb24gZXh0ZW5kcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICByZWFkb25seSBpZCA9IFwiZGVsZXRlLWNhdGFsb2dcIjtcbiAgICByZWFkb25seSBuYW1lID0gXCJEZWxldGUgT2xkIENhdGFsb2dcIjtcbiAgICByZWFkb25seSBkZXNjcmlwdGlvbiA9IFwiUmVtb3ZlIGxlZ2FjeSBjb252ZXJzYXRpb24gY2F0YWxvZyBkYXRhXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE9wZXJhdGlvbiBsb2FkcyBpdHMgb3duIGRhdGEgLSBtYW5hZ2VyIHN0YXlzIHZlcnNpb24tYWdub3N0aWNcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgY2F0YWxvZyA9IGRhdGE/LmNvbnZlcnNhdGlvbkNhdGFsb2c7XG4gICAgICAgICAgICBjb25zdCBoYXNEYXRhID0gY2F0YWxvZyAmJiB0eXBlb2YgY2F0YWxvZyA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoY2F0YWxvZykubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nLmNhblJ1bjogY2F0YWxvZyBleGlzdHM9JHshIWNhdGFsb2d9LCBoYXNEYXRhPSR7aGFzRGF0YX1gKTtcbiAgICAgICAgICAgIGlmIChjYXRhbG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nLmNhblJ1bjogY2F0YWxvZyBzaXplPSR7T2JqZWN0LmtleXMoY2F0YWxvZykubGVuZ3RofWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhc0RhdGE7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2cuY2FuUnVuIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxPcGVyYXRpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZy5leGVjdXRlIHN0YXJ0aW5nYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE9wZXJhdGlvbiBsb2FkcyBpdHMgb3duIGRhdGEgLSBub3QgcmVseWluZyBvbiBjb250ZXh0LnBsdWdpbkRhdGFcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgY2F0YWxvZyA9IGRhdGE/LmNvbnZlcnNhdGlvbkNhdGFsb2cgfHwge307XG4gICAgICAgICAgICBjb25zdCBjYXRhbG9nU2l6ZSA9IE9iamVjdC5rZXlzKGNhdGFsb2cpLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKGNhdGFsb2dTaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nOiBObyBjYXRhbG9nIHRvIGRlbGV0ZWApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTm8gbGVnYWN5IGNhdGFsb2cgZm91bmQgdG8gZGVsZXRlXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDUklUSUNBTCBGSVg6IFByZXNlcnZlIGltcG9ydGVkQXJjaGl2ZXMgZXhwbGljaXRseVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzID0gZGF0YT8uaW1wb3J0ZWRBcmNoaXZlcztcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZzogUHJlc2VydmluZyBpbXBvcnRlZEFyY2hpdmVzOmAsIGV4aXN0aW5nSW1wb3J0ZWRBcmNoaXZlcyk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2c6IGltcG9ydGVkQXJjaGl2ZXMgdHlwZTpgLCB0eXBlb2YgZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZzogaW1wb3J0ZWRBcmNoaXZlcyBrZXlzOmAsIGV4aXN0aW5nSW1wb3J0ZWRBcmNoaXZlcyA/IE9iamVjdC5rZXlzKGV4aXN0aW5nSW1wb3J0ZWRBcmNoaXZlcykubGVuZ3RoIDogMCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjbGVhbmVkIGRhdGEgd2l0aG91dCBjYXRhbG9nIEJVVCBwcmVzZXJ2ZSBpbXBvcnRlZEFyY2hpdmVzXG4gICAgICAgICAgICBjb25zdCBjbGVhbmVkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogZGF0YS5zZXR0aW5ncyB8fCBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAvLyBDUklUSUNBTCBGSVg6IEZvcmNlIHByZXNlcnZhdGlvbiBvZiBpbXBvcnRlZEFyY2hpdmVzXG4gICAgICAgICAgICAgICAgaW1wb3J0ZWRBcmNoaXZlczogZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzIHx8IHt9LFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVIaXN0b3J5OiBkYXRhLnVwZ3JhZGVIaXN0b3J5IHx8IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkVXBncmFkZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zOiB7fVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGNvbnZlcnNhdGlvbkNhdGFsb2cgLSBrZXkgY2hhbmdlXG4gICAgICAgICAgICAgICAgY2F0YWxvZ0RlbGV0aW9uRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIGNhdGFsb2dEZWxldGlvblN0YXRzOiB7IGVudHJpZXNEZWxldGVkOiBjYXRhbG9nU2l6ZSB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2c6IGNsZWFuZWREYXRhLmltcG9ydGVkQXJjaGl2ZXMga2V5czpgLCBPYmplY3Qua2V5cyhjbGVhbmVkRGF0YS5pbXBvcnRlZEFyY2hpdmVzKS5sZW5ndGgpO1xuXG4gICAgICAgICAgICAvLyBTYXZlIGNsZWFuZWQgZGF0YVxuICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uc2F2ZURhdGEoY2xlYW5lZERhdGEpO1xuXG4gICAgICAgICAgICAvLyBWZXJpZnkgcHJlc2VydmF0aW9uIHdvcmtlZFxuICAgICAgICAgICAgY29uc3QgdmVyaWZ5RGF0YSA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCB2ZXJpZnlBcmNoaXZlcyA9IHZlcmlmeURhdGE/LmltcG9ydGVkQXJjaGl2ZXMgfHwge307XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2c6IEFmdGVyIHNhdmUsIGltcG9ydGVkQXJjaGl2ZXMga2V5czpgLCBPYmplY3Qua2V5cyh2ZXJpZnlBcmNoaXZlcykubGVuZ3RoKTtcblxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHZlcmlmeUFyY2hpdmVzKS5sZW5ndGggPT09IDAgJiYgT2JqZWN0LmtleXMoZXhpc3RpbmdJbXBvcnRlZEFyY2hpdmVzIHx8IHt9KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nOiBDUklUSUNBTCAtIGltcG9ydGVkQXJjaGl2ZXMgd2VyZSBsb3N0IGR1cmluZyBzYXZlIWApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ3JpdGljYWwgZXJyb3I6IGltcG9ydGVkQXJjaGl2ZXMgd2VyZSBsb3N0IGR1cmluZyBtaWdyYXRpb25gLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlQ291bnQ6IE9iamVjdC5rZXlzKGV4aXN0aW5nSW1wb3J0ZWRBcmNoaXZlcyB8fCB7fSkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJDb3VudDogT2JqZWN0LmtleXModmVyaWZ5QXJjaGl2ZXMpLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nOiBTdWNjZXNzZnVsbHkgZGVsZXRlZCAke2NhdGFsb2dTaXplfSBlbnRyaWVzIGFuZCBwcmVzZXJ2ZWQgJHtPYmplY3Qua2V5cyh2ZXJpZnlBcmNoaXZlcykubGVuZ3RofSBpbXBvcnRlZCBhcmNoaXZlc2ApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBMZWdhY3kgY2F0YWxvZyBkZWxldGVkOiAke2NhdGFsb2dTaXplfSBlbnRyaWVzIHJlbW92ZWQsICR7T2JqZWN0LmtleXModmVyaWZ5QXJjaGl2ZXMpLmxlbmd0aH0gaW1wb3J0ZWQgYXJjaGl2ZXMgcHJlc2VydmVkYCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVudHJpZXNEZWxldGVkOiBjYXRhbG9nU2l6ZSwgYXJjaGl2ZXNQcmVzZXJ2ZWQ6IE9iamVjdC5rZXlzKHZlcmlmeUFyY2hpdmVzKS5sZW5ndGggfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBEZWxldGVDYXRhbG9nLmV4ZWN1dGUgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBkZWxldGUgbGVnYWN5IGNhdGFsb2c6ICR7ZXJyb3J9YCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB2ZXJpZnkoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgaGFzTm9DYXRhbG9nID0gIWRhdGE/LmNvbnZlcnNhdGlvbkNhdGFsb2c7XG4gICAgICAgICAgICBjb25zdCBoYXNJbXBvcnRlZEFyY2hpdmVzID0gZGF0YT8uaW1wb3J0ZWRBcmNoaXZlcyAmJiBPYmplY3Qua2V5cyhkYXRhLmltcG9ydGVkQXJjaGl2ZXMpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIERlbGV0ZUNhdGFsb2cudmVyaWZ5OiBoYXNOb0NhdGFsb2c9JHtoYXNOb0NhdGFsb2d9LCBoYXNJbXBvcnRlZEFyY2hpdmVzPSR7aGFzSW1wb3J0ZWRBcmNoaXZlc31gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3VjY2VzcyBpZiBjYXRhbG9nIGlzIGdvbmUgQU5EIGltcG9ydGVkQXJjaGl2ZXMgYXJlIHByZXNlcnZlZCAoaWYgdGhleSBleGlzdGVkKVxuICAgICAgICAgICAgcmV0dXJuIGhhc05vQ2F0YWxvZztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gRGVsZXRlQ2F0YWxvZy52ZXJpZnkgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDbGVhbiBtZXRhZGF0YSBmcm9tIGNvbnZlcnNhdGlvbiBub3RlcyBhbmQgYWRkIHBsdWdpbl92ZXJzaW9uIChhdXRvbWF0aWMgb3BlcmF0aW9uKVxuICovXG5jbGFzcyBDbGVhbk1ldGFkYXRhT3BlcmF0aW9uIGV4dGVuZHMgVXBncmFkZU9wZXJhdGlvbiB7XG4gICAgcmVhZG9ubHkgaWQgPSBcImNsZWFuLW1ldGFkYXRhXCI7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFwiQ2xlYW4gJiBWZXJzaW9uIE1ldGFkYXRhXCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIlJlbW92ZSB1bm5lY2Vzc2FyeSBtZXRhZGF0YSBhbmQgYWRkIHBsdWdpbiB2ZXJzaW9uIHRvIGNvbnZlcnNhdGlvbiBub3Rlc1wiO1xuICAgIHJlYWRvbmx5IHR5cGUgPSBcImF1dG9tYXRpY1wiIGFzIGNvbnN0O1xuXG4gICAgYXN5bmMgY2FuUnVuKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRm9sZGVyID0gY29udGV4dC5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcjtcbiAgICAgICAgICAgIGNvbnN0IGFsbEZpbGVzID0gY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmlsdGVyIGZpbGVzIGluIGFyY2hpdmUgZm9sZGVyIGJ1dCBFWENMVURFIFJlcG9ydHMgYW5kIEF0dGFjaG1lbnRzXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNdXN0IGJlIGluIGFyY2hpdmUgZm9sZGVyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlLnBhdGguc3RhcnRzV2l0aChhcmNoaXZlRm9sZGVyKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEVYQ0xVREUgUmVwb3J0cyBhbmQgQXR0YWNobWVudHMgZm9sZGVyc1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGZpbGUucGF0aC5zdWJzdHJpbmcoYXJjaGl2ZUZvbGRlci5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ1JlcG9ydHMvJykgfHwgXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdBdHRhY2htZW50cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgncmVwb3J0cy8nKSB8fFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjYW5SdW4gPSBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhLmNhblJ1bjogZm91bmQgJHtjb252ZXJzYXRpb25GaWxlcy5sZW5ndGh9IGNvbnZlcnNhdGlvbiBmaWxlcywgY2FuUnVuPSR7Y2FuUnVufWApO1xuICAgICAgICAgICAgcmV0dXJuIGNhblJ1bjtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YS5jYW5SdW4gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhLmV4ZWN1dGUgc3RhcnRpbmdgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZpbHRlciBjb252ZXJzYXRpb24gZmlsZXMgKGV4Y2x1ZGUgUmVwb3J0cy9BdHRhY2htZW50cylcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZpbGVzID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZmlsZS5wYXRoLnN0YXJ0c1dpdGgoYXJjaGl2ZUZvbGRlcikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8IFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnQXR0YWNobWVudHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ2F0dGFjaG1lbnRzLycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGNvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YTogTm8gY29udmVyc2F0aW9uIGZpbGVzIHRvIGNsZWFuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBjb252ZXJzYXRpb24gZmlsZXMgZm91bmQgdG8gY2xlYW5cIixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogeyBwcm9jZXNzZWQ6IDAsIGNsZWFuZWQ6IDAsIGVycm9yczogMCB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhOiBQcm9jZXNzaW5nICR7Y29udmVyc2F0aW9uRmlsZXMubGVuZ3RofSBjb252ZXJzYXRpb24gZmlsZXNgKTtcblxuICAgICAgICAgICAgbGV0IHByb2Nlc3NlZCA9IDA7XG4gICAgICAgICAgICBsZXQgY2xlYW5lZCA9IDA7XG4gICAgICAgICAgICBsZXQgZXJyb3JzID0gMDtcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBmaWxlcyBpbiBzbWFsbGVyIGJhdGNoZXMgdG8gYXZvaWQgYmxvY2tpbmdcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDEwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBjb252ZXJzYXRpb25GaWxlcy5zbGljZShpLCBpICsgYmF0Y2hTaXplKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgYmF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWRDb250ZW50ID0gdGhpcy5jbGVhbkZyb250bWF0dGVyUm9idXN0KGNvbnRlbnQsIGNvbnRleHQudG9WZXJzaW9uLCBmaWxlLmJhc2VuYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT09IGNsZWFuZWRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBjbGVhbmVkQ29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5lZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gRXJyb3IgY2xlYW5pbmcgbWV0YWRhdGEgZm9yICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTbWFsbCBkZWxheSBiZXR3ZWVuIGJhdGNoZXMgdG8gcHJldmVudCBibG9ja2luZ1xuICAgICAgICAgICAgICAgIGlmIChpICsgYmF0Y2hTaXplIDwgY29udmVyc2F0aW9uRmlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhOiBDb21wbGV0ZWQgLSBwcm9jZXNzZWQ6JHtwcm9jZXNzZWR9LCBjbGVhbmVkOiR7Y2xlYW5lZH0sIGVycm9yczoke2Vycm9yc31gKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBlcnJvcnMgPT09IDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYE1ldGFkYXRhIGNsZWFudXAgY29tcGxldGVkOiAke2NsZWFuZWR9IGZpbGVzIGNsZWFuZWQsICR7ZXJyb3JzfSBlcnJvcnNgLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgcHJvY2Vzc2VkLCBjbGVhbmVkLCBlcnJvcnMgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhLmV4ZWN1dGUgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYE1ldGFkYXRhIGNsZWFudXAgZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gZnJvbnRtYXR0ZXIgd2l0aCByb2J1c3QgcGFyc2luZyBhbmQgc2FmZSBhbGlhcyBnZW5lcmF0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBjbGVhbkZyb250bWF0dGVyUm9idXN0KGNvbnRlbnQ6IHN0cmluZywgcGx1Z2luVmVyc2lvbjogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgZnJvbnRtYXR0ZXIgbWFudWFsbHkgKG1vcmUgcm9idXN0IHRoYW4gbWV0YWRhdGFDYWNoZSlcbiAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJNYXRjaCA9IGNvbnRlbnQubWF0Y2goL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS0vKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZnJvbnRtYXR0ZXJNYXRjaCkge1xuICAgICAgICAgICAgLy8gTm8gZnJvbnRtYXR0ZXIgZm91bmQgLSBjaGVjayBpZiB0aGlzIGxvb2tzIGxpa2UgYSBOZXh1cyBmaWxlXG4gICAgICAgICAgICBpZiAoY29udGVudC5pbmNsdWRlcygnbmV4dXM6JykgfHwgY29udGVudC5pbmNsdWRlcygnY29udmVyc2F0aW9uX2lkOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbTkVYVVMtREVCVUddIEZpbGUgJHtmaWxlTmFtZX0gYXBwZWFycyB0byBiZSBOZXh1cyBidXQgaGFzIG1hbGZvcm1lZCBmcm9udG1hdHRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcm9udG1hdHRlckNvbnRlbnQgPSBmcm9udG1hdHRlck1hdGNoWzFdO1xuICAgICAgICBjb25zdCByZXN0T2ZDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoZnJvbnRtYXR0ZXJNYXRjaFswXS5sZW5ndGgpO1xuXG4gICAgICAgIC8vIFBhcnNlIGZyb250bWF0dGVyIGxpbmVzIG1hbnVhbGx5IChtb3JlIHJvYnVzdCB0aGFuIFlBTUwgcGFyc2luZylcbiAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJEYXRhOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgICAgIGNvbnN0IGxpbmVzID0gZnJvbnRtYXR0ZXJDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgY29uc3QgY29sb25JbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgaWYgKGNvbG9uSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgY29sb25JbmRleCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGxpbmUuc3Vic3RyaW5nKGNvbG9uSW5kZXggKyAxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHF1b3RlcyBpZiBwcmVzZW50XG4gICAgICAgICAgICAgICAgaWYgKCh2YWx1ZS5zdGFydHNXaXRoKCdcIicpICYmIHZhbHVlLmVuZHNXaXRoKCdcIicpKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoXCInXCIpICYmIHZhbHVlLmVuZHNXaXRoKFwiJ1wiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZyb250bWF0dGVyRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgTmV4dXMgY29udmVyc2F0aW9uIGZpbGVcbiAgICAgICAgY29uc3QgbmV4dXNJZCA9ICduZXh1cy1haS1jaGF0LWltcG9ydGVyJzsgLy8gSGFyZC1jb2RlZCBmb3Igc2FmZXR5XG4gICAgICAgIGlmIChmcm9udG1hdHRlckRhdGEubmV4dXMgIT09IG5leHVzSWQpIHtcbiAgICAgICAgICAgIC8vIE5vdCBhIE5leHVzIGZpbGUsIHNraXBcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgc2FmZSBhbGlhcyBmcm9tIGZpbGVuYW1lIChtb3JlIHJvYnVzdCB0aGFuIHRpdGxlIHBhcnNpbmcpXG4gICAgICAgIGNvbnN0IHNhZmVBbGlhcyA9IHRoaXMuZ2VuZXJhdGVTYWZlQWxpYXMoZmlsZU5hbWUpO1xuXG4gICAgICAgIC8vIEJ1aWxkIG5ldyBmcm9udG1hdHRlciBpbiBjb3JyZWN0IG9yZGVyIHdpdGggcm9idXN0IHZhbHVlc1xuICAgICAgICBjb25zdCBuZXdGcm9udG1hdHRlcjogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlcXVpcmVkIGZpZWxkcyBpbiBzcGVjaWZpYyBvcmRlclxuICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGBuZXh1czogJHtuZXh1c0lkfWApO1xuICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGBwbHVnaW5fdmVyc2lvbjogXCIxLjAueFwiYCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnJvbnRtYXR0ZXJEYXRhLnByb3ZpZGVyKSB7XG4gICAgICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGBwcm92aWRlcjogJHtmcm9udG1hdHRlckRhdGEucHJvdmlkZXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBzYWZlIGFsaWFzIGluc3RlYWQgb2YgcG90ZW50aWFsbHkgcHJvYmxlbWF0aWMgdGl0bGVcbiAgICAgICAgbmV3RnJvbnRtYXR0ZXIucHVzaChgYWxpYXNlczogXCIke3NhZmVBbGlhc31cImApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZyb250bWF0dGVyRGF0YS5jb252ZXJzYXRpb25faWQpIHtcbiAgICAgICAgICAgIG5ld0Zyb250bWF0dGVyLnB1c2goYGNvbnZlcnNhdGlvbl9pZDogJHtmcm9udG1hdHRlckRhdGEuY29udmVyc2F0aW9uX2lkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9udG1hdHRlckRhdGEuY3JlYXRlX3RpbWUpIHtcbiAgICAgICAgICAgIG5ld0Zyb250bWF0dGVyLnB1c2goYGNyZWF0ZV90aW1lOiAke2Zyb250bWF0dGVyRGF0YS5jcmVhdGVfdGltZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbnRtYXR0ZXJEYXRhLnVwZGF0ZV90aW1lKSB7XG4gICAgICAgICAgICBuZXdGcm9udG1hdHRlci5wdXNoKGB1cGRhdGVfdGltZTogJHtmcm9udG1hdHRlckRhdGEudXBkYXRlX3RpbWV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWNvbnN0cnVjdCBjb250ZW50XG4gICAgICAgIGNvbnN0IGNsZWFuZWRGcm9udG1hdHRlciA9IG5ld0Zyb250bWF0dGVyLmpvaW4oJ1xcbicpO1xuICAgICAgICByZXR1cm4gYC0tLVxcbiR7Y2xlYW5lZEZyb250bWF0dGVyfVxcbi0tLSR7cmVzdE9mQ29udGVudH1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHNhZmUgYWxpYXMgZnJvbSBmaWxlbmFtZSAocmV1c2UgdGhlIHJvYnVzdCBmaWxlbmFtZSBsb2dpYylcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlU2FmZUFsaWFzKGZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBSZW1vdmUgZGF0ZSBwcmVmaXggaWYgcHJlc2VudCAoWVlZWU1NREQgLSBvciBZWVlZLU1NLUREIC0pXG4gICAgICAgIGxldCBjbGVhbk5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKC9eXFxkezh9XFxzKi1cXHMqLywgJycpLnJlcGxhY2UoL15cXGR7NH0tXFxkezJ9LVxcZHsyfVxccyotXFxzKi8sICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBmaWxlIGV4dGVuc2lvblxuICAgICAgICBjbGVhbk5hbWUgPSBjbGVhbk5hbWUucmVwbGFjZSgvXFwubWQkLywgJycpO1xuICAgICAgICBcbiAgICAgICAgLy8gQXBwbHkgc2FtZSBzYW5pdGl6YXRpb24gYXMgZ2VuZXJhdGVGaWxlTmFtZSBidXQgcHJlc2VydmUgcmVhZGFiaWxpdHlcbiAgICAgICAgY2xlYW5OYW1lID0gY2xlYW5OYW1lXG4gICAgICAgICAgICAubm9ybWFsaXplKFwiTkZEXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIikgLy8gUmVtb3ZlIGRpYWNyaXRpY3NcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bPD46XCJcXC9cXFxcfD8qXFxuXFxyXSsvZywgXCJcIikgLy8gUmVtb3ZlIGludmFsaWQgZmlsZXN5c3RlbSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwuezIsfS9nLCBcIi5cIikgLy8gUmVwbGFjZSBtdWx0aXBsZSBkb3RzIHdpdGggc2luZ2xlIGRvdFxuICAgICAgICAgICAgLnRyaW0oKTtcblxuICAgICAgICAvLyBDUklUSUNBTDogUmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycyBmcm9tIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgLy8gVGhpcyBmaXhlcyBpc3N1ZXMgbGlrZSBcIi5odGFjY2Vzc1wiIGJlY29taW5nIHByb2JsZW1hdGljIGFsaWFzXG4gICAgICAgIGNsZWFuTmFtZSA9IGNsZWFuTmFtZS5yZXBsYWNlKC9eW15cXHdcXGRcXHNdKy8sIFwiXCIpOyAvLyBSZW1vdmUgbm9uLWFscGhhbnVtZXJpYyBhdCBzdGFydFxuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IHJlbWFpbmluZyBwcm9ibGVtYXRpYyBwYXR0ZXJuc1xuICAgICAgICBjbGVhbk5hbWUgPSBjbGVhbk5hbWVcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKSAvLyBOb3JtYWxpemUgc3BhY2VzXG4gICAgICAgICAgICAudHJpbSgpO1xuXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGEgdmFsaWQgYWxpYXNcbiAgICAgICAgaWYgKCFjbGVhbk5hbWUgfHwgY2xlYW5OYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2xlYW5OYW1lID0gXCJVbnRpdGxlZFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5zdXJlIGFsaWFzIGRvZXNuJ3Qgc3RhcnQgd2l0aCBhIGRvdCAoY2FuIGNhdXNlIGlzc3VlcyBpbiBmcm9udG1hdHRlcilcbiAgICAgICAgaWYgKGNsZWFuTmFtZS5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgICAgICAgY2xlYW5OYW1lID0gY2xlYW5OYW1lLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmFsIHNhZmV0eSBjaGVja1xuICAgICAgICBpZiAoIWNsZWFuTmFtZSB8fCBjbGVhbk5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjbGVhbk5hbWUgPSBcIlVudGl0bGVkXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2xlYW5OYW1lO1xuICAgIH1cblxuICAgIGFzeW5jIHZlcmlmeShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGNvbnZlcnNhdGlvbiBmaWxlcyAoc2FtcGxlIHZlcmlmaWNhdGlvbilcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZpbGVzID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZmlsZS5wYXRoLnN0YXJ0c1dpdGgoYXJjaGl2ZUZvbGRlcikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8IFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnQXR0YWNobWVudHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ2F0dGFjaG1lbnRzLycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KS5zbGljZSgwLCA1KTsgLy8gQ2hlY2sgZmlyc3QgNSBmaWxlc1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgY29udmVyc2F0aW9uRmlsZXMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9eLS0tXFxuKFtcXHNcXFNdKj8pXFxuLS0tLyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyTWF0Y2gpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIG1hbnVhbGx5IGlmIHBsdWdpbl92ZXJzaW9uIHdhcyBhZGRlZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlckNvbnRlbnQgPSBmcm9udG1hdHRlck1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyQ29udGVudC5pbmNsdWRlcygncGx1Z2luX3ZlcnNpb246JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YS52ZXJpZnk6IE1pc3NpbmcgcGx1Z2luX3ZlcnNpb24gaW4gJHtmaWxlLnBhdGh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBmb3JiaWRkZW4gbWV0YWRhdGEgc3RpbGwgZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcmJpZGRlbkZpZWxkcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb252ZXJzYXRpb25fdGVtcGxhdGVfaWQ6JywgJ2dpem1vX2lkOicsICdnaXptb190eXBlOicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdF9tb2RlbF9zbHVnOicsICdpc19hcmNoaXZlZDonLCAnaXNfc3RhcnJlZDonLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRfbm9kZTonLCAnbWVtb3J5X3Njb3BlOidcbiAgICAgICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNVbndhbnRlZEZpZWxkcyA9IGZvcmJpZGRlbkZpZWxkcy5zb21lKGZpZWxkID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRtYXR0ZXJDb250ZW50LmluY2x1ZGVzKGZpZWxkKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzVW53YW50ZWRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YS52ZXJpZnk6IEZvdW5kIHVud2FudGVkIGZpZWxkcyBpbiAke2ZpbGUucGF0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YS52ZXJpZnkgZXJyb3IgZm9yICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ2xlYW5NZXRhZGF0YS52ZXJpZnk6IFBhc3NlZCB2ZXJpZmljYXRpb25gKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBDbGVhbk1ldGFkYXRhLnZlcmlmeSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFZlcnNpb24gMS4xLjAgVXBncmFkZSBEZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBVcGdyYWRlMTEwIGV4dGVuZHMgVmVyc2lvblVwZ3JhZGUge1xuICAgIHJlYWRvbmx5IHZlcnNpb24gPSBcIjEuMS4wXCI7XG4gICAgXG4gICAgcmVhZG9ubHkgYXV0b21hdGljT3BlcmF0aW9ucyA9IFtcbiAgICAgICAgbmV3IERlbGV0ZUNhdGFsb2dPcGVyYXRpb24oKSxcbiAgICAgICAgbmV3IENsZWFuTWV0YWRhdGFPcGVyYXRpb24oKVxuICAgIF07XG4gICAgXG4gICAgcmVhZG9ubHkgbWFudWFsT3BlcmF0aW9ucyA9IFtcbiAgICAgICAgLy8gTm8gbWFudWFsIG9wZXJhdGlvbnMgZm9yIDEuMS4wIC0gYWxsIG9wZXJhdGlvbnMgYXJlIGF1dG9tYXRpY1xuICAgICAgICAvLyBGdXR1cmUgdmVyc2lvbnMgY2FuIGFkZCBtYW51YWwgb3BlcmF0aW9ucyBoZXJlIGZvciB0cnVseSBvcHRpb25hbCB0YXNrc1xuICAgIF07XG59IiwgIi8vIHNyYy91cGdyYWRlL3ZlcnNpb25zL3VwZ3JhZGUtMS4yLjAudHNcbmltcG9ydCB7IFZlcnNpb25VcGdyYWRlLCBVcGdyYWRlT3BlcmF0aW9uLCBVcGdyYWRlQ29udGV4dCwgT3BlcmF0aW9uUmVzdWx0IH0gZnJvbSBcIi4uL3VwZ3JhZGUtaW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBBcHAsIFRGaWxlLCBNb2RhbCwgTWFya2Rvd25SZW5kZXJlciB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uLy4uL21haW5cIjtcblxuLyoqXG4gKiBDb252ZXJ0IGluZGVudGF0aW9ucyB0byBjYWxsb3V0cyAoYXV0b21hdGljIG9wZXJhdGlvbilcbiAqL1xuY2xhc3MgQ29udmVydFRvQ2FsbG91dHNPcGVyYXRpb24gZXh0ZW5kcyBVcGdyYWRlT3BlcmF0aW9uIHtcbiAgICByZWFkb25seSBpZCA9IFwiY29udmVydC10by1jYWxsb3V0c1wiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIkNvbnZlcnQgdG8gTW9kZXJuIENhbGxvdXRzXCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIlRyYW5zZm9ybSBvbGQgaW5kZW50YXRpb25zICg+LCA+PikgdG8gYmVhdXRpZnVsIE5leHVzIGNhbGxvdXRzXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwiYXV0b21hdGljXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaWx0ZXIgY29udmVyc2F0aW9uIGZpbGVzIChleGNsdWRlIFJlcG9ydHMvQXR0YWNobWVudHMpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnUmVwb3J0cy8nKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdhdHRhY2htZW50cy8nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFueSBmaWxlcyBoYXZlIG9sZCBpbmRlbnRhdGlvbiBmb3JtYXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBjb252ZXJzYXRpb25GaWxlcy5zbGljZSgwLCAxMCkpIHsgLy8gU2FtcGxlIGZpcnN0IDEwIGZpbGVzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHYxLjEuMCBmb3JtYXQgbWFya2Vyc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPbGRJbmRlbnRhdGlvbkZvcm1hdChjb250ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBmaWxlICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb252ZXJ0VG9DYWxsb3V0cy5jYW5SdW4gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDb252ZXJ0VG9DYWxsb3V0cy5leGVjdXRlIHN0YXJ0aW5nYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSBjb250ZXh0LnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICAgICAgY29uc3QgYWxsRmlsZXMgPSBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaWx0ZXIgY29udmVyc2F0aW9uIGZpbGVzIChleGNsdWRlIFJlcG9ydHMvQXR0YWNobWVudHMpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25GaWxlcyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnUmVwb3J0cy8nKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdhdHRhY2htZW50cy8nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xuICAgICAgICAgICAgbGV0IGNvbnZlcnRlZCA9IDA7XG4gICAgICAgICAgICBsZXQgZXJyb3JzID0gMDtcblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDb252ZXJ0VG9DYWxsb3V0czogUHJvY2Vzc2luZyAke2NvbnZlcnNhdGlvbkZpbGVzLmxlbmd0aH0gZmlsZXNgKTtcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBmaWxlcyBpbiBzbWFsbGVyIGJhdGNoZXMgdG8gYXZvaWQgYmxvY2tpbmdcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDEwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBjb252ZXJzYXRpb25GaWxlcy5zbGljZShpLCBpICsgYmF0Y2hTaXplKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgYmF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkKys7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBwcm9jZXNzIGZpbGVzIHdpdGggb2xkIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc09sZEluZGVudGF0aW9uRm9ybWF0KGNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbnRlbnQgPSB0aGlzLmNvbnZlcnRJbmRlbnRhdGlvbnNUb0NhbGxvdXRzKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCAhPT0gY29udmVydGVkQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbHVnaW5fdmVyc2lvbiB0byAxLjIuMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ29udGVudCA9IHRoaXMudXBkYXRlUGx1Z2luVmVyc2lvbihjb252ZXJ0ZWRDb250ZW50LCBcIjEuMi4wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgZmluYWxDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIEVycm9yIGNvbnZlcnRpbmcgJHtmaWxlLnBhdGh9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNtYWxsIGRlbGF5IGJldHdlZW4gYmF0Y2hlcyB0byBwcmV2ZW50IGJsb2NraW5nXG4gICAgICAgICAgICAgICAgaWYgKGkgKyBiYXRjaFNpemUgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIENvbnZlcnRUb0NhbGxvdXRzOiBDb21wbGV0ZWQgLSBwcm9jZXNzZWQ6JHtwcm9jZXNzZWR9LCBjb252ZXJ0ZWQ6JHtjb252ZXJ0ZWR9LCBlcnJvcnM6JHtlcnJvcnN9YCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZXJyb3JzID09PSAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDYWxsb3V0IGNvbnZlcnNpb24gY29tcGxldGVkOiAke2NvbnZlcnRlZH0gZmlsZXMgY29udmVydGVkLCAke2Vycm9yc30gZXJyb3JzYCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IHByb2Nlc3NlZCwgY29udmVydGVkLCBlcnJvcnMgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBDb252ZXJ0VG9DYWxsb3V0cy5leGVjdXRlIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDYWxsb3V0IGNvbnZlcnNpb24gZmFpbGVkOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY29udGVudCBoYXMgb2xkIGluZGVudGF0aW9uIGZvcm1hdCAodjEuMS4wKVxuICAgICAqL1xuICAgIHByaXZhdGUgaGFzT2xkSW5kZW50YXRpb25Gb3JtYXQoY29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIExvb2sgZm9yIHBhdHRlcm5zIHRoYXQgaW5kaWNhdGUgdjEuMS4wIGZvcm1hdFxuICAgICAgICBjb25zdCBvbGRQYXR0ZXJucyA9IFtcbiAgICAgICAgICAgIC9eIyMjIFVzZXIsIG9uIC4qIGF0IC4qO1xcbj4vbSwgICAgICAgICAgIC8vIFVzZXIgbWVzc2FnZXMgd2l0aCBpbmRlbnRhdGlvblxuICAgICAgICAgICAgL14jIyMjIEFzc2lzdGFudCwgb24gLiogYXQgLio7XFxuPj4vbSwgICAgLy8gQXNzaXN0YW50IG1lc3NhZ2VzIHdpdGggaW5kZW50YXRpb25cbiAgICAgICAgICAgIC88ZGl2IGNsYXNzPVwibmV4dXMtYXR0YWNobWVudC1ib3hcIj4vLCAgICAvLyBPbGQgYXR0YWNobWVudCBkaXZzXG4gICAgICAgICAgICAvPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPi8sICAgICAgLy8gT2xkIGFydGlmYWN0IGRpdnNcbiAgICAgICAgICAgIC8+XFxbIW5vdGVcXF0gXHVEODNEXHVEQ0NFIFxcKlxcKkF0dGFjaG1lbnQ6XFwqXFwqLyAgICAgIC8vIE9sZCBub3RlIGNhbGxvdXRzIGZvciBhdHRhY2htZW50c1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiBvbGRQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGNvbnRlbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IG9sZCBpbmRlbnRhdGlvbnMgdG8gbW9kZXJuIGNhbGxvdXRzXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb252ZXJ0SW5kZW50YXRpb25zVG9DYWxsb3V0cyhjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgY29udmVydGVkID0gY29udGVudDtcblxuICAgICAgICAvLyAxLiBDb252ZXJ0IFVzZXIgbWVzc2FnZXM6ICMjIyBVc2VyLCBvbiBEQVRFIGF0IFRJTUU7XFxuPiBjb250ZW50XG4gICAgICAgIGNvbnZlcnRlZCA9IGNvbnZlcnRlZC5yZXBsYWNlKFxuICAgICAgICAgICAgL14jIyMgVXNlciwgb24gKC4qPykgYXQgKC4qPyk7XFxuKCg/Oj4gLiooPzpcXG58JCkpKikvZ20sXG4gICAgICAgICAgICAobWF0Y2gsIGRhdGUsIHRpbWUsIHF1b3RlZENvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbkNvbnRlbnQgPSBxdW90ZWRDb250ZW50LnJlcGxhY2UoL14+IC9nbSwgJz4gJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c191c2VyXSAqKlVzZXIqKiAtICR7ZGF0ZX0gYXQgJHt0aW1lfVxcbiR7Y2xlYW5Db250ZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gMi4gQ29udmVydCBBc3Npc3RhbnQgbWVzc2FnZXM6ICMjIyMgQXNzaXN0YW50LCBvbiBEQVRFIGF0IFRJTUU7XFxuPj4gY29udGVudFxuICAgICAgICBjb252ZXJ0ZWQgPSBjb252ZXJ0ZWQucmVwbGFjZShcbiAgICAgICAgICAgIC9eIyMjIyBBc3Npc3RhbnQsIG9uICguKj8pIGF0ICguKj8pO1xcbigoPzo+PiAuKig/OlxcbnwkKSkqKS9nbSxcbiAgICAgICAgICAgIChtYXRjaCwgZGF0ZSwgdGltZSwgcXVvdGVkQ29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuQ29udGVudCA9IHF1b3RlZENvbnRlbnQucmVwbGFjZSgvXj4+IC9nbSwgJz4gJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c19hZ2VudF0gKipBc3Npc3RhbnQqKiAtICR7ZGF0ZX0gYXQgJHt0aW1lfVxcbiR7Y2xlYW5Db250ZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gMy4gQ29udmVydCBhdHRhY2htZW50IGRpdnMgdG8gY2FsbG91dHMgKHJvYnVzdCBwYXR0ZXJuKVxuICAgICAgICBjb252ZXJ0ZWQgPSBjb252ZXJ0ZWQucmVwbGFjZShcbiAgICAgICAgICAgIC88ZGl2IGNsYXNzPVwibmV4dXMtYXR0YWNobWVudC1ib3hcIj5cXHMqXFxuXFxzKlxcKlxcKlx1RDgzRFx1RENDRSBBdHRhY2htZW50OlxcKlxcKiAoW14oXSspXFwoKFteKV0rKVxcKShbXFxzXFxTXSo/KTxcXC9kaXY+L2csXG4gICAgICAgICAgICAobWF0Y2gsIGZpbGVOYW1lLCBmaWxlVHlwZSwgY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuRmlsZU5hbWUgPSBmaWxlTmFtZS50cmltKCk7XG4gICAgICAgICAgICAgICAgbGV0IGNsZWFuQ29udGVudCA9IGNvbnRlbnQudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBjb250ZW50IHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFuQ29udGVudC5pbmNsdWRlcygnKipDb250ZW50OioqJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5Db250ZW50ID0gY2xlYW5Db250ZW50LnJlcGxhY2UoL1xcKlxcKkNvbnRlbnQ6XFwqXFwqL2csICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjbGVhbkNvbnRlbnQuaW5jbHVkZXMoJyoqU3RhdHVzOioqJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5Db250ZW50ID0gY2xlYW5Db250ZW50LnJlcGxhY2UoL1xcKlxcKlN0YXR1czpcXCpcXCovZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBGb3JtYXQgZm9yIGNhbGxvdXRcbiAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSBjbGVhbkNvbnRlbnQucmVwbGFjZSgvXFxuL2csICdcXG4+ICcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW5Db250ZW50ICYmICFjbGVhbkNvbnRlbnQuc3RhcnRzV2l0aCgnPicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuQ29udGVudCA9ICc+ICcgKyBjbGVhbkNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c19hdHRhY2htZW50XSAqKiR7Y2xlYW5GaWxlTmFtZX0qKiAoJHtmaWxlVHlwZX0pXFxuJHtjbGVhbkNvbnRlbnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyA0LiBDb252ZXJ0IGFydGlmYWN0IGRpdnMgdG8gY2FsbG91dHMgKGVuaGFuY2VkIHBhdHRlcm4pXG4gICAgICAgIGNvbnZlcnRlZCA9IGNvbnZlcnRlZC5yZXBsYWNlKFxuICAgICAgICAgICAgLzxkaXYgY2xhc3M9XCJuZXh1cy1hcnRpZmFjdC1ib3hcIj5cXHMqKFtcXHNcXFNdKj8pXFxzKjxcXC9kaXY+L2csXG4gICAgICAgICAgICAobWF0Y2gsIGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY2xlYW5Db250ZW50ID0gY29udGVudC50cmltKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGFydGlmYWN0IHRpdGxlIGlmIHByZXNlbnRcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZU1hdGNoID0gY2xlYW5Db250ZW50Lm1hdGNoKC9cXCpcXCooW14qXSspXFwqXFwqLyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSB0aXRsZU1hdGNoID8gdGl0bGVNYXRjaFsxXSA6ICdBcnRpZmFjdCc7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhbiBhbmQgZm9ybWF0IGNvbnRlbnRcbiAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSBjbGVhbkNvbnRlbnQucmVwbGFjZSgvXFwqXFwqW14qXStcXCpcXCovZywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSBjbGVhbkNvbnRlbnQucmVwbGFjZSgvXFxuL2csICdcXG4+ICcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW5Db250ZW50ICYmICFjbGVhbkNvbnRlbnQuc3RhcnRzV2l0aCgnPicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFuQ29udGVudCA9ICc+ICcgKyBjbGVhbkNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA+WyFuZXh1c19hcnRpZmFjdF0gKioke3RpdGxlfSoqXFxuJHtjbGVhbkNvbnRlbnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyA1LiBIYW5kbGUgYW55IHJlbWFpbmluZyBvbGQtc3R5bGUgbm90ZSBjYWxsb3V0cyB0aGF0IHNob3VsZCBiZSBhdHRhY2htZW50c1xuICAgICAgICBjb252ZXJ0ZWQgPSBjb252ZXJ0ZWQucmVwbGFjZShcbiAgICAgICAgICAgIC8+XFxbIW5vdGVcXF0gXHVEODNEXHVEQ0NFIFxcKlxcKkF0dGFjaG1lbnQ6XFwqXFwqIChbXihdKylcXCgoW14pXSspXFwpKC4qPykoPz1cXG5cXG58XFxuPnxcXG48IS0tfFxcbi0tLXwkKS9ncyxcbiAgICAgICAgICAgIChtYXRjaCwgZmlsZU5hbWUsIGZpbGVUeXBlLCBjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW5GaWxlTmFtZSA9IGZpbGVOYW1lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBsZXQgY2xlYW5Db250ZW50ID0gY29udGVudC50cmltKCk7XG4gICAgICAgICAgICAgICAgY2xlYW5Db250ZW50ID0gY2xlYW5Db250ZW50LnJlcGxhY2UoL1xcbi9nLCAnXFxuPiAnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFuQ29udGVudCAmJiAhY2xlYW5Db250ZW50LnN0YXJ0c1dpdGgoJz4nKSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbkNvbnRlbnQgPSAnPiAnICsgY2xlYW5Db250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYD5bIW5leHVzX2F0dGFjaG1lbnRdICoqJHtjbGVhbkZpbGVOYW1lfSoqICgke2ZpbGVUeXBlfSlcXG4ke2NsZWFuQ29udGVudH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHBsdWdpbl92ZXJzaW9uIGluIGZyb250bWF0dGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVQbHVnaW5WZXJzaW9uKGNvbnRlbnQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZShcbiAgICAgICAgICAgIC9ecGx1Z2luX3ZlcnNpb246IFwiLio/XCIkL20sXG4gICAgICAgICAgICBgcGx1Z2luX3ZlcnNpb246IFwiJHt2ZXJzaW9ufVwiYFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIHZlcmlmeShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IGNvbnRleHQucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGNvbnZlcnNhdGlvbiBmaWxlcyAoc2FtcGxlIHZlcmlmaWNhdGlvbilcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZpbGVzID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZmlsZS5wYXRoLnN0YXJ0c1dpdGgoYXJjaGl2ZUZvbGRlcikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdSZXBvcnRzLycpIHx8IFxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnQXR0YWNobWVudHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ2F0dGFjaG1lbnRzLycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KS5zbGljZSgwLCA1KTsgLy8gQ2hlY2sgZmlyc3QgNSBmaWxlc1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgY29udmVyc2F0aW9uRmlsZXMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgY29udGV4dC5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzdGlsbCBoYXMgb2xkIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPbGRJbmRlbnRhdGlvbkZvcm1hdChjb250ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBDb252ZXJ0VG9DYWxsb3V0cy52ZXJpZnk6IFN0aWxsIGhhcyBvbGQgZm9ybWF0IGluICR7ZmlsZS5wYXRofWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGx1Z2luX3ZlcnNpb24gd2FzIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50LmluY2x1ZGVzKCdwbHVnaW5fdmVyc2lvbjogXCIxLjIuMFwiJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQ29udmVydFRvQ2FsbG91dHMudmVyaWZ5OiBNaXNzaW5nIHYxLjIuMCBpbiAke2ZpbGUucGF0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdmVyaWZ5aW5nIGZpbGUgJHtmaWxlLnBhdGh9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb252ZXJ0VG9DYWxsb3V0cy52ZXJpZnkgZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBNb3ZlIHllYXIgZm9sZGVycyB0byBjaGF0Z3B0IHByb3ZpZGVyIHN0cnVjdHVyZSAoYXV0b21hdGljIG9wZXJhdGlvbilcbiAqIFNJTVBMRTogSnVzdCBtb3ZlIDx5eXl5PiBmb2xkZXJzIHRvIGNoYXRncHQvPHl5eXk+XG4gKi9cbmNsYXNzIE1vdmVZZWFyRm9sZGVyc09wZXJhdGlvbiBleHRlbmRzIFVwZ3JhZGVPcGVyYXRpb24ge1xuICAgIHJlYWRvbmx5IGlkID0gXCJtb3ZlLXllYXItZm9sZGVyc1wiO1xuICAgIHJlYWRvbmx5IG5hbWUgPSBcIk9yZ2FuaXplIENvbnZlcnNhdGlvbnMgYnkgUHJvdmlkZXJcIjtcbiAgICByZWFkb25seSBkZXNjcmlwdGlvbiA9IFwiTW92ZSB5ZWFyIGZvbGRlcnMgdG8gY2hhdGdwdCBwcm92aWRlciBzdHJ1Y3R1cmVcIjtcbiAgICByZWFkb25seSB0eXBlID0gXCJhdXRvbWF0aWNcIiBhcyBjb25zdDtcblxuICAgIGFzeW5jIGNhblJ1bihjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHllYXIgZm9sZGVycyBleGlzdCBkaXJlY3RseSBpbiBhcmNoaXZlIChub3QgaW4gY2hhdGdwdCBzdWJmb2xkZXIpXG4gICAgICAgICAgICBjb25zdCB5ZWFyRm9sZGVycyA9IGF3YWl0IHRoaXMuZmluZFllYXJGb2xkZXJzKGNvbnRleHQsIGFyY2hpdmVGb2xkZXIpO1xuXG4gICAgICAgICAgICByZXR1cm4geWVhckZvbGRlcnMubGVuZ3RoID4gMDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE1vdmVZZWFyRm9sZGVycy5jYW5SdW4gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGV4ZWN1dGUoY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPE9wZXJhdGlvblJlc3VsdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBNb3ZlWWVhckZvbGRlcnMuZXhlY3V0ZSBzdGFydGluZ2ApO1xuXG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRm9sZGVyID0gY29udGV4dC5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcjtcblxuICAgICAgICAgICAgbGV0IG1vdmVkRm9sZGVycyA9IDA7XG4gICAgICAgICAgICBsZXQgZXJyb3JzID0gMDtcblxuICAgICAgICAgICAgLy8gTW92ZSA8eXl5eT4gZm9sZGVycyB0byBjaGF0Z3B0Lzx5eXl5PlxuICAgICAgICAgICAgY29uc3QgeWVhckZvbGRlcnMgPSBhd2FpdCB0aGlzLmZpbmRZZWFyRm9sZGVycyhjb250ZXh0LCBhcmNoaXZlRm9sZGVyKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCB5ZWFyRm9sZGVyIG9mIHllYXJGb2xkZXJzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhdGdwdEZvbGRlciA9IGAke2FyY2hpdmVGb2xkZXJ9L2NoYXRncHRgO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5ta2RpcihjaGF0Z3B0Rm9sZGVyKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gYCR7Y2hhdGdwdEZvbGRlcn0vJHt5ZWFyRm9sZGVyfWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFBhdGggPSBgJHthcmNoaXZlRm9sZGVyfS8ke3llYXJGb2xkZXJ9YDtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5yZW5hbWUob2xkUGF0aCwgbmV3UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkRm9sZGVycysrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gTW92ZWQgJHt5ZWFyRm9sZGVyfSB0byBjaGF0Z3B0LyR7eWVhckZvbGRlcn1gKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBFcnJvciBtb3ZpbmcgeWVhciBmb2xkZXIgJHt5ZWFyRm9sZGVyfTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIE1vdmVZZWFyRm9sZGVyczogQ29tcGxldGVkIC0gbW92ZWQ6JHttb3ZlZEZvbGRlcnN9LCBlcnJvcnM6JHtlcnJvcnN9YCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZXJyb3JzID09PSAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb252ZXJzYXRpb24gb3JnYW5pemF0aW9uIGNvbXBsZXRlZDogJHttb3ZlZEZvbGRlcnN9IHllYXIgZm9sZGVycyBtb3ZlZCB0byBjaGF0Z3B0IHN0cnVjdHVyZSwgJHtlcnJvcnN9IGVycm9yc2AsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBtb3ZlZEZvbGRlcnMsIGVycm9ycyB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIE1vdmVZZWFyRm9sZGVycy5leGVjdXRlIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDb252ZXJzYXRpb24gb3JnYW5pemF0aW9uIGZhaWxlZDogJHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHZlcmlmeShjb250ZXh0OiBVcGdyYWRlQ29udGV4dCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IGNvbnRleHQucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgeWVhciBmb2xkZXJzIGFyZSBub3cgaW4gY2hhdGdwdCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1llYXJGb2xkZXJzID0gYXdhaXQgdGhpcy5maW5kWWVhckZvbGRlcnMoY29udGV4dCwgYXJjaGl2ZUZvbGRlcik7XG5cbiAgICAgICAgICAgIGlmIChyZW1haW5pbmdZZWFyRm9sZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBNb3ZlWWVhckZvbGRlcnMudmVyaWZ5OiBTdGlsbCAke3JlbWFpbmluZ1llYXJGb2xkZXJzLmxlbmd0aH0geWVhciBmb2xkZXJzIGluIG9sZCBzdHJ1Y3R1cmVgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTW92ZVllYXJGb2xkZXJzLnZlcmlmeSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCB5ZWFyIGZvbGRlcnMgKFlZWVkpIGRpcmVjdGx5IGluIGFyY2hpdmUgZm9sZGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBmaW5kWWVhckZvbGRlcnMoY29udGV4dDogVXBncmFkZUNvbnRleHQsIGFyY2hpdmVGb2xkZXI6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlcnMgPSBhd2FpdCBjb250ZXh0LnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5saXN0KGFyY2hpdmVGb2xkZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGZvbGRlcnMuZm9sZGVycy5maWx0ZXIoZm9sZGVyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb2xkZXJOYW1lID0gZm9sZGVyLnNwbGl0KCcvJykucG9wKCkgfHwgJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9eXFxkezR9JC8udGVzdChmb2xkZXJOYW1lKSAmJiBmb2xkZXJOYW1lICE9PSAnY2hhdGdwdCc7XG4gICAgICAgICAgICB9KS5tYXAoZm9sZGVyID0+IGZvbGRlci5zcGxpdCgnLycpLnBvcCgpIHx8ICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKipcbiAqIEJlYXV0aWZ1bCB1cGdyYWRlIG1vZGFsIChsaWtlIEV4Y2FsaWRyYXcpXG4gKi9cbmV4cG9ydCBjbGFzcyBOZXh1c1VwZ3JhZGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbjtcbiAgICBwcml2YXRlIHZlcnNpb246IHN0cmluZztcbiAgICBwcml2YXRlIHJlc29sdmU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiwgdmVyc2lvbjogc3RyaW5nLCByZXNvbHZlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyRWwsIGNvbnRlbnRFbCwgdGl0bGVFbCB9ID0gdGhpcztcblxuICAgICAgICAvLyBBZGQgRXhjYWxpZHJhdy1zdHlsZSBDU1MgY2xhc3NcbiAgICAgICAgY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZCgnbmV4dXMtdXBncmFkZS1tb2RhbCcpO1xuXG4gICAgICAgIC8vIFNldCB0aXRsZSBsaWtlIEV4Y2FsaWRyYXdcbiAgICAgICAgdGl0bGVFbC5zZXRUZXh0KGBcdUQ4M0RcdURFODAgTmV4dXMgQUkgQ2hhdCBJbXBvcnRlciAke3RoaXMudmVyc2lvbn1gKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUZvcm0oKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZUZvcm0oKSB7XG4gICAgICAgIC8vIEZldGNoIHJlbGVhc2Ugbm90ZXMgZnJvbSBHaXRIdWJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBgXHVEODNDXHVERjg5ICoqVXBncmFkZSB0byB2MS4yLjAqKlxuXG5Zb3VyIGNvbnZlcnNhdGlvbnMgd2lsbCBiZSByZW9yZ2FuaXplZCB3aXRoIHByb3ZpZGVyIHN0cnVjdHVyZSBhbmQgbW9kZXJuIGNhbGxvdXRzLlxuXG4qKlx1RDgzRFx1RENBMSBUbyBnZXQgQUxMIHYxLjIuMCBmZWF0dXJlczoqKiBSZWltcG9ydCB5b3VyIG9yaWdpbmFsIENoYXRHUFQgWklQIGZpbGVzLlxuXG4tLS1cblxuIyMgXHUyNjE1IFN1cHBvcnQgTXkgV29ya1xuXG5bIVtTdXBwb3J0IG1lIG9uIEtvLWZpXShodHRwczovL2tvLWZpLmNvbS9pbWcvZ2l0aHViYnV0dG9uX3NtLnN2ZyldKGh0dHBzOi8va28tZmkuY29tL25leHVzcGx1Z2lucylgO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZmV0Y2ggcmVsZWFzZSBub3RlcyBmcm9tIEdpdEh1YlxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9TdXBlcmtpa2ltL25leHVzLWFpLWNoYXQtaW1wb3J0ZXIvcmVsZWFzZXMvdGFncy92MS4yLjAnKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGVhc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGVhc2UuYm9keSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gcmVsZWFzZS5ib2R5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFVzZSBmYWxsYmFjayBtZXNzYWdlIGlmIEdpdEh1YiBmZXRjaCBmYWlsc1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnW05FWFVTLURFQlVHXSBDb3VsZCBub3QgZmV0Y2ggcmVsZWFzZSBub3RlcyBmcm9tIEdpdEh1YiwgdXNpbmcgZmFsbGJhY2snKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciBtYXJrZG93biBjb250ZW50XG4gICAgICAgIGF3YWl0IE1hcmtkb3duUmVuZGVyZXIucmVuZGVyKFxuICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgdGhpcy5jb250ZW50RWwsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4sXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQWRkIHNpbmdsZSBjb25maXJtYXRpb24gYnV0dG9uXG4gICAgICAgIHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgY2xzOiBcIm5leHVzLXVwZ3JhZGUtYnV0dG9uc1wiIH0sIChlbCkgPT4ge1xuICAgICAgICAgICAgZWwuc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgZWwuc3R5bGUubWFyZ2luVG9wID0gXCIyMHB4XCI7XG4gICAgICAgICAgICBlbC5zdHlsZS5wYWRkaW5nVG9wID0gXCIxNXB4XCI7XG4gICAgICAgICAgICBlbC5zdHlsZS5ib3JkZXJUb3AgPSBcIjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcilcIjtcblxuICAgICAgICAgICAgY29uc3QgYnRuT2sgPSBlbC5jcmVhdGVFbChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgdGV4dDogXCJQcm9jZWVkXCIsXG4gICAgICAgICAgICAgICAgY2xzOiBcIm5leHVzLWJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnRuT2sub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlKFwib2tcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogT2ZmZXIgZnVsbCByZWltcG9ydCBmb3IgY29tcGxldGUgdjEuMi4wIGZlYXR1cmVzIChtYW51YWwgb3BlcmF0aW9uKVxuICovXG5jbGFzcyBPZmZlclJlaW1wb3J0T3BlcmF0aW9uIGV4dGVuZHMgVXBncmFkZU9wZXJhdGlvbiB7XG4gICAgcmVhZG9ubHkgaWQgPSBcIm9mZmVyLXJlaW1wb3J0XCI7XG4gICAgcmVhZG9ubHkgbmFtZSA9IFwiRnVsbCBGZWF0dXJlIFJlaW1wb3J0XCI7XG4gICAgcmVhZG9ubHkgZGVzY3JpcHRpb24gPSBcIk9wdGlvbmFsbHkgcmVpbXBvcnQgY29udmVyc2F0aW9ucyB0byBnZXQgYWxsIHYxLjIuMCBmZWF0dXJlcyAoYXR0YWNobWVudHMsIGNocm9ub2xvZ2ljYWwgb3JkZXIsIGV0Yy4pXCI7XG4gICAgcmVhZG9ubHkgdHlwZSA9IFwibWFudWFsXCIgYXMgY29uc3Q7XG5cbiAgICBhc3luYyBjYW5SdW4oY29udGV4dDogVXBncmFkZUNvbnRleHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgLy8gQWx3YXlzIG9mZmVyIHRoaXMgb3B0aW9uIGFmdGVyIGNhbGxvdXQgY29udmVyc2lvblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhc3luYyBleGVjdXRlKGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxPcGVyYXRpb25SZXN1bHQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRoZSBiZWF1dGlmdWwgZGlhbG9nIGlzIG5vdyBzaG93biBCRUZPUkUgb3BlcmF0aW9ucyBleGVjdXRlXG4gICAgICAgICAgICAvLyBUaGlzIG9wZXJhdGlvbiBqdXN0IHByb3ZpZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1cGdyYWRlIGNvbXBsZXRpb25cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlVwZ3JhZGUgaW5mb3JtYXRpb24gcHJvdmlkZWQgdG8gdXNlclwiLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgYWN0aW9uOiBcImluZm9fZGlzcGxheWVkXCIgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgT2ZmZXJSZWltcG9ydC5leGVjdXRlIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gY29tcGxldGUgcmVpbXBvcnQgb3BlcmF0aW9uOiAke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdmVyaWZ5KGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIFRoaXMgb3BlcmF0aW9uIGFsd2F5cyBzdWNjZWVkcyBpZiBpdCBydW5zXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBWZXJzaW9uIDEuMi4wIFVwZ3JhZGUgRGVmaW5pdGlvblxuICovXG5leHBvcnQgY2xhc3MgVXBncmFkZTEyMCBleHRlbmRzIFZlcnNpb25VcGdyYWRlIHtcbiAgICByZWFkb25seSB2ZXJzaW9uID0gXCIxLjIuMFwiO1xuXG4gICAgcmVhZG9ubHkgYXV0b21hdGljT3BlcmF0aW9ucyA9IFtcbiAgICAgICAgbmV3IE1vdmVZZWFyRm9sZGVyc09wZXJhdGlvbigpLFxuICAgICAgICBuZXcgQ29udmVydFRvQ2FsbG91dHNPcGVyYXRpb24oKVxuICAgIF07XG5cbiAgICByZWFkb25seSBtYW51YWxPcGVyYXRpb25zID0gW1xuICAgICAgICBuZXcgT2ZmZXJSZWltcG9ydE9wZXJhdGlvbigpXG4gICAgXTtcbn1cbiIsICIvLyBzcmMvbWFpbi50c1xuaW1wb3J0IHsgUGx1Z2luLCBBcHAsIFBsdWdpbk1hbmlmZXN0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcIi4vY29uZmlnL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwiLi90eXBlcy9wbHVnaW5cIjtcbmltcG9ydCB7IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW5TZXR0aW5nVGFiIH0gZnJvbSBcIi4vdWkvc2V0dGluZ3MtdGFiXCI7XG5pbXBvcnQgeyBDb21tYW5kUmVnaXN0cnkgfSBmcm9tIFwiLi9jb21tYW5kcy9jb21tYW5kLXJlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBFdmVudEhhbmRsZXJzIH0gZnJvbSBcIi4vZXZlbnRzL2V2ZW50LWhhbmRsZXJzXCI7XG5pbXBvcnQgeyBJbXBvcnRTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvaW1wb3J0LXNlcnZpY2VcIjtcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZXMvc3RvcmFnZS1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBGaWxlU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2VzL2ZpbGUtc2VydmljZVwiO1xuaW1wb3J0IHsgSW5jcmVtZW50YWxVcGdyYWRlTWFuYWdlciB9IGZyb20gXCIuL3VwZ3JhZGUvaW5jcmVtZW50YWwtdXBncmFkZS1tYW5hZ2VyXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXJcIjtcbmltcG9ydCB7IFByb3ZpZGVyU2VsZWN0aW9uRGlhbG9nIH0gZnJvbSBcIi4vZGlhbG9ncy9wcm92aWRlci1zZWxlY3Rpb24tZGlhbG9nXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcIi4vcHJvdmlkZXJzL3Byb3ZpZGVyLXJlZ2lzdHJ5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzITogUGx1Z2luU2V0dGluZ3M7XG4gICAgbG9nZ2VyOiBMb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4gICAgXG4gICAgcHJpdmF0ZSBzdG9yYWdlU2VydmljZTogU3RvcmFnZVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBpbXBvcnRTZXJ2aWNlOiBJbXBvcnRTZXJ2aWNlO1xuICAgIHByaXZhdGUgZmlsZVNlcnZpY2U6IEZpbGVTZXJ2aWNlO1xuICAgIHByaXZhdGUgY29tbWFuZFJlZ2lzdHJ5OiBDb21tYW5kUmVnaXN0cnk7XG4gICAgcHJpdmF0ZSBldmVudEhhbmRsZXJzOiBFdmVudEhhbmRsZXJzO1xuICAgIHByaXZhdGUgdXBncmFkZU1hbmFnZXI6IEluY3JlbWVudGFsVXBncmFkZU1hbmFnZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KSB7XG4gICAgICAgIHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zdG9yYWdlU2VydmljZSA9IG5ldyBTdG9yYWdlU2VydmljZSh0aGlzKTtcbiAgICAgICAgdGhpcy5pbXBvcnRTZXJ2aWNlID0gbmV3IEltcG9ydFNlcnZpY2UodGhpcyk7XG4gICAgICAgIHRoaXMuZmlsZVNlcnZpY2UgPSBuZXcgRmlsZVNlcnZpY2UodGhpcyk7XG4gICAgICAgIHRoaXMuY29tbWFuZFJlZ2lzdHJ5ID0gbmV3IENvbW1hbmRSZWdpc3RyeSh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gbmV3IEV2ZW50SGFuZGxlcnModGhpcyk7XG4gICAgICAgIHRoaXMudXBncmFkZU1hbmFnZXIgPSBuZXcgSW5jcmVtZW50YWxVcGdyYWRlTWFuYWdlcih0aGlzKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW5TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRSZWdpc3RyeS5yZWdpc3RlckNvbW1hbmRzKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMucmVnaXN0ZXJFdmVudHMoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxuICAgICAgICAgICAgICAgIFwibWVzc2FnZS1zcXVhcmUtcGx1c1wiLFxuICAgICAgICAgICAgICAgIFwiTmV4dXMgQUkgQ2hhdCBJbXBvcnRlciAtIEltcG9ydCBuZXcgZmlsZVwiLFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuc2hvd1Byb3ZpZGVyU2VsZWN0aW9uRGlhbG9nKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByaWJib25JY29uRWwuYWRkQ2xhc3MoXCJuZXh1cy1haS1jaGF0LXJpYmJvblwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGdyYWRlTWFuYWdlci5jaGVja0FuZFBlcmZvcm1VcGdyYWRlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlBsdWdpbiBsb2FkaW5nIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBvbnVubG9hZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycy5jbGVhbnVwKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJQbHVnaW4gdW5sb2FkaW5nIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhPy5zZXR0aW5ncyB8fCB7fSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdmVyc2lvbiB0cmFja2luZ1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlcnNpb24gPSB0aGlzLm1hbmlmZXN0LnZlcnNpb247XG4gICAgICAgICAgICBjb25zdCBzdG9yZWRDdXJyZW50VmVyc2lvbiA9IHRoaXMuc2V0dGluZ3MuY3VycmVudFZlcnNpb247XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghc3RvcmVkQ3VycmVudFZlcnNpb24gfHwgc3RvcmVkQ3VycmVudFZlcnNpb24gPT09IFwiMC4wLjBcIikge1xuICAgICAgICAgICAgICAgIC8vIEZpcnN0IHRpbWUgd2l0aCB2ZXJzaW9uIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRXhpc3RpbmdDb252ZXJzYXRpb25zID0gYXdhaXQgdGhpcy5oYXNFeGlzdGluZ05leHVzQ29udmVyc2F0aW9ucygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChoYXNFeGlzdGluZ0NvbnZlcnNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhpc3RpbmcgdXNlciB1cGdyYWRpbmcgdG8gdmVyc2lvbiB0cmFja2luZyBmb3IgZmlyc3QgdGltZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLnByZXZpb3VzVmVyc2lvbiA9IFwiMS4wLnhcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jdXJyZW50VmVyc2lvbiA9IGN1cnJlbnRWZXJzaW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZyZXNoIGluc3RhbGxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wcmV2aW91c1ZlcnNpb24gPSBjdXJyZW50VmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jdXJyZW50VmVyc2lvbiA9IGN1cnJlbnRWZXJzaW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdG9yZWRDdXJyZW50VmVyc2lvbiAhPT0gY3VycmVudFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBOb3JtYWwgdXBncmFkZVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucHJldmlvdXNWZXJzaW9uID0gc3RvcmVkQ3VycmVudFZlcnNpb247XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jdXJyZW50VmVyc2lvbiA9IGN1cnJlbnRWZXJzaW9uO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIExvYWQgc3RvcmFnZSBkYXRhXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmxvYWREYXRhKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwibG9hZFNldHRpbmdzIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YXVsdCBjb250YWlucyBleGlzdGluZyBOZXh1cyBjb252ZXJzYXRpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBoYXNFeGlzdGluZ05leHVzQ29udmVyc2F0aW9ucygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVzLnNvbWUoZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKT8uZnJvbnRtYXR0ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb250bWF0dGVyPy5uZXh1cyA9PT0gdGhpcy5tYW5pZmVzdC5pZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkVycm9yIGNoZWNraW5nIGZvciBleGlzdGluZyBjb252ZXJzYXRpb25zOlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMb2FkIGV4aXN0aW5nIGRhdGEgdG8gcHJlc2VydmUgdXBncmFkZSBoaXN0b3J5IGFuZCBvdGhlciBkYXRhXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCkgfHwge307XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIGV4aXN0aW5nRGF0YS5pbXBvcnRlZEFyY2hpdmVzIGlmIGl0IGV4aXN0cyBhbmQgaGFzIGRhdGFcbiAgICAgICAgICAgIGxldCBmaW5hbEltcG9ydGVkQXJjaGl2ZXMgPSB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmdldEltcG9ydGVkQXJjaGl2ZXMoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRGF0YS5pbXBvcnRlZEFyY2hpdmVzICYmIE9iamVjdC5rZXlzKGV4aXN0aW5nRGF0YS5pbXBvcnRlZEFyY2hpdmVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRXhpc3RpbmcgZGF0YSBoYXMgYXJjaGl2ZXMgLSBwcmVzZXJ2ZSB0aGVtIGFuZCBtZXJnZSB3aXRoIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0FyY2hpdmVzID0gZXhpc3RpbmdEYXRhLmltcG9ydGVkQXJjaGl2ZXM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUFyY2hpdmVzID0gdGhpcy5zdG9yYWdlU2VydmljZS5nZXRJbXBvcnRlZEFyY2hpdmVzKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTWVyZ2U6IHN0b3JhZ2UgdGFrZXMgcHJpb3JpdHkgZm9yIGNvbmZsaWN0c1xuICAgICAgICAgICAgICAgIGZpbmFsSW1wb3J0ZWRBcmNoaXZlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdBcmNoaXZlcyxcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RvcmFnZUFyY2hpdmVzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTWVyZ2Ugd2l0aCBuZXcgZGF0YSwgcHJlc2VydmluZyB1cGdyYWRlIGhpc3Rvcnkgc3RydWN0dXJlXG4gICAgICAgICAgICBjb25zdCBtZXJnZWREYXRhID0ge1xuICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nRGF0YSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBpbXBvcnRlZEFyY2hpdmVzOiBmaW5hbEltcG9ydGVkQXJjaGl2ZXMsXG4gICAgICAgICAgICAgICAgdXBncmFkZUhpc3Rvcnk6IGV4aXN0aW5nRGF0YS51cGdyYWRlSGlzdG9yeSB8fCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZFVwZ3JhZGVzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkT3BlcmF0aW9uczoge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3JhZ2VTZXJ2aWNlLnNhdmVEYXRhKG1lcmdlZERhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJzYXZlU2V0dGluZ3MgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZXNldENhdGFsb2dzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9yYWdlU2VydmljZS5yZXNldENhdGFsb2dzKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJyZXNldENhdGFsb2dzIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RvcmFnZVNlcnZpY2UoKTogU3RvcmFnZVNlcnZpY2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlU2VydmljZTtcbiAgICB9XG5cbiAgICBnZXRJbXBvcnRTZXJ2aWNlKCk6IEltcG9ydFNlcnZpY2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pbXBvcnRTZXJ2aWNlO1xuICAgIH1cblxuICAgIGdldEZpbGVTZXJ2aWNlKCk6IEZpbGVTZXJ2aWNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZVNlcnZpY2U7XG4gICAgfVxuXG4gICAgZ2V0VXBncmFkZU1hbmFnZXIoKTogSW5jcmVtZW50YWxVcGdyYWRlTWFuYWdlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZ3JhZGVNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgcHJvdmlkZXIgc2VsZWN0aW9uIGRpYWxvZyBhbmQgdGhlbiBmaWxlIHNlbGVjdGlvblxuICAgICAqL1xuICAgIHNob3dQcm92aWRlclNlbGVjdGlvbkRpYWxvZygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJSZWdpc3RyeSA9IGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnkodGhpcyk7XG5cbiAgICAgICAgbmV3IFByb3ZpZGVyU2VsZWN0aW9uRGlhbG9nKFxuICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICBwcm92aWRlclJlZ2lzdHJ5LFxuICAgICAgICAgICAgKHNlbGVjdGVkUHJvdmlkZXI6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0WmlwRmlsZXNGb3JQcm92aWRlcihzZWxlY3RlZFByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKS5vcGVuKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IFpJUCBmaWxlcyBmb3IgYSBzcGVjaWZpYyBwcm92aWRlclxuICAgICAqL1xuICAgIHByaXZhdGUgc2VsZWN0WmlwRmlsZXNGb3JQcm92aWRlcihwcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dC50eXBlID0gXCJmaWxlXCI7XG4gICAgICAgIGlucHV0LmFjY2VwdCA9IFwiLnppcFwiO1xuICAgICAgICBpbnB1dC5tdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIGlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gQXJyYXkuZnJvbSgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZmlsZXMgfHwgW10pO1xuICAgICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBTb3J0IGZpbGVzIGJ5IHRpbWVzdGFtcCBhbmQgcHJvY2VzcyB3aXRoIGZvcmNlZCBwcm92aWRlclxuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEZpbGVzID0gdGhpcy5zb3J0RmlsZXNCeVRpbWVzdGFtcChmaWxlcyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHNvcnRlZEZpbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW1wb3J0U2VydmljZS5oYW5kbGVaaXBGaWxlKGZpbGUsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29ydCBmaWxlcyBieSB0aW1lc3RhbXAgKHNhbWUgbG9naWMgYXMgSW1wb3J0U2VydmljZSlcbiAgICAgKi9cbiAgICBwcml2YXRlIHNvcnRGaWxlc0J5VGltZXN0YW1wKGZpbGVzOiBGaWxlW10pOiBGaWxlW10ge1xuICAgICAgICByZXR1cm4gZmlsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wUmVnZXggPSAvKFxcZHs0fS1cXGR7Mn0tXFxkezJ9LVxcZHsyfS1cXGR7Mn0tXFxkezJ9KS87XG4gICAgICAgICAgICBjb25zdCBnZXRUaW1lc3RhbXAgPSAoZmlsZW5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZmlsZW5hbWUubWF0Y2godGltZXN0YW1wUmVnZXgpO1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgTm8gdGltZXN0YW1wIGZvdW5kIGluIGZpbGVuYW1lOiAke2ZpbGVuYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGltZXN0YW1wKGEubmFtZSkubG9jYWxlQ29tcGFyZShnZXRUaW1lc3RhbXAoYi5uYW1lKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiLy8gc3JjL2NvbmZpZy9jb25zdGFudHMudHNcbmltcG9ydCB7IFBsdWdpblNldHRpbmdzIH0gZnJvbSBcIi4uL3R5cGVzL3BsdWdpblwiO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUGx1Z2luU2V0dGluZ3MgPSB7XG4gICAgYXJjaGl2ZUZvbGRlcjogXCJOZXh1cy9Db252ZXJzYXRpb25zXCIsXG4gICAgYWRkRGF0ZVByZWZpeDogZmFsc2UsXG4gICAgZGF0ZUZvcm1hdDogXCJZWVlZLU1NLUREXCIsXG4gICAgaGFzU2hvd25VcGdyYWRlTm90aWNlOiBmYWxzZSxcbiAgICBoYXNDb21wbGV0ZWRVcGdyYWRlOiBmYWxzZSxcblxuICAgIC8vIFZlcnNpb24gdHJhY2tpbmcgLSB3aWxsIGJlIHNldCBmcm9tIG1hbmlmZXN0IGluIG1haW4udHNcbiAgICBjdXJyZW50VmVyc2lvbjogXCIwLjAuMFwiLFxuICAgIHByZXZpb3VzVmVyc2lvbjogXCIwLjAuMFwiLFxuXG4gICAgLy8gQXR0YWNobWVudCBkZWZhdWx0cyB3aXRoIFwiYmVzdCBlZmZvcnRcIiBhcHByb2FjaFxuICAgIGltcG9ydEF0dGFjaG1lbnRzOiB0cnVlLFxuICAgIGF0dGFjaG1lbnRGb2xkZXI6IFwiTmV4dXMvQXR0YWNobWVudHNcIixcbiAgICByZXBvcnRGb2xkZXI6IFwiTmV4dXMvUmVwb3J0c1wiLFxuICAgIHNraXBNaXNzaW5nQXR0YWNobWVudHM6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50RGV0YWlsczogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBHSVRIVUIgPSB7XG4gICAgUkFXX0JBU0U6IFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1N1cGVya2lraW0vbmV4dXMtYWktY2hhdC1pbXBvcnRlclwiLFxuICAgIFJFUE9fQkFTRTogXCJodHRwczovL2dpdGh1Yi5jb20vU3VwZXJraWtpbS9uZXh1cy1haS1jaGF0LWltcG9ydGVyXCJcbn0gYXMgY29uc3Q7IiwgIi8vIHNyYy91aS9zZXR0aW5ncy10YWIudHNcbmltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuaW1wb3J0IHsgQmFzZVNldHRpbmdzU2VjdGlvbiB9IGZyb20gXCIuL3NldHRpbmdzL2Jhc2Utc2V0dGluZ3Mtc2VjdGlvblwiO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uU2V0dGluZ3NTZWN0aW9uIH0gZnJvbSBcIi4vc2V0dGluZ3MvY29udmVyc2F0aW9uLXNldHRpbmdzLXNlY3Rpb25cIjtcbmltcG9ydCB7IEF0dGFjaG1lbnRTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9hdHRhY2htZW50LXNldHRpbmdzLXNlY3Rpb25cIjtcbmltcG9ydCB7IE1pZ3JhdGlvbnNTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9taWdyYXRpb25zLXNldHRpbmdzLXNlY3Rpb25cIjtcblxuZXhwb3J0IGNsYXNzIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgcHJpdmF0ZSBzZWN0aW9uczogQmFzZVNldHRpbmdzU2VjdGlvbltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVTZWN0aW9ucygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZVNlY3Rpb25zKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNlY3Rpb25zID0gW1xuICAgICAgICAgICAgbmV3IENvbnZlcnNhdGlvblNldHRpbmdzU2VjdGlvbih0aGlzLnBsdWdpbiksXG4gICAgICAgICAgICBuZXcgQXR0YWNobWVudFNldHRpbmdzU2VjdGlvbih0aGlzLnBsdWdpbiksXG4gICAgICAgICAgICBuZXcgTWlncmF0aW9uc1NldHRpbmdzU2VjdGlvbih0aGlzLnBsdWdpbilcbiAgICAgICAgXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XG5cbiAgICAgICAgLy8gU2V0IHJlZHJhdyBjYWxsYmFjayBmb3IgZWFjaCBzZWN0aW9uXG4gICAgICAgIHRoaXMuc2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgICAgICAgIHNlY3Rpb24uc2V0UmVkcmF3Q2FsbGJhY2soKCkgPT4gdGhpcy5kaXNwbGF5KCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgICAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyU2VjdGlvbnMoY29udGFpbmVyRWwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVuZGVyU2VjdGlvbnMoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiB0aGlzLnNlY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoc2VjdGlvbi50aXRsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBzZWN0aW9uLnRpdGxlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCBzZWN0aW9uLnJlbmRlcihjb250YWluZXJFbCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwgIi8vIHNyYy91aS9zZXR0aW5ncy9jb252ZXJzYXRpb24tc2V0dGluZ3Mtc2VjdGlvbi50c1xuaW1wb3J0IHsgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgQmFzZVNldHRpbmdzU2VjdGlvbiB9IGZyb20gXCIuL2Jhc2Utc2V0dGluZ3Mtc2VjdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQ29udmVyc2F0aW9uU2V0dGluZ3NTZWN0aW9uIGV4dGVuZHMgQmFzZVNldHRpbmdzU2VjdGlvbiB7XG4gICAgcmVhZG9ubHkgdGl0bGUgPSBcIkNvbnZlcnNhdGlvbiBTZXR0aW5nc1wiO1xuICAgIHJlYWRvbmx5IG9yZGVyID0gMTA7XG5cbiAgICByZW5kZXIoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJDb252ZXJzYXRpb25zIGZvbGRlclwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJDaG9vc2UgYSBmb2xkZXIgdG8gc3RvcmUgQUkgY2hhdCBjb252ZXJzYXRpb25zIGFuZCBpbXBvcnQgcmVwb3J0c1wiKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBmb2xkZXIgbmFtZVwiKVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcilcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJBZGQgZGF0ZSBwcmVmaXggdG8gZmlsZW5hbWVzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkFkZCBjcmVhdGlvbiBkYXRlIGFzIGEgcHJlZml4IHRvIGNvbnZlcnNhdGlvbiBmaWxlbmFtZXNcIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZERhdGVQcmVmaXgpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZERhdGVQcmVmaXggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsgLy8gVHJpZ2dlciByZWRyYXcgdG8gc2hvdy9oaWRlIGRhdGUgZm9ybWF0IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZERhdGVQcmVmaXgpIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiRGF0ZSBmb3JtYXRcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIkNob29zZSB0aGUgZm9ybWF0IGZvciB0aGUgZGF0ZSBwcmVmaXhcIilcbiAgICAgICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIllZWVktTU0tRERcIiwgXCJZWVlZLU1NLUREXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiWVlZWU1NRERcIiwgXCJZWVlZTU1ERFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGVGb3JtYXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiWVlZWS1NTS1ERFwiIHx8IHZhbHVlID09PSBcIllZWVlNTUREXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdCA9IHZhbHVlIGFzIFwiWVlZWS1NTS1ERFwiIHwgXCJZWVlZTU1ERFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59IiwgIi8vIHNyYy91aS9zZXR0aW5ncy9iYXNlLXNldHRpbmdzLXNlY3Rpb24udHNcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uLy4uL21haW5cIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VTZXR0aW5nc1NlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4pIHt9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhpcyBzZWN0aW9uJ3Mgc2V0dGluZ3NcbiAgICAgKi9cbiAgICBhYnN0cmFjdCByZW5kZXIoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBTZWN0aW9uIHRpdGxlIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBhYnN0cmFjdCByZWFkb25seSB0aXRsZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFNlY3Rpb24gb3JkZXIgKGxvd2VyID0gaGlnaGVyIHVwKVxuICAgICAqL1xuICAgIHJlYWRvbmx5IG9yZGVyOiBudW1iZXIgPSAxMDA7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0byB0cmlnZ2VyIGZ1bGwgcmVkcmF3IHdoZW4gbmVlZGVkIChmb3IgY29uZGl0aW9uYWwgc2VjdGlvbnMpXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlZHJhd0NhbGxiYWNrPzogKCkgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFNldCByZWRyYXcgY2FsbGJhY2sgZnJvbSBtYWluIHNldHRpbmdzIHRhYlxuICAgICAqL1xuICAgIHNldFJlZHJhd0NhbGxiYWNrKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVkcmF3Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHJlZHJhdyBvZiBlbnRpcmUgc2V0dGluZ3MgdGFiXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlZHJhdygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucmVkcmF3Q2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3Q2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLy8gc3JjL3VpL3NldHRpbmdzL2F0dGFjaG1lbnQtc2V0dGluZ3Mtc2VjdGlvbi50c1xuaW1wb3J0IHsgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgQmFzZVNldHRpbmdzU2VjdGlvbiB9IGZyb20gXCIuL2Jhc2Utc2V0dGluZ3Mtc2VjdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQXR0YWNobWVudFNldHRpbmdzU2VjdGlvbiBleHRlbmRzIEJhc2VTZXR0aW5nc1NlY3Rpb24ge1xuICAgIHJlYWRvbmx5IHRpdGxlID0gXCJBdHRhY2htZW50IFNldHRpbmdzXCI7XG4gICAgcmVhZG9ubHkgb3JkZXIgPSAyMDtcblxuICAgIHJlbmRlcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkltcG9ydCBhdHRhY2htZW50c1wiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJTYXZlIGF0dGFjaG1lbnQgZmlsZXMgdG8gZGlzayBhbmQgbGluayB0aGVtIGluIGNvbnZlcnNhdGlvbnMgKHVzZXMgJ2Jlc3QgZWZmb3J0JyBzdHJhdGVneSlcIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBdHRhY2htZW50cyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHJhdygpOyAvLyBUcmlnZ2VyIHJlZHJhdyB0byBzaG93L2hpZGUgYXR0YWNobWVudCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBdHRhY2htZW50cykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBdHRhY2htZW50T3B0aW9ucyhjb250YWluZXJFbCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckF0dGFjaG1lbnRJbmZvKGNvbnRhaW5lckVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQXR0YWNobWVudE9wdGlvbnMoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJBdHRhY2htZW50IGZvbGRlclwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJDaG9vc2UgYSBmb2xkZXIgdG8gc3RvcmUgYXR0YWNobWVudCBmaWxlc1wiKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBhdHRhY2htZW50IGZvbGRlciBwYXRoXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2htZW50Rm9sZGVyKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2htZW50Rm9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkhhbmRsZSBtaXNzaW5nIGF0dGFjaG1lbnRzXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIldoZW4gYXR0YWNobWVudHMgYXJlIG1pc3NpbmcgZnJvbSBleHBvcnRzLCBjcmVhdGUgaW5mb3JtYXRpdmUgbm90ZXMgaW5zdGVhZCBvZiBza2lwcGluZyB0aGVtXCIpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgICAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSghdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2tpcE1pc3NpbmdBdHRhY2htZW50cylcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2tpcE1pc3NpbmdBdHRhY2htZW50cyA9ICF2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU2hvdyBhdHRhY2htZW50IGRldGFpbHMgaW4gcmVwb3J0c1wiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJJbmNsdWRlIGRldGFpbGVkIGF0dGFjaG1lbnQgcHJvY2Vzc2luZyBzdGF0aXN0aWNzIGluIGltcG9ydCByZXBvcnRzXCIpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG4gICAgICAgICAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93QXR0YWNobWVudERldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dBdHRhY2htZW50RGV0YWlscyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQXR0YWNobWVudEluZm8oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG5vdGVFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdih7IGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIiB9KTtcbiAgICAgICAgbm90ZUVsLnN0eWxlLm1hcmdpblRvcCA9IFwiMTVweFwiO1xuICAgICAgICBub3RlRWwuc3R5bGUucGFkZGluZyA9IFwiMTVweFwiO1xuICAgICAgICBub3RlRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSlcIjtcbiAgICAgICAgbm90ZUVsLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiOHB4XCI7XG4gICAgICAgIG5vdGVFbC5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcilcIjtcbiAgICAgICAgXG4gICAgICAgIG5vdGVFbC5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJcdUQ4M0RcdURDQ0UgQWJvdXQgQXR0YWNobWVudCBIYW5kbGluZ1wiLCBjbHM6IFwic2V0dGluZy1pdGVtLW5hbWVcIiB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGluZm9MaXN0ID0gbm90ZUVsLmNyZWF0ZUVsKFwidWxcIik7XG4gICAgICAgIGluZm9MaXN0LnN0eWxlLm1hcmdpblRvcCA9IFwiMTBweFwiO1xuICAgICAgICBpbmZvTGlzdC5zdHlsZS5wYWRkaW5nTGVmdCA9IFwiMjBweFwiO1xuICAgICAgICBcbiAgICAgICAgaW5mb0xpc3QuY3JlYXRlRWwoXCJsaVwiKS5pbm5lckhUTUwgPSBcIjxzdHJvbmc+QmVzdCBFZmZvcnQgU3RyYXRlZ3k6PC9zdHJvbmc+IEZpbGVzIGZvdW5kIGluIGV4cG9ydHMgYXJlIGV4dHJhY3RlZCBhbmQgbGlua2VkOyBtaXNzaW5nIGZpbGVzIGdldCBpbmZvcm1hdGl2ZSBub3Rlcy5cIjtcbiAgICAgICAgaW5mb0xpc3QuY3JlYXRlRWwoXCJsaVwiKS5pbm5lckhUTUwgPSBcIjxzdHJvbmc+UGxhdGZvcm0gRGlmZmVyZW5jZXM6PC9zdHJvbmc+IENoYXRHUFQgZXhwb3J0cyBtYXkgbm90IGluY2x1ZGUgYWxsIGF0dGFjaG1lbnRzLCBlc3BlY2lhbGx5IGZyb20gb2xkZXIgY29udmVyc2F0aW9ucy5cIjtcbiAgICAgICAgaW5mb0xpc3QuY3JlYXRlRWwoXCJsaVwiKS5pbm5lckhUTUwgPSBcIjxzdHJvbmc+U2ltcGxlIE9yZ2FuaXphdGlvbjo8L3N0cm9uZz4gRmlsZXMgb3JnYW5pemVkIGFzIDxjb2RlPmF0dGFjaG1lbnRzL3Byb3ZpZGVyL2NhdGVnb3J5LzwvY29kZT4gKGUuZy4sIDxjb2RlPmF0dGFjaG1lbnRzL2NoYXRncHQvaW1hZ2VzLzwvY29kZT4pLlwiO1xuICAgICAgICBpbmZvTGlzdC5jcmVhdGVFbChcImxpXCIpLmlubmVySFRNTCA9IFwiPHN0cm9uZz5TeW5jIFRpcDo8L3N0cm9uZz4gQ29uc2lkZXIgZXhjbHVkaW5nIHRoZSBhdHRhY2htZW50IGZvbGRlciBmcm9tIHN5bmMgdG8gYXZvaWQgdXBsb2FkaW5nIGxhcmdlIGZpbGVzLlwiO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGlwRWwgPSBub3RlRWwuY3JlYXRlRGl2KCk7XG4gICAgICAgIHRpcEVsLnN0eWxlLm1hcmdpblRvcCA9IFwiMTBweFwiO1xuICAgICAgICB0aXBFbC5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICB0aXBFbC5pbm5lckhUTUwgPSBcIlx1RDgzRFx1RENBMSA8c3Ryb25nPlRpcDo8L3N0cm9uZz4gRW5hYmxlICdTaG93IGF0dGFjaG1lbnQgZGV0YWlscycgdG8gc2VlIGV4YWN0bHkgd2hpY2ggZmlsZXMgd2VyZSBmb3VuZCwgbWlzc2luZywgb3IgZmFpbGVkIGR1cmluZyBpbXBvcnQuXCI7XG4gICAgfVxufSIsICIvLyBzcmMvdWkvc2V0dGluZ3MvbWlncmF0aW9ucy1zZXR0aW5ncy1zZWN0aW9uLnRzXG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBCYXNlU2V0dGluZ3NTZWN0aW9uIH0gZnJvbSBcIi4vYmFzZS1zZXR0aW5ncy1zZWN0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBNaWdyYXRpb25zU2V0dGluZ3NTZWN0aW9uIGV4dGVuZHMgQmFzZVNldHRpbmdzU2VjdGlvbiB7XG4gICAgcmVhZG9ubHkgdGl0bGUgPSBcIk1pZ3JhdGlvbnNcIjtcbiAgICByZWFkb25seSBvcmRlciA9IDMwO1xuXG4gICAgYXN5bmMgcmVuZGVyKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBtaWdyYXRpb25zRGVzYyA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdih7IGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIiB9KTtcbiAgICAgICAgbWlncmF0aW9uc0Rlc2Muc3R5bGUubWFyZ2luQm90dG9tID0gXCIyMHB4XCI7XG4gICAgICAgIG1pZ3JhdGlvbnNEZXNjLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxwPjxzdHJvbmc+TWFudWFsIE9wZXJhdGlvbnM6PC9zdHJvbmc+IE9wdGlvbmFsIHVwZ3JhZGUgb3BlcmF0aW9ucyB0aGF0IGNhbiBiZSBydW4gd2hlbiBjb252ZW5pZW50LjwvcD5cbiAgICAgICAgICAgIDxwPkF1dG9tYXRpYyBvcGVyYXRpb25zIChsaWtlIHJlbW92aW5nIG9sZCBkYXRhKSBydW4gYXV0b21hdGljYWxseSBkdXJpbmcgdXBncmFkZSBhbmQgYXJlIG5vdCBzaG93biBoZXJlLjwvcD5cbiAgICAgICAgYDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXBncmFkZU1hbmFnZXIgPSB0aGlzLnBsdWdpbi5nZXRVcGdyYWRlTWFuYWdlcigpO1xuICAgICAgICAgICAgaWYgKCF1cGdyYWRlTWFuYWdlcj8uZ2V0TWFudWFsT3BlcmF0aW9uc0ZvclNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Tm9NaWdyYXRpb25zTWVzc2FnZShjb250YWluZXJFbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgb3BlcmF0aW9uIHN0YXR1cyB3aXRoIHBlcnNpc3RlbnQgZmxhZ3NcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbnNEYXRhID0gYXdhaXQgdGhpcy5nZXRPcGVyYXRpb25zV2l0aFBlcnNpc3RlbnRTdGF0dXModXBncmFkZU1hbmFnZXIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uc0RhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Tm9NaWdyYXRpb25zTWVzc2FnZShjb250YWluZXJFbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZlcnNpb25EYXRhIG9mIG9wZXJhdGlvbnNEYXRhKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJWZXJzaW9uT3BlcmF0aW9ucyhjb250YWluZXJFbCwgdmVyc2lvbkRhdGEsIHVwZ3JhZGVNYW5hZ2VyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIltORVhVUy1ERUJVR10gRXJyb3IgbG9hZGluZyBtaWdyYXRpb25zOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnNob3dFcnJvck1lc3NhZ2UoY29udGFpbmVyRWwsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBvcGVyYXRpb25zIHN0YXR1cyB3aXRoIHBlcnNpc3RlbnQgZmxhZ3MgZnJvbSBwbHVnaW4gZGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZ2V0T3BlcmF0aW9uc1dpdGhQZXJzaXN0ZW50U3RhdHVzKHVwZ3JhZGVNYW5hZ2VyOiBhbnkpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbnNEYXRhID0gYXdhaXQgdXBncmFkZU1hbmFnZXIuZ2V0TWFudWFsT3BlcmF0aW9uc0ZvclNldHRpbmdzKCk7XG4gICAgICAgIGNvbnN0IHBsdWdpbkRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIG9wZXJhdGlvbiBzdGF0dXMgYmFzZWQgb24gcGVyc2lzdGVudCBmbGFncyBpbiB1cGdyYWRlIGhpc3RvcnlcbiAgICAgICAgZm9yIChjb25zdCB2ZXJzaW9uRGF0YSBvZiBvcGVyYXRpb25zRGF0YSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgdmVyc2lvbkRhdGEub3BlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbktleSA9IGBvcGVyYXRpb25fJHt2ZXJzaW9uRGF0YS52ZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpfV8ke29wZXJhdGlvbi5pZH1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29tcGxldGVkID0gcGx1Z2luRGF0YT8udXBncmFkZUhpc3Rvcnk/LmNvbXBsZXRlZE9wZXJhdGlvbnM/LltvcGVyYXRpb25LZXldPy5jb21wbGV0ZWQgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uLmNvbXBsZXRlZCA9IGlzQ29tcGxldGVkO1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5jYW5SdW4gPSAhaXNDb21wbGV0ZWQgJiYgb3BlcmF0aW9uLmNhblJ1bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG9wZXJhdGlvbnNEYXRhO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVuZGVyVmVyc2lvbk9wZXJhdGlvbnMoXG4gICAgICAgIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCxcbiAgICAgICAgdmVyc2lvbkRhdGE6IGFueSxcbiAgICAgICAgdXBncmFkZU1hbmFnZXI6IGFueVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB2ZXJzaW9uSGVhZGVyID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IFxuICAgICAgICAgICAgdGV4dDogYFZlcnNpb24gJHt2ZXJzaW9uRGF0YS52ZXJzaW9ufWAsXG4gICAgICAgICAgICBjbHM6IFwibWlncmF0aW9ucy12ZXJzaW9uLWhlYWRlclwiXG4gICAgICAgIH0pO1xuICAgICAgICB2ZXJzaW9uSGVhZGVyLnN0eWxlLm1hcmdpblRvcCA9IFwiMjVweFwiO1xuICAgICAgICB2ZXJzaW9uSGVhZGVyLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMTVweFwiO1xuICAgICAgICB2ZXJzaW9uSGVhZGVyLnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LWFjY2VudClcIjtcblxuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiB2ZXJzaW9uRGF0YS5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlck9wZXJhdGlvbihjb250YWluZXJFbCwgb3BlcmF0aW9uLCB2ZXJzaW9uRGF0YS52ZXJzaW9uLCB1cGdyYWRlTWFuYWdlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlck9wZXJhdGlvbihcbiAgICAgICAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuICAgICAgICBvcGVyYXRpb246IGFueSxcbiAgICAgICAgdmVyc2lvbjogc3RyaW5nLFxuICAgICAgICB1cGdyYWRlTWFuYWdlcjogYW55XG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUob3BlcmF0aW9uLm5hbWUpXG4gICAgICAgICAgICAuc2V0RGVzYyhvcGVyYXRpb24uZGVzY3JpcHRpb24gKyAob3BlcmF0aW9uLmNvbXBsZXRlZCA/IFwiIFx1MjcwNSBDb21wbGV0ZWRcIiA6IFwiXCIpKVxuICAgICAgICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24uY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJcdTI3MDUgQ29tcGxldGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiVGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gY29tcGxldGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uYnV0dG9uRWwuYWRkQ2xhc3MoXCJtb2QtbXV0ZWRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghb3BlcmF0aW9uLmNhblJ1bikge1xuICAgICAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiQ2Fubm90IFJ1blwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldERpc2FibGVkKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VG9vbHRpcChcIlByZXJlcXVpc2l0ZXMgbm90IG1ldCBmb3IgdGhpcyBvcGVyYXRpb25cIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIlJ1blwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoYEV4ZWN1dGUgJHtvcGVyYXRpb24ubmFtZX1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZU9wZXJhdGlvbihidXR0b24sIG9wZXJhdGlvbiwgdmVyc2lvbiwgdXBncmFkZU1hbmFnZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5idXR0b25FbC5hZGRDbGFzcyhcIm1vZC1jdGFcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBleGVjdXRlT3BlcmF0aW9uKFxuICAgICAgICBidXR0b25FbDogYW55LCBcbiAgICAgICAgb3BlcmF0aW9uOiBhbnksIFxuICAgICAgICB2ZXJzaW9uOiBzdHJpbmcsIFxuICAgICAgICB1cGdyYWRlTWFuYWdlcjogYW55XG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGJ1dHRvbkVsLmJ1dHRvbkVsLnRleHRDb250ZW50O1xuICAgICAgICBidXR0b25FbC5zZXRCdXR0b25UZXh0KFwiUnVubmluZy4uLlwiKS5zZXREaXNhYmxlZCh0cnVlKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBFeGVjdXRpbmcgbWFudWFsIG9wZXJhdGlvbjogJHtvcGVyYXRpb24uaWR9ICh2JHt2ZXJzaW9ufSlgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBncmFkZU1hbmFnZXIuZXhlY3V0ZU1hbnVhbE9wZXJhdGlvbih2ZXJzaW9uLCBvcGVyYXRpb24uaWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIE9wZXJhdGlvbiByZXN1bHQ6YCwgcmVzdWx0KTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFVJIHRvIHNob3cgY29tcGxldGVkIHN0YXRlXG4gICAgICAgICAgICAgICAgYnV0dG9uRWwuc2V0QnV0dG9uVGV4dChcIlx1MjcwNSBDb21wbGV0ZWRcIik7XG4gICAgICAgICAgICAgICAgYnV0dG9uRWwuc2V0VG9vbHRpcChcIlRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBGaXggQ1NTIGNsYXNzIG1hbmlwdWxhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBidXR0b25FbC5idXR0b25FbCB8fCBidXR0b25FbDtcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uRWxlbWVudCAmJiBidXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJtb2QtY3RhXCIpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25FbGVtZW50LmFkZENsYXNzKFwibW9kLW11dGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgb3BlcmF0aW9uIHN0YXR1c1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5jYW5SdW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uRWwuc2V0QnV0dG9uVGV4dChvcmlnaW5hbFRleHQpLnNldERpc2FibGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dPcGVyYXRpb25SZXN1bHQoXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkVsLmJ1dHRvbkVsLmNsb3Nlc3QoJy5zZXR0aW5nLWl0ZW0nKSwgXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5tZXNzYWdlLCBcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIE9wZXJhdGlvbiBleGVjdXRpb24gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIGJ1dHRvbkVsLnNldEJ1dHRvblRleHQob3JpZ2luYWxUZXh0KS5zZXREaXNhYmxlZChmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNob3dPcGVyYXRpb25SZXN1bHQoXG4gICAgICAgICAgICAgICAgYnV0dG9uRWwuYnV0dG9uRWwuY2xvc2VzdCgnLnNldHRpbmctaXRlbScpLCBcbiAgICAgICAgICAgICAgICBgT3BlcmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gLCBcbiAgICAgICAgICAgICAgICAnZXJyb3InXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93T3BlcmF0aW9uUmVzdWx0KFxuICAgICAgICBzZXR0aW5nRWw6IEhUTUxFbGVtZW50IHwgbnVsbCwgXG4gICAgICAgIG1lc3NhZ2U6IHN0cmluZywgXG4gICAgICAgIHR5cGU6ICdzdWNjZXNzJyB8ICdlcnJvcidcbiAgICApOiB2b2lkIHtcbiAgICAgICAgaWYgKCFzZXR0aW5nRWwpIHJldHVybjtcblxuICAgICAgICBjb25zdCBleGlzdGluZ01zZyA9IHNldHRpbmdFbC5xdWVyeVNlbGVjdG9yKCcub3BlcmF0aW9uLXJlc3VsdCcpO1xuICAgICAgICBpZiAoZXhpc3RpbmdNc2cpIGV4aXN0aW5nTXNnLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJlc3VsdEVsLmNsYXNzTmFtZSA9ICdvcGVyYXRpb24tcmVzdWx0JztcbiAgICAgICAgcmVzdWx0RWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgICByZXN1bHRFbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogJHt0eXBlID09PSAnc3VjY2VzcycgPyAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKScgOiAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvciknfTtcbiAgICAgICAgICAgIGNvbG9yOiAke3R5cGUgPT09ICdzdWNjZXNzJyA/ICd2YXIoLS10ZXh0LXN1Y2Nlc3MpJyA6ICd2YXIoLS10ZXh0LWVycm9yKSd9O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0eXBlID09PSAnc3VjY2VzcycgPyAndmFyKC0tdGV4dC1zdWNjZXNzKScgOiAndmFyKC0tdGV4dC1lcnJvciknfTtcbiAgICAgICAgYDtcblxuICAgICAgICBzZXR0aW5nRWwuYXBwZW5kQ2hpbGQocmVzdWx0RWwpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRFbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0RWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd05vTWlncmF0aW9uc01lc3NhZ2UoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG5vTWlncmF0aW9uc0VsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiIH0pO1xuICAgICAgICBub01pZ3JhdGlvbnNFbC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjE1cHhcIjtcbiAgICAgICAgbm9NaWdyYXRpb25zRWwuc3R5bGUucGFkZGluZyA9IFwiMTVweFwiO1xuICAgICAgICBub01pZ3JhdGlvbnNFbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KVwiO1xuICAgICAgICBub01pZ3JhdGlvbnNFbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjhweFwiO1xuICAgICAgICBub01pZ3JhdGlvbnNFbC5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBub01pZ3JhdGlvbnNFbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+Tm8gbWFudWFsIG9wZXJhdGlvbnMgYXZhaWxhYmxlPC9zdHJvbmc+PGJyPlxuICAgICAgICAgICAgICAgIEFsbCB1cGdyYWRlIG9wZXJhdGlvbnMgaGF2ZSBiZWVuIGNvbXBsZXRlZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd0Vycm9yTWVzc2FnZShjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIGVycm9yOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdih7IGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIiB9KTtcbiAgICAgICAgZXJyb3JFbC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjE1cHhcIjtcbiAgICAgICAgZXJyb3JFbC5zdHlsZS5wYWRkaW5nID0gXCIxNXB4XCI7XG4gICAgICAgIGVycm9yRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKVwiO1xuICAgICAgICBlcnJvckVsLnN0eWxlLmNvbG9yID0gXCJ2YXIoLS10ZXh0LWVycm9yKVwiO1xuICAgICAgICBlcnJvckVsLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiOHB4XCI7XG4gICAgICAgIGVycm9yRWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDA7XCI+XG4gICAgICAgICAgICAgICAgPHN0cm9uZz5FcnJvciBsb2FkaW5nIG1pZ3JhdGlvbnM6PC9zdHJvbmc+PGJyPlxuICAgICAgICAgICAgICAgICR7ZXJyb3IubWVzc2FnZSB8fCBlcnJvcn1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgYDtcbiAgICB9XG59IiwgIi8vIHNyYy9jb21tYW5kcy9jb21tYW5kLXJlZ2lzdHJ5LnRzXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgQ29tbWFuZFJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge31cblxuICAgIHJlZ2lzdGVyQ29tbWFuZHMoKSB7XG4gICAgICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6IFwibmV4dXMtYWktY2hhdC1pbXBvcnRlci1zZWxlY3QtemlwXCIsXG4gICAgICAgICAgICBuYW1lOiBcIkltcG9ydCBBSSBjb252ZXJzYXRpb25zXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgbmV3IHByb3ZpZGVyIHNlbGVjdGlvbiB3b3JrZmxvd1xuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNob3dQcm92aWRlclNlbGVjdGlvbkRpYWxvZygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dSZXNldENvbmZpcm1hdGlvbigpIHtcbiAgICAgICAgY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwodGhpcy5wbHVnaW4uYXBwKTtcbiAgICAgICAgbW9kYWwuY29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICAgICAgICB0ZXh0OiBcIlRoaXMgd2lsbCByZXNldCBhbGwgaW1wb3J0IGNhdGFsb2dzLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLlwiLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJ1dHRvbkRpdiA9IG1vZGFsLmNvbnRlbnRFbC5jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICAgICAgICBjbHM6IFwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGJ1dHRvbkRpdlxuICAgICAgICAgICAgLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJDYW5jZWxcIiB9KVxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBtb2RhbC5jbG9zZSgpKTtcbiAgICAgICAgXG4gICAgICAgIGJ1dHRvbkRpdlxuICAgICAgICAgICAgLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJSZXNldFwiLCBjbHM6IFwibW9kLXdhcm5pbmdcIiB9KVxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ucmVzZXRDYXRhbG9ncygpO1xuICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICB9XG59IiwgIi8vIHNyYy9ldmVudHMvZXZlbnQtaGFuZGxlcnMudHNcbmltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXJzIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge31cblxuICAgIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICAvLyBIYW5kbGUgZmlsZSBkZWxldGlvbiAtIHJlbW92ZSBmcm9tIGNvbnZlcnNhdGlvbiBjYXRhbG9nXG4gICAgICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5hcHAudmF1bHQub24oXCJkZWxldGVcIiwgYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmdldEZpbGVTZXJ2aWNlKCkuaGFuZGxlQ29udmVyc2F0aW9uRmlsZURlbGV0aW9uKGZpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgLy8gTm8gY2xlYW51cCBuZWVkZWQgLSBPYnNpZGlhbiBoYW5kbGVzIGV2ZW50IHVucmVnaXN0cmF0aW9uXG4gICAgfVxufSIsICIvLyBzcmMvc2VydmljZXMvaW1wb3J0LXNlcnZpY2UudHNcbmltcG9ydCB7IE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuaW1wb3J0IHsgQ3VzdG9tRXJyb3IgfSBmcm9tIFwiLi4vdHlwZXMvcGx1Z2luXCI7XG5pbXBvcnQgeyBnZXRGaWxlSGFzaCB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgc2hvd0RpYWxvZyB9IGZyb20gXCIuLi9kaWFsb2dzXCI7XG5pbXBvcnQgeyBJbXBvcnRSZXBvcnQgfSBmcm9tIFwiLi4vbW9kZWxzL2ltcG9ydC1yZXBvcnRcIjtcbmltcG9ydCB7IENvbnZlcnNhdGlvblByb2Nlc3NvciB9IGZyb20gXCIuL2NvbnZlcnNhdGlvbi1wcm9jZXNzb3JcIjtcbmltcG9ydCB7IE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvciB9IGZyb20gXCIuLi9tb2RlbHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3Byb3ZpZGVycy9wcm92aWRlci1yZWdpc3RyeVwiO1xuaW1wb3J0IHsgUHJvdmlkZXJSZWdpc3RyeSB9IGZyb20gXCIuLi9wcm92aWRlcnMvcHJvdmlkZXItYWRhcHRlclwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgSW1wb3J0U2VydmljZSB7XG4gICAgcHJpdmF0ZSBpbXBvcnRSZXBvcnQ6IEltcG9ydFJlcG9ydCA9IG5ldyBJbXBvcnRSZXBvcnQoKTtcbiAgICBwcml2YXRlIGNvbnZlcnNhdGlvblByb2Nlc3NvcjogQ29udmVyc2F0aW9uUHJvY2Vzc29yO1xuICAgIHByaXZhdGUgcHJvdmlkZXJSZWdpc3RyeTogUHJvdmlkZXJSZWdpc3RyeTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZXJSZWdpc3RyeSA9IGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnkocGx1Z2luKTtcbiAgICAgICAgdGhpcy5jb252ZXJzYXRpb25Qcm9jZXNzb3IgPSBuZXcgQ29udmVyc2F0aW9uUHJvY2Vzc29yKHBsdWdpbiwgdGhpcy5wcm92aWRlclJlZ2lzdHJ5KTtcbiAgICB9XG5cbiAgICBhc3luYyBzZWxlY3RaaXBGaWxlKCkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwiZmlsZVwiO1xuICAgICAgICBpbnB1dC5hY2NlcHQgPSBcIi56aXBcIjtcbiAgICAgICAgaW5wdXQubXVsdGlwbGUgPSB0cnVlO1xuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzIHx8IFtdKTtcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkRmlsZXMgPSB0aGlzLnNvcnRGaWxlc0J5VGltZXN0YW1wKGZpbGVzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2Ygc29ydGVkRmlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVaaXBGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXQuY2xpY2soKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNvcnRGaWxlc0J5VGltZXN0YW1wKGZpbGVzOiBGaWxlW10pOiBGaWxlW10ge1xuICAgICAgICByZXR1cm4gZmlsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wUmVnZXggPSAvKFxcZHs0fS1cXGR7Mn0tXFxkezJ9LVxcZHsyfS1cXGR7Mn0tXFxkezJ9KS87XG4gICAgICAgICAgICBjb25zdCBnZXRUaW1lc3RhbXAgPSAoZmlsZW5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZmlsZW5hbWUubWF0Y2godGltZXN0YW1wUmVnZXgpO1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLndhcm4oYE5vIHRpbWVzdGFtcCBmb3VuZCBpbiBmaWxlbmFtZTogJHtmaWxlbmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGdldFRpbWVzdGFtcChhLm5hbWUpLmxvY2FsZUNvbXBhcmUoZ2V0VGltZXN0YW1wKGIubmFtZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVaaXBGaWxlKGZpbGU6IEZpbGUsIGZvcmNlZFByb3ZpZGVyPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW1wb3J0UmVwb3J0ID0gbmV3IEltcG9ydFJlcG9ydCgpO1xuICAgICAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5wbHVnaW4uZ2V0U3RvcmFnZVNlcnZpY2UoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZUhhc2ggPSBhd2FpdCBnZXRGaWxlSGFzaChmaWxlKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBpbXBvcnRlZCAoaHlicmlkIGRldGVjdGlvbiBmb3IgMS4wLnggXHUyMTkyIDEuMS4wIGNvbXBhdGliaWxpdHkpXG4gICAgICAgICAgICBjb25zdCBmb3VuZEJ5SGFzaCA9IHN0b3JhZ2UuaXNBcmNoaXZlSW1wb3J0ZWQoZmlsZUhhc2gpO1xuICAgICAgICAgICAgY29uc3QgZm91bmRCeU5hbWUgPSBzdG9yYWdlLmlzQXJjaGl2ZUltcG9ydGVkKGZpbGUubmFtZSk7XG4gICAgICAgICAgICBjb25zdCBpc1JlcHJvY2VzcyA9IGZvdW5kQnlIYXNoIHx8IGZvdW5kQnlOYW1lO1xuXG4gICAgICAgICAgICBpZiAoaXNSZXByb2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRSZWltcG9ydCA9IGF3YWl0IHNob3dEaWFsb2coXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcCxcbiAgICAgICAgICAgICAgICAgICAgXCJjb25maXJtYXRpb25cIiwgXG4gICAgICAgICAgICAgICAgICAgIFwiQWxyZWFkeSBwcm9jZXNzZWRcIixcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgYEZpbGUgJHtmaWxlLm5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gaW1wb3J0ZWQuYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGBEbyB5b3Ugd2FudCB0byByZXByb2Nlc3MgaXQ/YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGAqKk5vdGU6KiogVGhpcyB3aWxsIHJlY3JlYXRlIG5vdGVzIGZyb20gYmVmb3JlIHYxLjEuMCB0byBhZGQgYXR0YWNobWVudCBzdXBwb3J0LmBcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB7IGJ1dHRvbjE6IFwiTGV0J3MgZG8gdGhpc1wiLCBidXR0b24yOiBcIkZvcmdldCBpdFwiIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghc2hvdWxkUmVpbXBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIkltcG9ydCBjYW5jZWxsZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB6aXAgPSBhd2FpdCB0aGlzLnZhbGlkYXRlWmlwRmlsZShmaWxlLCBmb3JjZWRQcm92aWRlcik7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NDb252ZXJzYXRpb25zKHppcCwgZmlsZSwgaXNSZXByb2Nlc3MsIGZvcmNlZFByb3ZpZGVyKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3RvcmFnZS5hZGRJbXBvcnRlZEFyY2hpdmUoZmlsZUhhc2gsIGZpbGUubmFtZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvclxuICAgICAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgIDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgIDogXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJFcnJvciBoYW5kbGluZyB6aXAgZmlsZVwiLCB7IG1lc3NhZ2UgfSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLndyaXRlSW1wb3J0UmVwb3J0KGZpbGUubmFtZSk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0UmVwb3J0Lmhhc0Vycm9ycygpXG4gICAgICAgICAgICAgICAgICAgID8gXCJBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgaW1wb3J0LiBQbGVhc2UgY2hlY2sgdGhlIGxvZyBmaWxlIGZvciBkZXRhaWxzLlwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJJbXBvcnQgY29tcGxldGVkLiBMb2cgZmlsZSBjcmVhdGVkIGluIHRoZSBhcmNoaXZlIGZvbGRlci5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgdmFsaWRhdGVaaXBGaWxlKGZpbGU6IEZpbGUsIGZvcmNlZFByb3ZpZGVyPzogc3RyaW5nKTogUHJvbWlzZTxKU1ppcD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgemlwID0gbmV3IEpTWmlwKCk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgemlwLmxvYWRBc3luYyhmaWxlKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKGNvbnRlbnQuZmlsZXMpO1xuXG4gICAgICAgICAgICAvLyBJZiBwcm92aWRlciBpcyBmb3JjZWQsIHNraXAgZm9ybWF0IHZhbGlkYXRpb25cbiAgICAgICAgICAgIGlmIChmb3JjZWRQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb246IG11c3QgaGF2ZSBjb252ZXJzYXRpb25zLmpzb25cbiAgICAgICAgICAgICAgICBpZiAoIWZpbGVOYW1lcy5pbmNsdWRlcyhcImNvbnZlcnNhdGlvbnMuanNvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJbnZhbGlkIFpJUCBzdHJ1Y3R1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBNaXNzaW5nIHJlcXVpcmVkIGZpbGU6IGNvbnZlcnNhdGlvbnMuanNvbiBmb3IgJHtmb3JjZWRQcm92aWRlcn0gcHJvdmlkZXIuYFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQXV0by1kZXRlY3Rpb24gbW9kZSAobGVnYWN5IGJlaGF2aW9yKVxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0NvbnZlcnNhdGlvbnNKc29uID0gZmlsZU5hbWVzLmluY2x1ZGVzKFwiY29udmVyc2F0aW9ucy5qc29uXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1VzZXJzSnNvbiA9IGZpbGVOYW1lcy5pbmNsdWRlcyhcInVzZXJzLmpzb25cIik7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzUHJvamVjdHNKc29uID0gZmlsZU5hbWVzLmluY2x1ZGVzKFwicHJvamVjdHMuanNvblwiKTtcblxuICAgICAgICAgICAgICAgIC8vIENoYXRHUFQgZm9ybWF0OiBjb252ZXJzYXRpb25zLmpzb24gb25seVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2hhdEdQVEZvcm1hdCA9IGhhc0NvbnZlcnNhdGlvbnNKc29uICYmICFoYXNVc2Vyc0pzb24gJiYgIWhhc1Byb2plY3RzSnNvbjtcblxuICAgICAgICAgICAgICAgIC8vIENsYXVkZSBmb3JtYXQ6IGNvbnZlcnNhdGlvbnMuanNvbiArIHVzZXJzLmpzb24gKHByb2plY3RzLmpzb24gb3B0aW9uYWwgZm9yIGxlZ2FjeSlcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NsYXVkZUZvcm1hdCA9IGhhc0NvbnZlcnNhdGlvbnNKc29uICYmIGhhc1VzZXJzSnNvbjtcblxuICAgICAgICAgICAgICAgIGlmICghaXNDaGF0R1BURm9ybWF0ICYmICFpc0NsYXVkZUZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJbnZhbGlkIFpJUCBzdHJ1Y3R1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhpcyBaSVAgZmlsZSBkb2Vzbid0IG1hdGNoIGFueSBzdXBwb3J0ZWQgY2hhdCBleHBvcnQgZm9ybWF0LiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGVpdGhlciBDaGF0R1BUIGZvcm1hdCAoY29udmVyc2F0aW9ucy5qc29uKSBvciBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNsYXVkZSBmb3JtYXQgKGNvbnZlcnNhdGlvbnMuanNvbiArIHVzZXJzLmpzb24pLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gemlwO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBOZXh1c0FpQ2hhdEltcG9ydGVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFcnJvciB2YWxpZGF0aW5nIHppcCBmaWxlXCIsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzQ29udmVyc2F0aW9ucyh6aXA6IEpTWmlwLCBmaWxlOiBGaWxlLCBpc1JlcHJvY2VzczogYm9vbGVhbiwgZm9yY2VkUHJvdmlkZXI/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgcmF3IGNvbnZlcnNhdGlvbiBkYXRhIChwcm92aWRlciBhZ25vc3RpYylcbiAgICAgICAgICAgIGNvbnN0IHJhd0NvbnZlcnNhdGlvbnMgPSBhd2FpdCB0aGlzLmV4dHJhY3RSYXdDb252ZXJzYXRpb25zRnJvbVppcCh6aXApO1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBwcm92aWRlciBpZiBmb3JjZWRcbiAgICAgICAgICAgIGlmIChmb3JjZWRQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVQcm92aWRlck1hdGNoKHJhd0NvbnZlcnNhdGlvbnMsIGZvcmNlZFByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJvY2VzcyB0aHJvdWdoIGNvbnZlcnNhdGlvbiBwcm9jZXNzb3IgKGhhbmRsZXMgcHJvdmlkZXIgZGV0ZWN0aW9uL2NvbnZlcnNpb24pXG4gICAgICAgICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCB0aGlzLmNvbnZlcnNhdGlvblByb2Nlc3Nvci5wcm9jZXNzUmF3Q29udmVyc2F0aW9ucyhyYXdDb252ZXJzYXRpb25zLCB0aGlzLmltcG9ydFJlcG9ydCwgemlwLCBpc1JlcHJvY2VzcywgZm9yY2VkUHJvdmlkZXIpO1xuICAgICAgICAgICAgdGhpcy5pbXBvcnRSZXBvcnQgPSByZXBvcnQ7XG4gICAgICAgICAgICB0aGlzLmltcG9ydFJlcG9ydC5hZGRTdW1tYXJ5KFxuICAgICAgICAgICAgICAgIGZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvblByb2Nlc3Nvci5nZXRDb3VudGVycygpXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBjb252ZXJzYXRpb25zXCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJHZW5lcmFsIGVycm9yIHByb2Nlc3NpbmcgY29udmVyc2F0aW9uc1wiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiVW5rbm93biBlcnJvciBwcm9jZXNzaW5nIGNvbnZlcnNhdGlvbnNcIiwgXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCByYXcgY29udmVyc2F0aW9uIGRhdGEgd2l0aG91dCBrbm93aW5nIHByb3ZpZGVyIHNwZWNpZmljc1xuICAgICAqIFRPRE86IE1ha2UgdGhpcyBwcm92aWRlci1hd2FyZSB3aGVuIGFkZGluZyBDbGF1ZGUgc3VwcG9ydFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXh0cmFjdFJhd0NvbnZlcnNhdGlvbnNGcm9tWmlwKHppcDogSlNaaXApOiBQcm9taXNlPGFueVtdPiB7XG4gICAgICAgIC8vIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIENoYXRHUFQncyBjb252ZXJzYXRpb25zLmpzb24gZm9ybWF0XG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbnNKc29uID0gYXdhaXQgemlwLmZpbGUoXCJjb252ZXJzYXRpb25zLmpzb25cIikhLmFzeW5jKFwic3RyaW5nXCIpO1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjb252ZXJzYXRpb25zSnNvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgdGhhdCB0aGUgZm9yY2VkIHByb3ZpZGVyIG1hdGNoZXMgdGhlIGFjdHVhbCBjb250ZW50IHN0cnVjdHVyZVxuICAgICAqL1xuICAgIHByaXZhdGUgdmFsaWRhdGVQcm92aWRlck1hdGNoKHJhd0NvbnZlcnNhdGlvbnM6IGFueVtdLCBmb3JjZWRQcm92aWRlcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChyYXdDb252ZXJzYXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0Q29udmVyc2F0aW9uID0gcmF3Q29udmVyc2F0aW9uc1swXTtcblxuICAgICAgICAvLyBDaGVjayBmb3IgQ2hhdEdQVCBzdHJ1Y3R1cmVcbiAgICAgICAgY29uc3QgaXNDaGF0R1BUID0gZmlyc3RDb252ZXJzYXRpb24ubWFwcGluZyAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBDbGF1ZGUgc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IGlzQ2xhdWRlID0gZmlyc3RDb252ZXJzYXRpb24uY2hhdF9tZXNzYWdlcyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENvbnZlcnNhdGlvbi5uYW1lICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Q29udmVyc2F0aW9uLnN1bW1hcnkgIT09IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZm9yY2VkUHJvdmlkZXIgPT09ICdjaGF0Z3B0JyAmJiAhaXNDaGF0R1BUKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKFxuICAgICAgICAgICAgICAgIFwiUHJvdmlkZXIgTWlzbWF0Y2hcIixcbiAgICAgICAgICAgICAgICBcIllvdSBzZWxlY3RlZCBDaGF0R1BUIGJ1dCB0aGlzIGFyY2hpdmUgYXBwZWFycyB0byBiZSBmcm9tIENsYXVkZS4gVGhlIHN0cnVjdHVyZSBkb2Vzbid0IG1hdGNoIENoYXRHUFQgZXhwb3J0cy5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JjZWRQcm92aWRlciA9PT0gJ2NsYXVkZScgJiYgIWlzQ2xhdWRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTmV4dXNBaUNoYXRJbXBvcnRlckVycm9yKFxuICAgICAgICAgICAgICAgIFwiUHJvdmlkZXIgTWlzbWF0Y2hcIixcbiAgICAgICAgICAgICAgICBcIllvdSBzZWxlY3RlZCBDbGF1ZGUgYnV0IHRoaXMgYXJjaGl2ZSBhcHBlYXJzIHRvIGJlIGZyb20gQ2hhdEdQVC4gVGhlIHN0cnVjdHVyZSBkb2Vzbid0IG1hdGNoIENsYXVkZSBleHBvcnRzLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB3cml0ZUltcG9ydFJlcG9ydCh6aXBGaWxlTmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHJlcG9ydFdyaXRlciA9IG5ldyBSZXBvcnRXcml0ZXIodGhpcy5wbHVnaW4sIHRoaXMucHJvdmlkZXJSZWdpc3RyeSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm92aWRlciA9IHRoaXMuY29udmVyc2F0aW9uUHJvY2Vzc29yLmdldEN1cnJlbnRQcm92aWRlcigpO1xuICAgICAgICBhd2FpdCByZXBvcnRXcml0ZXIud3JpdGVSZXBvcnQodGhpcy5pbXBvcnRSZXBvcnQsIHppcEZpbGVOYW1lLCBjdXJyZW50UHJvdmlkZXIpO1xuICAgIH1cbn1cblxuY2xhc3MgUmVwb3J0V3JpdGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiwgcHJpdmF0ZSBwcm92aWRlclJlZ2lzdHJ5OiBQcm92aWRlclJlZ2lzdHJ5KSB7fVxuXG4gICAgYXN5bmMgd3JpdGVSZXBvcnQocmVwb3J0OiBJbXBvcnRSZXBvcnQsIHppcEZpbGVOYW1lOiBzdHJpbmcsIHByb3ZpZGVyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBlbnN1cmVGb2xkZXJFeGlzdHMsIGZvcm1hdFRpbWVzdGFtcCB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vdXRpbHNcIik7XG5cbiAgICAgICAgLy8gR2V0IHByb3ZpZGVyLXNwZWNpZmljIG5hbWluZyBzdHJhdGVneSBhbmQgc2V0IGNvbHVtbiBoZWFkZXJcbiAgICAgICAgY29uc3QgcmVwb3J0SW5mbyA9IHRoaXMuZ2V0UmVwb3J0R2VuZXJhdGlvbkluZm8oemlwRmlsZU5hbWUsIHByb3ZpZGVyKTtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMucHJvdmlkZXJSZWdpc3RyeS5nZXRBZGFwdGVyKHByb3ZpZGVyKTtcbiAgICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gYWRhcHRlci5nZXRSZXBvcnROYW1pbmdTdHJhdGVneSgpO1xuICAgICAgICAgICAgY29uc3QgY29sdW1uSW5mbyA9IHN0cmF0ZWd5LmdldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW4oKTtcbiAgICAgICAgICAgIHJlcG9ydC5zZXRQcm92aWRlclNwZWNpZmljQ29sdW1uSGVhZGVyKGNvbHVtbkluZm8uaGVhZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuc3VyZSBwcm92aWRlciBzdWJmb2xkZXIgZXhpc3RzXG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhyZXBvcnRJbmZvLmZvbGRlclBhdGgsIHRoaXMucGx1Z2luLmFwcC52YXVsdCk7XG4gICAgICAgIGlmICghZm9sZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBvciBhY2Nlc3MgbG9nIGZvbGRlcjogJHtyZXBvcnRJbmZvLmZvbGRlclBhdGh9YCwgZm9sZGVyUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIGxvZyBmaWxlLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZSB3aXRoIGNvdW50ZXIgaWYgbmVlZGVkXG4gICAgICAgIGxldCBsb2dGaWxlUGF0aCA9IGAke3JlcG9ydEluZm8uZm9sZGVyUGF0aH0vJHtyZXBvcnRJbmZvLmJhc2VGaWxlTmFtZX1gO1xuICAgICAgICBsZXQgY291bnRlciA9IDI7XG4gICAgICAgIHdoaWxlIChhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMobG9nRmlsZVBhdGgpKSB7XG4gICAgICAgICAgICBjb25zdCBiYXNlTmFtZSA9IHJlcG9ydEluZm8uYmFzZUZpbGVOYW1lLnJlcGxhY2UoJyAtIGltcG9ydCByZXBvcnQubWQnLCAnJyk7XG4gICAgICAgICAgICBsb2dGaWxlUGF0aCA9IGAke3JlcG9ydEluZm8uZm9sZGVyUGF0aH0vJHtiYXNlTmFtZX0tJHtjb3VudGVyfSAtIGltcG9ydCByZXBvcnQubWRgO1xuICAgICAgICAgICAgY291bnRlcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5oYW5jZWQgZnJvbnRtYXR0ZXIgd2l0aCBib3RoIGRhdGVzXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gYCR7Zm9ybWF0VGltZXN0YW1wKERhdGUubm93KCkgLyAxMDAwLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKERhdGUubm93KCkgLyAxMDAwLCBcInRpbWVcIil9YDtcbiAgICAgICAgY29uc3QgYXJjaGl2ZURhdGUgPSB0aGlzLmV4dHJhY3RBcmNoaXZlRGF0ZUZyb21GaWxlbmFtZSh6aXBGaWxlTmFtZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsb2dDb250ZW50ID0gYC0tLVxuaW1wb3J0ZGF0ZTogJHtjdXJyZW50RGF0ZX1cbmFyY2hpdmVkYXRlOiAke2FyY2hpdmVEYXRlfVxuemlwRmlsZTogJHt6aXBGaWxlTmFtZX1cbnByb3ZpZGVyOiAke3Byb3ZpZGVyfVxudG90YWxTdWNjZXNzZnVsSW1wb3J0czogJHtyZXBvcnQuZ2V0Q3JlYXRlZENvdW50KCl9XG50b3RhbFVwZGF0ZWRJbXBvcnRzOiAke3JlcG9ydC5nZXRVcGRhdGVkQ291bnQoKX1cbnRvdGFsU2tpcHBlZEltcG9ydHM6ICR7cmVwb3J0LmdldFNraXBwZWRDb3VudCgpfVxuLS0tXG5cbiR7cmVwb3J0LmdlbmVyYXRlUmVwb3J0Q29udGVudCgpfVxuYDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShsb2dGaWxlUGF0aCwgbG9nQ29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIHdyaXRlIGltcG9ydCBsb2dgLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gY3JlYXRlIGxvZyBmaWxlLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmVwb3J0R2VuZXJhdGlvbkluZm8oemlwRmlsZU5hbWU6IHN0cmluZywgcHJvdmlkZXI6IHN0cmluZyk6IHsgZm9sZGVyUGF0aDogc3RyaW5nLCBiYXNlRmlsZU5hbWU6IHN0cmluZyB9IHtcbiAgICAgICAgY29uc3QgcmVwb3J0Rm9sZGVyID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVwb3J0Rm9sZGVyO1xuXG4gICAgICAgIC8vIFRyeSB0byBnZXQgcHJvdmlkZXItc3BlY2lmaWMgbmFtaW5nIHN0cmF0ZWd5XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnByb3ZpZGVyUmVnaXN0cnkuZ2V0QWRhcHRlcihwcm92aWRlcik7XG4gICAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJhdGVneSA9IGFkYXB0ZXIuZ2V0UmVwb3J0TmFtaW5nU3RyYXRlZ3koKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydFByZWZpeCA9IHN0cmF0ZWd5LmV4dHJhY3RSZXBvcnRQcmVmaXgoemlwRmlsZU5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmb2xkZXJQYXRoOiBgJHtyZXBvcnRGb2xkZXJ9LyR7c3RyYXRlZ3kuZ2V0UHJvdmlkZXJOYW1lKCl9YCxcbiAgICAgICAgICAgICAgICBiYXNlRmlsZU5hbWU6IGAke3JlcG9ydFByZWZpeH0gLSBpbXBvcnQgcmVwb3J0Lm1kYFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrIGZvciB1bmtub3duIHByb3ZpZGVyc1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBpbXBvcnREYXRlID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LiR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0uJHtTdHJpbmcobm93LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgICBjb25zdCBhcmNoaXZlRGF0ZSA9IHRoaXMuZXh0cmFjdEFyY2hpdmVEYXRlRnJvbUZpbGVuYW1lKHppcEZpbGVOYW1lKTtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tQcmVmaXggPSBgaW1wb3J0ZWQtJHtpbXBvcnREYXRlfS1hcmNoaXZlLSR7YXJjaGl2ZURhdGV9YDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvbGRlclBhdGg6IGAke3JlcG9ydEZvbGRlcn1gLFxuICAgICAgICAgICAgYmFzZUZpbGVOYW1lOiBgJHtmYWxsYmFja1ByZWZpeH0gLSBpbXBvcnQgcmVwb3J0Lm1kYFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZXh0cmFjdEFyY2hpdmVEYXRlRnJvbUZpbGVuYW1lKHppcEZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRlUmVnZXggPSAvKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSkvO1xuICAgICAgICBjb25zdCBtYXRjaCA9IHppcEZpbGVOYW1lLm1hdGNoKGRhdGVSZWdleCk7XG4gICAgICAgIFxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IFssIHllYXIsIG1vbnRoLCBkYXldID0gbWF0Y2g7XG4gICAgICAgICAgICByZXR1cm4gYCR7eWVhcn0uJHttb250aH0uJHtkYXl9YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmFsbGJhY2s6IHVzZSBjdXJyZW50IGRhdGVcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGAke25vdy5nZXRGdWxsWWVhcigpfS4ke1N0cmluZyhub3cuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyl9LiR7U3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICB9XG59IiwgIi8vIHNyYy9tb2RlbHMvaW1wb3J0LXJlcG9ydC50c1xuaW1wb3J0IHsgQXR0YWNobWVudFN0YXRzIH0gZnJvbSBcIi4uL3R5cGVzL3BsdWdpblwiO1xuXG5pbnRlcmZhY2UgUmVwb3J0RW50cnkge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZmlsZVBhdGg6IHN0cmluZztcbiAgICBjcmVhdGVEYXRlOiBzdHJpbmc7XG4gICAgdXBkYXRlRGF0ZTogc3RyaW5nO1xuICAgIG1lc3NhZ2VDb3VudD86IG51bWJlcjtcbiAgICBuZXdNZXNzYWdlQ291bnQ/OiBudW1iZXI7IC8vIEZvciB1cGRhdGVzXG4gICAgcHJvdmlkZXJTcGVjaWZpY0NvdW50PzogbnVtYmVyOyAvLyBGb3IgcHJvdmlkZXItc3BlY2lmaWMgY29sdW1uIChhcnRpZmFjdHMsIGF0dGFjaG1lbnRzLCBldGMuKVxuICAgIHJlYXNvbj86IHN0cmluZztcbiAgICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgYXR0YWNobWVudFN0YXRzPzogQXR0YWNobWVudFN0YXRzO1xufVxuXG5pbnRlcmZhY2UgUHJvY2Vzc2luZ0NvdW50ZXJzIHtcbiAgICB0b3RhbENvbnZlcnNhdGlvbnNQcm9jZXNzZWQ6IG51bWJlcjtcbiAgICB0b3RhbE5ld0NvbnZlcnNhdGlvbnNTdWNjZXNzZnVsbHlJbXBvcnRlZDogbnVtYmVyO1xuICAgIHRvdGFsQ29udmVyc2F0aW9uc0FjdHVhbGx5VXBkYXRlZDogbnVtYmVyO1xuICAgIHRvdGFsTm9uRW1wdHlNZXNzYWdlc0FkZGVkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBJbXBvcnRSZXBvcnQge1xuICAgIHByaXZhdGUgY3JlYXRlZDogUmVwb3J0RW50cnlbXSA9IFtdO1xuICAgIHByaXZhdGUgdXBkYXRlZDogUmVwb3J0RW50cnlbXSA9IFtdO1xuICAgIHByaXZhdGUgc2tpcHBlZDogUmVwb3J0RW50cnlbXSA9IFtdO1xuICAgIHByaXZhdGUgZmFpbGVkOiBSZXBvcnRFbnRyeVtdID0gW107XG4gICAgcHJpdmF0ZSBnbG9iYWxFcnJvcnM6IHsgbWVzc2FnZTogc3RyaW5nOyBkZXRhaWxzOiBzdHJpbmcgfVtdID0gW107XG4gICAgcHJpdmF0ZSBzdW1tYXJ5OiBzdHJpbmcgPSBcIlwiO1xuICAgIHByaXZhdGUgcHJvdmlkZXJTcGVjaWZpY0NvbHVtbkhlYWRlcjogc3RyaW5nID0gXCJBdHRhY2htZW50c1wiO1xuXG4gICAgc2V0UHJvdmlkZXJTcGVjaWZpY0NvbHVtbkhlYWRlcihoZWFkZXI6IHN0cmluZykge1xuICAgICAgICB0aGlzLnByb3ZpZGVyU3BlY2lmaWNDb2x1bW5IZWFkZXIgPSBoZWFkZXI7XG4gICAgfVxuXG4gICAgYWRkU3VtbWFyeSh6aXBGaWxlTmFtZTogc3RyaW5nLCBjb3VudGVyczogUHJvY2Vzc2luZ0NvdW50ZXJzKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBhdHRhY2htZW50IHN0YXRzXG4gICAgICAgIGNvbnN0IHRvdGFsQXR0YWNobWVudHMgPSB0aGlzLmdldFRvdGFsQXR0YWNobWVudFN0YXRzKCk7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnRTdW1tYXJ5ID0gdG90YWxBdHRhY2htZW50cy50b3RhbCA+IDAgXG4gICAgICAgICAgICA/IGBcXG4tICoqQXR0YWNobWVudHMqKjogJHt0b3RhbEF0dGFjaG1lbnRzLmZvdW5kfS8ke3RvdGFsQXR0YWNobWVudHMudG90YWx9IGV4dHJhY3RlZCAoJHt0b3RhbEF0dGFjaG1lbnRzLm1pc3Npbmd9IG1pc3NpbmcsICR7dG90YWxBdHRhY2htZW50cy5mYWlsZWR9IGZhaWxlZClgXG4gICAgICAgICAgICA6IFwiXCI7XG5cbiAgICAgICAgdGhpcy5zdW1tYXJ5ID0gYCMjIFN1bW1hcnlcbi0gKipaSVAgRmlsZSoqOiAke3ppcEZpbGVOYW1lfVxuLSAqKkNyZWF0ZWQqKjogJHt0aGlzLmNyZWF0ZWQubGVuZ3RofSBuZXcgY29udmVyc2F0aW9uc1xuLSAqKlVwZGF0ZWQqKjogJHt0aGlzLnVwZGF0ZWQubGVuZ3RofSBjb252ZXJzYXRpb25zIHdpdGggJHtjb3VudGVycy50b3RhbE5vbkVtcHR5TWVzc2FnZXNBZGRlZH0gbmV3IG1lc3NhZ2VzXG4tICoqU2tpcHBlZCoqOiAke3RoaXMuc2tpcHBlZC5sZW5ndGh9IGNvbnZlcnNhdGlvbnMgKG5vIGNoYW5nZXMpXG4tICoqRmFpbGVkKio6ICR7dGhpcy5mYWlsZWQubGVuZ3RofSBjb252ZXJzYXRpb25zXG4tICoqRXJyb3JzKio6ICR7dGhpcy5nbG9iYWxFcnJvcnMubGVuZ3RofSBnbG9iYWwgZXJyb3JzJHthdHRhY2htZW50U3VtbWFyeX1gO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VG90YWxBdHRhY2htZW50U3RhdHMoKTogQXR0YWNobWVudFN0YXRzIHtcbiAgICAgICAgY29uc3QgdG90YWwgPSB7IHRvdGFsOiAwLCBmb3VuZDogMCwgbWlzc2luZzogMCwgZmFpbGVkOiAwIH07XG4gICAgICAgIFsuLi50aGlzLmNyZWF0ZWQsIC4uLnRoaXMudXBkYXRlZF0uZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkuYXR0YWNobWVudFN0YXRzKSB7XG4gICAgICAgICAgICAgICAgdG90YWwudG90YWwgKz0gZW50cnkuYXR0YWNobWVudFN0YXRzLnRvdGFsO1xuICAgICAgICAgICAgICAgIHRvdGFsLmZvdW5kICs9IGVudHJ5LmF0dGFjaG1lbnRTdGF0cy5mb3VuZDtcbiAgICAgICAgICAgICAgICB0b3RhbC5taXNzaW5nICs9IGVudHJ5LmF0dGFjaG1lbnRTdGF0cy5taXNzaW5nO1xuICAgICAgICAgICAgICAgIHRvdGFsLmZhaWxlZCArPSBlbnRyeS5hdHRhY2htZW50U3RhdHMuZmFpbGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cblxuICAgIGFkZENyZWF0ZWQodGl0bGU6IHN0cmluZywgZmlsZVBhdGg6IHN0cmluZywgY3JlYXRlRGF0ZTogc3RyaW5nLCB1cGRhdGVEYXRlOiBzdHJpbmcsIG1lc3NhZ2VDb3VudDogbnVtYmVyLCBhdHRhY2htZW50U3RhdHM/OiBBdHRhY2htZW50U3RhdHMsIHByb3ZpZGVyU3BlY2lmaWNDb3VudD86IG51bWJlcikge1xuICAgICAgICB0aGlzLmNyZWF0ZWQucHVzaCh7IHRpdGxlLCBmaWxlUGF0aCwgY3JlYXRlRGF0ZSwgdXBkYXRlRGF0ZSwgbWVzc2FnZUNvdW50LCBhdHRhY2htZW50U3RhdHMsIHByb3ZpZGVyU3BlY2lmaWNDb3VudCB9KTtcbiAgICB9XG5cbiAgICBhZGRVcGRhdGVkKHRpdGxlOiBzdHJpbmcsIGZpbGVQYXRoOiBzdHJpbmcsIGNyZWF0ZURhdGU6IHN0cmluZywgdXBkYXRlRGF0ZTogc3RyaW5nLCBuZXdNZXNzYWdlQ291bnQ6IG51bWJlciwgYXR0YWNobWVudFN0YXRzPzogQXR0YWNobWVudFN0YXRzLCBwcm92aWRlclNwZWNpZmljQ291bnQ/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVkLnB1c2goeyB0aXRsZSwgZmlsZVBhdGgsIGNyZWF0ZURhdGUsIHVwZGF0ZURhdGUsIG5ld01lc3NhZ2VDb3VudCwgYXR0YWNobWVudFN0YXRzLCBwcm92aWRlclNwZWNpZmljQ291bnQgfSk7XG4gICAgfVxuXG4gICAgYWRkU2tpcHBlZCh0aXRsZTogc3RyaW5nLCBmaWxlUGF0aDogc3RyaW5nLCBjcmVhdGVEYXRlOiBzdHJpbmcsIHVwZGF0ZURhdGU6IHN0cmluZywgbWVzc2FnZUNvdW50OiBudW1iZXIsIHJlYXNvbjogc3RyaW5nLCBhdHRhY2htZW50U3RhdHM/OiBBdHRhY2htZW50U3RhdHMsIHByb3ZpZGVyU3BlY2lmaWNDb3VudD86IG51bWJlcikge1xuICAgICAgICB0aGlzLnNraXBwZWQucHVzaCh7IHRpdGxlLCBmaWxlUGF0aCwgY3JlYXRlRGF0ZSwgdXBkYXRlRGF0ZSwgbWVzc2FnZUNvdW50LCByZWFzb24sIGF0dGFjaG1lbnRTdGF0cywgcHJvdmlkZXJTcGVjaWZpY0NvdW50IH0pO1xuICAgIH1cblxuICAgIGFkZEZhaWxlZCh0aXRsZTogc3RyaW5nLCBmaWxlUGF0aDogc3RyaW5nLCBjcmVhdGVEYXRlOiBzdHJpbmcsIHVwZGF0ZURhdGU6IHN0cmluZywgZXJyb3JNZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5mYWlsZWQucHVzaCh7IHRpdGxlLCBmaWxlUGF0aCwgY3JlYXRlRGF0ZSwgdXBkYXRlRGF0ZSwgZXJyb3JNZXNzYWdlIH0pO1xuICAgIH1cblxuICAgIGFkZEVycm9yKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlsczogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsRXJyb3JzLnB1c2goeyBtZXNzYWdlLCBkZXRhaWxzIH0pO1xuICAgIH1cblxuICAgIGdlbmVyYXRlUmVwb3J0Q29udGVudCgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgY29udGVudCA9IFwiIyBOZXh1cyBBSSBDaGF0IEltcG9ydGVyIFJlcG9ydFxcblxcblwiO1xuXG4gICAgICAgIGlmICh0aGlzLnN1bW1hcnkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gdGhpcy5zdW1tYXJ5ICsgXCJcXG5cXG5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgdGFibGVzIGZvciBpbXBvcnRhbnQgc2VjdGlvbnMgb25seVxuICAgICAgICBpZiAodGhpcy5jcmVhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gdGhpcy5nZW5lcmF0ZUNyZWF0ZWRUYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy51cGRhdGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gdGhpcy5nZW5lcmF0ZVVwZGF0ZWRUYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IHNob3cgZmFpbHVyZXMgYW5kIGVycm9ycyBpZiB0aGV5IGV4aXN0XG4gICAgICAgIGlmICh0aGlzLmZhaWxlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IHRoaXMuZ2VuZXJhdGVGYWlsZWRUYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5nbG9iYWxFcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29udGVudCArPSB0aGlzLmdlbmVyYXRlRXJyb3JUYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNyZWF0ZWRUYWJsZSgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdGFibGUgPSBgIyMgXHUyNzI4IENyZWF0ZWQgTm90ZXNcXG5cXG5gO1xuICAgICAgICB0YWJsZSArPSBgfCB8IFRpdGxlIHwgQ3JlYXRlZCB8IE1lc3NhZ2VzIHwgJHt0aGlzLnByb3ZpZGVyU3BlY2lmaWNDb2x1bW5IZWFkZXJ9IHxcXG5gO1xuICAgICAgICB0YWJsZSArPSBcInw6LS0tOnw6LS0tfDotLS06fDotLS06fDotLS06fFxcblwiO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlZC5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVkVGl0bGUgPSBlbnRyeS50aXRsZS5yZXBsYWNlKC9cXG4vZywgXCIgXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlTGluayA9IGBbWyR7ZW50cnkuZmlsZVBhdGh9XFxcXHwke3Nhbml0aXplZFRpdGxlfV1dYDtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyU3BlY2lmaWNWYWx1ZSA9IGVudHJ5LnByb3ZpZGVyU3BlY2lmaWNDb3VudCB8fCAwO1xuXG4gICAgICAgICAgICAvLyBBZGQgZ3JlZW4gY2hlY2ttYXJrIGZvciBhcnRpZmFjdHMvYXR0YWNobWVudHMgd2hlbiA+IDBcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyU3BlY2lmaWNEaXNwbGF5ID0gcHJvdmlkZXJTcGVjaWZpY1ZhbHVlID4gMCA/IGBcdTI3MDUgJHtwcm92aWRlclNwZWNpZmljVmFsdWV9YCA6IHByb3ZpZGVyU3BlY2lmaWNWYWx1ZTtcblxuICAgICAgICAgICAgdGFibGUgKz0gYHwgXHUyNzI4IHwgJHt0aXRsZUxpbmt9IHwgJHtlbnRyeS5jcmVhdGVEYXRlfSB8ICR7ZW50cnkubWVzc2FnZUNvdW50IHx8IDB9IHwgJHtwcm92aWRlclNwZWNpZmljRGlzcGxheX0gfFxcbmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0YWJsZSArIFwiXFxuXFxuXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVVwZGF0ZWRUYWJsZSgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdGFibGUgPSBgIyMgXHVEODNEXHVERDA0IFVwZGF0ZWQgTm90ZXNcXG5cXG5gO1xuICAgICAgICB0YWJsZSArPSBgfCB8IFRpdGxlIHwgVXBkYXRlZCB8IE5ldyBNZXNzYWdlcyB8IE5ldyAke3RoaXMucHJvdmlkZXJTcGVjaWZpY0NvbHVtbkhlYWRlcn0gfFxcbmA7XG4gICAgICAgIHRhYmxlICs9IFwifDotLS06fDotLS18Oi0tLTp8Oi0tLTp8Oi0tLTp8XFxuXCI7XG5cbiAgICAgICAgdGhpcy51cGRhdGVkLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRUaXRsZSA9IGVudHJ5LnRpdGxlLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgdGl0bGVMaW5rID0gYFtbJHtlbnRyeS5maWxlUGF0aH1cXFxcfCR7c2FuaXRpemVkVGl0bGV9XV1gO1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJTcGVjaWZpY1ZhbHVlID0gZW50cnkucHJvdmlkZXJTcGVjaWZpY0NvdW50IHx8IDA7XG5cbiAgICAgICAgICAgIC8vIEFkZCBncmVlbiBjaGVja21hcmsgZm9yIGFydGlmYWN0cy9hdHRhY2htZW50cyB3aGVuID4gMFxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJTcGVjaWZpY0Rpc3BsYXkgPSBwcm92aWRlclNwZWNpZmljVmFsdWUgPiAwID8gYFx1MjcwNSAke3Byb3ZpZGVyU3BlY2lmaWNWYWx1ZX1gIDogcHJvdmlkZXJTcGVjaWZpY1ZhbHVlO1xuXG4gICAgICAgICAgICB0YWJsZSArPSBgfCBcdUQ4M0RcdUREMDQgfCAke3RpdGxlTGlua30gfCAke2VudHJ5LnVwZGF0ZURhdGV9IHwgJHtlbnRyeS5uZXdNZXNzYWdlQ291bnQgfHwgMH0gfCAke3Byb3ZpZGVyU3BlY2lmaWNEaXNwbGF5fSB8XFxuYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRhYmxlICsgXCJcXG5cXG5cIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlRmFpbGVkVGFibGUoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHRhYmxlID0gYCMjIFx1RDgzRFx1REVBQiBGYWlsZWQgSW1wb3J0c1xcblxcbmA7XG4gICAgICAgIHRhYmxlICs9IFwifCB8IFRpdGxlIHwgRGF0ZSB8IEVycm9yIHxcXG5cIjtcbiAgICAgICAgdGFibGUgKz0gXCJ8Oi0tLTp8Oi0tLXw6LS0tOnw6LS0tfFxcblwiO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5mYWlsZWQuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZFRpdGxlID0gZW50cnkudGl0bGUucmVwbGFjZSgvXFxuL2csIFwiIFwiKS50cmltKCk7XG4gICAgICAgICAgICB0YWJsZSArPSBgfCBcdUQ4M0RcdURFQUIgfCAke3Nhbml0aXplZFRpdGxlfSB8ICR7ZW50cnkuY3JlYXRlRGF0ZX0gfCAke2VudHJ5LmVycm9yTWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIn0gfFxcbmA7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRhYmxlICsgXCJcXG5cXG5cIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlRXJyb3JUYWJsZSgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdGFibGUgPSBgIyMgXHUyNkEwXHVGRTBGIEdsb2JhbCBFcnJvcnNcXG5cXG5gO1xuICAgICAgICB0YWJsZSArPSBcInwgfCBFcnJvciB8IERldGFpbHMgfFxcblwiO1xuICAgICAgICB0YWJsZSArPSBcInw6LS0tOnw6LS0tfDotLS18XFxuXCI7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmdsb2JhbEVycm9ycy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgdGFibGUgKz0gYHwgXHUyNkEwXHVGRTBGIHwgJHtlbnRyeS5tZXNzYWdlfSB8ICR7ZW50cnkuZGV0YWlsc30gfFxcbmA7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRhYmxlICsgXCJcXG5cXG5cIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdEF0dGFjaG1lbnRTdGF0dXMoc3RhdHM/OiBBdHRhY2htZW50U3RhdHMpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXN0YXRzIHx8IHN0YXRzLnRvdGFsID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIwXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHRvdGFsLCBmb3VuZCwgbWlzc2luZywgZmFpbGVkIH0gPSBzdGF0cztcbiAgICAgICAgXG4gICAgICAgIGlmIChmb3VuZCA9PT0gdG90YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBgXHUyNzA1ICR7Zm91bmR9YDtcbiAgICAgICAgfSBlbHNlIGlmIChmb3VuZCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGBcdTI3NEMgMC8ke3RvdGFsfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYFx1MjZBMFx1RkUwRiAke2ZvdW5kfS8ke3RvdGFsfWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNFcnJvcnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhaWxlZC5sZW5ndGggPiAwIHx8IHRoaXMuZ2xvYmFsRXJyb3JzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgZ2V0Q3JlYXRlZENvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZWQubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldFVwZGF0ZWRDb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVkLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXRTa2lwcGVkQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2tpcHBlZC5sZW5ndGg7XG4gICAgfVxufSIsICIvLyBzcmMvc2VydmljZXMvY29udmVyc2F0aW9uLXByb2Nlc3Nvci50c1xuaW1wb3J0IHsgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9wbHVnaW5cIjtcbmltcG9ydCB7IFN0YW5kYXJkQ29udmVyc2F0aW9uLCBTdGFuZGFyZE1lc3NhZ2UgfSBmcm9tIFwiLi4vdHlwZXMvc3RhbmRhcmRcIjtcbmltcG9ydCB7IEltcG9ydFJlcG9ydCB9IGZyb20gXCIuLi9tb2RlbHMvaW1wb3J0LXJlcG9ydFwiO1xuaW1wb3J0IHsgTWVzc2FnZUZvcm1hdHRlciB9IGZyb20gXCIuLi9mb3JtYXR0ZXJzL21lc3NhZ2UtZm9ybWF0dGVyXCI7XG5pbXBvcnQgeyBOb3RlRm9ybWF0dGVyIH0gZnJvbSBcIi4uL2Zvcm1hdHRlcnMvbm90ZS1mb3JtYXR0ZXJcIjtcbmltcG9ydCB7IEZpbGVTZXJ2aWNlIH0gZnJvbSBcIi4vZmlsZS1zZXJ2aWNlXCI7XG5pbXBvcnQgeyBQcm92aWRlclJlZ2lzdHJ5IH0gZnJvbSBcIi4uL3Byb3ZpZGVycy9wcm92aWRlci1hZGFwdGVyXCI7XG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQge1xuICAgIGZvcm1hdFRpbWVzdGFtcCxcbiAgICBpc1ZhbGlkTWVzc2FnZSxcbiAgICBnZW5lcmF0ZUZpbGVOYW1lLFxuICAgIGVuc3VyZUZvbGRlckV4aXN0cyxcbiAgICBkb2VzRmlsZVBhdGhFeGlzdCxcbiAgICBnZW5lcmF0ZVVuaXF1ZUZpbGVOYW1lLFxuICAgIGdlbmVyYXRlQ29udmVyc2F0aW9uRmlsZU5hbWVcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDb252ZXJzYXRpb25Qcm9jZXNzb3Ige1xuICAgIHByaXZhdGUgbWVzc2FnZUZvcm1hdHRlcjogTWVzc2FnZUZvcm1hdHRlcjtcbiAgICBwcml2YXRlIGZpbGVTZXJ2aWNlOiBGaWxlU2VydmljZTtcbiAgICBwcml2YXRlIG5vdGVGb3JtYXR0ZXI6IE5vdGVGb3JtYXR0ZXI7XG4gICAgcHJpdmF0ZSBwcm92aWRlclJlZ2lzdHJ5OiBQcm92aWRlclJlZ2lzdHJ5O1xuICAgIHByaXZhdGUgY291bnRlcnMgPSB7XG4gICAgICAgIHRvdGFsRXhpc3RpbmdDb252ZXJzYXRpb25zOiAwLFxuICAgICAgICB0b3RhbE5ld0NvbnZlcnNhdGlvbnNUb0ltcG9ydDogMCxcbiAgICAgICAgdG90YWxFeGlzdGluZ0NvbnZlcnNhdGlvbnNUb1VwZGF0ZTogMCxcbiAgICAgICAgdG90YWxOZXdDb252ZXJzYXRpb25zU3VjY2Vzc2Z1bGx5SW1wb3J0ZWQ6IDAsXG4gICAgICAgIHRvdGFsQ29udmVyc2F0aW9uc0FjdHVhbGx5VXBkYXRlZDogMCxcbiAgICAgICAgdG90YWxDb252ZXJzYXRpb25zUHJvY2Vzc2VkOiAwLFxuICAgICAgICB0b3RhbE5vbkVtcHR5TWVzc2FnZXNUb0ltcG9ydDogMCxcbiAgICAgICAgdG90YWxOb25FbXB0eU1lc3NhZ2VzVG9BZGQ6IDAsXG4gICAgICAgIHRvdGFsTm9uRW1wdHlNZXNzYWdlc0FkZGVkOiAwLFxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiwgcHJvdmlkZXJSZWdpc3RyeTogUHJvdmlkZXJSZWdpc3RyeSkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlRm9ybWF0dGVyID0gbmV3IE1lc3NhZ2VGb3JtYXR0ZXIocGx1Z2luLmxvZ2dlcik7XG4gICAgICAgICAgICB0aGlzLmZpbGVTZXJ2aWNlID0gbmV3IEZpbGVTZXJ2aWNlKHBsdWdpbik7XG4gICAgICAgICAgICB0aGlzLm5vdGVGb3JtYXR0ZXIgPSBuZXcgTm90ZUZvcm1hdHRlcihwbHVnaW4ubG9nZ2VyLCBwbHVnaW4ubWFuaWZlc3QuaWQsIHBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uKTtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJSZWdpc3RyeSA9IHByb3ZpZGVyUmVnaXN0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyByYXcgY29udmVyc2F0aW9ucyAocHJvdmlkZXIgYWdub3N0aWMgZW50cnkgcG9pbnQpXG4gICAgICovXG4gICAgYXN5bmMgcHJvY2Vzc1Jhd0NvbnZlcnNhdGlvbnMocmF3Q29udmVyc2F0aW9uczogYW55W10sIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LCB6aXA/OiBKU1ppcCwgaXNSZXByb2Nlc3M6IGJvb2xlYW4gPSBmYWxzZSwgZm9yY2VkUHJvdmlkZXI/OiBzdHJpbmcpOiBQcm9taXNlPEltcG9ydFJlcG9ydD4ge1xuICAgICAgICAvLyBVc2UgZm9yY2VkIHByb3ZpZGVyIG9yIGRldGVjdCBmcm9tIHJhdyBkYXRhIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCBwcm92aWRlciA9IGZvcmNlZFByb3ZpZGVyIHx8IHRoaXMucHJvdmlkZXJSZWdpc3RyeS5kZXRlY3RQcm92aWRlcihyYXdDb252ZXJzYXRpb25zKTtcblxuICAgICAgICBpZiAocHJvdmlkZXIgPT09ICd1bmtub3duJykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBmb3JjZWRQcm92aWRlclxuICAgICAgICAgICAgICAgID8gYEZvcmNlZCBwcm92aWRlciAnJHtmb3JjZWRQcm92aWRlcn0nIGlzIG5vdCBhdmFpbGFibGUgb3IgcmVnaXN0ZXJlZGBcbiAgICAgICAgICAgICAgICA6IGBDb3VsZCBub3QgZGV0ZWN0IGNvbnZlcnNhdGlvbiBwcm92aWRlciBmcm9tIGRhdGEgc3RydWN0dXJlYDtcbiAgICAgICAgICAgIGltcG9ydFJlcG9ydC5hZGRFcnJvcihcIlVua25vd24gcHJvdmlkZXJcIiwgZXJyb3JNc2cpO1xuICAgICAgICAgICAgcmV0dXJuIGltcG9ydFJlcG9ydDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NDb252ZXJzYXRpb25zV2l0aFByb3ZpZGVyKHByb3ZpZGVyLCByYXdDb252ZXJzYXRpb25zLCBpbXBvcnRSZXBvcnQsIHppcCwgaXNSZXByb2Nlc3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwcm92aWRlciBuYW1lIGZvciBjdXJyZW50IHByb2Nlc3Npbmcgc2Vzc2lvblxuICAgICAqL1xuICAgIGdldEN1cnJlbnRQcm92aWRlcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UHJvdmlkZXIgfHwgJ3Vua25vd24nO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3VycmVudFByb3ZpZGVyOiBzdHJpbmcgPSAndW5rbm93bic7XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGNvbnZlcnNhdGlvbnMgdXNpbmcgdGhlIGRldGVjdGVkIHByb3ZpZGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzQ29udmVyc2F0aW9uc1dpdGhQcm92aWRlcihcbiAgICAgICAgcHJvdmlkZXI6IHN0cmluZyxcbiAgICAgICAgcmF3Q29udmVyc2F0aW9uczogYW55W10sXG4gICAgICAgIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LFxuICAgICAgICB6aXA/OiBKU1ppcCxcbiAgICAgICAgaXNSZXByb2Nlc3M6IGJvb2xlYW4gPSBmYWxzZVxuICAgICk6IFByb21pc2U8SW1wb3J0UmVwb3J0PiB7XG4gICAgICAgIHRoaXMuY3VycmVudFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLnByb3ZpZGVyUmVnaXN0cnkuZ2V0QWRhcHRlcihwcm92aWRlcik7XG5cbiAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkRXJyb3IoXCJQcm92aWRlciBhZGFwdGVyIG5vdCBmb3VuZFwiLCBgTm8gYWRhcHRlciBmb3VuZCBmb3IgcHJvdmlkZXI6ICR7cHJvdmlkZXJ9YCk7XG4gICAgICAgICAgICByZXR1cm4gaW1wb3J0UmVwb3J0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHRoaXMucGx1Z2luLmdldFN0b3JhZ2VTZXJ2aWNlKCk7XG5cbiAgICAgICAgLy8gU2NhbiBleGlzdGluZyBjb252ZXJzYXRpb25zIGZyb20gdmF1bHQgaW5zdGVhZCBvZiBsb2FkaW5nIGNhdGFsb2dcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb252ZXJzYXRpb25zTWFwID0gYXdhaXQgc3RvcmFnZS5zY2FuRXhpc3RpbmdDb252ZXJzYXRpb25zKCk7XG4gICAgICAgIHRoaXMuY291bnRlcnMudG90YWxFeGlzdGluZ0NvbnZlcnNhdGlvbnMgPSBleGlzdGluZ0NvbnZlcnNhdGlvbnNNYXAuc2l6ZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNoYXQgb2YgcmF3Q29udmVyc2F0aW9ucykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzU2luZ2xlQ2hhdChhZGFwdGVyLCBjaGF0LCBleGlzdGluZ0NvbnZlcnNhdGlvbnNNYXAsIGltcG9ydFJlcG9ydCwgemlwLCBpc1JlcHJvY2Vzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW1wb3J0UmVwb3J0O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1NpbmdsZUNoYXQoXG4gICAgICAgIGFkYXB0ZXI6IGFueSxcbiAgICAgICAgY2hhdDogYW55LFxuICAgICAgICBleGlzdGluZ0NvbnZlcnNhdGlvbnM6IE1hcDxzdHJpbmcsIENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeT4sXG4gICAgICAgIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LFxuICAgICAgICB6aXA/OiBKU1ppcCxcbiAgICAgICAgaXNSZXByb2Nlc3M6IGJvb2xlYW4gPSBmYWxzZVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2hhdElkID0gYWRhcHRlci5nZXRJZChjaGF0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRW50cnkgPSBleGlzdGluZ0NvbnZlcnNhdGlvbnMuZ2V0KGNoYXRJZCk7XG5cbiAgICAgICAgICAgIGlmIChleGlzdGluZ0VudHJ5KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVFeGlzdGluZ0NoYXQoYWRhcHRlciwgY2hhdCwgZXhpc3RpbmdFbnRyeSwgaW1wb3J0UmVwb3J0LCB6aXAsIGlzUmVwcm9jZXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBhd2FpdCB0aGlzLmdlbmVyYXRlRmlsZVBhdGhGb3JDaGF0KGFkYXB0ZXIsIGNoYXQpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlTmV3Q2hhdChhZGFwdGVyLCBjaGF0LCBmaWxlUGF0aCwgaW1wb3J0UmVwb3J0LCB6aXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbENvbnZlcnNhdGlvbnNQcm9jZXNzZWQrKztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3Igb2NjdXJyZWRcIjtcbiAgICAgICAgICAgIGNvbnN0IGNoYXRUaXRsZSA9IGFkYXB0ZXIuZ2V0VGl0bGUoY2hhdCkgfHwgXCJVbnRpdGxlZFwiO1xuICAgICAgICAgICAgaW1wb3J0UmVwb3J0LmFkZEVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGNoYXQ6ICR7Y2hhdFRpdGxlfWAsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZUV4aXN0aW5nQ2hhdChcbiAgICAgICAgYWRhcHRlcjogYW55LFxuICAgICAgICBjaGF0OiBhbnksXG4gICAgICAgIGV4aXN0aW5nUmVjb3JkOiBDb252ZXJzYXRpb25DYXRhbG9nRW50cnksXG4gICAgICAgIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LFxuICAgICAgICB6aXA/OiBKU1ppcCxcbiAgICAgICAgaXNSZXByb2Nlc3M6IGJvb2xlYW4gPSBmYWxzZVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBjaGF0VGl0bGUgPSBhZGFwdGVyLmdldFRpdGxlKGNoYXQpO1xuICAgICAgICBjb25zdCBjcmVhdGVUaW1lID0gYWRhcHRlci5nZXRDcmVhdGVUaW1lKGNoYXQpO1xuICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gYWRhcHRlci5nZXRVcGRhdGVUaW1lKGNoYXQpO1xuXG4gICAgICAgIC8vIENvdW50IG1lc3NhZ2VzIHVzaW5nIHByb3ZpZGVyLXNwZWNpZmljIGxvZ2ljXG4gICAgICAgIGNvbnN0IHRvdGFsTWVzc2FnZUNvdW50ID0gYXdhaXQgdGhpcy5jb3VudE1lc3NhZ2VzKGFkYXB0ZXIsIGNoYXQpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaWxlIGFjdHVhbGx5IGV4aXN0c1xuICAgICAgICBjb25zdCBmaWxlRXhpc3RzID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKGV4aXN0aW5nUmVjb3JkLnBhdGgpO1xuXG4gICAgICAgIGlmICghZmlsZUV4aXN0cykge1xuICAgICAgICAgICAgLy8gRmlsZSB3YXMgZGVsZXRlZCwgcmVjcmVhdGUgaXRcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlTmV3Q2hhdChhZGFwdGVyLCBjaGF0LCBleGlzdGluZ1JlY29yZC5wYXRoLCBpbXBvcnRSZXBvcnQsIHppcCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSRVBST0NFU1MgTE9HSUM6IEZvcmNlIHVwZGF0ZSBpZiB0aGlzIGlzIGEgcmVwcm9jZXNzIG9wZXJhdGlvblxuICAgICAgICBpZiAoaXNSZXByb2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5pbmZvKGBSZXByb2Nlc3NpbmcgY29udmVyc2F0aW9uOiAke2NoYXRUaXRsZX1gKTtcbiAgICAgICAgICAgIHRoaXMuY291bnRlcnMudG90YWxFeGlzdGluZ0NvbnZlcnNhdGlvbnNUb1VwZGF0ZSsrO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVFeGlzdGluZ05vdGUoYWRhcHRlciwgY2hhdCwgZXhpc3RpbmdSZWNvcmQucGF0aCwgdG90YWxNZXNzYWdlQ291bnQsIGltcG9ydFJlcG9ydCwgemlwLCB0cnVlKTsgLy8gRm9yY2UgdXBkYXRlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3JtYWwgbG9naWM6IENoZWNrIHRpbWVzdGFtcHNcbiAgICAgICAgaWYgKGV4aXN0aW5nUmVjb3JkLnVwZGF0ZVRpbWUgPj0gdXBkYXRlVGltZSkge1xuICAgICAgICAgICAgaW1wb3J0UmVwb3J0LmFkZFNraXBwZWQoXG4gICAgICAgICAgICAgICAgY2hhdFRpdGxlLFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nUmVjb3JkLnBhdGgsXG4gICAgICAgICAgICAgICAgZm9ybWF0VGltZXN0YW1wKGNyZWF0ZVRpbWUsIFwiZGF0ZVwiKSxcbiAgICAgICAgICAgICAgICBmb3JtYXRUaW1lc3RhbXAodXBkYXRlVGltZSwgXCJkYXRlXCIpLFxuICAgICAgICAgICAgICAgIHRvdGFsTWVzc2FnZUNvdW50LFxuICAgICAgICAgICAgICAgIFwiTm8gVXBkYXRlc1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbEV4aXN0aW5nQ29udmVyc2F0aW9uc1RvVXBkYXRlKys7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUV4aXN0aW5nTm90ZShhZGFwdGVyLCBjaGF0LCBleGlzdGluZ1JlY29yZC5wYXRoLCB0b3RhbE1lc3NhZ2VDb3VudCwgaW1wb3J0UmVwb3J0LCB6aXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBoYW5kbGVOZXdDaGF0KFxuICAgICAgICBhZGFwdGVyOiBhbnksXG4gICAgICAgIGNoYXQ6IGFueSxcbiAgICAgICAgZmlsZVBhdGg6IHN0cmluZyxcbiAgICAgICAgaW1wb3J0UmVwb3J0OiBJbXBvcnRSZXBvcnQsXG4gICAgICAgIHppcD86IEpTWmlwXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuY291bnRlcnMudG90YWxOZXdDb252ZXJzYXRpb25zVG9JbXBvcnQrKztcbiAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVOZXdOb3RlKGFkYXB0ZXIsIGNoYXQsIGZpbGVQYXRoLCBpbXBvcnRSZXBvcnQsIHppcCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ291bnQgbWVzc2FnZXMgaW4gYSBjaGF0IHVzaW5nIHByb3ZpZGVyLXNwZWNpZmljIGxvZ2ljXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBjb3VudE1lc3NhZ2VzKGFkYXB0ZXI6IGFueSwgY2hhdDogYW55KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICAgICAgLy8gVHJ5IHRvIGdldCBhIHN0YW5kYXJkIGNvbnZlcnNhdGlvbiBhbmQgY291bnQgaXRzIG1lc3NhZ2VzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdGFuZGFyZENvbnZlcnNhdGlvbiA9IGF3YWl0IGFkYXB0ZXIuY29udmVydENoYXQoY2hhdCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhbmRhcmRDb252ZXJzYXRpb24ubWVzc2FnZXM/Lmxlbmd0aCB8fCAwO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2s6IHRyeSBjb21tb24gcGF0dGVybnNcbiAgICAgICAgICAgIGlmIChjaGF0Lm1hcHBpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGF0R1BULXN0eWxlIG1hcHBpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhjaGF0Lm1hcHBpbmcpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG1zZzogYW55KSA9PiBpc1ZhbGlkTWVzc2FnZShtc2cubWVzc2FnZSkpLmxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhdC5tZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIC8vIERpcmVjdCBtZXNzYWdlcyBhcnJheVxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNoYXQubWVzc2FnZXMpID8gY2hhdC5tZXNzYWdlcy5sZW5ndGggOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcHJvdmlkZXItc3BlY2lmaWMgY291bnQgKGFydGlmYWN0cyBmb3IgQ2xhdWRlLCBhdHRhY2htZW50cyBmb3IgQ2hhdEdQVClcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFByb3ZpZGVyU3BlY2lmaWNDb3VudChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSk6IG51bWJlciB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJhdGVneSA9IGFkYXB0ZXIuZ2V0UmVwb3J0TmFtaW5nU3RyYXRlZ3koKTtcbiAgICAgICAgICAgIGlmIChzdHJhdGVneSAmJiBzdHJhdGVneS5nZXRQcm92aWRlclNwZWNpZmljQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sdW1uSW5mbyA9IHN0cmF0ZWd5LmdldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW4oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uSW5mby5nZXRWYWx1ZShhZGFwdGVyLCBjaGF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIDAgaWYgcHJvdmlkZXIgZG9lc24ndCBzdXBwb3J0IHNwZWNpZmljIGNvdW50aW5nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB1cGRhdGVFeGlzdGluZ05vdGUoXG4gICAgICAgIGFkYXB0ZXI6IGFueSxcbiAgICAgICAgY2hhdDogYW55LFxuICAgICAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgICAgICB0b3RhbE1lc3NhZ2VDb3VudDogbnVtYmVyLFxuICAgICAgICBpbXBvcnRSZXBvcnQ6IEltcG9ydFJlcG9ydCxcbiAgICAgICAgemlwPzogSlNaaXAsXG4gICAgICAgIGZvcmNlVXBkYXRlOiBib29sZWFuID0gZmFsc2VcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjaGF0VXBkYXRlVGltZSA9IGFkYXB0ZXIuZ2V0VXBkYXRlVGltZShjaGF0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGF0Q3JlYXRlVGltZSA9IGFkYXB0ZXIuZ2V0Q3JlYXRlVGltZShjaGF0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGF0VGl0bGUgPSBhZGFwdGVyLmdldFRpdGxlKGNoYXQpO1xuXG4gICAgICAgICAgICAgICAgY29udGVudCA9IHRoaXMudXBkYXRlTWV0YWRhdGEoY29udGVudCwgY2hhdFVwZGF0ZVRpbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTWVzc2FnZUlkcyA9IHRoaXMuZXh0cmFjdE1lc3NhZ2VVSURzRnJvbU5vdGUoY29udGVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBhZGFwdGVyLmdldE5ld01lc3NhZ2VzKGNoYXQsIGV4aXN0aW5nTWVzc2FnZUlkcyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgYXR0YWNobWVudFN0YXRzOiB7IHRvdGFsOiBudW1iZXI7IGZvdW5kOiBudW1iZXI7IG1pc3Npbmc6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIFJFUFJPQ0VTUyBMT0dJQzogSWYgZm9yY2VkIHVwZGF0ZSwgcmVjcmVhdGUgdGhlIGVudGlyZSBub3RlIHdpdGggYXR0YWNobWVudCBzdXBwb3J0XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZW50aXJlIGNoYXQgdG8gc3RhbmRhcmQgZm9ybWF0IHdpdGggYXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YW5kYXJkQ29udmVyc2F0aW9uID0gYXdhaXQgYWRhcHRlci5jb252ZXJ0Q2hhdChjaGF0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGF0dGFjaG1lbnRzIGlmIFpJUCBwcm92aWRlZCBhbmQgc2V0dGluZ3MgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoemlwICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzICYmIGFkYXB0ZXIucHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRDb252ZXJzYXRpb24ubWVzc2FnZXMgPSBhd2FpdCBhZGFwdGVyLnByb2Nlc3NNZXNzYWdlQXR0YWNobWVudHMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRDb252ZXJzYXRpb24ubWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlci5nZXRJZChjaGF0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhdHRhY2htZW50IHN0YXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdHMgPSB0aGlzLmNhbGN1bGF0ZUF0dGFjaG1lbnRTdGF0cyhzdGFuZGFyZENvbnZlcnNhdGlvbi5tZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZWdlbmVyYXRlIGVudGlyZSBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSB0aGlzLm5vdGVGb3JtYXR0ZXIuZ2VuZXJhdGVNYXJrZG93bkNvbnRlbnQoc3RhbmRhcmRDb252ZXJzYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmZpbGVTZXJ2aWNlLndyaXRlVG9GaWxlKGZpbGVQYXRoLCBuZXdDb250ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkVXBkYXRlZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNoYXRDcmVhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNoYXRDcmVhdGVUaW1lLCBcInRpbWVcIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2Zvcm1hdFRpbWVzdGFtcChjaGF0VXBkYXRlVGltZSwgXCJkYXRlXCIpfSAke2Zvcm1hdFRpbWVzdGFtcChjaGF0VXBkYXRlVGltZSwgXCJ0aW1lXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbE1lc3NhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0c1xuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcnMudG90YWxDb252ZXJzYXRpb25zQWN0dWFsbHlVcGRhdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBOb3JtYWwgdXBkYXRlIGxvZ2ljIChleGlzdGluZyBtZXNzYWdlcylcbiAgICAgICAgICAgICAgICBpZiAobmV3TWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IG1lc3NhZ2VzIHRvIHN0YW5kYXJkIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhbmRhcmRNZXNzYWdlcyA9IGF3YWl0IGFkYXB0ZXIuY29udmVydE1lc3NhZ2VzKG5ld01lc3NhZ2VzLCBhZGFwdGVyLmdldElkKGNoYXQpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGF0dGFjaG1lbnRzIGlmIFpJUCBwcm92aWRlZCBhbmQgc2V0dGluZ3MgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoemlwICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzICYmIGFkYXB0ZXIucHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmRNZXNzYWdlcyA9IGF3YWl0IGFkYXB0ZXIucHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkYXB0ZXIuZ2V0SWQoY2hhdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgemlwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIGNhbGN1bGF0ZSBhdHRhY2htZW50IHN0YXRzIChldmVuIGlmIG5vdCBwcm9jZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRTdGF0cyA9IHRoaXMuY2FsY3VsYXRlQXR0YWNobWVudFN0YXRzKHN0YW5kYXJkTWVzc2FnZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gXCJcXG5cXG5cIiArIHRoaXMubWVzc2FnZUZvcm1hdHRlci5mb3JtYXRNZXNzYWdlcyhzdGFuZGFyZE1lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbENvbnZlcnNhdGlvbnNBY3R1YWxseVVwZGF0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVycy50b3RhbE5vbkVtcHR5TWVzc2FnZXNBZGRlZCArPSBuZXdNZXNzYWdlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgIT09IG9yaWdpbmFsQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmZpbGVTZXJ2aWNlLndyaXRlVG9GaWxlKGZpbGVQYXRoLCBjb250ZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkVXBkYXRlZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNoYXRDcmVhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNoYXRDcmVhdGVUaW1lLCBcInRpbWVcIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2Zvcm1hdFRpbWVzdGFtcChjaGF0VXBkYXRlVGltZSwgXCJkYXRlXCIpfSAke2Zvcm1hdFRpbWVzdGFtcChjaGF0VXBkYXRlVGltZSwgXCJ0aW1lXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdNZXNzYWdlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdHNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRSZXBvcnQuYWRkU2tpcHBlZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7Zm9ybWF0VGltZXN0YW1wKGNoYXRDcmVhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNoYXRDcmVhdGVUaW1lLCBcInRpbWVcIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2Zvcm1hdFRpbWVzdGFtcChjaGF0VXBkYXRlVGltZSwgXCJkYXRlXCIpfSAke2Zvcm1hdFRpbWVzdGFtcChjaGF0VXBkYXRlVGltZSwgXCJ0aW1lXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbE1lc3NhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTm8gY2hhbmdlcyBuZWVkZWRcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgbm90ZVwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlTmV3Tm90ZShcbiAgICAgICAgYWRhcHRlcjogYW55LFxuICAgICAgICBjaGF0OiBhbnksXG4gICAgICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgICAgIGltcG9ydFJlcG9ydDogSW1wb3J0UmVwb3J0LFxuICAgICAgICB6aXA/OiBKU1ppcFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBmb2xkZXIgZXhpc3RzIChpbiBjYXNlIGl0IHdhcyBkZWxldGVkKVxuICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IGZpbGVQYXRoLnN1YnN0cmluZygwLCBmaWxlUGF0aC5sYXN0SW5kZXhPZignLycpKTtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhmb2xkZXJQYXRoLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICAgICAgaWYgKCFmb2xkZXJSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihmb2xkZXJSZXN1bHQuZXJyb3IgfHwgXCJGYWlsZWQgdG8gZW5zdXJlIGZvbGRlciBleGlzdHMuXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRvIHN0YW5kYXJkIGZvcm1hdFxuICAgICAgICAgICAgbGV0IHN0YW5kYXJkQ29udmVyc2F0aW9uID0gYXdhaXQgYWRhcHRlci5jb252ZXJ0Q2hhdChjaGF0KTtcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBhdHRhY2htZW50cyBpZiBaSVAgcHJvdmlkZWQgYW5kIHNldHRpbmdzIGVuYWJsZWRcbiAgICAgICAgICAgIGxldCBhdHRhY2htZW50U3RhdHMgPSB7IHRvdGFsOiAwLCBmb3VuZDogMCwgbWlzc2luZzogMCwgZmFpbGVkOiAwIH07XG4gICAgICAgICAgICBpZiAoemlwICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzICYmIGFkYXB0ZXIucHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgIHN0YW5kYXJkQ29udmVyc2F0aW9uLm1lc3NhZ2VzID0gYXdhaXQgYWRhcHRlci5wcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKFxuICAgICAgICAgICAgICAgICAgICBzdGFuZGFyZENvbnZlcnNhdGlvbi5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgYWRhcHRlci5nZXRJZChjaGF0KSxcbiAgICAgICAgICAgICAgICAgICAgemlwXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhdHRhY2htZW50IHN0YXRzXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudFN0YXRzID0gdGhpcy5jYWxjdWxhdGVBdHRhY2htZW50U3RhdHMoc3RhbmRhcmRDb252ZXJzYXRpb24ubWVzc2FnZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5ub3RlRm9ybWF0dGVyLmdlbmVyYXRlTWFya2Rvd25Db250ZW50KHN0YW5kYXJkQ29udmVyc2F0aW9uKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5maWxlU2VydmljZS53cml0ZVRvRmlsZShmaWxlUGF0aCwgY29udGVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VDb3VudCA9IGF3YWl0IHRoaXMuY291bnRNZXNzYWdlcyhhZGFwdGVyLCBjaGF0KTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVRpbWUgPSBhZGFwdGVyLmdldENyZWF0ZVRpbWUoY2hhdCk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gYWRhcHRlci5nZXRVcGRhdGVUaW1lKGNoYXQpO1xuICAgICAgICAgICAgY29uc3QgY2hhdFRpdGxlID0gYWRhcHRlci5nZXRUaXRsZShjaGF0KTtcblxuICAgICAgICAgICAgLy8gR2V0IHByb3ZpZGVyLXNwZWNpZmljIGNvdW50IChhcnRpZmFjdHMgZm9yIENsYXVkZSwgYXR0YWNobWVudHMgZm9yIENoYXRHUFQpXG4gICAgICAgICAgICBjb25zdCBwcm92aWRlclNwZWNpZmljQ291bnQgPSB0aGlzLmdldFByb3ZpZGVyU3BlY2lmaWNDb3VudChhZGFwdGVyLCBjaGF0KTtcblxuICAgICAgICAgICAgaW1wb3J0UmVwb3J0LmFkZENyZWF0ZWQoXG4gICAgICAgICAgICAgICAgY2hhdFRpdGxlLFxuICAgICAgICAgICAgICAgIGZpbGVQYXRoLFxuICAgICAgICAgICAgICAgIGAke2Zvcm1hdFRpbWVzdGFtcChjcmVhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKGNyZWF0ZVRpbWUsIFwidGltZVwiKX1gLFxuICAgICAgICAgICAgICAgIGAke2Zvcm1hdFRpbWVzdGFtcCh1cGRhdGVUaW1lLCBcImRhdGVcIil9ICR7Zm9ybWF0VGltZXN0YW1wKHVwZGF0ZVRpbWUsIFwidGltZVwiKX1gLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50U3RhdHMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJTcGVjaWZpY0NvdW50XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsTmV3Q29udmVyc2F0aW9uc1N1Y2Nlc3NmdWxseUltcG9ydGVkKys7XG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnRvdGFsTm9uRW1wdHlNZXNzYWdlc1RvSW1wb3J0ICs9IG1lc3NhZ2VDb3VudDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXcgbm90ZVwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVRpbWUgPSBhZGFwdGVyLmdldENyZWF0ZVRpbWUoY2hhdCk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVUaW1lID0gYWRhcHRlci5nZXRVcGRhdGVUaW1lKGNoYXQpO1xuICAgICAgICAgICAgY29uc3QgY2hhdFRpdGxlID0gYWRhcHRlci5nZXRUaXRsZShjaGF0KTtcblxuICAgICAgICAgICAgaW1wb3J0UmVwb3J0LmFkZEZhaWxlZChcbiAgICAgICAgICAgICAgICBjaGF0VGl0bGUsXG4gICAgICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgZm9ybWF0VGltZXN0YW1wKGNyZWF0ZVRpbWUsIFwiZGF0ZVwiKSArIFwiIFwiICsgZm9ybWF0VGltZXN0YW1wKGNyZWF0ZVRpbWUsIFwidGltZVwiKSxcbiAgICAgICAgICAgICAgICBmb3JtYXRUaW1lc3RhbXAodXBkYXRlVGltZSwgXCJkYXRlXCIpICsgXCIgXCIgKyBmb3JtYXRUaW1lc3RhbXAodXBkYXRlVGltZSwgXCJ0aW1lXCIpLFxuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBwcml2YXRlIHVwZGF0ZU1ldGFkYXRhKGNvbnRlbnQ6IHN0cmluZywgdXBkYXRlVGltZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdXBkYXRlVGltZVN0ciA9IGAke2Zvcm1hdFRpbWVzdGFtcCh1cGRhdGVUaW1lLCBcImRhdGVcIil9IGF0ICR7Zm9ybWF0VGltZXN0YW1wKHVwZGF0ZVRpbWUsIFwidGltZVwiKX1gO1xuICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9edXBkYXRlX3RpbWU6IC4qJC9tLCBgdXBkYXRlX3RpbWU6ICR7dXBkYXRlVGltZVN0cn1gKTtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXkxhc3QgVXBkYXRlZDogLiokL20sIGBMYXN0IFVwZGF0ZWQ6ICR7dXBkYXRlVGltZVN0cn1gKTtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG5cblxuICAgIHByaXZhdGUgZXh0cmFjdE1lc3NhZ2VVSURzRnJvbU5vdGUoY29udGVudDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCB1aWRSZWdleCA9IC88IS0tIFVJRDogKC4qPykgLS0+L2c7XG4gICAgICAgIGNvbnN0IHVpZHMgPSBbXTtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gdWlkUmVnZXguZXhlYyhjb250ZW50KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVpZHMucHVzaChtYXRjaFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVpZHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUZpbGVQYXRoRm9yQ2hhdChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRpbWUgPSBhZGFwdGVyLmdldENyZWF0ZVRpbWUoY2hhdCk7XG4gICAgICAgIGNvbnN0IGNoYXRUaXRsZSA9IGFkYXB0ZXIuZ2V0VGl0bGUoY2hhdCk7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyTmFtZSA9IGFkYXB0ZXIuZ2V0UHJvdmlkZXJOYW1lKCk7XG5cbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNyZWF0ZVRpbWUgKiAxMDAwKTtcbiAgICAgICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXG4gICAgICAgIC8vIE5ldyBzdHJ1Y3R1cmU6IDxhcmNoaXZlRm9sZGVyPi88cHJvdmlkZXI+Lzx5ZWFyPi88bW9udGg+L1xuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcn0vJHtwcm92aWRlck5hbWV9LyR7eWVhcn0vJHttb250aH1gO1xuXG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhmb2xkZXJQYXRoLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZm9sZGVyUmVzdWx0LmVycm9yIHx8IFwiRmFpbGVkIHRvIGVuc3VyZSBmb2xkZXIgZXhpc3RzLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaWxlTmFtZSA9IGdlbmVyYXRlQ29udmVyc2F0aW9uRmlsZU5hbWUoXG4gICAgICAgICAgICBjaGF0VGl0bGUsXG4gICAgICAgICAgICBjcmVhdGVUaW1lLFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeCxcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGVGb3JtYXRcbiAgICAgICAgKSArIFwiLm1kXCI7XG5cbiAgICAgICAgbGV0IGZpbGVQYXRoID0gYCR7Zm9sZGVyUGF0aH0vJHtmaWxlTmFtZX1gO1xuICAgICAgICBpZiAoYXdhaXQgZG9lc0ZpbGVQYXRoRXhpc3QoZmlsZVBhdGgsIHRoaXMucGx1Z2luLmFwcC52YXVsdCkpIHtcbiAgICAgICAgICAgIGZpbGVQYXRoID0gYXdhaXQgZ2VuZXJhdGVVbmlxdWVGaWxlTmFtZShmaWxlUGF0aCwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbGVQYXRoO1xuICAgIH1cblxuICAgIGdldENvdW50ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3VudGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgYXR0YWNobWVudCBzdGF0aXN0aWNzIGZyb20gcHJvY2Vzc2VkIG1lc3NhZ2VzXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVBdHRhY2htZW50U3RhdHMobWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdKTogeyB0b3RhbDogbnVtYmVyOyBmb3VuZDogbnVtYmVyOyBtaXNzaW5nOiBudW1iZXI7IGZhaWxlZDogbnVtYmVyIH0ge1xuICAgICAgICBjb25zdCBzdGF0cyA9IHsgdG90YWw6IDAsIGZvdW5kOiAwLCBtaXNzaW5nOiAwLCBmYWlsZWQ6IDAgfTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dGFjaG1lbnQgb2YgbWVzc2FnZS5hdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0cy50b3RhbCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0YWNobWVudC5zdGF0dXM/LmZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0cy5mb3VuZCsrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dGFjaG1lbnQuc3RhdHVzPy5yZWFzb24gPT09ICdtaXNzaW5nX2Zyb21fZXhwb3J0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHMubWlzc2luZysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dGFjaG1lbnQuc3RhdHVzPy5yZWFzb24gPT09ICdleHRyYWN0aW9uX2ZhaWxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLmZhaWxlZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc3RhdHM7XG4gICAgfVxufSIsICIvLyBzcmMvZm9ybWF0dGVycy9tZXNzYWdlLWZvcm1hdHRlci50c1xuaW1wb3J0IHsgU3RhbmRhcmRNZXNzYWdlLCBTdGFuZGFyZEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vdHlwZXMvc3RhbmRhcmRcIjtcbmltcG9ydCB7IGZvcm1hdFRpbWVzdGFtcCB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5leHBvcnQgY2xhc3MgTWVzc2FnZUZvcm1hdHRlciB7XG4gICAgLy8gTmV4dXMgY3VzdG9tIGNhbGxvdXRzIHdpdGggaWNvbnNcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDQUxMT1VUUyA9IHtcbiAgICAgICAgVVNFUjogJ25leHVzX3VzZXInLCAgICAgICAgIC8vIFx1RDgzRFx1REM2NCBVc2VyIG1lc3NhZ2VzXG4gICAgICAgIEFHRU5UOiAnbmV4dXNfYWdlbnQnLCAgICAgICAvLyBcdUQ4M0VcdUREMTYgQXNzaXN0YW50L0FnZW50IG1lc3NhZ2VzXG4gICAgICAgIEFUVEFDSE1FTlQ6ICduZXh1c19hdHRhY2htZW50JywgLy8gXHVEODNEXHVEQ0NFIEF0dGFjaG1lbnRzXG4gICAgICAgIEFSVElGQUNUOiAnbmV4dXNfYXJ0aWZhY3QnLCAgICAgLy8gXHVEODNEXHVERUUwXHVGRTBGIENsYXVkZSBhcnRpZmFjdHNcbiAgICAgICAgUFJPTVBUOiAnbmV4dXNfcHJvbXB0JyAgICAgICAgICAvLyBcdUQ4M0RcdURDQUQgU3lzdGVtIHByb21wdHNcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBsb2dnZXI6IExvZ2dlcikge31cblxuICAgIGZvcm1hdE1lc3NhZ2VzKG1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlc1xuICAgICAgICAgICAgLmZpbHRlcihtZXNzYWdlID0+IG1lc3NhZ2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC5tYXAobWVzc2FnZSA9PiB0aGlzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZSkpXG4gICAgICAgICAgICAuZmlsdGVyKGZvcm1hdHRlZE1lc3NhZ2UgPT4gZm9ybWF0dGVkTWVzc2FnZSAhPT0gXCJcIilcbiAgICAgICAgICAgIC5qb2luKFwiXFxuXFxuXCIpO1xuICAgIH1cblxuICAgIGZvcm1hdE1lc3NhZ2UobWVzc2FnZTogU3RhbmRhcmRNZXNzYWdlKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIk1lc3NhZ2UgaXMgbnVsbCBvciB1bmRlZmluZWQ6XCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtZXNzYWdlVGltZSA9XG4gICAgICAgICAgICBmb3JtYXRUaW1lc3RhbXAobWVzc2FnZS50aW1lc3RhbXAsIFwiZGF0ZVwiKSArXG4gICAgICAgICAgICBcIiBhdCBcIiArXG4gICAgICAgICAgICBmb3JtYXRUaW1lc3RhbXAobWVzc2FnZS50aW1lc3RhbXAsIFwidGltZVwiKTtcblxuICAgICAgICBjb25zdCBhdXRob3JOYW1lID0gbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IFwiVXNlclwiIDogXCJBc3Npc3RhbnRcIjtcbiAgICAgICAgY29uc3QgY2FsbG91dFR5cGUgPSBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiID8gTWVzc2FnZUZvcm1hdHRlci5DQUxMT1VUUy5VU0VSIDogTWVzc2FnZUZvcm1hdHRlci5DQUxMT1VUUy5BR0VOVDtcblxuICAgICAgICAvLyBDcmVhdGUgY2FsbG91dCB3aXRoIHRpbWVzdGFtcCBhbmQgY29udGVudFxuICAgICAgICBsZXQgbWVzc2FnZUNvbnRlbnQgPSBgPlshJHtjYWxsb3V0VHlwZX1dICoqJHthdXRob3JOYW1lfSoqIC0gJHttZXNzYWdlVGltZX1cXG5gO1xuXG4gICAgICAgIC8vIEZvcm1hdCBtYWluIG1lc3NhZ2UgY29udGVudFxuICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICAvLyBBZGQgY29udGVudCBpbnNpZGUgdGhlIGNhbGxvdXQgKG5vIG5lZWQgZm9yIHF1b3RlIGNoYXJzKVxuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgKz0gYD4gJHttZXNzYWdlLmNvbnRlbnQuc3BsaXQoXCJcXG5cIikuam9pbihcIlxcbj4gXCIpfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCArPSBgPiBbTm8gY29udGVudCBmb3VuZF1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9ybWF0IGF0dGFjaG1lbnRzIGlmIGFueVxuICAgICAgICBpZiAobWVzc2FnZS5hdHRhY2htZW50cyAmJiBtZXNzYWdlLmF0dGFjaG1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50ICs9IFwiXFxuXFxuXCIgKyB0aGlzLmZvcm1hdEF0dGFjaG1lbnRzKG1lc3NhZ2UuYXR0YWNobWVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIFVJRCBmb3IgdXBkYXRlIHRyYWNraW5nXG4gICAgICAgIG1lc3NhZ2VDb250ZW50ICs9IGBcXG48IS0tIFVJRDogJHttZXNzYWdlLmlkfSAtLT5cXG5gO1xuXG4gICAgICAgIC8vIEFkZCBzZXBhcmF0b3IgZm9yIGFzc2lzdGFudCBtZXNzYWdlc1xuICAgICAgICBpZiAobWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCArPSBcIlxcbi0tLVxcblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VDb250ZW50ICsgXCJcXG5cXG5cIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdEF0dGFjaG1lbnRzKGF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBhdHRhY2htZW50cy5tYXAoYXR0YWNobWVudCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRTaW5nbGVBdHRhY2htZW50KGF0dGFjaG1lbnQpO1xuICAgICAgICB9KS5qb2luKFwiXFxuXFxuXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBzaW5nbGUgYXR0YWNobWVudCB3aXRoIE5leHVzIGNhbGxvdXQgc3R5bGluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0U2luZ2xlQXR0YWNobWVudChhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQpOiBzdHJpbmcge1xuICAgICAgICAvLyBGb3IgQ2xhdWRlIGF0dGFjaG1lbnRzLCBjaGVjayBpZiBhbHJlYWR5IGZvcm1hdHRlZCBhcyBjYWxsb3V0XG4gICAgICAgIGlmIChhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQgJiYgYXR0YWNobWVudC5leHRyYWN0ZWRDb250ZW50LmluY2x1ZGVzKCduZXh1c19hdHRhY2htZW50JykpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYXR0YWNobWVudCBjYWxsb3V0XG4gICAgICAgIGxldCBjb250ZW50ID0gYD5bISR7TWVzc2FnZUZvcm1hdHRlci5DQUxMT1VUUy5BVFRBQ0hNRU5UfV0gYDtcblxuICAgICAgICAvLyBTdGF0dXMtYXdhcmUgaGVhZGVyXG4gICAgICAgIGlmIChhdHRhY2htZW50LnN0YXR1cz8uZm91bmQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYCoqJHthdHRhY2htZW50LmZpbGVOYW1lfSoqYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYCoqJHthdHRhY2htZW50LmZpbGVOYW1lfSoqICoobWlzc2luZykqYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBmaWxlIG1ldGFkYXRhXG4gICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVUeXBlKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IGAgKCR7YXR0YWNobWVudC5maWxlVHlwZX0pYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVTaXplKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IGAgLSAke3RoaXMuZm9ybWF0RmlsZVNpemUoYXR0YWNobWVudC5maWxlU2l6ZSl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRlbnQgKz0gJ1xcbic7XG5cbiAgICAgICAgLy8gSGFuZGxlIHN1Y2Nlc3NmdWwgZXh0cmFjdGlvblxuICAgICAgICBpZiAoYXR0YWNobWVudC5zdGF0dXM/LmZvdW5kICYmIGF0dGFjaG1lbnQudXJsKSB7XG4gICAgICAgICAgICAvLyBTa2lwIHNhbmRib3g6Ly8gVVJMcyAtIHRoZXkgZG9uJ3Qgd29yayBpbiBPYnNpZGlhblxuICAgICAgICAgICAgaWYgKCFhdHRhY2htZW50LnVybC5zdGFydHNXaXRoKCdzYW5kYm94Oi8vJykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0ltYWdlRmlsZShhdHRhY2htZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9IGA+ICFbWyR7YXR0YWNobWVudC51cmx9XV1gOyAvLyBFbWJlZCBpbWFnZXNcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9IGA+IFtbJHthdHRhY2htZW50LnVybH1dXWA7IC8vIExpbmsgZG9jdW1lbnRzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTYW5kYm94IFVSTCAtIGV4cGxhaW4gdG8gdXNlclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gXHUyNkEwXHVGRTBGIEZpbGUgbm90IGF2YWlsYWJsZSBpbiBhcmNoaXZlLiBWaXNpdCB0aGUgb3JpZ2luYWwgY29udmVyc2F0aW9uIHRvIGFjY2VzcyBpdGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgbWlzc2luZy9mYWlsZWQgYXR0YWNobWVudHMgd2l0aCBpbmZvcm1hdGl2ZSBub3Rlc1xuICAgICAgICBlbHNlIGlmIChhdHRhY2htZW50LnN0YXR1cyAmJiAhYXR0YWNobWVudC5zdGF0dXMuZm91bmQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gXHUyNkEwXHVGRTBGICR7dGhpcy5nZXRTdGF0dXNNZXNzYWdlKGF0dGFjaG1lbnQuc3RhdHVzLnJlYXNvbil9YDtcblxuICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnQuc3RhdHVzLm5vdGUpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IGBcXG4+ICoqTm90ZToqKiAke2F0dGFjaG1lbnQuc3RhdHVzLm5vdGV9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGxpbmsgdG8gb3JpZ2luYWwgY29udmVyc2F0aW9uIGZvciBtaXNzaW5nIGF0dGFjaG1lbnRzXG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC5zdGF0dXMucmVhc29uID09PSAnbWlzc2luZ19mcm9tX2V4cG9ydCcpIHtcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBjb252ZXJzYXRpb24gVVJMIGZyb20gYXR0YWNobWVudCBvciB1c2UgZ2VuZXJpYyBDaGF0R1BUIGxpbmtcbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25VcmwgPSBhdHRhY2htZW50LnVybD8uaW5jbHVkZXMoJ2NoYXRncHQuY29tJylcbiAgICAgICAgICAgICAgICAgICAgPyBhdHRhY2htZW50LnVybFxuICAgICAgICAgICAgICAgICAgICA6ICdodHRwczovL2NoYXRncHQuY29tLyc7XG4gICAgICAgICAgICAgICAgY29udGVudCArPSBgXFxuPiBbT3BlbiBvcmlnaW5hbCBjb252ZXJzYXRpb25dKCR7Y29udmVyc2F0aW9uVXJsfSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIERBTEwtRSBwcm9tcHQgYXMgc2VwYXJhdGUgY2FsbG91dCAoc3BlY2lhbCBjYXNlIGZvciBEQUxMLUUgaW1hZ2VzKVxuICAgICAgICBlbHNlIGlmIChhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQgJiYgdGhpcy5pc0RhbGxlSW1hZ2UoYXR0YWNobWVudCkpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gJHt0aGlzLmlzSW1hZ2VGaWxlKGF0dGFjaG1lbnQpID8gJyFbWycgKyBhdHRhY2htZW50LnVybCArICddXScgOiAnW1snICsgYXR0YWNobWVudC51cmwgKyAnXV0nfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGV4dHJhY3RlZCBjb250ZW50IGZvciBvdGhlciB0eXBlcyAodHJhbnNjcmlwdGlvbnMsIE9DUiwgY29kZSwgZXRjLilcbiAgICAgICAgZWxzZSBpZiAoYXR0YWNobWVudC5leHRyYWN0ZWRDb250ZW50KSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IGA+ICR7YXR0YWNobWVudC5leHRyYWN0ZWRDb250ZW50fWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcmF3IGNvbnRlbnQgZm9yIHRleHQgZmlsZXMgLSBhbHdheXMgc2hvdyBpZiBhdmFpbGFibGVcbiAgICAgICAgZWxzZSBpZiAoYXR0YWNobWVudC5jb250ZW50ICYmICFhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYD4gJHthdHRhY2htZW50LmNvbnRlbnR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBEQUxMLUUgcHJvbXB0IGFzIHNlcGFyYXRlIGNhbGxvdXQgYWZ0ZXIgdGhlIGF0dGFjaG1lbnRcbiAgICAgICAgbGV0IGRhbGxlUHJvbXB0ID0gJyc7XG4gICAgICAgIGlmIChhdHRhY2htZW50LmV4dHJhY3RlZENvbnRlbnQgJiYgdGhpcy5pc0RhbGxlSW1hZ2UoYXR0YWNobWVudCkpIHtcbiAgICAgICAgICAgIGRhbGxlUHJvbXB0ID0gYFxcblxcbj5bISR7TWVzc2FnZUZvcm1hdHRlci5DQUxMT1VUUy5QUk9NUFR9XSAqKkRBTEwtRSBQcm9tcHQqKlxcbj4gXFxgXFxgXFxgXFxuPiAke2F0dGFjaG1lbnQuZXh0cmFjdGVkQ29udGVudH1cXG4+IFxcYFxcYFxcYGA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGVudCArIGRhbGxlUHJvbXB0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGF0dGFjaG1lbnQgaXMgYSBEQUxMLUUgZ2VuZXJhdGVkIGltYWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0RhbGxlSW1hZ2UoYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGZpbGVuYW1lIGZvbGxvd3MgREFMTC1FIHBhdHRlcm46IGRhbGxlX2dlbklkX3dpZHRoeGhlaWdodC5wbmdcbiAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnQuZmlsZU5hbWUuc3RhcnRzV2l0aCgnZGFsbGVfJykgJiYgXG4gICAgICAgICAgICAgICBhdHRhY2htZW50LmZpbGVOYW1lLmluY2x1ZGVzKCdfJykgJiYgXG4gICAgICAgICAgICAgICBhdHRhY2htZW50LmZpbGVUeXBlID09PSAnaW1hZ2UvcG5nJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdXNlci1mcmllbmRseSBzdGF0dXMgbWVzc2FnZVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U3RhdHVzTWVzc2FnZShyZWFzb24/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKHJlYXNvbikge1xuICAgICAgICAgICAgY2FzZSAnbWlzc2luZ19mcm9tX2V4cG9ydCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdOb3QgaW5jbHVkZWQgaW4gZXhwb3J0JztcbiAgICAgICAgICAgIGNhc2UgJ2V4dHJhY3Rpb25fZmFpbGVkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0V4dHJhY3Rpb24gZmFpbGVkJztcbiAgICAgICAgICAgIGNhc2UgJ2NvcnJ1cHRlZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdGaWxlIGFwcGVhcnMgY29ycnVwdGVkJztcbiAgICAgICAgICAgIGNhc2UgJ3Vuc3VwcG9ydGVkX2Zvcm1hdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbnN1cHBvcnRlZCBmaWxlIGZvcm1hdCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnUHJvY2Vzc2luZyBpc3N1ZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhdHRhY2htZW50IGlzIGFuIGltYWdlIGZpbGUgZm9yIGVtYmVkZGluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgaXNJbWFnZUZpbGUoYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIENoZWNrIE1JTUUgdHlwZSBmaXJzdCAobW9zdCByZWxpYWJsZSlcbiAgICAgICAgaWYgKGF0dGFjaG1lbnQuZmlsZVR5cGU/LnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGZpbGUgZXh0ZW5zaW9uXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYXR0YWNobWVudC5maWxlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBpbWFnZUV4dGVuc2lvbnMgPSBbJy5wbmcnLCAnLmpwZycsICcuanBlZycsICcuZ2lmJywgJy53ZWJwJywgJy5zdmcnLCAnLmJtcCcsICcudGlmZiddO1xuICAgICAgICByZXR1cm4gaW1hZ2VFeHRlbnNpb25zLnNvbWUoZXh0ID0+IGZpbGVOYW1lLmVuZHNXaXRoKGV4dCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQiddO1xuICAgICAgICBpZiAoYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gICAgICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKDEwMjQpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYnl0ZXMgLyBNYXRoLnBvdygxMDI0LCBpKSAqIDEwMCkgLyAxMDAgKyAnICcgKyBzaXplc1tpXTtcbiAgICB9XG59IiwgIi8vIHNyYy9mb3JtYXR0ZXJzL25vdGUtZm9ybWF0dGVyLnRzXG5pbXBvcnQgeyBTdGFuZGFyZENvbnZlcnNhdGlvbiB9IGZyb20gXCIuLi90eXBlcy9zdGFuZGFyZFwiO1xuaW1wb3J0IHsgZm9ybWF0VGltZXN0YW1wLCBmb3JtYXRUaXRsZSB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgTWVzc2FnZUZvcm1hdHRlciB9IGZyb20gXCIuL21lc3NhZ2UtZm9ybWF0dGVyXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgeyBVUkxfR0VORVJBVE9SUyB9IGZyb20gXCIuLi90eXBlcy9zdGFuZGFyZFwiO1xuXG5leHBvcnQgY2xhc3MgTm90ZUZvcm1hdHRlciB7XG4gICAgcHJpdmF0ZSBtZXNzYWdlRm9ybWF0dGVyOiBNZXNzYWdlRm9ybWF0dGVyO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBsb2dnZXI6IExvZ2dlciwgcHJpdmF0ZSBwbHVnaW5JZDogc3RyaW5nLCBwcml2YXRlIHBsdWdpblZlcnNpb246IHN0cmluZykge1xuICAgICAgICB0aGlzLm1lc3NhZ2VGb3JtYXR0ZXIgPSBuZXcgTWVzc2FnZUZvcm1hdHRlcihsb2dnZXIpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlTWFya2Rvd25Db250ZW50KGNvbnZlcnNhdGlvbjogU3RhbmRhcmRDb252ZXJzYXRpb24pOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRUaXRsZSA9IGZvcm1hdFRpdGxlKGNvbnZlcnNhdGlvbi50aXRsZSk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRpbWVTdHIgPSBgJHtmb3JtYXRUaW1lc3RhbXAoY29udmVyc2F0aW9uLmNyZWF0ZVRpbWUsIFwiZGF0ZVwiKX0gYXQgJHtmb3JtYXRUaW1lc3RhbXAoY29udmVyc2F0aW9uLmNyZWF0ZVRpbWUsIFwidGltZVwiKX1gO1xuICAgICAgICBjb25zdCB1cGRhdGVUaW1lU3RyID0gYCR7Zm9ybWF0VGltZXN0YW1wKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lLCBcImRhdGVcIil9IGF0ICR7Zm9ybWF0VGltZXN0YW1wKGNvbnZlcnNhdGlvbi51cGRhdGVUaW1lLCBcInRpbWVcIil9YDtcblxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuZ2VuZXJhdGVIZWFkZXIoZm9ybWF0dGVkVGl0bGUsIGNvbnZlcnNhdGlvbi5pZCwgY3JlYXRlVGltZVN0ciwgdXBkYXRlVGltZVN0ciwgY29udmVyc2F0aW9uKTtcbiAgICAgICAgY29udGVudCArPSB0aGlzLmdlbmVyYXRlTWVzc2FnZXNDb250ZW50KGNvbnZlcnNhdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUhlYWRlcihcbiAgICAgICAgdGl0bGU6IHN0cmluZywgXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIFxuICAgICAgICBjcmVhdGVUaW1lU3RyOiBzdHJpbmcsIFxuICAgICAgICB1cGRhdGVUaW1lU3RyOiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvbjogU3RhbmRhcmRDb252ZXJzYXRpb25cbiAgICApOiBzdHJpbmcge1xuICAgICAgICAvLyBHZW5lcmF0ZSBjaGF0IFVSTFxuICAgICAgICBsZXQgY2hhdFVybCA9IGNvbnZlcnNhdGlvbi5jaGF0VXJsO1xuICAgICAgICBpZiAoIWNoYXRVcmwgJiYgVVJMX0dFTkVSQVRPUlNbY29udmVyc2F0aW9uLnByb3ZpZGVyXSkge1xuICAgICAgICAgICAgY2hhdFVybCA9IFVSTF9HRU5FUkFUT1JTW2NvbnZlcnNhdGlvbi5wcm92aWRlcl0uZ2VuZXJhdGVDaGF0VXJsKGNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJ1aWxkIGZyb250bWF0dGVyIHdpdGggcGx1Z2luX3ZlcnNpb24gYWZ0ZXIgbmV4dXNcbiAgICAgICAgbGV0IGZyb250bWF0dGVyID0gYC0tLVxubmV4dXM6ICR7dGhpcy5wbHVnaW5JZH1cbnBsdWdpbl92ZXJzaW9uOiBcIiR7dGhpcy5wbHVnaW5WZXJzaW9ufVwiXG5wcm92aWRlcjogJHtjb252ZXJzYXRpb24ucHJvdmlkZXJ9XG5hbGlhc2VzOiBcIiR7dGl0bGV9XCJcbmNvbnZlcnNhdGlvbl9pZDogJHtjb252ZXJzYXRpb25JZH1cbmNyZWF0ZV90aW1lOiAke2NyZWF0ZVRpbWVTdHJ9XG51cGRhdGVfdGltZTogJHt1cGRhdGVUaW1lU3RyfVxuLS0tXG5cbmA7XG5cbiAgICAgICAgLy8gQnVpbGQgaGVhZGVyIGNvbnRlbnRcbiAgICAgICAgbGV0IGhlYWRlciA9IGAjIFRpdGxlOiAke3RpdGxlfVxcblxcbmA7XG4gICAgICAgIGhlYWRlciArPSBgQ3JlYXRlZDogJHtjcmVhdGVUaW1lU3RyfVxcbmA7XG4gICAgICAgIGhlYWRlciArPSBgTGFzdCBVcGRhdGVkOiAke3VwZGF0ZVRpbWVTdHJ9XFxuYDtcbiAgICAgICAgXG4gICAgICAgIGlmIChjaGF0VXJsKSB7XG4gICAgICAgICAgICBoZWFkZXIgKz0gYENoYXQgVVJMOiAke2NoYXRVcmx9XFxuYDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaGVhZGVyICs9ICdcXG5cXG4nO1xuXG4gICAgICAgIHJldHVybiBmcm9udG1hdHRlciArIGhlYWRlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlTWVzc2FnZXNDb250ZW50KGNvbnZlcnNhdGlvbjogU3RhbmRhcmRDb252ZXJzYXRpb24pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlRm9ybWF0dGVyLmZvcm1hdE1lc3NhZ2VzKGNvbnZlcnNhdGlvbi5tZXNzYWdlcyk7XG4gICAgfVxufSIsICIvLyBzcmMvdHlwZXMvc3RhbmRhcmQudHNcblxuLyoqXG4gKiBBdHRhY2htZW50IHByb2Nlc3Npbmcgc3RhdHVzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXR0YWNobWVudFN0YXR1cyB7XG4gICAgcHJvY2Vzc2VkOiBib29sZWFuO1xuICAgIGZvdW5kOiBib29sZWFuO1xuICAgIGxvY2FsUGF0aD86IHN0cmluZztcbiAgICByZWFzb24/OiAnbWlzc2luZ19mcm9tX2V4cG9ydCcgfCAnY29ycnVwdGVkJyB8ICd1bnN1cHBvcnRlZF9mb3JtYXQnIHwgJ2V4dHJhY3Rpb25fZmFpbGVkJztcbiAgICBub3RlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFByb3ZpZGVyLWFnbm9zdGljIGF0dGFjaG1lbnQgaW50ZXJmYWNlIHdpdGggc3RhdHVzIHRyYWNraW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhbmRhcmRBdHRhY2htZW50IHtcbiAgICBmaWxlTmFtZTogc3RyaW5nO1xuICAgIGZpbGVTaXplPzogbnVtYmVyO1xuICAgIGZpbGVUeXBlPzogc3RyaW5nO1xuICAgIGNvbnRlbnQ/OiBzdHJpbmc7IC8vIEZvciB0ZXh0IGZpbGVzLCBjb2RlLCBldGMuXG4gICAgZXh0cmFjdGVkQ29udGVudD86IHN0cmluZzsgLy8gRm9yIHByb2Nlc3NlZCBjb250ZW50IChPQ1IsIHRyYW5zY3JpcHRpb25zKVxuICAgIHVybD86IHN0cmluZzsgLy8gRm9yIGxpbmtlZCBhdHRhY2htZW50c1xuICAgIGZpbGVJZD86IHN0cmluZzsgLy8gUHJvdmlkZXItc3BlY2lmaWMgZmlsZSBJRCAoZm9yIFpJUCBsb29rdXApXG4gICAgXG4gICAgLy8gQXR0YWNobWVudCBwcm9jZXNzaW5nIHN0YXR1c1xuICAgIHN0YXR1cz86IEF0dGFjaG1lbnRTdGF0dXM7XG59XG5cbi8qKlxuICogUHJvdmlkZXItYWdub3N0aWMgbWVzc2FnZSBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFuZGFyZE1lc3NhZ2Uge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyOyAvLyBVbml4IHRpbWVzdGFtcFxuICAgIGF0dGFjaG1lbnRzPzogU3RhbmRhcmRBdHRhY2htZW50W107XG59XG5cbi8qKlxuICogUHJvdmlkZXItYWdub3N0aWMgY29udmVyc2F0aW9uIGludGVyZmFjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YW5kYXJkQ29udmVyc2F0aW9uIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgcHJvdmlkZXI6IHN0cmluZzsgLy8gJ2NoYXRncHQnLCAnY2xhdWRlJywgZXRjLlxuICAgIGNyZWF0ZVRpbWU6IG51bWJlcjsgLy8gVW5peCB0aW1lc3RhbXBcbiAgICB1cGRhdGVUaW1lOiBudW1iZXI7IC8vIFVuaXggdGltZXN0YW1wXG4gICAgbWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdO1xuICAgIGNoYXRVcmw/OiBzdHJpbmc7IC8vIFByb3ZpZGVyLXNwZWNpZmljIFVSTFxuICAgIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjsgLy8gUHJvdmlkZXItc3BlY2lmaWMgZXh0cmEgZGF0YVxuICAgIHBsdWdpbl92ZXJzaW9uPzogc3RyaW5nOyAvLyBWZXJzaW9uIG9mIHBsdWdpbiB0aGF0IGNyZWF0ZWQvbGFzdCBtb2RpZmllZCB0aGlzIGNvbnZlcnNhdGlvblxufVxuXG4vKipcbiAqIFVSTCBnZW5lcmF0b3IgaW50ZXJmYWNlIC0gcHJvdmlkZXJzIGltcGxlbWVudCB0aGlzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXJsR2VuZXJhdG9yIHtcbiAgICBnZW5lcmF0ZUNoYXRVcmwoY29udmVyc2F0aW9uSWQ6IHN0cmluZyk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBVUkwgZ2VuZXJhdG9ycyBmb3IgY29tbW9uIHByb3ZpZGVyc1xuICovXG5leHBvcnQgY29uc3QgVVJMX0dFTkVSQVRPUlM6IFJlY29yZDxzdHJpbmcsIFVybEdlbmVyYXRvcj4gPSB7XG4gICAgY2hhdGdwdDoge1xuICAgICAgICBnZW5lcmF0ZUNoYXRVcmw6IChpZDogc3RyaW5nKSA9PiBgaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYy8ke2lkfWBcbiAgICB9LFxuICAgIGNsYXVkZToge1xuICAgICAgICBnZW5lcmF0ZUNoYXRVcmw6IChpZDogc3RyaW5nKSA9PiBgaHR0cHM6Ly9jbGF1ZGUuYWkvY2hhdC8ke2lkfWBcbiAgICB9XG59O1xuXG4vKipcbiAqIFByb3ZpZGVyLXNwZWNpZmljIHJlcG9ydCBuYW1pbmcgc3RyYXRlZ3lcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXBvcnROYW1pbmdTdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdCByZXBvcnQgcHJlZml4IGZyb20gYXJjaGl2ZSBmaWxlbmFtZVxuICAgICAqIEBwYXJhbSB6aXBGaWxlTmFtZSAtIE5hbWUgb2YgdGhlIGltcG9ydGVkIFpJUCBmaWxlXG4gICAgICogQHJldHVybnMgcHJlZml4IGZvciByZXBvcnQgbmFtaW5nIChlLmcuLCBcIjIwMjUuMDQuMjVcIilcbiAgICAgKi9cbiAgICBleHRyYWN0UmVwb3J0UHJlZml4KHppcEZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcHJvdmlkZXIgbmFtZSBmb3IgZm9sZGVyIG9yZ2FuaXphdGlvblxuICAgICAqIEByZXR1cm5zIHByb3ZpZGVyIG5hbWUgKGUuZy4sIFwiY2hhdGdwdFwiLCBcImNsYXVkZVwiKVxuICAgICAqL1xuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcHJvdmlkZXItc3BlY2lmaWMgY29sdW1uIGluZm8gZm9yIHJlcG9ydHNcbiAgICAgKiBAcmV0dXJucyBjb2x1bW4gaGVhZGVyIGFuZCB2YWx1ZSBleHRyYWN0b3JcbiAgICAgKi9cbiAgICBnZXRQcm92aWRlclNwZWNpZmljQ29sdW1uKCk6IHtcbiAgICAgICAgaGVhZGVyOiBzdHJpbmc7XG4gICAgICAgIGdldFZhbHVlOiAoYWRhcHRlcjogYW55LCBjaGF0OiBhbnkpID0+IG51bWJlcjtcbiAgICB9O1xufVxuXG4vKipcbiAqIFJlcG9ydCBnZW5lcmF0aW9uIGluZm8gcmV0dXJuZWQgYnkgcHJvdmlkZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0R2VuZXJhdGlvbkluZm8ge1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7XG4gICAgcHJlZml4OiBzdHJpbmc7XG4gICAgZm9sZGVyUGF0aDogc3RyaW5nOyAgLy8gZS5nLiwgXCJSZXBvcnRzL2NoYXRncHRcIlxuICAgIGJhc2VGaWxlTmFtZTogc3RyaW5nOyAvLyBlLmcuLCBcIjIwMjUuMDQuMjUgLSBpbXBvcnQgcmVwb3J0Lm1kXCJcbn0iLCAiLy8gc3JjL3NlcnZpY2VzL2ZpbGUtc2VydmljZS50c1xuaW1wb3J0IHsgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeSB9IGZyb20gXCIuLi90eXBlcy9wbHVnaW5cIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIEZpbGVTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge31cblxuICAgIGFzeW5jIHdyaXRlVG9GaWxlKGZpbGVQYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuXG4gICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBjb250ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB3cml0ZSB0byAnJHtmaWxlUGF0aH0nOyBpdCBpcyBhIGZvbGRlci5gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihgRXJyb3IgY3JlYXRpbmcgb3IgbW9kaWZ5aW5nIGZpbGUgJyR7ZmlsZVBhdGh9J2AsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVDb252ZXJzYXRpb25GaWxlRGVsZXRpb24oZmlsZTogVEZpbGUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBOZXh1cyBjb252ZXJzYXRpb24gZmlsZVxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXIgPSB0aGlzLnBsdWdpbi5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoZmlsZSk/LmZyb250bWF0dGVyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyPy5jb252ZXJzYXRpb25faWQgfHwgZnJvbnRtYXR0ZXI/Lm5leHVzICE9PSB0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gTm90IGEgTmV4dXMgY29udmVyc2F0aW9uIGZpbGVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gY29udmVyc2F0aW9uIGNhdGFsb2dcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLnBsdWdpbi5nZXRTdG9yYWdlU2VydmljZSgpO1xuICAgICAgICAgICAgY29uc3QgY2F0YWxvZyA9IHN0b3JhZ2UuZ2V0Q29udmVyc2F0aW9uQ2F0YWxvZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgcmVjb3JkXSBvZiBPYmplY3QuZW50cmllcyhjYXRhbG9nKSBhcyBbc3RyaW5nLCBDb252ZXJzYXRpb25DYXRhbG9nRW50cnldW10pIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmNvbnZlcnNhdGlvbklkID09PSBmcm9udG1hdHRlci5jb252ZXJzYXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZS5kZWxldGVGcm9tQ29udmVyc2F0aW9uQ2F0YWxvZyhpZCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJFcnJvciBoYW5kbGluZyBjb252ZXJzYXRpb24gZmlsZSBkZWxldGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgZXh0ZW5zaW9uIGZyb20gZmlsZW5hbWUgKHByb3ZpZGVyLWFnbm9zdGljIHV0aWxpdHkpXG4gICAgICovXG4gICAgZ2V0RmlsZUV4dGVuc2lvbihmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgbGFzdERvdCA9IGZpbGVOYW1lLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgIHJldHVybiBsYXN0RG90ID09PSAtMSA/ICcnIDogZmlsZU5hbWUuc3Vic3RyaW5nKGxhc3REb3QgKyAxKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEZ1dHVyZSBlbmhhbmNlbWVudCAtIGRlbGV0ZSBjb252ZXJzYXRpb24gYXR0YWNobWVudHNcbiAgICAvLyBhc3luYyBkZWxldGVDb252ZXJzYXRpb25BdHRhY2htZW50cyhjb252ZXJzYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gICAgIC8vIEltcGxlbWVudGF0aW9uIGZvciBkZWxldGluZyBhdHRhY2htZW50cyB3aGVuIGNvbnZlcnNhdGlvbiBpcyBkZWxldGVkXG4gICAgLy8gfVxufSIsICIvLyBzcmMvbW9kZWxzL2Vycm9ycy50c1xuZXhwb3J0IGNsYXNzIE5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHB1YmxpYyBkZXRhaWxzPzogYW55KSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk5leHVzQWlDaGF0SW1wb3J0ZXJFcnJvclwiO1xuICAgIH1cbn0iLCAiLy8gc3JjL3Byb3ZpZGVycy9wcm92aWRlci1hZGFwdGVyLnRzXG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBSZXBvcnROYW1pbmdTdHJhdGVneSwgU3RhbmRhcmRDb252ZXJzYXRpb24sIFN0YW5kYXJkTWVzc2FnZSwgU3RhbmRhcmRBdHRhY2htZW50IH0gZnJvbSBcIi4uL3R5cGVzL3N0YW5kYXJkXCI7XG5cbi8vIE1pbmltYWwgcHJvdmlkZXItYWdub3N0aWMgYWRhcHRlciBjb250cmFjdFxuZXhwb3J0IGludGVyZmFjZSBQcm92aWRlckFkYXB0ZXI8VENoYXQgPSBhbnk+IHtcbiAgLy8gSWRlbnRpZnkgcHJvdmlkZXIgZnJvbSByYXcgY29udmVyc2F0aW9uIHNhbXBsZVxuICBkZXRlY3QocmF3Q29udmVyc2F0aW9uczogYW55W10pOiBib29sZWFuO1xuXG4gIC8vIEJhc2ljIGNoYXQgYWNjZXNzb3JzXG4gIGdldElkKGNoYXQ6IFRDaGF0KTogc3RyaW5nO1xuICBnZXRUaXRsZShjaGF0OiBUQ2hhdCk6IHN0cmluZztcbiAgZ2V0Q3JlYXRlVGltZShjaGF0OiBUQ2hhdCk6IG51bWJlcjsgLy8gdW5peCBzZWNvbmRzXG4gIGdldFVwZGF0ZVRpbWUoY2hhdDogVENoYXQpOiBudW1iZXI7IC8vIHVuaXggc2Vjb25kc1xuXG4gIC8vIENvbnZlcnNpb25cbiAgY29udmVydENoYXQoY2hhdDogVENoYXQpOiBTdGFuZGFyZENvbnZlcnNhdGlvbiB8IFByb21pc2U8U3RhbmRhcmRDb252ZXJzYXRpb24+O1xuICBjb252ZXJ0TWVzc2FnZXMobWVzc2FnZXM6IGFueVtdLCBjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IFN0YW5kYXJkTWVzc2FnZVtdIHwgUHJvbWlzZTxTdGFuZGFyZE1lc3NhZ2VbXT47XG5cbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIHByb3ZpZGVyIG5hbWUgdG8gc2V0IGluIFN0YW5kYXJkQ29udmVyc2F0aW9uXG4gIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmc7IC8vIGUuZy4sICdjaGF0Z3B0JywgJ2NsYXVkZSdcblxuICAvLyBOZXcgbWVzc2FnZXMgZGV0ZWN0aW9uIGdpdmVuIGV4aXN0aW5nIG1lc3NhZ2UgSURzIGV4dHJhY3RlZCBmcm9tIG5vdGVcbiAgZ2V0TmV3TWVzc2FnZXMoY2hhdDogVENoYXQsIGV4aXN0aW5nTWVzc2FnZUlkczogc3RyaW5nW10pOiBhbnlbXTtcblxuICAvLyBBdHRhY2htZW50IHByb2Nlc3NpbmcgKGJlc3QtZWZmb3J0KTsgcmV0dXJuIG1lc3NhZ2VzIHdpdGggdXBkYXRlZCBhdHRhY2htZW50c1xuICBwcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzPyhcbiAgICBtZXNzYWdlczogU3RhbmRhcmRNZXNzYWdlW10sXG4gICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgICB6aXA6IEpTWmlwXG4gICk6IFByb21pc2U8U3RhbmRhcmRNZXNzYWdlW10+O1xuXG4gIC8vIFJlcG9ydCBuYW1pbmcgc3RyYXRlZ3kgZm9yIHRoaXMgcHJvdmlkZXJcbiAgZ2V0UmVwb3J0TmFtaW5nU3RyYXRlZ3koKTogUmVwb3J0TmFtaW5nU3RyYXRlZ3k7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJSZWdpc3RyeSB7XG4gIC8vIFJldHVybiBhZGFwdGVyIGZvciBhIHByb3ZpZGVyIG5hbWVcbiAgZ2V0QWRhcHRlcihwcm92aWRlcjogc3RyaW5nKTogUHJvdmlkZXJBZGFwdGVyIHwgdW5kZWZpbmVkO1xuXG4gIC8vIERldGVjdCB3aGljaCBhZGFwdGVyIG1hdGNoZXMgcmF3IGRhdGE7IHJldHVybiBwcm92aWRlciBuYW1lXG4gIGRldGVjdFByb3ZpZGVyKHJhd0NvbnZlcnNhdGlvbnM6IGFueVtdKTogc3RyaW5nIHwgJ3Vua25vd24nO1xufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnkgaW1wbGVtZW50cyBQcm92aWRlclJlZ2lzdHJ5IHtcbiAgcHJpdmF0ZSBhZGFwdGVyczogUmVjb3JkPHN0cmluZywgUHJvdmlkZXJBZGFwdGVyPiA9IHt9O1xuXG4gIHJlZ2lzdGVyKHByb3ZpZGVyTmFtZTogc3RyaW5nLCBhZGFwdGVyOiBQcm92aWRlckFkYXB0ZXIpIHtcbiAgICB0aGlzLmFkYXB0ZXJzW3Byb3ZpZGVyTmFtZV0gPSBhZGFwdGVyO1xuICB9XG5cbiAgZ2V0QWRhcHRlcihwcm92aWRlcjogc3RyaW5nKTogUHJvdmlkZXJBZGFwdGVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyc1twcm92aWRlcl07XG4gIH1cblxuICBkZXRlY3RQcm92aWRlcihyYXdDb252ZXJzYXRpb25zOiBhbnlbXSk6IHN0cmluZyB8ICd1bmtub3duJyB7XG4gICAgZm9yIChjb25zdCBbbmFtZSwgYWRhcHRlcl0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5hZGFwdGVycykpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChhZGFwdGVyLmRldGVjdChyYXdDb252ZXJzYXRpb25zKSkgcmV0dXJuIG5hbWU7XG4gICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgIC8vIGlnbm9yZSBhbmQgY29udGludWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICd1bmtub3duJztcbiAgfVxufVxuXG4iLCAiLy8gc3JjL3Byb3ZpZGVycy9jaGF0Z3B0L2NoYXRncHQtY29udmVydGVyLnRzXG5pbXBvcnQgeyBDaGF0LCBDaGF0TWVzc2FnZSB9IGZyb20gXCIuL2NoYXRncHQtdHlwZXNcIjtcbmltcG9ydCB7IFN0YW5kYXJkQ29udmVyc2F0aW9uLCBTdGFuZGFyZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3RhbmRhcmRcIjtcbmltcG9ydCB7IGlzVmFsaWRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3V0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGF0R1BUQ29udmVydGVyIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IENoYXRHUFQgQ2hhdCB0byBTdGFuZGFyZENvbnZlcnNhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXJ0Q2hhdChjaGF0OiBDaGF0KTogU3RhbmRhcmRDb252ZXJzYXRpb24ge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuZXh0cmFjdE1lc3NhZ2VzRnJvbU1hcHBpbmcoY2hhdCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGNoYXQuaWQgfHwgXCJcIixcbiAgICAgICAgICAgIHRpdGxlOiBjaGF0LnRpdGxlIHx8IFwiVW50aXRsZWRcIixcbiAgICAgICAgICAgIHByb3ZpZGVyOiBcImNoYXRncHRcIixcbiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IGNoYXQuY3JlYXRlX3RpbWUgfHwgMCxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWU6IGNoYXQudXBkYXRlX3RpbWUgfHwgMCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX3RlbXBsYXRlX2lkOiBjaGF0LmNvbnZlcnNhdGlvbl90ZW1wbGF0ZV9pZCxcbiAgICAgICAgICAgICAgICBnaXptb19pZDogY2hhdC5naXptb19pZCxcbiAgICAgICAgICAgICAgICBnaXptb190eXBlOiBjaGF0Lmdpem1vX3R5cGUsXG4gICAgICAgICAgICAgICAgZGVmYXVsdF9tb2RlbF9zbHVnOiBjaGF0LmRlZmF1bHRfbW9kZWxfc2x1ZyxcbiAgICAgICAgICAgICAgICBpc19hcmNoaXZlZDogY2hhdC5pc19hcmNoaXZlZCxcbiAgICAgICAgICAgICAgICBpc19zdGFycmVkOiBjaGF0LmlzX3N0YXJyZWQsXG4gICAgICAgICAgICAgICAgY3VycmVudF9ub2RlOiBjaGF0LmN1cnJlbnRfbm9kZSxcbiAgICAgICAgICAgICAgICBtZW1vcnlfc2NvcGU6IGNoYXQubWVtb3J5X3Njb3BlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhcnJheSBvZiBDaGF0R1BUIENoYXRNZXNzYWdlcyB0byBTdGFuZGFyZE1lc3NhZ2VzXG4gICAgICovXG4gICAgc3RhdGljIGNvbnZlcnRNZXNzYWdlcyhjaGF0TWVzc2FnZXM6IENoYXRNZXNzYWdlW10sIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nKTogU3RhbmRhcmRNZXNzYWdlW10ge1xuICAgICAgICByZXR1cm4gY2hhdE1lc3NhZ2VzXG4gICAgICAgICAgICAuZmlsdGVyKG1zZyA9PiBpc1ZhbGlkTWVzc2FnZShtc2cpKVxuICAgICAgICAgICAgLm1hcChtc2cgPT4gdGhpcy5jb252ZXJ0TWVzc2FnZShtc2csIGNvbnZlcnNhdGlvbklkKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBzaW5nbGUgQ2hhdEdQVCBDaGF0TWVzc2FnZSB0byBTdGFuZGFyZE1lc3NhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBjb252ZXJ0TWVzc2FnZShjaGF0TWVzc2FnZTogQ2hhdE1lc3NhZ2UsIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nKTogU3RhbmRhcmRNZXNzYWdlIHtcbiAgICAgICAgY29uc3QgY29udGVudFJlc3VsdCA9IHRoaXMuZXh0cmFjdENvbnRlbnQoY2hhdE1lc3NhZ2UsIGNvbnZlcnNhdGlvbklkKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGNoYXRNZXNzYWdlLmlkIHx8IFwiXCIsXG4gICAgICAgICAgICByb2xlOiBjaGF0TWVzc2FnZS5hdXRob3I/LnJvbGUgPT09IFwidXNlclwiID8gXCJ1c2VyXCIgOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogY29udGVudFJlc3VsdC5jb250ZW50LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBjaGF0TWVzc2FnZS5jcmVhdGVfdGltZSB8fCAwLFxuICAgICAgICAgICAgYXR0YWNobWVudHM6IGNvbnRlbnRSZXN1bHQuYXR0YWNobWVudHMgfHwgW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IG1lc3NhZ2VzIGZyb20gQ2hhdEdQVCBtYXBwaW5nIHN0cnVjdHVyZSB3aXRoIERBTEwtRSBwcm9tcHQgYXNzb2NpYXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBleHRyYWN0TWVzc2FnZXNGcm9tTWFwcGluZyhjaGF0OiBDaGF0KTogU3RhbmRhcmRNZXNzYWdlW10ge1xuICAgICAgICBjb25zdCBtZXNzYWdlczogU3RhbmRhcmRNZXNzYWdlW10gPSBbXTtcbiAgICAgICAgY29uc3QgZGFsbGVQcm9tcHRzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTsgLy8gTWFwIHRvb2wgbWVzc2FnZSBJRCB0byBwcm9tcHRcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uSWQgPSBjaGF0LmlkOyAvLyBQYXNzIGNvbnZlcnNhdGlvbiBJRCBmb3Igc21hcnQgbGlua2luZ1xuICAgICAgICBcbiAgICAgICAgLy8gU0lOR0xFIFBBU1M6IEV4dHJhY3QgcHJvbXB0cyBhbmQgcHJvY2VzcyBtZXNzYWdlcyBpbiBvbmUgZ29cbiAgICAgICAgY29uc3QgbWFwcGluZ1ZhbHVlcyA9IE9iamVjdC52YWx1ZXMoY2hhdC5tYXBwaW5nKTsgLy8gQ2FjaGUgdGhlIHZhbHVlcyBhcnJheVxuXG4gICAgICAgIC8vIEZpcnN0IHBhc3M6IEV4dHJhY3QgREFMTC1FIHByb21wdHMgKHF1aWNrIHNjYW4pXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZU9iaiBvZiBtYXBwaW5nVmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZU9iaj8ubWVzc2FnZTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSB8fCBtZXNzYWdlLmF1dGhvcj8ucm9sZSAhPT0gXCJhc3Npc3RhbnRcIikgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBEQUxMLUUgSlNPTiBwcm9tcHQgbWVzc2FnZVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEYWxsZVByb21wdE1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9tcHQgPSB0aGlzLmV4dHJhY3RQcm9tcHRGcm9tSnNvbihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvbXB0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgdG9vbCBtZXNzYWdlICh1c3VhbGx5IHRoZSBuZXh0IGNoaWxkKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG1lc3NhZ2VPYmouY2hpbGRyZW4gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGRJZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRPYmogPSBjaGF0Lm1hcHBpbmdbY2hpbGRJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRPYmo/Lm1lc3NhZ2U/LmF1dGhvcj8ucm9sZSA9PT0gXCJ0b29sXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc1JlYWxEYWxsZUltYWdlKGNoaWxkT2JqLm1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFsbGVQcm9tcHRzLnNldChjaGlsZElkLCBwcm9tcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2Vjb25kIHBhc3M6IFByb2Nlc3MgYWxsIG1lc3NhZ2VzIChyZXVzZSBjYWNoZWQgYXJyYXkpXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZU9iaiBvZiBtYXBwaW5nVmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZU9iaj8ubWVzc2FnZTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSkgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSBEQUxMLUUgdG9vbCBtZXNzYWdlcyB3aXRoIGFzc29jaWF0ZWQgcHJvbXB0c1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yPy5yb2xlID09PSBcInRvb2xcIiAmJiB0aGlzLmhhc1JlYWxEYWxsZUltYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbXB0ID0gZGFsbGVQcm9tcHRzLmdldChtZXNzYWdlT2JqLmlkIHx8IFwiXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbGxlTWVzc2FnZSA9IHRoaXMuY3JlYXRlRGFsbGVBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UsIHByb21wdCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhbGxlTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKGRhbGxlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSGFuZGxlIHJlZ3VsYXIgbWVzc2FnZXMgKGJ1dCBza2lwIERBTEwtRSBKU09OIHByb21wdHMpXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNob3VsZEluY2x1ZGVNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh0aGlzLmNvbnZlcnRNZXNzYWdlKG1lc3NhZ2UsIGNvbnZlcnNhdGlvbklkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNvcnQgYnkgdGltZXN0YW1wIHdpdGggSUQgYXMgc2Vjb25kYXJ5IHNvcnQgZm9yIGNocm9ub2xvZ2ljYWwgb3JkZXJcbiAgICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA8PSAxKSByZXR1cm4gbWVzc2FnZXM7XG5cbiAgICAgICAgLy8gVXNlIG5hdGl2ZSBzb3J0IHdpdGggcHJvcGVyIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIC8vIFByaW1hcnkgc29ydDogdGltZXN0YW1wXG4gICAgICAgICAgICBpZiAoYS50aW1lc3RhbXAgIT09IGIudGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlY29uZGFyeSBzb3J0OiBJRCAobGV4aWNvZ3JhcGhpYyBvcmRlciBmb3Igc2FtZSB0aW1lc3RhbXApXG4gICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgY29uc2lzdGVudCBvcmRlcmluZyB3aGVuIG1lc3NhZ2VzIGhhdmUgaWRlbnRpY2FsIHRpbWVzdGFtcHNcbiAgICAgICAgICAgIHJldHVybiBhLmlkLmxvY2FsZUNvbXBhcmUoYi5pZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIG1lc3NhZ2UgaXMgYSBEQUxMLUUgSlNPTiBwcm9tcHQgbWVzc2FnZVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGlzRGFsbGVQcm9tcHRNZXNzYWdlKG1lc3NhZ2U6IENoYXRNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvcj8ucm9sZSAhPT0gXCJhc3Npc3RhbnRcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8ucGFydHMgJiYgXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykgJiZcbiAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQucGFydHNbMF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG1lc3NhZ2UuY29udGVudC5wYXJ0c1swXS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudC5zdGFydHNXaXRoKCd7JykgJiYgY29udGVudC5pbmNsdWRlcygnXCJwcm9tcHRcIicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBwcm9tcHQgZnJvbSBEQUxMLUUgSlNPTiBtZXNzYWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXh0cmFjdFByb21wdEZyb21Kc29uKG1lc3NhZ2U6IENoYXRNZXNzYWdlKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5wYXJ0cyAmJiBtZXNzYWdlLmNvbnRlbnQucGFydHNbMF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uU3RyID0gbWVzc2FnZS5jb250ZW50LnBhcnRzWzBdIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb25TdHIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQucHJvbXB0IHx8IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBJbnZhbGlkIEpTT04sIGlnbm9yZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiBhIG1lc3NhZ2Ugc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBjb252ZXJzYXRpb24gLSBFTkhBTkNFRCBWRVJTSU9OXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgc2hvdWxkSW5jbHVkZU1lc3NhZ2UobWVzc2FnZTogQ2hhdE1lc3NhZ2UpOiBib29sZWFuIHtcbiAgICAgICAgLy8gU2FmZXR5IGNoZWNrXG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS5hdXRob3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gPT09PT0gU1RSSUNUIEVYQ0xVU0lPTlMgPT09PT1cbiAgICAgICAgXG4gICAgICAgIC8vIDEuIFNraXAgQUxMIHN5c3RlbSBtZXNzYWdlcyAoYWx3YXlzIGludGVybmFsIENoYXRHUFQgc3R1ZmYpXG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDIuIFNraXAgQUxMIHRvb2wgbWVzc2FnZXMgKGJyb3dzaW5nLCBjb2RlIGV4ZWN1dGlvbiwgZXRjLilcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLnJvbGUgPT09IFwidG9vbFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIDMuIFNraXAgaGlkZGVuIG1lc3NhZ2VzICh1c2VyIHByb2ZpbGUsIHN5c3RlbSBpbnN0cnVjdGlvbnMpXG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGFkYXRhPy5pc192aXN1YWxseV9oaWRkZW5fZnJvbV9jb252ZXJzYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gNC4gU2tpcCB1c2VyIHN5c3RlbSBtZXNzYWdlcyAodXNlcl9lZGl0YWJsZV9jb250ZXh0KVxuICAgICAgICBpZiAobWVzc2FnZS5tZXRhZGF0YT8uaXNfdXNlcl9zeXN0ZW1fbWVzc2FnZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyA1LiBTa2lwIHVzZXJfZWRpdGFibGVfY29udGV4dCBjb250ZW50IHR5cGVcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcInVzZXJfZWRpdGFibGVfY29udGV4dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vID09PT09IEFTU0lTVEFOVCBNRVNTQUdFIEZJTFRFUklORyA9PT09PVxuICAgICAgICBcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgICAgIC8vIFNraXAgZW1wdHkgYXNzaXN0YW50IG1lc3NhZ2VzXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5wYXJ0cyAmJiBcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykgJiZcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQucGFydHMuZXZlcnkocGFydCA9PiBcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50cmltKCkgPT09IFwiXCJcbiAgICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTa2lwIERBTEwtRSBKU09OIHByb21wdCBtZXNzYWdlcyAoaGFuZGxlZCBzZXBhcmF0ZWx5KVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEYWxsZVByb21wdE1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNraXAgY29kZSBleGVjdXRpb24gYXNzaXN0YW50IG1lc3NhZ2VzICh0aGVzZSBhcmUgaW50ZXJtZWRpYXRlIG91dHB1dHMpXG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5jb250ZW50X3R5cGUgPT09IFwiY29kZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTa2lwIHN5c3RlbSBlcnJvciBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcInN5c3RlbV9lcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTa2lwIGV4ZWN1dGlvbiBvdXRwdXQgbWVzc2FnZXMgIFxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcImV4ZWN1dGlvbl9vdXRwdXRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gS2VlcCBtdWx0aW1vZGFsX3RleHQgbWVzc2FnZXMgT05MWSBpZiB0aGV5IGhhdmUgYWN0dWFsIHRleHQgY29udGVudFxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcIm11bHRpbW9kYWxfdGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFydHMgY29udGFpbiBhY3R1YWwgdGV4dCAobm90IGp1c3Qgb2JqZWN0cylcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5wYXJ0cyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzVGV4dENvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQucGFydHMuc29tZShwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJzdHJpbmdcIiAmJiBwYXJ0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcIm9iamVjdFwiICYmIHBhcnQgIT09IG51bGwgJiYgJ3RleHQnIGluIHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBhcnQudGV4dCA9PT0gXCJzdHJpbmdcIiAmJiBwYXJ0LnRleHQudHJpbSgpICE9PSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzVGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gU2tpcCBtdWx0aW1vZGFsIG1lc3NhZ2VzIHdpdGhvdXQgdGV4dFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyA9PT09PSBVU0VSIE1FU1NBR0UgRklMVEVSSU5HID09PT09XG4gICAgICAgIFxuICAgICAgICBpZiAobWVzc2FnZS5hdXRob3Iucm9sZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgICAgIC8vIFVzZXIgbWVzc2FnZXMgc2hvdWxkIGdlbmVyYWxseSBiZSBrZXB0LCBidXQgZXhjbHVkZSBzcGVjaWFsIGNvbnRlbnQgdHlwZXNcbiAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkQ29udGVudFR5cGVzID0gW1xuICAgICAgICAgICAgICAgIFwidXNlcl9lZGl0YWJsZV9jb250ZXh0XCIgLy8gQWxyZWFkeSBjb3ZlcmVkIGFib3ZlIGJ1dCBkb3VibGUtY2hlY2tcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LmNvbnRlbnRfdHlwZSAmJiBleGNsdWRlZENvbnRlbnRUeXBlcy5pbmNsdWRlcyhtZXNzYWdlLmNvbnRlbnQuY29udGVudF90eXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gPT09PT0gRklOQUwgVkFMSURBVElPTiA9PT09PVxuICAgICAgICBcbiAgICAgICAgLy8gVXNlIGV4aXN0aW5nIHZhbGlkYXRpb24gZm9yIGJhc2ljIG1lc3NhZ2Ugc3RydWN0dXJlXG4gICAgICAgIHJldHVybiBpc1ZhbGlkTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBtZXNzYWdlIGNvbnRhaW5zIFJFQUwgREFMTC1FIGltYWdlIChub3QgdXNlciB1cGxvYWQpXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgaGFzUmVhbERhbGxlSW1hZ2UobWVzc2FnZTogQ2hhdE1lc3NhZ2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlLmNvbnRlbnQ/LnBhcnRzIHx8ICFBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5zb21lKHBhcnQgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ICE9PSBcIm9iamVjdFwiIHx8IHBhcnQgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29udGVudFBhcnQgPSBwYXJ0IGFzIGFueTtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50UGFydC5jb250ZW50X3R5cGUgPT09IFwiaW1hZ2VfYXNzZXRfcG9pbnRlclwiICYmIFxuICAgICAgICAgICAgICAgICAgIGNvbnRlbnRQYXJ0LmFzc2V0X3BvaW50ZXIgJiZcbiAgICAgICAgICAgICAgICAgICBjb250ZW50UGFydC5tZXRhZGF0YT8uZGFsbGUgJiYgXG4gICAgICAgICAgICAgICAgICAgY29udGVudFBhcnQubWV0YWRhdGEuZGFsbGUgIT09IG51bGw7IC8vIFJFQUwgREFMTC1FIGNoZWNrXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBBc3Npc3RhbnQgKERBTEwtRSkgbWVzc2FnZSBmcm9tIHRvb2wgbWVzc2FnZSB3aXRoIGFzc29jaWF0ZWQgcHJvbXB0XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlRGFsbGVBc3Npc3RhbnRNZXNzYWdlKHRvb2xNZXNzYWdlOiBDaGF0TWVzc2FnZSwgYXNzb2NpYXRlZFByb21wdD86IHN0cmluZyk6IFN0YW5kYXJkTWVzc2FnZSB8IG51bGwge1xuICAgICAgICBpZiAoIXRvb2xNZXNzYWdlLmNvbnRlbnQ/LnBhcnRzIHx8ICFBcnJheS5pc0FycmF5KHRvb2xNZXNzYWdlLmNvbnRlbnQucGFydHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnRzOiBhbnlbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRvb2xNZXNzYWdlLmNvbnRlbnQucGFydHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudFBhcnQgPSBwYXJ0IGFzIGFueTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudFBhcnQuY29udGVudF90eXBlID09PSBcImltYWdlX2Fzc2V0X3BvaW50ZXJcIiAmJiBcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFBhcnQuYXNzZXRfcG9pbnRlciAmJlxuICAgICAgICAgICAgICAgICAgICBjb250ZW50UGFydC5tZXRhZGF0YT8uZGFsbGUgJiZcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFBhcnQubWV0YWRhdGEuZGFsbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgZmlsZSBJRCBmcm9tIGFzc2V0IHBvaW50ZXJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVJZCA9IGNvbnRlbnRQYXJ0LmFzc2V0X3BvaW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlSWQuaW5jbHVkZXMoJzovLycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlSWQgPSBmaWxlSWQuc3BsaXQoJzovLycpWzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgZGVzY3JpcHRpdmUgZmlsZW5hbWVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VuSWQgPSBjb250ZW50UGFydC5tZXRhZGF0YS5kYWxsZS5nZW5faWQgfHwgJ3Vua25vd24nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGNvbnRlbnRQYXJ0LndpZHRoIHx8IDEwMjQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGNvbnRlbnRQYXJ0LmhlaWdodCB8fCAxMDI0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGBkYWxsZV8ke2dlbklkfV8ke3dpZHRofXgke2hlaWdodH0ucG5nYDtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYWxsZUF0dGFjaG1lbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlU2l6ZTogY29udGVudFBhcnQuc2l6ZV9ieXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiBcImltYWdlL3BuZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYXNzb2NpYXRlZCBwcm9tcHQgZnJvbSBKU09OIG1lc3NhZ2UsIGZhbGxiYWNrIHRvIG1ldGFkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBhc3NvY2lhdGVkUHJvbXB0IHx8IGNvbnRlbnRQYXJ0Lm1ldGFkYXRhLmRhbGxlLnByb21wdFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHMucHVzaChkYWxsZUF0dGFjaG1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRhY2htZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0b29sTWVzc2FnZS5pZCB8fCBcIlwiLFxuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiSW1hZ2UgZ1x1MDBFOW5cdTAwRTlyXHUwMEU5ZSBwYXIgREFMTC1FXCIsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRvb2xNZXNzYWdlLmNyZWF0ZV90aW1lIHx8IDAsXG4gICAgICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGNvbnRlbnQgYW5kIGF0dGFjaG1lbnRzIGZyb20gQ2hhdEdQVCBtZXNzYWdlIHBhcnRzXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXh0cmFjdENvbnRlbnQoY2hhdE1lc3NhZ2U6IENoYXRNZXNzYWdlLCBjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IHtjb250ZW50OiBzdHJpbmcsIGF0dGFjaG1lbnRzPzogU3RhbmRhcmRBdHRhY2htZW50W119IHtcbiAgICAgICAgaWYgKCFjaGF0TWVzc2FnZS5jb250ZW50Py5wYXJ0cyB8fCAhQXJyYXkuaXNBcnJheShjaGF0TWVzc2FnZS5jb250ZW50LnBhcnRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgY29udGVudDogXCJcIiB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGVudFBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBjb25zdCBhdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBjaGF0TWVzc2FnZS5jb250ZW50LnBhcnRzKSB7XG4gICAgICAgICAgICBsZXQgdGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBGSVhFRDogQ2hlY2sgaWYgc3RyaW5nIGNvbnRhaW5zIEpTT04gd2l0aCB0eXBlL2NvbnRlbnQgc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQudHJpbSgpLnN0YXJ0c1dpdGgoJ3snKSAmJiBwYXJ0LnRyaW0oKS5lbmRzV2l0aCgnfScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlICYmIHBhcnNlZC5jb250ZW50ICYmIHR5cGVvZiBwYXJzZWQuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlVHlwZSA9IHBhcnNlZC50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVDb250ZW50ID0gcGFyc2VkLmNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZUNvbnRlbnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgbGFuZ3VhZ2UgZnJvbSB0eXBlIChlLmcuLCBcImNvZGUvbWFya2Rvd25cIiAtPiBcIm1hcmtkb3duXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmd1YWdlID0gY29kZVR5cGUuaW5jbHVkZXMoJy8nKSA/IGNvZGVUeXBlLnNwbGl0KCcvJylbMV0gOiBjb2RlVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBgXFxgXFxgXFxgJHtsYW5ndWFnZX1cXG4ke2NvZGVDb250ZW50fVxcblxcYFxcYFxcYGA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKU09OIHdpdGhvdXQgdHlwZS9jb250ZW50LCB0cmVhdCBhcyBub3JtYWwgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IHZhbGlkIEpTT04sIHRyZWF0IGFzIG5vcm1hbCB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3JtYWwgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ID0gcGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJ0ID09PSBcIm9iamVjdFwiICYmIHBhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgY29kZSBibG9ja3Mgd2l0aCB0eXBlIGFuZCBjb250ZW50IHN0cnVjdHVyZSAoQ2hhdEdQVCBhcnRpZmFjdHMpXG4gICAgICAgICAgICAgICAgaWYgKCd0eXBlJyBpbiBwYXJ0ICYmICdjb250ZW50JyBpbiBwYXJ0ICYmIHR5cGVvZiBwYXJ0LmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVUeXBlID0gcGFydC50eXBlIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZUNvbnRlbnQgPSBwYXJ0LmNvbnRlbnQgYXMgc3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlQ29udGVudC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgbGFuZ3VhZ2UgZnJvbSB0eXBlIChlLmcuLCBcImNvZGUvbWFya2Rvd25cIiAtPiBcIm1hcmtkb3duXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW5ndWFnZSA9IGNvZGVUeXBlLmluY2x1ZGVzKCcvJykgPyBjb2RlVHlwZS5zcGxpdCgnLycpWzFdIDogY29kZVR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCA9IGBcXGBcXGBcXGAke2xhbmd1YWdlfVxcbiR7Y29kZUNvbnRlbnR9XFxuXFxgXFxgXFxgYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IGNvbnRlbnQgdHlwZXMgd2l0aCBwcm9wZXIgdHlwZSBjaGVja2luZ1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdjb250ZW50X3R5cGUnIGluIHBhcnQgJiYgJ3RleHQnIGluIHBhcnQgJiYgdHlwZW9mIHBhcnQudGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuY29udGVudF90eXBlID09PSBcImF1ZGlvX3RyYW5zY3JpcHRpb25cIiAmJiBwYXJ0LnRleHQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCA9IHBhcnQudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LmNvbnRlbnRfdHlwZSA9PT0gXCJ0ZXh0XCIgJiYgcGFydC50ZXh0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5jb250ZW50X3R5cGUgPT09IFwibXVsdGltb2RhbF90ZXh0XCIgJiYgcGFydC50ZXh0LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGltYWdlX2Fzc2V0X3BvaW50ZXIgY29udGVudCB0eXBlcyBhcyBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdjb250ZW50X3R5cGUnIGluIHBhcnQgJiYgcGFydC5jb250ZW50X3R5cGUgPT09ICdpbWFnZV9hc3NldF9wb2ludGVyJyAmJiAnYXNzZXRfcG9pbnRlcicgaW4gcGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2htZW50ID0gdGhpcy5leHRyYWN0SW1hZ2VBdHRhY2htZW50KHBhcnQsIGNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzLnB1c2goYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIENoYXRHUFQgY29udHJvbCBjaGFyYWN0ZXJzIGFuZCBmb3JtYXR0aW5nIGFydGlmYWN0c1xuICAgICAgICAgICAgaWYgKHRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgPSB0aGlzLmNsZWFuQ2hhdEdQVEFydGlmYWN0cyh0ZXh0Q29udGVudCwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Q29udGVudC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFBhcnRzLnB1c2godGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbmFsQ29udGVudCA9IGNvbnRlbnRQYXJ0cy5qb2luKFwiXFxuXCIpO1xuXG4gICAgICAgIC8vIEV4dHJhY3QgYXR0YWNobWVudHMgZnJvbSBtZXNzYWdlIG1ldGFkYXRhIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoY2hhdE1lc3NhZ2UuYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYXR0IG9mIGNoYXRNZXNzYWdlLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBhdHQuZmlsZV9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZTogYXR0LmZpbGVfdHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZVNpemU6IGF0dC5maWxlX3NpemUsXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGF0dC5leHRyYWN0ZWRfY29udGVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGZpbmFsQ29udGVudCxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5sZW5ndGggPiAwID8gYXR0YWNobWVudHMgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGltYWdlIGF0dGFjaG1lbnQgZnJvbSBjb250ZW50IHBhcnRcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBleHRyYWN0SW1hZ2VBdHRhY2htZW50KHBhcnQ6IGFueSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcpOiBTdGFuZGFyZEF0dGFjaG1lbnQgfCBudWxsIHtcbiAgICAgICAgaWYgKCFwYXJ0LmFzc2V0X3BvaW50ZXIpIHJldHVybiBudWxsO1xuXG4gICAgICAgIC8vIEV4dHJhY3QgZmlsZSBJRCBmcm9tIGFzc2V0IHBvaW50ZXJcbiAgICAgICAgbGV0IGZpbGVJZCA9IHBhcnQuYXNzZXRfcG9pbnRlcjtcbiAgICAgICAgaWYgKGZpbGVJZC5pbmNsdWRlcygnOi8vJykpIHtcbiAgICAgICAgICAgIGZpbGVJZCA9IGZpbGVJZC5zcGxpdCgnOi8vJylbMV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBmaWxlbmFtZSBiYXNlZCBvbiBtZXRhZGF0YVxuICAgICAgICBsZXQgZmlsZU5hbWUgPSBgaW1hZ2VfJHtmaWxlSWR9YDtcbiAgICAgICAgaWYgKHBhcnQud2lkdGggJiYgcGFydC5oZWlnaHQpIHtcbiAgICAgICAgICAgIGZpbGVOYW1lID0gYGltYWdlXyR7ZmlsZUlkfV8ke3BhcnQud2lkdGh9eCR7cGFydC5oZWlnaHR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSBmaWxlIGV4dGVuc2lvbiBmcm9tIG1ldGFkYXRhIG9yIGRlZmF1bHQgdG8gcG5nXG4gICAgICAgIGNvbnN0IGZpbGVUeXBlID0gcGFydC5tZXRhZGF0YT8ubWltZV90eXBlIHx8ICdpbWFnZS9wbmcnO1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBmaWxlVHlwZS5zcGxpdCgnLycpWzFdIHx8ICdwbmcnO1xuICAgICAgICBmaWxlTmFtZSArPSBgLiR7ZXh0ZW5zaW9ufWA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgZmlsZVR5cGUsXG4gICAgICAgICAgICBmaWxlU2l6ZTogcGFydC5zaXplX2J5dGVzLFxuICAgICAgICAgICAgZmlsZUlkXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gUHJlLWNvbXBpbGVkIHJlZ2V4IHBhdHRlcm5zIGZvciBwZXJmb3JtYW5jZVxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENMRUFOVVBfUEFUVEVSTlMgPSBbXG4gICAgICAgIC8vIFNNQVJUOiBSZXBsYWNlIHNhbmRib3ggbGlua3Mgd2l0aCBhY3R1YWwgbGlua3MgdG8gb3JpZ2luYWwgY29udmVyc2F0aW9uXG4gICAgICAgIHsgcGF0dGVybjogL1x1RDgzRFx1RENDNCBcXFsoW15cXF1dKylcXF1cXChzYW5kYm94OlxcL1teKV0rXFwpL2csIHJlcGxhY2VtZW50OiAoY2hhdFVybDogc3RyaW5nKSA9PiBgXHVEODNEXHVEQ0M0IFskMV0oJHtjaGF0VXJsfSkgKih2aXNpdCBvcmlnaW5hbCBjb252ZXJzYXRpb24gdG8gZG93bmxvYWQpKmAgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvXHVEODNEXHVEQ0M0IChbXi1cXG5dKykgLSBGaWxlIG5vdCBhdmFpbGFibGUgaW4gYXJjaGl2ZS9nLCByZXBsYWNlbWVudDogKGNoYXRVcmw6IHN0cmluZykgPT4gYFx1RDgzRFx1RENDNCBbJDFdKCR7Y2hhdFVybH0pICoodmlzaXQgb3JpZ2luYWwgY29udmVyc2F0aW9uIHRvIGRvd25sb2FkKSpgIH0sXG4gICAgICAgIHsgcGF0dGVybjogL1xcWyhbXlxcXV0rKVxcXVxcKHNhbmRib3g6XFwvW14pXStcXCkvZywgcmVwbGFjZW1lbnQ6IChjaGF0VXJsOiBzdHJpbmcpID0+IGBbJDFdKCR7Y2hhdFVybH0pICoodmlzaXQgb3JpZ2luYWwgY29udmVyc2F0aW9uIHRvIGRvd25sb2FkKSpgIH0sXG4gICAgICAgIHsgcGF0dGVybjogLyhbXi1cXG5dKykgLSBGaWxlIG5vdCBhdmFpbGFibGUgaW4gYXJjaGl2ZVxcLiBWaXNpdCB0aGUgb3JpZ2luYWwgY29udmVyc2F0aW9uIHRvIGFjY2VzcyBpdC9nLCByZXBsYWNlbWVudDogKGNoYXRVcmw6IHN0cmluZykgPT4gYFskMV0oJHtjaGF0VXJsfSkgKih2aXNpdCBvcmlnaW5hbCBjb252ZXJzYXRpb24gdG8gZG93bmxvYWQpKmAgfSxcbiAgICAgICAgLy8gUmVtb3ZlIHBhdHRlcm5zIChzdGF0aWMgcmVwbGFjZW1lbnRzKVxuICAgICAgICB7IHBhdHRlcm46IC9jaXRlW2EtekEtWjAtOV9cXC1dKy9nLCByZXBsYWNlbWVudDogKCkgPT4gXCJcIiB9LFxuICAgICAgICB7IHBhdHRlcm46IC9saW5rW2EtekEtWjAtOV9cXC1dKy9nLCByZXBsYWNlbWVudDogKCkgPT4gXCJcIiB9LFxuICAgICAgICB7IHBhdHRlcm46IC90dXJuXFxkK3NlYXJjaFxcZCsvZywgcmVwbGFjZW1lbnQ6ICgpID0+IFwiXCIgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvW1xcdUUwMDAtXFx1RjhGRl0vZywgcmVwbGFjZW1lbnQ6ICgpID0+IFwiXCIgfSwgLy8gVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnNcbiAgICAgICAgeyBwYXR0ZXJuOiAvIHsyLH0vZywgcmVwbGFjZW1lbnQ6ICgpID0+IFwiIFwiIH0sIC8vIE11bHRpcGxlIHNwYWNlc1xuICAgICAgICB7IHBhdHRlcm46IC9cXG57Myx9L2csIHJlcGxhY2VtZW50OiAoKSA9PiBcIlxcblxcblwiIH0gLy8gTXVsdGlwbGUgbmV3bGluZXNcbiAgICBdO1xuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gQ2hhdEdQVCBhcnRpZmFjdHMsIGNpdGF0aW9ucywgYW5kIGNvbnRyb2wgY2hhcmFjdGVycyAtIFNNQVJUIExJTktJTkdcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBjbGVhbkNoYXRHUFRBcnRpZmFjdHModGV4dDogc3RyaW5nLCBjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICghdGV4dCB8fCB0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpIHJldHVybiAnJztcblxuICAgICAgICBjb25zdCBjaGF0VXJsID0gY29udmVyc2F0aW9uSWQgPyBgaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYy8ke2NvbnZlcnNhdGlvbklkfWAgOiBcImh0dHBzOi8vY2hhdC5vcGVuYWkuY29tXCI7XG5cbiAgICAgICAgbGV0IGNsZWFuVGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLy8gQXBwbHkgYWxsIGNsZWFudXAgcGF0dGVybnMgZWZmaWNpZW50bHlcbiAgICAgICAgZm9yIChjb25zdCB7IHBhdHRlcm4sIHJlcGxhY2VtZW50IH0gb2YgdGhpcy5DTEVBTlVQX1BBVFRFUk5TKSB7XG4gICAgICAgICAgICBjbGVhblRleHQgPSBjbGVhblRleHQucmVwbGFjZShwYXR0ZXJuLCByZXBsYWNlbWVudChjaGF0VXJsKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2xlYW5UZXh0LnRyaW0oKTtcbiAgICB9XG59IiwgIi8vIHNyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LWF0dGFjaG1lbnQtZXh0cmFjdG9yLnRzXG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBTdGFuZGFyZEF0dGFjaG1lbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3RhbmRhcmRcIjtcbmltcG9ydCB7IGVuc3VyZUZvbGRlckV4aXN0cyB9IGZyb20gXCIuLi8uLi91dGlsc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL2xvZ2dlclwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vLi4vbWFpblwiO1xuXG5cbmV4cG9ydCBjbGFzcyBDaGF0R1BUQXR0YWNobWVudEV4dHJhY3RvciB7XG4gICAgcHJpdmF0ZSB6aXBGaWxlQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgSlNaaXAuSlNaaXBPYmplY3QgfCBudWxsPigpOyAvLyBDYWNoZSBmb3IgWklQIGZpbGUgbG9va3Vwc1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4sIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXIpIHt9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGFuZCBzYXZlIENoYXRHUFQgYXR0YWNobWVudHMgdXNpbmcgXCJiZXN0IGVmZm9ydFwiIHN0cmF0ZWd5XG4gICAgICogLSBJZiBmaWxlIGV4aXN0cyBpbiBaSVA6IGV4dHJhY3QgYW5kIGxpbmtcbiAgICAgKiAtIElmIGZpbGUgbWlzc2luZzogY3JlYXRlIGluZm9ybWF0aXZlIG5vdGVcbiAgICAgKi9cbiAgICBhc3luYyBleHRyYWN0QXR0YWNobWVudHMoXG4gICAgICAgIHppcDogSlNaaXAsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgICAgIGF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXVxuICAgICk6IFByb21pc2U8U3RhbmRhcmRBdHRhY2htZW50W10+IHtcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBdHRhY2htZW50cyB8fCBhdHRhY2htZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRhY2htZW50cy5tYXAoYXR0ID0+ICh7IC4uLmF0dCwgc3RhdHVzOiB7IHByb2Nlc3NlZDogZmFsc2UsIGZvdW5kOiBmYWxzZSB9IH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZEF0dGFjaG1lbnRzOiBTdGFuZGFyZEF0dGFjaG1lbnRbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgYXR0YWNobWVudCBvZiBhdHRhY2htZW50cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnByb2Nlc3NBdHRhY2htZW50QmVzdEVmZm9ydCh6aXAsIGNvbnZlcnNhdGlvbklkLCBhdHRhY2htZW50KTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWRBdHRhY2htZW50cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIHByb2Nlc3MgQ2hhdEdQVCBhdHRhY2htZW50OiAke2F0dGFjaG1lbnQuZmlsZU5hbWV9YCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBFdmVuIGlmIHByb2Nlc3NpbmcgZmFpbHMsIHJldHVybiBhdHRhY2htZW50IHdpdGggZXJyb3Igc3RhdHVzXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkQXR0YWNobWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogJ2V4dHJhY3Rpb25fZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IGBQcm9jZXNzaW5nIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkQXR0YWNobWVudHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBzaW5nbGUgYXR0YWNobWVudCB3aXRoIGJlc3QgZWZmb3J0IHN0cmF0ZWd5XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzQXR0YWNobWVudEJlc3RFZmZvcnQoXG4gICAgICAgIHppcDogSlNaaXAsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgICAgIGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudFxuICAgICk6IFByb21pc2U8U3RhbmRhcmRBdHRhY2htZW50PiB7XG4gICAgICAgIC8vIFRyeSB0byBmaW5kIGZpbGUgaW4gWklQXG4gICAgICAgIGNvbnN0IHppcEZpbGUgPSBhd2FpdCB0aGlzLmZpbmRDaGF0R1BURmlsZUJ5SWQoemlwLCBhdHRhY2htZW50KTtcbiAgICAgICAgXG4gICAgICAgIGlmICghemlwRmlsZSkge1xuICAgICAgICAgICAgLy8gRmlsZSBub3QgZm91bmQgLSBjcmVhdGUgaW5mb3JtYXRpdmUgc3RhdHVzXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdtaXNzaW5nX2Zyb21fZXhwb3J0JyxcbiAgICAgICAgICAgICAgICAgICAgbm90ZTogJ1RoaXMgZmlsZSB3YXMgcmVmZXJlbmNlZCBpbiB0aGUgY29udmVyc2F0aW9uIGJ1dCBub3QgaW5jbHVkZWQgaW4gdGhlIENoYXRHUFQgZXhwb3J0LiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoaXMgY2FuIGhhcHBlbiB3aXRoIG9sZGVyIGNvbnZlcnNhdGlvbnMgb3IgY2VydGFpbiBmaWxlIHR5cGVzLidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlsZSBmb3VuZCAtIHRyeSB0byBleHRyYWN0IGl0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBleHRyYWN0UmVzdWx0ID0gYXdhaXQgdGhpcy5leHRyYWN0U2luZ2xlQXR0YWNobWVudCh6aXAsIGNvbnZlcnNhdGlvbklkLCBhdHRhY2htZW50LCB6aXBGaWxlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGV4dHJhY3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogZXh0cmFjdFJlc3VsdC5maW5hbEZpbGVOYW1lLCAvLyBVcGRhdGUgd2l0aCBhY3R1YWwgZXh0cmFjdGVkIGZpbGVuYW1lXG4gICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiBleHRyYWN0UmVzdWx0LmFjdHVhbEZpbGVUeXBlLCAvLyBVcGRhdGUgd2l0aCBkZXRlY3RlZCBmaWxlIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBleHRyYWN0UmVzdWx0LmxvY2FsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsUGF0aDogZXh0cmFjdFJlc3VsdC5sb2NhbFBhdGhcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnZXh0cmFjdGlvbl9mYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogJ0ZpbGUgd2FzIGZvdW5kIGluIGV4cG9ydCBidXQgY291bGQgbm90IGJlIGV4dHJhY3RlZCB0byBkaXNrLidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3IgZXh0cmFjdGluZyBDaGF0R1BUIGF0dGFjaG1lbnQ6ICR7YXR0YWNobWVudC5maWxlTmFtZX1gLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZvdW5kOiB0cnVlLCAvLyBGaWxlIGV4aXN0cyBidXQgZXh0cmFjdGlvbiBmYWlsZWRcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiAnZXh0cmFjdGlvbl9mYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICBub3RlOiBgRXh0cmFjdGlvbiBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBzaW5nbGUgYXR0YWNobWVudCB0byBkaXNrIHdpdGggY29uZmxpY3QgcmVzb2x1dGlvbiBhbmQgZm9ybWF0IGRldGVjdGlvblxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXh0cmFjdFNpbmdsZUF0dGFjaG1lbnQoXG4gICAgICAgIHppcDogSlNaaXAsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgICAgIGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudCxcbiAgICAgICAgemlwRmlsZTogSlNaaXAuSlNaaXBPYmplY3RcbiAgICApOiBQcm9taXNlPHtsb2NhbFBhdGg6IHN0cmluZywgZmluYWxGaWxlTmFtZTogc3RyaW5nLCBhY3R1YWxGaWxlVHlwZTogc3RyaW5nfSB8IG51bGw+IHtcbiAgICAgICAgLy8gR2V0IGZpbGUgY29udGVudCBmb3IgZm9ybWF0IGRldGVjdGlvblxuICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHppcEZpbGUuYXN5bmMoXCJ1aW50OGFycmF5XCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gRGV0ZWN0IGFjdHVhbCBmaWxlIGZvcm1hdCAoZXNwZWNpYWxseSBmb3IgLmRhdCBmaWxlcylcbiAgICAgICAgY29uc3QgZm9ybWF0SW5mbyA9IHRoaXMuZGV0ZWN0RmlsZUZvcm1hdChmaWxlQ29udGVudCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgZmlsZW5hbWUgd2l0aCBjb3JyZWN0IGV4dGVuc2lvbiBpZiBuZWVkZWRcbiAgICAgICAgbGV0IGZpbmFsRmlsZU5hbWUgPSBhdHRhY2htZW50LmZpbGVOYW1lO1xuICAgICAgICBpZiAoemlwRmlsZS5uYW1lLmVuZHNXaXRoKCcuZGF0JykgJiYgZm9ybWF0SW5mby5leHRlbnNpb24pIHtcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgLmRhdCB3aXRoIGNvcnJlY3QgZXh0ZW5zaW9uXG4gICAgICAgICAgICBjb25zdCBiYXNlTmFtZSA9IGF0dGFjaG1lbnQuZmlsZU5hbWUucmVwbGFjZSgvXFwuKGRhdHxwbmd8anBnfGpwZWd8Z2lmfHdlYnApJC9pLCAnJyk7XG4gICAgICAgICAgICBmaW5hbEZpbGVOYW1lID0gYCR7YmFzZU5hbWV9LiR7Zm9ybWF0SW5mby5leHRlbnNpb259YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gR2VuZXJhdGUgdGFyZ2V0IHBhdGggZm9yIHNhdmluZ1xuICAgICAgICBsZXQgdGFyZ2V0UGF0aCA9IHRoaXMuZ2VuZXJhdGVMb2NhbFBhdGgoY29udmVyc2F0aW9uSWQsIHtcbiAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICBmaWxlTmFtZTogZmluYWxGaWxlTmFtZSxcbiAgICAgICAgICAgIGZpbGVUeXBlOiBmb3JtYXRJbmZvLm1pbWVUeXBlIHx8IGF0dGFjaG1lbnQuZmlsZVR5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRW5zdXJlIGZvbGRlciBleGlzdHNcbiAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IHRhcmdldFBhdGguc3Vic3RyaW5nKDAsIHRhcmdldFBhdGgubGFzdEluZGV4T2YoJy8nKSk7XG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhmb2xkZXJQYXRoLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgQ2hhdEdQVCBhdHRhY2htZW50IGZvbGRlcjogJHtmb2xkZXJSZXN1bHQuZXJyb3J9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgZmlsZSBjb25mbGljdHMgYnkgYWRkaW5nIHN1ZmZpeCBpZiBuZWVkZWRcbiAgICAgICAgdGFyZ2V0UGF0aCA9IGF3YWl0IHRoaXMucmVzb2x2ZUZpbGVDb25mbGljdCh0YXJnZXRQYXRoKTtcblxuICAgICAgICAvLyBTYXZlIGZpbGVcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGVCaW5hcnkodGFyZ2V0UGF0aCwgZmlsZUNvbnRlbnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2NhbFBhdGg6IHRhcmdldFBhdGgsXG4gICAgICAgICAgICBmaW5hbEZpbGVOYW1lOiBmaW5hbEZpbGVOYW1lLFxuICAgICAgICAgICAgYWN0dWFsRmlsZVR5cGU6IGZvcm1hdEluZm8ubWltZVR5cGUgfHwgYXR0YWNobWVudC5maWxlVHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVjdCBmaWxlIGZvcm1hdCBmcm9tIG1hZ2ljIGJ5dGVzIChlc3BlY2lhbGx5IGZvciAuZGF0IGZpbGVzKVxuICAgICAqL1xuICAgIHByaXZhdGUgZGV0ZWN0RmlsZUZvcm1hdChmaWxlQ29udGVudDogVWludDhBcnJheSk6IHtleHRlbnNpb246IHN0cmluZyB8IG51bGwsIG1pbWVUeXBlOiBzdHJpbmcgfCBudWxsfSB7XG4gICAgICAgIGlmIChmaWxlQ29udGVudC5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdGaWxlIHRvbyBzbWFsbCBmb3IgZm9ybWF0IGRldGVjdGlvbicpO1xuICAgICAgICAgICAgcmV0dXJuIHtleHRlbnNpb246IG51bGwsIG1pbWVUeXBlOiBudWxsfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIG1hZ2ljIGJ5dGVzXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IEFycmF5LmZyb20oZmlsZUNvbnRlbnQuc2xpY2UoMCwgMTIpKS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFBORzogODkgNTAgNEUgNDcgMEQgMEEgMUEgMEFcbiAgICAgICAgaWYgKGhlYWRlci5zdGFydHNXaXRoKCc4OTUwNGU0NycpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2V4dGVuc2lvbjogJ3BuZycsIG1pbWVUeXBlOiAnaW1hZ2UvcG5nJ307XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEpQRUc6IEZGIEQ4IEZGXG4gICAgICAgIGlmIChoZWFkZXIuc3RhcnRzV2l0aCgnZmZkOGZmJykpIHtcbiAgICAgICAgICAgIHJldHVybiB7ZXh0ZW5zaW9uOiAnanBnJywgbWltZVR5cGU6ICdpbWFnZS9qcGVnJ307XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdJRjogNDcgNDkgNDYgMzhcbiAgICAgICAgaWYgKGhlYWRlci5zdGFydHNXaXRoKCc0NzQ5NDYzOCcpKSB7XG4gICAgICAgICAgICByZXR1cm4ge2V4dGVuc2lvbjogJ2dpZicsIG1pbWVUeXBlOiAnaW1hZ2UvZ2lmJ307XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFdlYlA6IDUyIDQ5IDQ2IDQ2IFs0IGJ5dGVzXSA1NyA0NSA0MiA1MFxuICAgICAgICBpZiAoaGVhZGVyLnN0YXJ0c1dpdGgoJzUyNDk0NjQ2JykgJiYgaGVhZGVyLnN1YnN0cmluZygxNiwgMjQpID09PSAnNTc0NTQyNTAnKSB7XG4gICAgICAgICAgICByZXR1cm4ge2V4dGVuc2lvbjogJ3dlYnAnLCBtaW1lVHlwZTogJ2ltYWdlL3dlYnAnfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUklGRiAoY291bGQgYmUgV2ViUCBvciBvdGhlciBmb3JtYXRzKVxuICAgICAgICBpZiAoaGVhZGVyLnN0YXJ0c1dpdGgoJzUyNDk0NjQ2JykpIHtcbiAgICAgICAgICAgIHJldHVybiB7ZXh0ZW5zaW9uOiAnd2VicCcsIG1pbWVUeXBlOiAnaW1hZ2Uvd2VicCd9OyAvLyBBc3N1bWUgV2ViUCBmb3IgUklGRiBpbiBEQUxMLUUgY29udGV4dFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtleHRlbnNpb246IG51bGwsIG1pbWVUeXBlOiBudWxsfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGZpbGUgY29uZmxpY3RzIGJ5IGFkZGluZyBudW1lcmljIHN1ZmZpeFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcmVzb2x2ZUZpbGVDb25mbGljdChvcmlnaW5hbFBhdGg6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGxldCBmaW5hbFBhdGggPSBvcmlnaW5hbFBhdGg7XG4gICAgICAgIGxldCBjb3VudGVyID0gMTtcblxuICAgICAgICB3aGlsZSAoYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKGZpbmFsUGF0aCkpIHtcbiAgICAgICAgICAgIC8vIEZpbGUgZXhpc3RzLCB0cnkgd2l0aCBzdWZmaXhcbiAgICAgICAgICAgIGNvbnN0IGxhc3REb3QgPSBvcmlnaW5hbFBhdGgubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgICAgICAgIGlmIChsYXN0RG90ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpbmFsUGF0aCA9IGAke29yaWdpbmFsUGF0aH1fJHtjb3VudGVyfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVXaXRob3V0RXh0ID0gb3JpZ2luYWxQYXRoLnN1YnN0cmluZygwLCBsYXN0RG90KTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbnNpb24gPSBvcmlnaW5hbFBhdGguc3Vic3RyaW5nKGxhc3REb3QpO1xuICAgICAgICAgICAgICAgIGZpbmFsUGF0aCA9IGAke25hbWVXaXRob3V0RXh0fV8ke2NvdW50ZXJ9JHtleHRlbnNpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaW5hbFBhdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBmaWxlIGluIFpJUCAtIEVOSEFOQ0VEIFdJVEggQ09NUFJFSEVOU0lWRSBTRUFSQ0ggKyBDQUNISU5HXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBmaW5kQ2hhdEdQVEZpbGVCeUlkKHppcDogSlNaaXAsIGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudCk6IFByb21pc2U8SlNaaXAuSlNaaXBPYmplY3QgfCBudWxsPiB7XG4gICAgICAgIGlmICghYXR0YWNobWVudC5maWxlSWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIGZpbGVJZCBwcm92aWRlZCBmb3IgYXR0YWNobWVudDonLCBhdHRhY2htZW50LmZpbGVOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBgJHthdHRhY2htZW50LmZpbGVJZH1fJHthdHRhY2htZW50LmZpbGVOYW1lfWA7XG4gICAgICAgIGlmICh0aGlzLnppcEZpbGVDYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56aXBGaWxlQ2FjaGUuZ2V0KGNhY2hlS2V5KSE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdHJhdGVneSAxOiBUcnkgZXhhY3QgZmlsZW5hbWUgbWF0Y2ggZmlyc3RcbiAgICAgICAgbGV0IHppcEZpbGUgPSB6aXAuZmlsZShhdHRhY2htZW50LmZpbGVOYW1lKTtcbiAgICAgICAgaWYgKHppcEZpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuemlwRmlsZUNhY2hlLnNldChjYWNoZUtleSwgemlwRmlsZSk7XG4gICAgICAgICAgICByZXR1cm4gemlwRmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0cmF0ZWd5IDI6IENvbXByZWhlbnNpdmUgc2VhcmNoIGJ5IGZpbGUgSUQgaW4gZW50aXJlIFpJUFxuICAgICAgICBjb25zdCBmb3VuZEZpbGUgPSBhd2FpdCB0aGlzLnNlYXJjaFppcEJ5RmlsZUlkKHppcCwgYXR0YWNobWVudC5maWxlSWQpO1xuXG4gICAgICAgIC8vIENhY2hlIHJlc3VsdCAoZXZlbiBpZiBudWxsKVxuICAgICAgICB0aGlzLnppcEZpbGVDYWNoZS5zZXQoY2FjaGVLZXksIGZvdW5kRmlsZSk7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kRmlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggZW50aXJlIFpJUCBmb3IgZmlsZSBieSBleGFjdCBJRFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgc2VhcmNoWmlwQnlGaWxlSWQoemlwOiBKU1ppcCwgZmlsZUlkOiBzdHJpbmcpOiBQcm9taXNlPEpTWmlwLkpTWmlwT2JqZWN0IHwgbnVsbD4ge1xuICAgICAgICAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgZmlsZXMgaW4gWklQIGZvciBleGFjdCBtYXRjaFxuICAgICAgICBmb3IgKGNvbnN0IFtwYXRoLCBmaWxlXSBvZiBPYmplY3QuZW50cmllcyh6aXAuZmlsZXMpKSB7XG4gICAgICAgICAgICBpZiAoZmlsZS5kaXIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBwYXRoIGNvbnRhaW5zIHRoZSBleGFjdCBmaWxlIElEXG4gICAgICAgICAgICBpZiAocGF0aC5pbmNsdWRlcyhmaWxlSWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGxvY2FsIHBhdGggZm9yIENoYXRHUFQgYXR0YWNobWVudCB1c2luZyBhdHRhY2htZW50Rm9sZGVyIHNldHRpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlTG9jYWxQYXRoKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5jYXRlZ29yaXplRmlsZShhdHRhY2htZW50KTtcblxuICAgICAgICAvLyBDbGVhbiBmaWxlbmFtZSBmb3IgZmlsZXN5c3RlbSAtIGtlZXAgb3JpZ2luYWwgbmFtZSBzaW5jZSBpdCBzaG91bGQgYmUgdW5pcXVlXG4gICAgICAgIGNvbnN0IHNhZmVGaWxlTmFtZSA9IHRoaXMuc2FuaXRpemVGaWxlTmFtZShhdHRhY2htZW50LmZpbGVOYW1lKTtcblxuICAgICAgICAvLyBVc2UgYXR0YWNobWVudEZvbGRlciBzZXR0aW5nOiA8YXR0YWNobWVudEZvbGRlcj4vY2hhdGdwdC88Y2F0ZWdvcnk+L2ZpbGVuYW1lLmpwZ1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2hhdGdwdC8ke2NhdGVnb3J5fS8ke3NhZmVGaWxlTmFtZX1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhdGVnb3JpemUgZmlsZSBiYXNlZCBvbiBNSU1FIHR5cGUgb3IgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYXRlZ29yaXplRmlsZShhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQpOiBzdHJpbmcge1xuICAgICAgICAvLyBVc2UgTUlNRSB0eXBlIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoYXR0YWNobWVudC5maWxlVHlwZSkge1xuICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnQuZmlsZVR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHJldHVybiAnaW1hZ2VzJztcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVUeXBlLnN0YXJ0c1dpdGgoJ2F1ZGlvLycpKSByZXR1cm4gJ2F1ZGlvJztcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVUeXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSByZXR1cm4gJ3ZpZGVvJztcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LmZpbGVUeXBlID09PSAnYXBwbGljYXRpb24vcGRmJykgcmV0dXJuICdkb2N1bWVudHMnO1xuICAgICAgICAgICAgaWYgKGF0dGFjaG1lbnQuZmlsZVR5cGUuaW5jbHVkZXMoJ3RleHQvJykgfHwgYXR0YWNobWVudC5maWxlVHlwZS5pbmNsdWRlcygnbWFya2Rvd24nKSkgcmV0dXJuICdkb2N1bWVudHMnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGZpbGUgZXh0ZW5zaW9uIHVzaW5nIEZpbGVTZXJ2aWNlXG4gICAgICAgIGNvbnN0IGV4dCA9IHRoaXMucGx1Z2luLmdldEZpbGVTZXJ2aWNlKCkuZ2V0RmlsZUV4dGVuc2lvbihhdHRhY2htZW50LmZpbGVOYW1lKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGF1ZGlvRXh0cyA9IFsnd2F2JywgJ21wMycsICdvZ2cnLCAnbTRhJywgJ2ZsYWMnXTtcbiAgICAgICAgY29uc3QgaW1hZ2VFeHRzID0gWydwbmcnLCAnanBnJywgJ2pwZWcnLCAnZ2lmJywgJ3dlYnAnLCAnc3ZnJ107XG4gICAgICAgIGNvbnN0IGRvY0V4dHMgPSBbJ3BkZicsICdkb2MnLCAnZG9jeCcsICd0eHQnLCAnbWQnLCAncnRmJ107XG4gICAgICAgIGNvbnN0IHZpZGVvRXh0cyA9IFsnbXA0JywgJ2F2aScsICdtb3YnLCAnbWt2J107XG5cbiAgICAgICAgaWYgKGF1ZGlvRXh0cy5pbmNsdWRlcyhleHQpKSByZXR1cm4gJ2F1ZGlvJztcbiAgICAgICAgaWYgKGltYWdlRXh0cy5pbmNsdWRlcyhleHQpKSByZXR1cm4gJ2ltYWdlcyc7XG4gICAgICAgIGlmIChkb2NFeHRzLmluY2x1ZGVzKGV4dCkpIHJldHVybiAnZG9jdW1lbnRzJztcbiAgICAgICAgaWYgKHZpZGVvRXh0cy5pbmNsdWRlcyhleHQpKSByZXR1cm4gJ3ZpZGVvJztcbiAgICAgICAgXG4gICAgICAgIHJldHVybiAnZmlsZXMnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbml0aXplIGZpbGVuYW1lIGFuZCBoYW5kbGUgcG90ZW50aWFsIGNvbmZsaWN0c1xuICAgICAqL1xuICAgIHByaXZhdGUgc2FuaXRpemVGaWxlTmFtZShmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNsZWFuTmFtZSA9IGZpbGVOYW1lXG4gICAgICAgICAgICAucmVwbGFjZSgvWzw+OlwiXFwvXFxcXHw/Kl0vZywgJ18nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJ18nKVxuICAgICAgICAgICAgLnRyaW0oKTtcbiAgICAgICAgICAgIFxuICAgICAgICAvLyBJZiBmaWxlbmFtZSBjb25mbGljdHMgbWlnaHQgb2NjdXIsIHdlIGNvdWxkIGFkZCBhIHRpbWVzdGFtcCBwcmVmaXhcbiAgICAgICAgLy8gYnV0IGZvciBub3csIENoYXRHUFQgZmlsZSBJRHMgc2hvdWxkIG1ha2UgbmFtZXMgdW5pcXVlIGVub3VnaFxuICAgICAgICByZXR1cm4gY2xlYW5OYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIFpJUCBmaWxlIGNhY2hlIChjYWxsIGJldHdlZW4gZGlmZmVyZW50IFpJUCBmaWxlcylcbiAgICAgKi9cbiAgICBjbGVhckNhY2hlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnppcEZpbGVDYWNoZS5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhdHRhY2htZW50IHByb2Nlc3Npbmcgc3RhdGlzdGljc1xuICAgICAqL1xuICAgIGdldFN0YXRpc3RpY3MoYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdKToge1xuICAgICAgICB0b3RhbDogbnVtYmVyO1xuICAgICAgICBmb3VuZDogbnVtYmVyO1xuICAgICAgICBtaXNzaW5nOiBudW1iZXI7XG4gICAgICAgIGZhaWxlZDogbnVtYmVyO1xuICAgIH0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG90YWw6IGF0dGFjaG1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGZvdW5kOiBhdHRhY2htZW50cy5maWx0ZXIoYSA9PiBhLnN0YXR1cz8uZm91bmQgJiYgYS5zdGF0dXM/LnByb2Nlc3NlZCkubGVuZ3RoLFxuICAgICAgICAgICAgbWlzc2luZzogYXR0YWNobWVudHMuZmlsdGVyKGEgPT4gIWEuc3RhdHVzPy5mb3VuZCAmJiBhLnN0YXR1cz8ucmVhc29uID09PSAnbWlzc2luZ19mcm9tX2V4cG9ydCcpLmxlbmd0aCxcbiAgICAgICAgICAgIGZhaWxlZDogYXR0YWNobWVudHMuZmlsdGVyKGEgPT4gYS5zdGF0dXM/LnJlYXNvbiA9PT0gJ2V4dHJhY3Rpb25fZmFpbGVkJykubGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxufSIsICIvLyBzcmMvcHJvdmlkZXJzL2NoYXRncHQvY2hhdGdwdC1yZXBvcnQtbmFtaW5nLnRzXG5pbXBvcnQgeyBSZXBvcnROYW1pbmdTdHJhdGVneSB9IGZyb20gXCIuLi8uLi90eXBlcy9zdGFuZGFyZFwiO1xuXG5leHBvcnQgY2xhc3MgQ2hhdEdQVFJlcG9ydE5hbWluZ1N0cmF0ZWd5IGltcGxlbWVudHMgUmVwb3J0TmFtaW5nU3RyYXRlZ3kge1xuICAgIFxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgZGF0ZSBwcmVmaXggZnJvbSBDaGF0R1BUIFpJUCBmaWxlbmFtZVxuICAgICAqIEV4YW1wbGVzOlxuICAgICAqIC0gXCIzYjAwYWJhZmI5MjIyYTk1ODBhYTdjYmIxOTgxNjZlZDBjNjE2MzQyMjJjY2U5NTcxYmIwNzlhMjg4NmFlZWQ1LTIwMjUtMDQtMjUtMTQtNDAtNDItZmYxOWMyZmQ4OThkNDRkOWJjNTk0NWVlODBjMTk5Y2EuemlwXCJcbiAgICAgKiAtIFwiY2hhdGdwdC1leHBvcnQtMjAyNS0wNC0yNS56aXBcIlxuICAgICAqIC0gXCJjb252ZXJzYXRpb25zLTIwMjUtMDQtMjUtMTQtNDAtNDIuemlwXCJcbiAgICAgKi9cbiAgICBleHRyYWN0UmVwb3J0UHJlZml4KHppcEZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBHZXQgY3VycmVudCBpbXBvcnQgZGF0ZVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBpbXBvcnRZZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IGltcG9ydE1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3QgaW1wb3J0RGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGltcG9ydERhdGUgPSBgJHtpbXBvcnRZZWFyfS4ke2ltcG9ydE1vbnRofS4ke2ltcG9ydERheX1gO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgYXJjaGl2ZSBkYXRlIGluIGZvcm1hdCBZWVlZLU1NLUREIGZyb20gZmlsZW5hbWVcbiAgICAgICAgY29uc3QgZGF0ZVJlZ2V4ID0gLyhcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pLztcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB6aXBGaWxlTmFtZS5tYXRjaChkYXRlUmVnZXgpO1xuICAgICAgICBcbiAgICAgICAgbGV0IGFyY2hpdmVEYXRlOiBzdHJpbmc7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheV0gPSBtYXRjaDtcbiAgICAgICAgICAgIGFyY2hpdmVEYXRlID0gYCR7eWVhcn0uJHttb250aH0uJHtkYXl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrOiB1c2UgY3VycmVudCBkYXRlIGlmIG5vIGRhdGUgZm91bmQgaW4gZmlsZW5hbWVcbiAgICAgICAgICAgIGFyY2hpdmVEYXRlID0gaW1wb3J0RGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9ybWF0OiBpbXBvcnRlZC1ZWVlZLk1NLkRELWFyY2hpdmUtWVlZWS5NTS5ERFxuICAgICAgICByZXR1cm4gYGltcG9ydGVkLSR7aW1wb3J0RGF0ZX0tYXJjaGl2ZS0ke2FyY2hpdmVEYXRlfWA7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEdldCBDaGF0R1BUIHByb3ZpZGVyIG5hbWVcbiAgICAgKi9cbiAgICBnZXRQcm92aWRlck5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiY2hhdGdwdFwiO1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW4oKTogeyBoZWFkZXI6IHN0cmluZzsgZ2V0VmFsdWU6IChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSkgPT4gbnVtYmVyIH0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVhZGVyOiBcIkF0dGFjaG1lbnRzXCIsXG4gICAgICAgICAgICBnZXRWYWx1ZTogKGFkYXB0ZXI6IGFueSwgY2hhdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQ291bnQgYXR0YWNobWVudHMgaW4gQ2hhdEdQVCBjb252ZXJzYXRpb25cbiAgICAgICAgICAgICAgICBsZXQgYXR0YWNobWVudENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoY2hhdC5tYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoY2hhdC5tYXBwaW5nKS5mb3JFYWNoKChub2RlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1lc3NhZ2U/Lm1ldGFkYXRhPy5hdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRDb3VudCArPSBub2RlLm1lc3NhZ2UubWV0YWRhdGEuYXR0YWNobWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnRDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59IiwgIi8vIHNyYy9wcm92aWRlcnMvY2hhdGdwdC9jaGF0Z3B0LWFkYXB0ZXIudHNcbmltcG9ydCBKU1ppcCBmcm9tIFwianN6aXBcIjtcbmltcG9ydCB7IFByb3ZpZGVyQWRhcHRlciB9IGZyb20gXCIuLi9wcm92aWRlci1hZGFwdGVyXCI7XG5pbXBvcnQgeyBTdGFuZGFyZENvbnZlcnNhdGlvbiwgU3RhbmRhcmRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBDaGF0R1BUQ29udmVydGVyIH0gZnJvbSBcIi4vY2hhdGdwdC1jb252ZXJ0ZXJcIjtcbmltcG9ydCB7IENoYXRHUFRBdHRhY2htZW50RXh0cmFjdG9yIH0gZnJvbSBcIi4vY2hhdGdwdC1hdHRhY2htZW50LWV4dHJhY3RvclwiO1xuaW1wb3J0IHsgQ2hhdEdQVFJlcG9ydE5hbWluZ1N0cmF0ZWd5IH0gZnJvbSBcIi4vY2hhdGdwdC1yZXBvcnQtbmFtaW5nXCI7XG5pbXBvcnQgeyBDaGF0LCBDaGF0TWVzc2FnZSB9IGZyb20gXCIuL2NoYXRncHQtdHlwZXNcIjtcbmltcG9ydCB7IGlzVmFsaWRNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGF0R1BUQWRhcHRlciBpbXBsZW1lbnRzIFByb3ZpZGVyQWRhcHRlcjxDaGF0PiB7XG4gICAgcHJpdmF0ZSBhdHRhY2htZW50RXh0cmFjdG9yOiBDaGF0R1BUQXR0YWNobWVudEV4dHJhY3RvcjtcbiAgICBwcml2YXRlIHJlcG9ydE5hbWluZ1N0cmF0ZWd5OiBDaGF0R1BUUmVwb3J0TmFtaW5nU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge1xuICAgICAgICB0aGlzLmF0dGFjaG1lbnRFeHRyYWN0b3IgPSBuZXcgQ2hhdEdQVEF0dGFjaG1lbnRFeHRyYWN0b3IocGx1Z2luLCBwbHVnaW4ubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5yZXBvcnROYW1pbmdTdHJhdGVneSA9IG5ldyBDaGF0R1BUUmVwb3J0TmFtaW5nU3RyYXRlZ3koKTtcbiAgICB9XG5cbiAgICBkZXRlY3QocmF3Q29udmVyc2F0aW9uczogYW55W10pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHJhd0NvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzYW1wbGUgPSByYXdDb252ZXJzYXRpb25zWzBdO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hhdEdQVCBkZXRlY3Rpb246IGhhcyBtYXBwaW5nIHByb3BlcnR5IGFuZCB0eXBpY2FsIHN0cnVjdHVyZVxuICAgICAgICByZXR1cm4gISEoc2FtcGxlLm1hcHBpbmcgJiYgc2FtcGxlLmNyZWF0ZV90aW1lICYmIHNhbXBsZS51cGRhdGVfdGltZSAmJiBzYW1wbGUudGl0bGUpO1xuICAgIH1cblxuICAgIGdldElkKGNoYXQ6IENoYXQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY2hhdC5pZCB8fCBcIlwiO1xuICAgIH1cblxuICAgIGdldFRpdGxlKGNoYXQ6IENoYXQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY2hhdC50aXRsZSB8fCBcIlVudGl0bGVkXCI7XG4gICAgfVxuXG4gICAgZ2V0Q3JlYXRlVGltZShjaGF0OiBDaGF0KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGNoYXQuY3JlYXRlX3RpbWUgfHwgMDtcbiAgICB9XG5cbiAgICBnZXRVcGRhdGVUaW1lKGNoYXQ6IENoYXQpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY2hhdC51cGRhdGVfdGltZSB8fCAwO1xuICAgIH1cblxuICAgIGNvbnZlcnRDaGF0KGNoYXQ6IENoYXQpOiBTdGFuZGFyZENvbnZlcnNhdGlvbiB7XG4gICAgICAgIHJldHVybiBDaGF0R1BUQ29udmVydGVyLmNvbnZlcnRDaGF0KGNoYXQpO1xuICAgIH1cblxuICAgIGNvbnZlcnRNZXNzYWdlcyhtZXNzYWdlczogQ2hhdE1lc3NhZ2VbXSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcpOiBTdGFuZGFyZE1lc3NhZ2VbXSB7XG4gICAgICAgIHJldHVybiBDaGF0R1BUQ29udmVydGVyLmNvbnZlcnRNZXNzYWdlcyhtZXNzYWdlcywgY29udmVyc2F0aW9uSWQpO1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJjaGF0Z3B0XCI7XG4gICAgfVxuXG4gICAgZ2V0TmV3TWVzc2FnZXMoY2hhdDogQ2hhdCwgZXhpc3RpbmdNZXNzYWdlSWRzOiBzdHJpbmdbXSk6IENoYXRNZXNzYWdlW10ge1xuICAgICAgICBjb25zdCBuZXdNZXNzYWdlczogQ2hhdE1lc3NhZ2VbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlT2JqIG9mIE9iamVjdC52YWx1ZXMoY2hhdC5tYXBwaW5nKSkge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VPYmo/LmlkICYmICFleGlzdGluZ01lc3NhZ2VJZHMuaW5jbHVkZXMobWVzc2FnZU9iai5pZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZU9iai5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGlmICghbWVzc2FnZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBzYW1lIGZpbHRlcmluZyBsb2dpYyBhcyBpbiBDaGF0R1BUQ29udmVydGVyLmV4dHJhY3RNZXNzYWdlc0Zyb21NYXBwaW5nXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yPy5yb2xlID09PSBcInRvb2xcIiAmJiB0aGlzLmhhc1JlYWxEYWxsZUltYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBBc3Npc3RhbnQgKERBTEwtRSkgbWVzc2FnZSBmb3IgcmVhbCBEQUxMLUUgZ2VuZXJhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFsbGVNZXNzYWdlID0gdGhpcy5jcmVhdGVEYWxsZUFzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYWxsZU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld01lc3NhZ2VzLnB1c2goZGFsbGVNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWd1bGFyIHVzZXIvYXNzaXN0YW50IG1lc3NhZ2VzIHdpdGggZW5oYW5jZWQgZmlsdGVyaW5nXG4gICAgICAgICAgICAgICAgICAgIG5ld01lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXM7XG4gICAgfVxuXG4gICAgYXN5bmMgcHJvY2Vzc01lc3NhZ2VBdHRhY2htZW50cyhcbiAgICAgICAgbWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICB6aXA6IEpTWmlwXG4gICAgKTogUHJvbWlzZTxTdGFuZGFyZE1lc3NhZ2VbXT4ge1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRNZXNzYWdlczogU3RhbmRhcmRNZXNzYWdlW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXR0YWNobWVudHMgJiYgbWVzc2FnZS5hdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQXR0YWNobWVudHMgPSBhd2FpdCB0aGlzLmF0dGFjaG1lbnRFeHRyYWN0b3IuZXh0cmFjdEF0dGFjaG1lbnRzKFxuICAgICAgICAgICAgICAgICAgICB6aXAsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM6IHByb2Nlc3NlZEF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZE1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRNZXNzYWdlcztcbiAgICB9XG5cbiAgICBnZXRSZXBvcnROYW1pbmdTdHJhdGVneSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwb3J0TmFtaW5nU3RyYXRlZ3k7XG4gICAgfVxuXG4gICAgZ2V0UHJvdmlkZXJOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImNoYXRncHRcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBtZXNzYWdlIGNvbnRhaW5zIFJFQUwgREFMTC1FIGltYWdlIChub3QgdXNlciB1cGxvYWQpXG4gICAgICovXG4gICAgcHJpdmF0ZSBoYXNSZWFsRGFsbGVJbWFnZShtZXNzYWdlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlLmNvbnRlbnQ/LnBhcnRzIHx8ICFBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5zb21lKChwYXJ0OiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCAhPT0gXCJvYmplY3RcIiB8fCBwYXJ0ID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBwYXJ0LmNvbnRlbnRfdHlwZSA9PT0gXCJpbWFnZV9hc3NldF9wb2ludGVyXCIgJiYgXG4gICAgICAgICAgICAgICAgICAgcGFydC5hc3NldF9wb2ludGVyICYmXG4gICAgICAgICAgICAgICAgICAgcGFydC5tZXRhZGF0YT8uZGFsbGUgJiYgXG4gICAgICAgICAgICAgICAgICAgcGFydC5tZXRhZGF0YS5kYWxsZSAhPT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEFzc2lzdGFudCAoREFMTC1FKSBtZXNzYWdlIGZyb20gdG9vbCBtZXNzYWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjcmVhdGVEYWxsZUFzc2lzdGFudE1lc3NhZ2UodG9vbE1lc3NhZ2U6IGFueSk6IENoYXRNZXNzYWdlIHwgbnVsbCB7XG4gICAgICAgIGlmICghdG9vbE1lc3NhZ2UuY29udGVudD8ucGFydHMgfHwgIUFycmF5LmlzQXJyYXkodG9vbE1lc3NhZ2UuY29udGVudC5wYXJ0cykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXR0YWNobWVudHM6IGFueVtdID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdG9vbE1lc3NhZ2UuY29udGVudC5wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcIm9iamVjdFwiICYmIHBhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5jb250ZW50X3R5cGUgPT09IFwiaW1hZ2VfYXNzZXRfcG9pbnRlclwiICYmIFxuICAgICAgICAgICAgICAgICAgICBwYXJ0LmFzc2V0X3BvaW50ZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgcGFydC5tZXRhZGF0YT8uZGFsbGUgJiZcbiAgICAgICAgICAgICAgICAgICAgcGFydC5tZXRhZGF0YS5kYWxsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBmaWxlIElEIGZyb20gYXNzZXQgcG9pbnRlclxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZUlkID0gcGFydC5hc3NldF9wb2ludGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZUlkLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUlkID0gZmlsZUlkLnNwbGl0KCc6Ly8nKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGRlc2NyaXB0aXZlIGZpbGVuYW1lXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbklkID0gcGFydC5tZXRhZGF0YS5kYWxsZS5nZW5faWQgfHwgJ3Vua25vd24nO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHBhcnQud2lkdGggfHwgMTAyNDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gcGFydC5oZWlnaHQgfHwgMTAyNDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgZGFsbGVfJHtnZW5JZH1fJHt3aWR0aH14JHtoZWlnaHR9LnBuZ2A7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFsbGVBdHRhY2htZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNpemU6IHBhcnQuc2l6ZV9ieXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiBcImltYWdlL3BuZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUlkOiBmaWxlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBwYXJ0Lm1ldGFkYXRhLmRhbGxlLnByb21wdFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHMucHVzaChkYWxsZUF0dGFjaG1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRhY2htZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0b29sTWVzc2FnZS5pZCB8fCBcIlwiLFxuICAgICAgICAgICAgYXV0aG9yOiB7IHJvbGU6IFwiYXNzaXN0YW50XCIgfSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICBwYXJ0czogW1wiSW1hZ2UgZ1x1MDBFOW5cdTAwRTlyXHUwMEU5ZSBwYXIgREFMTC1FXCJdLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogXCJ0ZXh0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVfdGltZTogdG9vbE1lc3NhZ2UuY3JlYXRlX3RpbWUgfHwgMCxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50c1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiBhIG1lc3NhZ2Ugc2hvdWxkIGJlIGluY2x1ZGVkIC0gc2FtZSBsb2dpYyBhcyBDaGF0R1BUQ29udmVydGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBzaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgLy8gU2FmZXR5IGNoZWNrXG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS5hdXRob3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2tpcCBBTEwgc3lzdGVtIG1lc3NhZ2VzXG4gICAgICAgIGlmIChtZXNzYWdlLmF1dGhvci5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNraXAgQUxMIHRvb2wgbWVzc2FnZXNcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLnJvbGUgPT09IFwidG9vbFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNraXAgaGlkZGVuIG1lc3NhZ2VzXG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGFkYXRhPy5pc192aXN1YWxseV9oaWRkZW5fZnJvbV9jb252ZXJzYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2tpcCB1c2VyIHN5c3RlbSBtZXNzYWdlc1xuICAgICAgICBpZiAobWVzc2FnZS5tZXRhZGF0YT8uaXNfdXNlcl9zeXN0ZW1fbWVzc2FnZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTa2lwIHVzZXJfZWRpdGFibGVfY29udGV4dCBjb250ZW50IHR5cGVcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlID09PSBcInVzZXJfZWRpdGFibGVfY29udGV4dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFzc2lzdGFudCBtZXNzYWdlIGZpbHRlcmluZ1xuICAgICAgICBpZiAobWVzc2FnZS5hdXRob3Iucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBhc3Npc3RhbnQgbWVzc2FnZXNcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LnBhcnRzICYmIFxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50LnBhcnRzKSAmJlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5ldmVyeSgocGFydDogYW55KSA9PiBcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50cmltKCkgPT09IFwiXCJcbiAgICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTa2lwIGFzc2lzdGFudCBtZXNzYWdlcyB0aGF0IGFyZSBqdXN0IERBTEwtRSBKU09OIHByb21wdHNcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQ/LnBhcnRzICYmIFxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50LnBhcnRzKSAmJlxuICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudC5wYXJ0cy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50LnBhcnRzWzBdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG1lc3NhZ2UuY29udGVudC5wYXJ0c1swXS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuc3RhcnRzV2l0aCgneycpICYmIGNvbnRlbnQuaW5jbHVkZXMoJ1wicHJvbXB0XCInKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTa2lwIHZhcmlvdXMgdGVjaG5pY2FsIGNvbnRlbnQgdHlwZXNcbiAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkQ29udGVudFR5cGVzID0gW1wiY29kZVwiLCBcInN5c3RlbV9lcnJvclwiLCBcImV4ZWN1dGlvbl9vdXRwdXRcIl07XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5jb250ZW50X3R5cGUgJiYgZXhjbHVkZWRDb250ZW50VHlwZXMuaW5jbHVkZXMobWVzc2FnZS5jb250ZW50LmNvbnRlbnRfdHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZvciBtdWx0aW1vZGFsX3RleHQsIGNoZWNrIGlmIGl0IGhhcyBhY3R1YWwgdGV4dCBjb250ZW50XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5jb250ZW50X3R5cGUgPT09IFwibXVsdGltb2RhbF90ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5jb250ZW50Py5wYXJ0cyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2UuY29udGVudC5wYXJ0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzVGV4dENvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQucGFydHMuc29tZSgocGFydDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50cmltKCkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PT0gXCJvYmplY3RcIiAmJiBwYXJ0ICE9PSBudWxsICYmICd0ZXh0JyBpbiBwYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYXJ0LnRleHQgPT09IFwic3RyaW5nXCIgJiYgcGFydC50ZXh0LnRyaW0oKSAhPT0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1RleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVzZXIgbWVzc2FnZSBmaWx0ZXJpbmdcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aG9yLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGNsdWRlZENvbnRlbnRUeXBlcyA9IFtcInVzZXJfZWRpdGFibGVfY29udGV4dFwiXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudD8uY29udGVudF90eXBlICYmIGV4Y2x1ZGVkQ29udGVudFR5cGVzLmluY2x1ZGVzKG1lc3NhZ2UuY29udGVudC5jb250ZW50X3R5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGaW5hbCB2YWxpZGF0aW9uIHVzaW5nIGV4aXN0aW5nIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBpc1ZhbGlkTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL3Byb3ZpZGVycy9jbGF1ZGUvY2xhdWRlLWNvbnZlcnRlci50c1xuaW1wb3J0IHsgU3RhbmRhcmRDb252ZXJzYXRpb24sIFN0YW5kYXJkTWVzc2FnZSwgU3RhbmRhcmRBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBDbGF1ZGVDb252ZXJzYXRpb24sIENsYXVkZU1lc3NhZ2UsIENsYXVkZUNvbnRlbnRCbG9jayB9IGZyb20gXCIuL2NsYXVkZS10eXBlc1wiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgQ2xhdWRlQ29udmVydGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW47XG5cbiAgICAvLyBOZXh1cyBjdXN0b20gY2FsbG91dHMgd2l0aCBpY29uc1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IENBTExPVVRTID0ge1xuICAgICAgICBVU0VSOiAnbmV4dXNfdXNlcicsICAgICAgLy8gXHVEODNEXHVEQzY0IFVzZXIgbWVzc2FnZXNcbiAgICAgICAgQUdFTlQ6ICduZXh1c19hZ2VudCcsICAgIC8vIFx1RDgzRVx1REQxNiBBc3Npc3RhbnQvQWdlbnQgbWVzc2FnZXNcbiAgICAgICAgQVRUQUNITUVOVDogJ25leHVzX2F0dGFjaG1lbnQnLCAvLyBcdUQ4M0RcdURDQ0UgQXR0YWNobWVudHNcbiAgICAgICAgQVJUSUZBQ1Q6ICduZXh1c19hcnRpZmFjdCcsICAgICAvLyBcdUQ4M0RcdURFRTBcdUZFMEYgQ2xhdWRlIGFydGlmYWN0c1xuICAgICAgICBQUk9NUFQ6ICduZXh1c19wcm9tcHQnICAgICAgICAgIC8vIFx1RDgzRFx1RENBRCBTeXN0ZW0gcHJvbXB0c1xuICAgIH07XG5cbiAgICBzdGF0aWMgc2V0UGx1Z2luKHBsdWdpbjogTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbikge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgY29udmVydENoYXQoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogUHJvbWlzZTxTdGFuZGFyZENvbnZlcnNhdGlvbj4ge1xuICAgICAgICBjb25zdCBjcmVhdGVUaW1lID0gY2hhdC5jcmVhdGVkX2F0ID8gTWF0aC5mbG9vcihuZXcgRGF0ZShjaGF0LmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAvIDEwMDApIDogMDtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCB0aGlzLmNvbnZlcnRNZXNzYWdlcyhjaGF0LmNoYXRfbWVzc2FnZXMsIGNoYXQudXVpZCwgY2hhdC5uYW1lLCBjcmVhdGVUaW1lKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGNoYXQudXVpZCxcbiAgICAgICAgICAgIHRpdGxlOiBjaGF0Lm5hbWUgfHwgXCJVbnRpdGxlZFwiLFxuICAgICAgICAgICAgY3JlYXRlVGltZTogY2hhdC5jcmVhdGVkX2F0ID8gTWF0aC5mbG9vcihuZXcgRGF0ZShjaGF0LmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAvIDEwMDApIDogMCxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWU6IGNoYXQudXBkYXRlZF9hdCA/IE1hdGguZmxvb3IobmV3IERhdGUoY2hhdC51cGRhdGVkX2F0KS5nZXRUaW1lKCkgLyAxMDAwKSA6IDAsXG4gICAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsXG4gICAgICAgICAgICBwcm92aWRlcjogXCJjbGF1ZGVcIixcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvblVybDogYGh0dHBzOi8vY2xhdWRlLmFpL2NoYXQvJHtjaGF0LnV1aWR9YCxcbiAgICAgICAgICAgIG1vZGVsOiBjaGF0Lm1vZGVsIHx8IFwiY2xhdWRlLTNcIixcbiAgICAgICAgICAgIHN1bW1hcnk6IGNoYXQuc3VtbWFyeSB8fCBcIlwiXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGNvbnZlcnRNZXNzYWdlcyhtZXNzYWdlczogQ2xhdWRlTWVzc2FnZVtdLCBjb252ZXJzYXRpb25JZD86IHN0cmluZywgY29udmVyc2F0aW9uVGl0bGU/OiBzdHJpbmcsIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWU/OiBudW1iZXIpOiBQcm9taXNlPFN0YW5kYXJkTWVzc2FnZVtdPiB7XG4gICAgICAgIGNvbnN0IHN0YW5kYXJkTWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdID0gW107XG5cbiAgICAgICAgaWYgKCFtZXNzYWdlcyB8fCBtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFuZGFyZE1lc3NhZ2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUEhBU0UgMTogQ29sbGVjdCBBTEwgYXJ0aWZhY3RzIGZyb20gZW50aXJlIGNvbnZlcnNhdGlvblxuICAgICAgICBjb25zdCBhbGxBcnRpZmFjdHM6IEFycmF5PHthcnRpZmFjdDogYW55LCBtZXNzYWdlSW5kZXg6IG51bWJlciwgYmxvY2tJbmRleDogbnVtYmVyfT4gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBtc2dJbmRleCA9IDA7IG1zZ0luZGV4IDwgbWVzc2FnZXMubGVuZ3RoOyBtc2dJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZXNbbXNnSW5kZXhdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGJsb2NrSW5kZXggPSAwOyBibG9ja0luZGV4IDwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aDsgYmxvY2tJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gbWVzc2FnZS5jb250ZW50W2Jsb2NrSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudHlwZSA9PT0gJ3Rvb2xfdXNlJyAmJiBibG9jay5uYW1lID09PSAnYXJ0aWZhY3RzJyAmJiBibG9jay5pbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGJsb2NrLmlucHV0LmNvbW1hbmQgfHwgJ2NyZWF0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uVXVpZCA9IGJsb2NrLmlucHV0LnZlcnNpb25fdXVpZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCB2aWV3IGNvbW1hbmRzIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kICE9PSAndmlldycgJiYgdmVyc2lvblV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxBcnRpZmFjdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGlmYWN0OiBibG9jay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUluZGV4OiBtc2dJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tJbmRleDogYmxvY2tJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUEhBU0UgMjogUHJvY2VzcyBBTEwgYXJ0aWZhY3RzIGFuZCBjcmVhdGUgZmlsZXNcbiAgICAgICAgY29uc3QgYXJ0aWZhY3RWZXJzaW9uTWFwID0gYXdhaXQgdGhpcy5wcm9jZXNzQWxsQXJ0aWZhY3RzKGFsbEFydGlmYWN0cywgY29udmVyc2F0aW9uSWQsIGNvbnZlcnNhdGlvblRpdGxlLCBjb252ZXJzYXRpb25DcmVhdGVUaW1lKTtcblxuICAgICAgICAvLyBQSEFTRSAzOiBQcm9jZXNzIG1lc3NhZ2VzIGFuZCByZXBsYWNlIGFydGlmYWN0cyB3aXRoIGxpbmtzXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZEluY2x1ZGVNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgY29udGVudCBibG9ja3MgdG8gY3JlYXRlIG1lc3NhZ2UgdGV4dCBhbmQgYXR0YWNobWVudHNcbiAgICAgICAgICAgIGNvbnN0IHsgdGV4dCwgYXR0YWNobWVudHMgfSA9IGF3YWl0IHRoaXMucHJvY2Vzc0NvbnRlbnRCbG9ja3NGb3JEaXNwbGF5KFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICBhcnRpZmFjdFZlcnNpb25NYXAsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uVGl0bGUsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIGZpbGUgYXR0YWNobWVudHNcbiAgICAgICAgICAgIGNvbnN0IGZpbGVBdHRhY2htZW50cyA9IHRoaXMucHJvY2Vzc0ZpbGVBdHRhY2htZW50cyhtZXNzYWdlLmZpbGVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmRNZXNzYWdlOiBTdGFuZGFyZE1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UudXVpZCxcbiAgICAgICAgICAgICAgICByb2xlOiBtZXNzYWdlLnNlbmRlciA9PT0gJ2h1bWFuJyA/ICd1c2VyJyA6ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRleHQgfHwgbWVzc2FnZS50ZXh0IHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBNYXRoLmZsb29yKG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdCkuZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHM6IFsuLi5hdHRhY2htZW50cywgLi4uZmlsZUF0dGFjaG1lbnRzXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc3RhbmRhcmRNZXNzYWdlcy5wdXNoKHN0YW5kYXJkTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb3J0IG1lc3NhZ2VzIGJ5IHRpbWVzdGFtcCB0byBtYWludGFpbiBjaHJvbm9sb2dpY2FsIG9yZGVyXG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRNZXNzYWdlc0J5VGltZXN0YW1wKHN0YW5kYXJkTWVzc2FnZXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHNob3VsZEluY2x1ZGVNZXNzYWdlKG1lc3NhZ2U6IENsYXVkZU1lc3NhZ2UpOiBib29sZWFuIHtcbiAgICAgICAgLy8gSW5jbHVkZSBhbGwgaHVtYW4gYW5kIGFzc2lzdGFudCBtZXNzYWdlc1xuICAgICAgICBpZiAobWVzc2FnZS5zZW5kZXIgPT09ICdodW1hbicgfHwgbWVzc2FnZS5zZW5kZXIgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgICAgICAvLyBTa2lwIGVtcHR5IG1lc3NhZ2VzXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UudGV4dCAmJiAoIW1lc3NhZ2UuY29udGVudCB8fCBtZXNzYWdlLmNvbnRlbnQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29ydCBtZXNzYWdlcyBieSB0aW1lc3RhbXAgd2l0aCBVVUlEIGFzIHNlY29uZGFyeSBzb3J0IGZvciBjaHJvbm9sb2dpY2FsIG9yZGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgc29ydE1lc3NhZ2VzQnlUaW1lc3RhbXAobWVzc2FnZXM6IFN0YW5kYXJkTWVzc2FnZVtdKTogU3RhbmRhcmRNZXNzYWdlW10ge1xuICAgICAgICBpZiAobWVzc2FnZXMubGVuZ3RoIDw9IDEpIHJldHVybiBtZXNzYWdlcztcblxuICAgICAgICAvLyBVc2UgbmF0aXZlIHNvcnQgd2l0aCBwcm9wZXIgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgICAgICByZXR1cm4gbWVzc2FnZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgLy8gUHJpbWFyeSBzb3J0OiB0aW1lc3RhbXBcbiAgICAgICAgICAgIGlmIChhLnRpbWVzdGFtcCAhPT0gYi50aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2Vjb25kYXJ5IHNvcnQ6IFVVSUQgKGxleGljb2dyYXBoaWMgb3JkZXIgZm9yIHNhbWUgdGltZXN0YW1wKVxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIGNvbnNpc3RlbnQgb3JkZXJpbmcgd2hlbiBtZXNzYWdlcyBoYXZlIGlkZW50aWNhbCB0aW1lc3RhbXBzXG4gICAgICAgICAgICByZXR1cm4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIEFMTCBhcnRpZmFjdHMgZnJvbSBlbnRpcmUgY29udmVyc2F0aW9uIGFuZCBjcmVhdGUgZmlsZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBwcm9jZXNzQWxsQXJ0aWZhY3RzKFxuICAgICAgICBhbGxBcnRpZmFjdHM6IEFycmF5PHthcnRpZmFjdDogYW55LCBtZXNzYWdlSW5kZXg6IG51bWJlciwgYmxvY2tJbmRleDogbnVtYmVyfT4sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlclxuICAgICk6IFByb21pc2U8TWFwPHN0cmluZywge3ZlcnNpb25OdW1iZXI6IG51bWJlciwgdGl0bGU6IHN0cmluZ30+PiB7XG5cbiAgICAgICAgY29uc3QgYXJ0aWZhY3RWZXJzaW9uTWFwID0gbmV3IE1hcDxzdHJpbmcsIHt2ZXJzaW9uTnVtYmVyOiBudW1iZXIsIHRpdGxlOiBzdHJpbmd9PigpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uQ291bnRlcnMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgICAgICBjb25zdCBhcnRpZmFjdENvbnRlbnRzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgICAgICAgY29uc3QgYXJ0aWZhY3RMYW5ndWFnZXMgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpOyAvLyBUcmFjayBsYW5ndWFnZSBwZXIgYXJ0aWZhY3QgSURcblxuICAgICAgICBjb25zb2xlLmxvZyhgQ2xhdWRlIGNvbnZlcnRlcjogUHJvY2Vzc2luZyAke2FsbEFydGlmYWN0cy5sZW5ndGh9IGFydGlmYWN0cyBmcm9tIGVudGlyZSBjb252ZXJzYXRpb25gKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHthcnRpZmFjdH0gb2YgYWxsQXJ0aWZhY3RzKSB7XG4gICAgICAgICAgICBjb25zdCBhcnRpZmFjdElkID0gYXJ0aWZhY3QuaWQgfHwgJ3Vua25vd24nO1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGFydGlmYWN0LmNvbW1hbmQgfHwgJ2NyZWF0ZSc7XG5cbiAgICAgICAgICAgIC8vIEluY3JlbWVudCB2ZXJzaW9uIG51bWJlciBmb3IgdGhpcyBhcnRpZmFjdCBJRFxuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlcnNpb24gPSAodmVyc2lvbkNvdW50ZXJzLmdldChhcnRpZmFjdElkKSB8fCAwKSArIDE7XG4gICAgICAgICAgICB2ZXJzaW9uQ291bnRlcnMuc2V0KGFydGlmYWN0SWQsIGN1cnJlbnRWZXJzaW9uKTtcblxuICAgICAgICAgICAgbGV0IGZpbmFsQ29udGVudCA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoY29tbWFuZCA9PT0gJ2NyZWF0ZScgfHwgY29tbWFuZCA9PT0gJ3Jld3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcGxldGUgY29udGVudCBwcm92aWRlZCAtIFJFU0VUIGN1bXVsYXRpdmUgY29udGVudFxuICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCA9IGFydGlmYWN0LmNvbnRlbnQgfHwgJyc7XG4gICAgICAgICAgICAgICAgYXJ0aWZhY3RDb250ZW50cy5zZXQoYXJ0aWZhY3RJZCwgZmluYWxDb250ZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIEZvciBjcmVhdGUvcmV3cml0ZTogZGV0ZWN0IGFuZCBzdG9yZSB0aGUgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICBjb25zdCBkZXRlY3RlZExhbmd1YWdlID0gdGhpcy5kZXRlY3RMYW5ndWFnZUZyb21Db250ZW50KGZpbmFsQ29udGVudCwgYXJ0aWZhY3QudHlwZSk7XG4gICAgICAgICAgICAgICAgYXJ0aWZhY3RMYW5ndWFnZXMuc2V0KGFydGlmYWN0SWQsIGRldGVjdGVkTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09PSAndXBkYXRlJykge1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHVwZGF0ZSB0byBQUkVWSU9VUyBjb250ZW50XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNDb250ZW50ID0gYXJ0aWZhY3RDb250ZW50cy5nZXQoYXJ0aWZhY3RJZCkgfHwgJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJ0aWZhY3Qub2xkX3N0ciAmJiBhcnRpZmFjdC5uZXdfc3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZC1saWtlIHJlcGxhY2VtZW50IG9uIHByZXZpb3VzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gcHJldmlvdXNDb250ZW50LnJlcGxhY2UoYXJ0aWZhY3Qub2xkX3N0ciwgYXJ0aWZhY3QubmV3X3N0cik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcnRpZmFjdC5jb250ZW50ICYmIGFydGlmYWN0LmNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21wbGV0ZSB1cGRhdGVkIGNvbnRlbnQgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gYXJ0aWZhY3QuY29udGVudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSB1cGRhdGUgLSBrZWVwIHByZXZpb3VzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gcHJldmlvdXNDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjdW11bGF0aXZlIGNvbnRlbnQgZm9yIG5leHQgdmVyc2lvblxuICAgICAgICAgICAgICAgIGFydGlmYWN0Q29udGVudHMuc2V0KGFydGlmYWN0SWQsIGZpbmFsQ29udGVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTYXZpbmcgJHthcnRpZmFjdElkfSB2JHtjdXJyZW50VmVyc2lvbn0gKCR7Y29tbWFuZH0sICR7ZmluYWxDb250ZW50Lmxlbmd0aH0gY2hhcnMpYCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHN0b3JlZCBsYW5ndWFnZSAoZnJvbSBjcmVhdGUvcmV3cml0ZSkgb3IgZGV0ZWN0IGZvciB0aGlzIHZlcnNpb25cbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWRMYW5ndWFnZSA9IGFydGlmYWN0TGFuZ3VhZ2VzLmdldChhcnRpZmFjdElkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYW5ndWFnZVRvVXNlID0gc3RvcmVkTGFuZ3VhZ2UgfHwgdGhpcy5kZXRlY3RMYW5ndWFnZUZyb21Db250ZW50KGZpbmFsQ29udGVudCwgYXJ0aWZhY3QudHlwZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoaXMgc3BlY2lmaWMgdmVyc2lvblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNpbmdsZUFydGlmYWN0VmVyc2lvbldpdGhDb250ZW50KFxuICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdElkLFxuICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZVRvVXNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIFRyYWNrIHZlcnNpb24gaW5mbyBmb3IgbGlua2luZ1xuICAgICAgICAgICAgICAgIGFydGlmYWN0VmVyc2lvbk1hcC5zZXQoYXJ0aWZhY3QudmVyc2lvbl91dWlkLCB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25OdW1iZXI6IGN1cnJlbnRWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYXJ0aWZhY3QudGl0bGUgfHwgYXJ0aWZhY3RJZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzYXZlICR7YXJ0aWZhY3RJZH0gdiR7Y3VycmVudFZlcnNpb259OmAsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnRpZmFjdFZlcnNpb25NYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBjb250ZW50IGJsb2NrcyBmb3IgZGlzcGxheSAod2l0aCBhcnRpZmFjdCBsaW5rcylcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBwcm9jZXNzQ29udGVudEJsb2Nrc0ZvckRpc3BsYXkoXG4gICAgICAgIGNvbnRlbnRCbG9ja3M6IENsYXVkZUNvbnRlbnRCbG9ja1tdLFxuICAgICAgICBhcnRpZmFjdFZlcnNpb25NYXA6IE1hcDxzdHJpbmcsIHt2ZXJzaW9uTnVtYmVyOiBudW1iZXIsIHRpdGxlOiBzdHJpbmd9PixcbiAgICAgICAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyXG4gICAgKTogUHJvbWlzZTx7IHRleHQ6IHN0cmluZzsgYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdIH0+IHtcbiAgICAgICAgY29uc3QgdGV4dFBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBjb25zdCBhdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W10gPSBbXTtcblxuICAgICAgICAvLyBIYW5kbGUgZW1wdHkgb3IgbnVsbCBjb250ZW50IGJsb2Nrc1xuICAgICAgICBpZiAoIWNvbnRlbnRCbG9ja3MgfHwgY29udGVudEJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7IHRleHQ6IFwiXCIsIGF0dGFjaG1lbnRzOiBbXSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjb250ZW50IGJsb2NrcyBmb3IgZGlzcGxheVxuICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnRCbG9ja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYmxvY2sudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBhcnRzLnB1c2goYmxvY2sudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0aGlua2luZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgdGhpbmtpbmcgYmxvY2tzIC0gbm90IHVzZWZ1bCBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b29sX3VzZSc6XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBzcGVjaWZpYyBhcnRpZmFjdCBsaW5rc1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2submFtZSA9PT0gJ2FydGlmYWN0cycgJiYgYmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBibG9jay5pbnB1dC5jb21tYW5kIHx8ICdjcmVhdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvblV1aWQgPSBibG9jay5pbnB1dC52ZXJzaW9uX3V1aWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgdmlldyBjb21tYW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09ICd2aWV3Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblV1aWQgJiYgYXJ0aWZhY3RWZXJzaW9uTWFwLmhhcyh2ZXJzaW9uVXVpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uSW5mbyA9IGFydGlmYWN0VmVyc2lvbk1hcC5nZXQodmVyc2lvblV1aWQpITtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnRpZmFjdElkID0gYmxvY2suaW5wdXQuaWQgfHwgJ3Vua25vd24nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZvbGRlciA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJ9L2NsYXVkZS9hcnRpZmFjdHMvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25GaWxlID0gYCR7Y29udmVyc2F0aW9uRm9sZGVyfS8ke2FydGlmYWN0SWR9X3Yke3ZlcnNpb25JbmZvLnZlcnNpb25OdW1iZXJ9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWZpY0xpbmsgPSBgPlshJHt0aGlzLkNBTExPVVRTLkFSVElGQUNUfV0gKioke3ZlcnNpb25JbmZvLnRpdGxlfSoqIHYke3ZlcnNpb25JbmZvLnZlcnNpb25OdW1iZXJ9XFxuPiBcdUQ4M0NcdURGQTggW1ske3ZlcnNpb25GaWxlfXxWaWV3IEFydGlmYWN0XV1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQYXJ0cy5wdXNoKHNwZWNpZmljTGluayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvY2submFtZSA9PT0gJ3dlYl9zZWFyY2gnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IHdlYl9zZWFyY2ggdG9vbHMgLSBub3QgdXNlZnVsIGZvciB1c2Vyc1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvY2submFtZSAmJiBibG9jay5pbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXIgdG9vbHMgKGtlZXAgZm9yIG5vdywgY2FuIGJlIGZpbHRlcmVkIGxhdGVyIGlmIG5lZWRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBibG9jay5pbnB1dC5jb2RlIHx8IEpTT04uc3RyaW5naWZ5KGJsb2NrLmlucHV0LCBudWxsLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQYXJ0cy5wdXNoKGAqKltUb29sOiAke2Jsb2NrLm5hbWV9XSoqXFxuXFxgXFxgXFxgXFxuJHtjb2RlfVxcblxcYFxcYFxcYGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAndG9vbF9yZXN1bHQnOlxuICAgICAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IGFsbCB0b29sIHJlc3VsdHMgLSBub3QgdXNlZnVsIGZvciB1c2Vyc1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0UGFydHMuam9pbignXFxuXFxuJyksXG4gICAgICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBwcm9jZXNzQ29udGVudEJsb2NrcyhcbiAgICAgICAgY29udGVudEJsb2NrczogQ2xhdWRlQ29udGVudEJsb2NrW10sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlcixcbiAgICAgICAgdmVyc2lvbkNvdW50ZXJzPzogTWFwPHN0cmluZywgbnVtYmVyPixcbiAgICAgICAgYXJ0aWZhY3RTdW1tYXJpZXM/OiBNYXA8c3RyaW5nLCBhbnk+XG4gICAgKTogUHJvbWlzZTx7IHRleHQ6IHN0cmluZzsgYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdIH0+IHtcbiAgICAgICAgY29uc3QgdGV4dFBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBjb25zdCBhdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W10gPSBbXTtcbiAgICAgICAgY29uc3QgYXJ0aWZhY3RWZXJzaW9uc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTsgLy8gVHJhY2sgYWxsIHZlcnNpb25zIGJ5IGFydGlmYWN0IElEXG5cbiAgICAgICAgLy8gSGFuZGxlIGVtcHR5IG9yIG51bGwgY29udGVudCBibG9ja3NcbiAgICAgICAgaWYgKCFjb250ZW50QmxvY2tzIHx8IGNvbnRlbnRCbG9ja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBcIlwiLCBhdHRhY2htZW50czogW10gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcnN0IHBhc3M6IGNvbGxlY3QgQUxMIHNpZ25pZmljYW50IGFydGlmYWN0IHZlcnNpb25zXG4gICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudEJsb2Nrcykge1xuICAgICAgICAgICAgaWYgKGJsb2NrLnR5cGUgPT09ICd0b29sX3VzZScgJiYgYmxvY2submFtZSA9PT0gJ2FydGlmYWN0cycgJiYgYmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnRpZmFjdElkID0gYmxvY2suaW5wdXQuaWQgfHwgJ3Vua25vd24nO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBibG9jay5pbnB1dC5jb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBibG9jay5pbnB1dC5jb21tYW5kIHx8ICdjcmVhdGUnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25VdWlkID0gYmxvY2suaW5wdXQudmVyc2lvbl91dWlkO1xuXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSB1cGRhdGVzIGFuZCB2aWV3IGNvbW1hbmRzIC0gdGhleSdyZSBqdXN0IFVJIHVwZGF0ZXMgd2l0aG91dCBjb250ZW50XG4gICAgICAgICAgICAgICAgaWYgKChjb21tYW5kID09PSAndXBkYXRlJyAmJiBjb250ZW50Lmxlbmd0aCA9PT0gMCkgfHwgY29tbWFuZCA9PT0gJ3ZpZXcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE9ubHkga2VlcCBzaWduaWZpY2FudCB2ZXJzaW9ucyAoY3JlYXRlLCByZXdyaXRlLCBvciBzdWJzdGFudGlhbCB1cGRhdGVzKVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2lnbmlmaWNhbnQgPSBjb21tYW5kID09PSAnY3JlYXRlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9PT0gJ3Jld3JpdGUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29tbWFuZCA9PT0gJ3VwZGF0ZScgJiYgY29udGVudC5sZW5ndGggPiAxMDApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzU2lnbmlmaWNhbnQgJiYgdmVyc2lvblV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENsYXVkZSBjb252ZXJ0ZXI6IEZvdW5kIHNpZ25pZmljYW50IGFydGlmYWN0IHZlcnNpb24gLSBJRDogJHthcnRpZmFjdElkfSwgQ29tbWFuZDogJHtjb21tYW5kfSwgQ29udGVudCBsZW5ndGg6ICR7Y29udGVudC5sZW5ndGh9LCBVVUlEOiAke3ZlcnNpb25VdWlkfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFydGlmYWN0VmVyc2lvbnNNYXAuaGFzKGFydGlmYWN0SWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdFZlcnNpb25zTWFwLnNldChhcnRpZmFjdElkLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJ0aWZhY3RWZXJzaW9uc01hcC5nZXQoYXJ0aWZhY3RJZCkhLnB1c2goYmxvY2suaW5wdXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGF1ZGUgY29udmVydGVyOiBTa2lwcGVkIGFydGlmYWN0IC0gSUQ6ICR7YXJ0aWZhY3RJZH0sIENvbW1hbmQ6ICR7Y29tbWFuZH0sIENvbnRlbnQgbGVuZ3RoOiAke2NvbnRlbnQubGVuZ3RofSwgU2lnbmlmaWNhbnQ6ICR7aXNTaWduaWZpY2FudH0sIEhhcyBVVUlEOiAkeyEhdmVyc2lvblV1aWR9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2Vjb25kIHBhc3M6IHByb2Nlc3MgYXJ0aWZhY3RzIGluIG1lc3NhZ2VzIGFuZCBjcmVhdGUgc3BlY2lmaWMgbGlua3NcbiAgICAgICAgLy8gVXNlIHByb3ZpZGVkIGNvdW50ZXJzIG9yIGNyZWF0ZSBuZXcgb25lcyAoZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgICAgIGlmICghdmVyc2lvbkNvdW50ZXJzKSB2ZXJzaW9uQ291bnRlcnMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgICAgICBpZiAoIWFydGlmYWN0U3VtbWFyaWVzKSBhcnRpZmFjdFN1bW1hcmllcyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbiAgICAgICAgLy8gR2xvYmFsIGFydGlmYWN0IGNvbnRlbnQgdHJhY2tpbmcgZm9yIGN1bXVsYXRpdmUgdXBkYXRlc1xuICAgICAgICBjb25zdCBhcnRpZmFjdENvbnRlbnRzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuICAgICAgICAvLyBUaGlyZCBwYXNzOiBwcm9jZXNzIG5vbi1hcnRpZmFjdCBjb250ZW50IGJsb2Nrc1xuICAgICAgICBmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnRCbG9ja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYmxvY2sudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2sudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBhcnRzLnB1c2goYmxvY2sudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0aGlua2luZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgdGhpbmtpbmcgYmxvY2tzIC0gbm90IHVzZWZ1bCBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0b29sX3VzZSc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgaW50ZXJuYWwgdG9vbCB1c2FnZSAobGlrZSBbVG9vbDogcmVwbF0pIC0gbm90IHZhbHVhYmxlIGZvciB1c2Vyc1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2submFtZSA9PT0gJ3JlcGwnIHx8IGJsb2NrLm5hbWUgPT09ICdzdHJfcmVwbGFjZV9lZGl0b3InIHx8IGJsb2NrLm5hbWUgPT09ICdiYXNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBpbnRlcm5hbCB0b29sIHVzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBhcnRpZmFjdHMgc3BlY2lmaWNhbGx5XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9jay5uYW1lID09PSAnYXJ0aWZhY3RzJyAmJiBibG9jay5pbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJ0aWZhY3RJZCA9IGJsb2NrLmlucHV0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBibG9jay5pbnB1dC5jb21tYW5kIHx8ICdjcmVhdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvblV1aWQgPSBibG9jay5pbnB1dC52ZXJzaW9uX3V1aWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgdmlldyBjb21tYW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09ICd2aWV3Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvblV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgdmVyc2lvbiBudW1iZXIgZm9yIHRoaXMgYXJ0aWZhY3QgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmVyc2lvbiA9ICh2ZXJzaW9uQ291bnRlcnMuZ2V0KGFydGlmYWN0SWQpIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uQ291bnRlcnMuc2V0KGFydGlmYWN0SWQsIGN1cnJlbnRWZXJzaW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbENvbnRlbnQgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kID09PSAnY3JlYXRlJyB8fCBjb21tYW5kID09PSAncmV3cml0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tcGxldGUgY29udGVudCBwcm92aWRlZCAtIFJFU0VUIGN1bXVsYXRpdmUgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbENvbnRlbnQgPSBibG9jay5pbnB1dC5jb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpZmFjdENvbnRlbnRzLnNldChhcnRpZmFjdElkLCBmaW5hbENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgdXBkYXRlIHRvIFBSRVZJT1VTIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNDb250ZW50ID0gYXJ0aWZhY3RDb250ZW50cy5nZXQoYXJ0aWZhY3RJZCkgfHwgJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrLmlucHV0Lm9sZF9zdHIgJiYgYmxvY2suaW5wdXQubmV3X3N0cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VkLWxpa2UgcmVwbGFjZW1lbnQgb24gcHJldmlvdXMgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gcHJldmlvdXNDb250ZW50LnJlcGxhY2UoYmxvY2suaW5wdXQub2xkX3N0ciwgYmxvY2suaW5wdXQubmV3X3N0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvY2suaW5wdXQuY29udGVudCAmJiBibG9jay5pbnB1dC5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBsZXRlIHVwZGF0ZWQgY29udGVudCBwcm92aWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gYmxvY2suaW5wdXQuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5IHVwZGF0ZSAtIGtlZXAgcHJldmlvdXMgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50ID0gcHJldmlvdXNDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGN1bXVsYXRpdmUgY29udGVudCBmb3IgbmV4dCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGlmYWN0Q29udGVudHMuc2V0KGFydGlmYWN0SWQsIGZpbmFsQ29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgJHthcnRpZmFjdElkfSB2JHtjdXJyZW50VmVyc2lvbn0gKCR7Y29tbWFuZH0sICR7ZmluYWxDb250ZW50Lmxlbmd0aH0gY2hhcnMpYCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHRoaXMgc3BlY2lmaWMgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTaW5nbGVBcnRpZmFjdFZlcnNpb25XaXRoQ29udGVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGlmYWN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc3BlY2lmaWMgbGluayBmb3IgVEhJUyB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gYmxvY2suaW5wdXQudGl0bGUgfHwgYXJ0aWZhY3RJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uRm9sZGVyID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2xhdWRlL2FydGlmYWN0cy8ke2NvbnZlcnNhdGlvbklkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb25GaWxlID0gYCR7Y29udmVyc2F0aW9uRm9sZGVyfS8ke2FydGlmYWN0SWR9X3Yke2N1cnJlbnRWZXJzaW9ufWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWNpZmljTGluayA9IGA+WyEke3RoaXMuQ0FMTE9VVFMuQVJUSUZBQ1R9XSAqKiR7dGl0bGV9KiogdiR7Y3VycmVudFZlcnNpb259XFxuPiBcdUQ4M0NcdURGQTggW1ske3ZlcnNpb25GaWxlfXxWaWV3IEFydGlmYWN0XV1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGFydHMucHVzaChzcGVjaWZpY0xpbmspO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHNhdmUgJHthcnRpZmFjdElkfSB2JHtjdXJyZW50VmVyc2lvbn06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGFydHMucHVzaChgPlshJHt0aGlzLkNBTExPVVRTLkFSVElGQUNUfV0gKioke2Jsb2NrLmlucHV0LnRpdGxlIHx8IGFydGlmYWN0SWR9KiogdiR7Y3VycmVudFZlcnNpb259XFxuPiBcdTI3NEMgRXJyb3Igc2F2aW5nIGFydGlmYWN0YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm5hbWUgPT09ICd3ZWJfc2VhcmNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIG91dCB3ZWJfc2VhcmNoIHRvb2xzIC0gbm90IHVzZWZ1bCBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLm5hbWUgJiYgYmxvY2suaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIHRvb2xzIChrZWVwIGZvciBub3csIGNhbiBiZSBmaWx0ZXJlZCBsYXRlciBpZiBuZWVkZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gYmxvY2suaW5wdXQuY29kZSB8fCBKU09OLnN0cmluZ2lmeShibG9jay5pbnB1dCwgbnVsbCwgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGFydHMucHVzaChgKipbVG9vbDogJHtibG9jay5uYW1lfV0qKlxcblxcYFxcYFxcYFxcbiR7Y29kZX1cXG5cXGBcXGBcXGBgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2xfcmVzdWx0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBhbGwgdG9vbCByZXN1bHRzIC0gbm90IHVzZWZ1bCBmb3IgdXNlcnNcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogdGV4dFBhcnRzLmpvaW4oJ1xcblxcbicpLFxuICAgICAgICAgICAgYXR0YWNobWVudHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBwcm9jZXNzRmlsZUF0dGFjaG1lbnRzKGZpbGVzOiBhbnlbXSk6IFN0YW5kYXJkQXR0YWNobWVudFtdIHtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudHM6IFN0YW5kYXJkQXR0YWNobWVudFtdID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgZW1wdHkgb3IgbnVsbCBmaWxlcyBhcnJheVxuICAgICAgICBpZiAoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlICYmIGZpbGUuZmlsZV9uYW1lKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlLmZpbGVfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZVNpemU6IDAsIC8vIFNpemUgbm90IHByb3ZpZGVkIGluIENsYXVkZSBleHBvcnRcbiAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU6IHRoaXMuZ2V0RmlsZVR5cGVGcm9tTmFtZShmaWxlLmZpbGVfbmFtZSksXG4gICAgICAgICAgICAgICAgICAgIGZpbGVJZDogZmlsZS5maWxlX25hbWUsIC8vIFVzZSBmaWxlbmFtZSBhcyBJRFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBcIlwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhdHRhY2htZW50cztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRGaWxlVHlwZUZyb21OYW1lKGZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpPy50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHN3aXRjaCAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBjYXNlICdwbmcnOlxuICAgICAgICAgICAgY2FzZSAnanBnJzpcbiAgICAgICAgICAgIGNhc2UgJ2pwZWcnOlxuICAgICAgICAgICAgY2FzZSAnZ2lmJzpcbiAgICAgICAgICAgIGNhc2UgJ3dlYnAnOlxuICAgICAgICAgICAgICAgIHJldHVybiBgaW1hZ2UvJHtleHRlbnNpb259YDtcbiAgICAgICAgICAgIGNhc2UgJ3BkZic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9wZGYnO1xuICAgICAgICAgICAgY2FzZSAndHh0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvcGxhaW4nO1xuICAgICAgICAgICAgY2FzZSAnbWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9tYXJrZG93bic7XG4gICAgICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGEgc2luZ2xlIGFydGlmYWN0IHZlcnNpb24gd2l0aCBjb21wdXRlZCBjb250ZW50XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2F2ZVNpbmdsZUFydGlmYWN0VmVyc2lvbldpdGhDb250ZW50KFxuICAgICAgICBhcnRpZmFjdElkOiBzdHJpbmcsXG4gICAgICAgIGFydGlmYWN0RGF0YTogYW55LFxuICAgICAgICB2ZXJzaW9uTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIGZpbmFsQ29udGVudDogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uVGl0bGU/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWU/OiBudW1iZXIsXG4gICAgICAgIGZvcmNlZExhbmd1YWdlPzogc3RyaW5nXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZW5zdXJlRm9sZGVyRXhpc3RzIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi91dGlsc1wiKTtcblxuICAgICAgICAvLyBDcmVhdGUgY29udmVyc2F0aW9uLXNwZWNpZmljIGFydGlmYWN0IGZvbGRlclxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25Gb2xkZXIgPSBgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2htZW50Rm9sZGVyfS9jbGF1ZGUvYXJ0aWZhY3RzLyR7Y29udmVyc2F0aW9uSWR9YDtcbiAgICAgICAgY29uc3QgZm9sZGVyUmVzdWx0ID0gYXdhaXQgZW5zdXJlRm9sZGVyRXhpc3RzKGNvbnZlcnNhdGlvbkZvbGRlciwgdGhpcy5wbHVnaW4uYXBwLnZhdWx0KTtcbiAgICAgICAgaWYgKCFmb2xkZXJSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGFydGlmYWN0cyBmb2xkZXI6ICR7Zm9sZGVyUmVzdWx0LmVycm9yfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2FuaXRpemUgYXJ0aWZhY3RJZCB0byBhdm9pZCBmaWxlc3lzdGVtIGlzc3Vlc1xuICAgICAgICBjb25zdCBzYWZlQXJ0aWZhY3RJZCA9IGFydGlmYWN0SWQucmVwbGFjZSgvW1xcL1xcXFw6Kj9cIjw+fF0vZywgJ18nKTtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtzYWZlQXJ0aWZhY3RJZH1fdiR7dmVyc2lvbk51bWJlcn0ubWRgO1xuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGAke2NvbnZlcnNhdGlvbkZvbGRlcn0vJHtmaWxlTmFtZX1gO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGNvbnN0IHNob3VsZFNraXAgPSBhd2FpdCB0aGlzLnNob3VsZFNraXBBcnRpZmFjdFZlcnNpb24oZmlsZVBhdGgsIGFydGlmYWN0RGF0YS52ZXJzaW9uX3V1aWQpO1xuICAgICAgICBpZiAoc2hvdWxkU2tpcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlSW5kaXZpZHVhbEFydGlmYWN0VmVyc2lvbihcbiAgICAgICAgICAgIGFydGlmYWN0RGF0YSxcbiAgICAgICAgICAgIGZpbGVQYXRoLFxuICAgICAgICAgICAgdmVyc2lvbk51bWJlcixcbiAgICAgICAgICAgIGZpbmFsQ29udGVudCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgY29udmVyc2F0aW9uVGl0bGUsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lLFxuICAgICAgICAgICAgZm9yY2VkTGFuZ3VhZ2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGEgc2luZ2xlIGFydGlmYWN0IHZlcnNpb24gKGxlZ2FjeSBtZXRob2QpXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2F2ZVNpbmdsZUFydGlmYWN0VmVyc2lvbihcbiAgICAgICAgYXJ0aWZhY3RJZDogc3RyaW5nLFxuICAgICAgICBhcnRpZmFjdERhdGE6IGFueSxcbiAgICAgICAgdmVyc2lvbk51bWJlcjogbnVtYmVyLFxuICAgICAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uVGl0bGU/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWU/OiBudW1iZXJcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbHVnaW4gbm90IGF2YWlsYWJsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBlbnN1cmVGb2xkZXJFeGlzdHMgfSA9IGF3YWl0IGltcG9ydChcIi4uLy4uL3V0aWxzXCIpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBjb252ZXJzYXRpb24tc3BlY2lmaWMgYXJ0aWZhY3QgZm9sZGVyXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZvbGRlciA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJ9L2NsYXVkZS9hcnRpZmFjdHMvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICBjb25zdCBmb2xkZXJSZXN1bHQgPSBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMoY29udmVyc2F0aW9uRm9sZGVyLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgYXJ0aWZhY3RzIGZvbGRlcjogJHtmb2xkZXJSZXN1bHQuZXJyb3J9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTYW5pdGl6ZSBhcnRpZmFjdElkIHRvIGF2b2lkIGZpbGVzeXN0ZW0gaXNzdWVzXG4gICAgICAgIGNvbnN0IHNhZmVBcnRpZmFjdElkID0gYXJ0aWZhY3RJZC5yZXBsYWNlKC9bXFwvXFxcXDoqP1wiPD58XS9nLCAnXycpO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke3NhZmVBcnRpZmFjdElkfV92JHt2ZXJzaW9uTnVtYmVyfS5tZGA7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7Y29udmVyc2F0aW9uRm9sZGVyfS8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3Qgc2hvdWxkU2tpcCA9IGF3YWl0IHRoaXMuc2hvdWxkU2tpcEFydGlmYWN0VmVyc2lvbihmaWxlUGF0aCwgYXJ0aWZhY3REYXRhLnZlcnNpb25fdXVpZCk7XG4gICAgICAgIGlmIChzaG91bGRTa2lwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLnNhdmVJbmRpdmlkdWFsQXJ0aWZhY3RWZXJzaW9uKFxuICAgICAgICAgICAgYXJ0aWZhY3REYXRhLFxuICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICB2ZXJzaW9uTnVtYmVyLFxuICAgICAgICAgICAgYXJ0aWZhY3REYXRhLmNvbnRlbnQgfHwgJycsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZSxcbiAgICAgICAgICAgIHVuZGVmaW5lZCAvLyBObyBmb3JjZWQgbGFuZ3VhZ2UgZm9yIGxlZ2FjeSBtZXRob2RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYXJ0aWZhY3Qgc3VtbWFyeSBmb3IgY29udmVyc2F0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JlYXRlQXJ0aWZhY3RTdW1tYXJ5KGFydGlmYWN0SWQ6IHN0cmluZywgaW5mbzogYW55LCBjb252ZXJzYXRpb25JZD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gaW5mby50aXRsZSB8fCBhcnRpZmFjdElkO1xuICAgICAgICBjb25zdCB0b3RhbFZlcnNpb25zID0gaW5mby50b3RhbFZlcnNpb25zIHx8IDE7XG4gICAgICAgIGNvbnN0IGxhdGVzdFZlcnNpb24gPSBpbmZvLmxhdGVzdFZlcnNpb24gfHwgMTtcblxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25Gb2xkZXIgPSBgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2htZW50Rm9sZGVyfS9jbGF1ZGUvYXJ0aWZhY3RzLyR7Y29udmVyc2F0aW9uSWR9YDtcbiAgICAgICAgY29uc3QgbGF0ZXN0RmlsZSA9IGAke2NvbnZlcnNhdGlvbkZvbGRlcn0vJHthcnRpZmFjdElkfV92JHtsYXRlc3RWZXJzaW9ufWA7XG5cbiAgICAgICAgbGV0IHN1bW1hcnkgPSBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke3RpdGxlfSoqYDtcblxuICAgICAgICBpZiAodG90YWxWZXJzaW9ucyA+IDEpIHtcbiAgICAgICAgICAgIHN1bW1hcnkgKz0gYCAoJHt0b3RhbFZlcnNpb25zfSB2ZXJzaW9ucylgO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VtbWFyeSArPSBgXFxuXFxuXHVEODNEXHVEQ0NFICoqW1ske2xhdGVzdEZpbGV9fFZpZXcgTGF0ZXN0IFZlcnNpb25dXSoqYDtcblxuICAgICAgICBpZiAodG90YWxWZXJzaW9ucyA+IDEpIHtcbiAgICAgICAgICAgIHN1bW1hcnkgKz0gYCB8ICoqW1ske2NvbnZlcnNhdGlvbkZvbGRlcn0vfEFsbCBWZXJzaW9uc11dKipgO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VtbWFyeSArPSBgPC9kaXY+YDtcbiAgICAgICAgcmV0dXJuIHN1bW1hcnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBBTEwgdmVyc2lvbnMgb2YgYW4gYXJ0aWZhY3QgKGxlZ2FjeSBtZXRob2QpXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2F2ZUFsbEFydGlmYWN0VmVyc2lvbnMoXG4gICAgICAgIGFydGlmYWN0SWQ6IHN0cmluZyxcbiAgICAgICAgdmVyc2lvbnM6IGFueVtdLFxuICAgICAgICBjb252ZXJzYXRpb25JZD86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uVGl0bGU/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWU/OiBudW1iZXJcbiAgICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBpZiAoIXRoaXMucGx1Z2luKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGF1ZGUgY29udmVydGVyOiBQbHVnaW4gbm90IGF2YWlsYWJsZSBmb3IgYXJ0aWZhY3Qgc2F2aW5nJyk7XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJuZXh1cy1hcnRpZmFjdC1ib3hcIj4qKlx1RDgzQ1x1REZBOCBBcnRpZmFjdDogJHt2ZXJzaW9uc1swXT8udGl0bGUgfHwgYXJ0aWZhY3RJZH0qKiAoRXJyb3I6IFBsdWdpbiBub3QgYXZhaWxhYmxlKTwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmVyc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGF1ZGUgY29udmVydGVyOiBObyB2ZXJzaW9ucyBwcm92aWRlZCBmb3IgYXJ0aWZhY3QnLCBhcnRpZmFjdElkKTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke2FydGlmYWN0SWR9KiogKEVycm9yOiBObyB2ZXJzaW9ucyBmb3VuZCk8L2Rpdj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBlbnN1cmVGb2xkZXJFeGlzdHMgfSA9IGF3YWl0IGltcG9ydChcIi4uLy4uL3V0aWxzXCIpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBjb252ZXJzYXRpb24tc3BlY2lmaWMgYXJ0aWZhY3QgZm9sZGVyXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZvbGRlciA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmF0dGFjaG1lbnRGb2xkZXJ9L2NsYXVkZS9hcnRpZmFjdHMvJHtjb252ZXJzYXRpb25JZH1gO1xuICAgICAgICBjb25zdCBmb2xkZXJSZXN1bHQgPSBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMoY29udmVyc2F0aW9uRm9sZGVyLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGF1ZGUgY29udmVydGVyOiBGYWlsZWQgdG8gY3JlYXRlIGFydGlmYWN0cyBmb2xkZXInLCBmb2xkZXJSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibmV4dXMtYXJ0aWZhY3QtYm94XCI+KipcdUQ4M0NcdURGQTggQXJ0aWZhY3Q6ICR7dmVyc2lvbnNbMF0/LnRpdGxlIHx8IGFydGlmYWN0SWR9KiogKEVycm9yOiBDb3VsZCBub3QgY3JlYXRlIGZvbGRlcik8L2Rpdj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2F2ZWRWZXJzaW9uczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgbGV0IGxhdGVzdFZlcnNpb24gPSAnJztcbiAgICAgICAgbGV0IGN1cnJlbnRDb250ZW50ID0gJyc7IC8vIFRyYWNrIGN1bXVsYXRpdmUgY29udGVudCBmb3IgdXBkYXRlc1xuXG4gICAgICAgIC8vIFNhdmUgZWFjaCB2ZXJzaW9uIGFzIGEgc2VwYXJhdGUgZmlsZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdmVyc2lvbnNbaV07XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uTnVtYmVyID0gaSArIDE7XG4gICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke2FydGlmYWN0SWR9X3Yke3ZlcnNpb25OdW1iZXJ9Lm1kYDtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7Y29udmVyc2F0aW9uRm9sZGVyfS8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB2ZXJzaW9uIGFscmVhZHkgZXhpc3RzIChmb3IgdXBkYXRlcy9yZWltcG9ydHMpXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2tpcCA9IGF3YWl0IHRoaXMuc2hvdWxkU2tpcEFydGlmYWN0VmVyc2lvbihmaWxlUGF0aCwgdmVyc2lvbi52ZXJzaW9uX3V1aWQpO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTa2lwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTa2lwcGluZyBleGlzdGluZyBhcnRpZmFjdCB2ZXJzaW9uOiAke2ZpbGVQYXRofWApO1xuICAgICAgICAgICAgICAgICAgICBzYXZlZFZlcnNpb25zLnB1c2goZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBsYXRlc3RWZXJzaW9uID0gZmlsZVBhdGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjdXJyZW50IGNvbnRlbnQgZm9yIG5leHQgaXRlcmF0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvbi5jb21tYW5kID09PSAnY3JlYXRlJyB8fCB2ZXJzaW9uLmNvbW1hbmQgPT09ICdyZXdyaXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRlbnQgPSB2ZXJzaW9uLmNvbnRlbnQgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250ZW50IGZvciB0aGlzIHZlcnNpb25cbiAgICAgICAgICAgICAgICBsZXQgdmVyc2lvbkNvbnRlbnQgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodmVyc2lvbi5jb21tYW5kID09PSAnY3JlYXRlJyB8fCB2ZXJzaW9uLmNvbW1hbmQgPT09ICdyZXdyaXRlJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21wbGV0ZSBjb250ZW50IHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25Db250ZW50ID0gdmVyc2lvbi5jb250ZW50IHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGVudCA9IHZlcnNpb25Db250ZW50OyAvLyBVcGRhdGUgb3VyIHRyYWNraW5nXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2ZXJzaW9uLmNvbW1hbmQgPT09ICd1cGRhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciB1cGRhdGVzLCB3ZSBzaG91bGQgYXBwbHkgdGhlIHVwZGF0ZSB0byB0aGUgcHJldmlvdXMgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAvLyBCdXQgQ2xhdWRlIGFjdHVhbGx5IHByb3ZpZGVzIHRoZSBmdWxsIHVwZGF0ZWQgY29udGVudCBpbiBtb3N0IGNhc2VzXG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uLmNvbnRlbnQgJiYgdmVyc2lvbi5jb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25Db250ZW50ID0gdmVyc2lvbi5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbnRlbnQgPSB2ZXJzaW9uQ29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5IHVwZGF0ZSAtIHVzZSBwcmV2aW91cyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uQ29udGVudCA9IGN1cnJlbnRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFNhdmluZyBhcnRpZmFjdCB2ZXJzaW9uICR7dmVyc2lvbk51bWJlcn06ICR7ZmlsZVBhdGh9ICgke3ZlcnNpb25Db250ZW50Lmxlbmd0aH0gY2hhcnMpYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlSW5kaXZpZHVhbEFydGlmYWN0VmVyc2lvbihcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25OdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25Db250ZW50LFxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCAvLyBObyBmb3JjZWQgbGFuZ3VhZ2UgZm9yIGxlZ2FjeSBtZXRob2RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHNhdmVkVmVyc2lvbnMucHVzaChmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgbGF0ZXN0VmVyc2lvbiA9IGZpbGVQYXRoO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2F2ZSBhcnRpZmFjdCB2ZXJzaW9uICR7dmVyc2lvbk51bWJlcn0gdG8gJHtmaWxlUGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggb3RoZXIgdmVyc2lvbnMgZXZlbiBpZiBvbmUgZmFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiBmb3JtYXR0ZWQgc3VtbWFyeSBmb3IgY29udmVyc2F0aW9uXG4gICAgICAgIGlmIChzYXZlZFZlcnNpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xhdWRlIGNvbnZlcnRlcjogTm8gdmVyc2lvbnMgd2VyZSBzYXZlZCBmb3IgYXJ0aWZhY3QnLCBhcnRpZmFjdElkKTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke3ZlcnNpb25zWzBdPy50aXRsZSB8fCBhcnRpZmFjdElkfSoqIChFcnJvcjogTm8gdmVyc2lvbnMgY291bGQgYmUgc2F2ZWQpPC9kaXY+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdEFydGlmYWN0U3VtbWFyeSh2ZXJzaW9uc1swXSwgc2F2ZWRWZXJzaW9ucywgbGF0ZXN0VmVyc2lvbiwgY29udmVyc2F0aW9uRm9sZGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGFsbCB2ZXJzaW9ucyBvZiBhbiBhcnRpZmFjdCBhbmQgcmV0dXJuIHN1bW1hcnkgZm9yIGNvbnZlcnNhdGlvbiAobGVnYWN5IG1ldGhvZClcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBzYXZlQXJ0aWZhY3RWZXJzaW9ucyhcbiAgICAgICAgYXJ0aWZhY3RJZDogc3RyaW5nLFxuICAgICAgICB2ZXJzaW9uczogYW55W10sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlclxuICAgICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsYXVkZSBjb252ZXJ0ZXI6IFBsdWdpbiBub3QgYXZhaWxhYmxlIGZvciBhcnRpZmFjdCBzYXZpbmcnKTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke3ZlcnNpb25zWzBdPy50aXRsZSB8fCBhcnRpZmFjdElkfSoqIChFcnJvcjogUGx1Z2luIG5vdCBhdmFpbGFibGUpPC9kaXY+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2ZXJzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsYXVkZSBjb252ZXJ0ZXI6IE5vIHZlcnNpb25zIHByb3ZpZGVkIGZvciBhcnRpZmFjdCcsIGFydGlmYWN0SWQpO1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibmV4dXMtYXJ0aWZhY3QtYm94XCI+KipcdUQ4M0NcdURGQTggQXJ0aWZhY3Q6ICR7YXJ0aWZhY3RJZH0qKiAoRXJyb3I6IE5vIHZlcnNpb25zIGZvdW5kKTwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGVuc3VyZUZvbGRlckV4aXN0cyB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vLi4vdXRpbHNcIik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGNvbnZlcnNhdGlvbi1zcGVjaWZpYyBhcnRpZmFjdCBmb2xkZXJcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uRm9sZGVyID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2xhdWRlL2FydGlmYWN0cy8ke2NvbnZlcnNhdGlvbklkfWA7XG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhjb252ZXJzYXRpb25Gb2xkZXIsIHRoaXMucGx1Z2luLmFwcC52YXVsdCk7XG4gICAgICAgIGlmICghZm9sZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsYXVkZSBjb252ZXJ0ZXI6IEZhaWxlZCB0byBjcmVhdGUgYXJ0aWZhY3RzIGZvbGRlcicsIGZvbGRlclJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJuZXh1cy1hcnRpZmFjdC1ib3hcIj4qKlx1RDgzQ1x1REZBOCBBcnRpZmFjdDogJHt2ZXJzaW9uc1swXT8udGl0bGUgfHwgYXJ0aWZhY3RJZH0qKiAoRXJyb3I6IENvdWxkIG5vdCBjcmVhdGUgZm9sZGVyKTwvZGl2PmA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzYXZlZFZlcnNpb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBsZXQgbGF0ZXN0VmVyc2lvbiA9ICcnO1xuXG4gICAgICAgIC8vIFNhdmUgZWFjaCBzaWduaWZpY2FudCB2ZXJzaW9uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVyc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSB2ZXJzaW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25OdW1iZXIgPSBpICsgMTtcbiAgICAgICAgICAgIC8vIFNhbml0aXplIGFydGlmYWN0SWQgdG8gYXZvaWQgZmlsZXN5c3RlbSBpc3N1ZXNcbiAgICAgICAgICAgIGNvbnN0IHNhZmVBcnRpZmFjdElkID0gYXJ0aWZhY3RJZC5yZXBsYWNlKC9bXFwvXFxcXDoqP1wiPD58XS9nLCAnXycpO1xuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtzYWZlQXJ0aWZhY3RJZH1fdiR7dmVyc2lvbk51bWJlcn0ubWRgO1xuICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtjb252ZXJzYXRpb25Gb2xkZXJ9LyR7ZmlsZU5hbWV9YDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHZlcnNpb24gYWxyZWFkeSBleGlzdHMgKGZvciB1cGRhdGVzL3JlaW1wb3J0cylcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRTa2lwID0gYXdhaXQgdGhpcy5zaG91bGRTa2lwQXJ0aWZhY3RWZXJzaW9uKGZpbGVQYXRoLCB2ZXJzaW9uLnZlcnNpb25fdXVpZCk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFNraXApIHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZWRWZXJzaW9ucy5wdXNoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0VmVyc2lvbiA9IGZpbGVQYXRoO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlQXJ0aWZhY3RWZXJzaW9uKHZlcnNpb24sIGZpbGVQYXRoLCB2ZXJzaW9uTnVtYmVyLCBjb252ZXJzYXRpb25JZCwgY29udmVyc2F0aW9uVGl0bGUsIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUpO1xuICAgICAgICAgICAgICAgIHNhdmVkVmVyc2lvbnMucHVzaChmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgbGF0ZXN0VmVyc2lvbiA9IGZpbGVQYXRoO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gc2F2ZSBhcnRpZmFjdCB2ZXJzaW9uICR7dmVyc2lvbk51bWJlcn0gdG8gJHtmaWxlUGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggb3RoZXIgdmVyc2lvbnMgZXZlbiBpZiBvbmUgZmFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiBmb3JtYXR0ZWQgc3VtbWFyeSBmb3IgY29udmVyc2F0aW9uXG4gICAgICAgIGlmIChzYXZlZFZlcnNpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xhdWRlIGNvbnZlcnRlcjogTm8gdmVyc2lvbnMgd2VyZSBzYXZlZCBmb3IgYXJ0aWZhY3QnLCBhcnRpZmFjdElkKTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke3ZlcnNpb25zWzBdPy50aXRsZSB8fCBhcnRpZmFjdElkfSoqIChFcnJvcjogTm8gdmVyc2lvbnMgY291bGQgYmUgc2F2ZWQpPC9kaXY+YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdEFydGlmYWN0U3VtbWFyeSh2ZXJzaW9uc1swXSwgc2F2ZWRWZXJzaW9ucywgbGF0ZXN0VmVyc2lvbiwgY29udmVyc2F0aW9uRm9sZGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgYXJ0aWZhY3Qgc3VtbWFyeSBmb3IgY29udmVyc2F0aW9uIGRpc3BsYXlcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBmb3JtYXRBcnRpZmFjdFN1bW1hcnkoZmlyc3RWZXJzaW9uOiBhbnksIHNhdmVkVmVyc2lvbnM6IHN0cmluZ1tdLCBsYXRlc3RWZXJzaW9uOiBzdHJpbmcsIGNvbnZlcnNhdGlvbkZvbGRlcjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBmaXJzdFZlcnNpb24/LnRpdGxlIHx8ICdVbnRpdGxlZCBBcnRpZmFjdCc7XG4gICAgICAgIGNvbnN0IHZlcnNpb25Db3VudCA9IHNhdmVkVmVyc2lvbnMubGVuZ3RoO1xuXG4gICAgICAgIGlmICghbGF0ZXN0VmVyc2lvbikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xhdWRlIGNvbnZlcnRlcjogTm8gbGF0ZXN0IHZlcnNpb24gYXZhaWxhYmxlIGZvciBhcnRpZmFjdCBzdW1tYXJ5Jyk7XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJuZXh1cy1hcnRpZmFjdC1ib3hcIj4qKlx1RDgzQ1x1REZBOCBBcnRpZmFjdDogJHt0aXRsZX0qKiAoRXJyb3I6IE5vIGFjY2Vzc2libGUgdmVyc2lvbik8L2Rpdj5gO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZvcm1hdHRlZENvbnRlbnQgPSBgPGRpdiBjbGFzcz1cIm5leHVzLWFydGlmYWN0LWJveFwiPioqXHVEODNDXHVERkE4IEFydGlmYWN0OiAke3RpdGxlfSoqYDtcblxuICAgICAgICBpZiAodmVyc2lvbkNvdW50ID4gMSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgICgke3ZlcnNpb25Db3VudH0gdmVyc2lvbnMpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVzZSB2YXVsdC1yZWxhdGl2ZSBwYXRocyBmb3IgT2JzaWRpYW4gbGlua3MgKHJlbW92ZSAubWQgZXh0ZW5zaW9uIGZvciBsaW5rcylcbiAgICAgICAgY29uc3QgbGF0ZXN0VmVyc2lvbkxpbmsgPSBsYXRlc3RWZXJzaW9uLnJlcGxhY2UoL1xcLm1kJC8sICcnKTtcbiAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgXFxuXFxuXHVEODNEXHVEQ0NFICoqW1ske2xhdGVzdFZlcnNpb25MaW5rfXxWaWV3IExhdGVzdCBWZXJzaW9uXV0qKmA7XG5cbiAgICAgICAgaWYgKHZlcnNpb25Db3VudCA+IDEpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZENvbnRlbnQgKz0gYCB8ICoqW1ske2NvbnZlcnNhdGlvbkZvbGRlcn0vfEFsbCBWZXJzaW9uc11dKipgO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgPC9kaXY+YDtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZENvbnRlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IENsYXVkZSBhcnRpZmFjdHMgYXMgbGlua3MgdG8gc2VwYXJhdGUgZmlsZXMgb25seSAobGVnYWN5IG1ldGhvZCBmb3Igc2luZ2xlIGFydGlmYWN0cylcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBmb3JtYXRBcnRpZmFjdChhcnRpZmFjdElucHV0OiBhbnksIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLCBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZywgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gYXJ0aWZhY3RJbnB1dC50aXRsZSB8fCAnVW50aXRsZWQgQXJ0aWZhY3QnO1xuICAgICAgICBsZXQgbGFuZ3VhZ2UgPSBhcnRpZmFjdElucHV0Lmxhbmd1YWdlIHx8ICd0ZXh0JztcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGFydGlmYWN0SW5wdXQuY29tbWFuZCB8fCAnY3JlYXRlJztcbiAgICAgICAgY29uc3QgYXJ0aWZhY3RJZCA9IGFydGlmYWN0SW5wdXQuaWQgfHwgJ3Vua25vd24nO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXJ0aWZhY3RJbnB1dC5jb250ZW50IHx8ICcnO1xuXG4gICAgICAgIC8vIEF1dG8tZGV0ZWN0IGxhbmd1YWdlIGlmIG1hcmtlZCBhcyBcInRleHRcIiBvciB1bmRlZmluZWQgYnV0IGNvbnRlbnQgc3VnZ2VzdHMgb3RoZXJ3aXNlXG4gICAgICAgIGlmICgobGFuZ3VhZ2UudG9Mb3dlckNhc2UoKSA9PT0gJ3RleHQnIHx8ICFsYW5ndWFnZSB8fCBsYW5ndWFnZSA9PT0gJ3VuZGVmaW5lZCcpICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldGVjdGVkTGFuZ3VhZ2UgPSB0aGlzLmRldGVjdExhbmd1YWdlRnJvbUNvbnRlbnQoY29udGVudCwgYXJ0aWZhY3RJbnB1dC50eXBlKTtcbiAgICAgICAgICAgIGlmIChkZXRlY3RlZExhbmd1YWdlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IGRldGVjdGVkTGFuZ3VhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZm9ybWF0dGVkQ29udGVudCA9IGA8ZGl2IGNsYXNzPVwibmV4dXMtYXJ0aWZhY3QtYm94XCI+XFxuXFxuKipcdUQ4M0NcdURGQTggQXJ0aWZhY3Q6ICR7dGl0bGV9KipcXG5cXG5gO1xuXG4gICAgICAgIGlmIChjb21tYW5kID09PSAnZWRpdCcpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZENvbnRlbnQgKz0gYCpbQXJ0aWZhY3QgZWRpdGVkXSpcXG5cXG5gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIG1ldGFkYXRhIHdpdGggZGV0ZWN0ZWQgbGFuZ3VhZ2VcbiAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgPiAqKkxhbmd1YWdlOioqICR7bGFuZ3VhZ2V9YDtcbiAgICAgICAgaWYgKGFydGlmYWN0SW5wdXQubGFuZ3VhZ2UgIT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGAgKGRldGVjdGVkIGZyb20gY29udGVudCwgb3JpZ2luYWw6ICR7YXJ0aWZhY3RJbnB1dC5sYW5ndWFnZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGBcXG5gO1xuICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGA+ICoqVHlwZToqKiAke2FydGlmYWN0SW5wdXQudHlwZSB8fCAnY29kZSd9XFxuYDtcbiAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgPiAqKklEOioqICR7YXJ0aWZhY3RJZH1cXG5cXG5gO1xuXG4gICAgICAgIC8vIFNhdmUgYXJ0aWZhY3QgdG8gZmlsZSBhbmQgbGluayB0byBpdFxuICAgICAgICBpZiAoY29udGVudCAmJiB0aGlzLnBsdWdpbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGF3YWl0IHRoaXMuc2F2ZUFydGlmYWN0VG9GaWxlKGFydGlmYWN0SWQsIHRpdGxlLCBsYW5ndWFnZSwgY29udGVudCwgY29udmVyc2F0aW9uSWQsIGNvbnZlcnNhdGlvblRpdGxlLCBjb252ZXJzYXRpb25DcmVhdGVUaW1lKTtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGBcdUQ4M0RcdURDQ0UgKipbVmlldyBBcnRpZmFjdF0oJHtmaWxlUGF0aH0pKipcXG5cXG5gO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IGBcdTI3NEMgKipFcnJvciBzYXZpbmcgYXJ0aWZhY3Q6KiogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31cXG5cXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBgPC9kaXY+XFxuXFxuYDtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZENvbnRlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHNpbmdsZSBhcnRpZmFjdCB2ZXJzaW9uIHdpdGggc3BlY2lmaWMgY29udGVudFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIHNhdmVJbmRpdmlkdWFsQXJ0aWZhY3RWZXJzaW9uKFxuICAgICAgICBhcnRpZmFjdElucHV0OiBhbnksXG4gICAgICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICAgICAgIHZlcnNpb25OdW1iZXI6IG51bWJlcixcbiAgICAgICAgdmVyc2lvbkNvbnRlbnQ6IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyLFxuICAgICAgICBmb3JjZWRMYW5ndWFnZT86IHN0cmluZ1xuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGFydGlmYWN0SW5wdXQudGl0bGUgfHwgJ1VudGl0bGVkIEFydGlmYWN0JztcbiAgICAgICAgbGV0IGxhbmd1YWdlID0gYXJ0aWZhY3RJbnB1dC5sYW5ndWFnZSB8fCAndGV4dCc7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBhcnRpZmFjdElucHV0LmNvbW1hbmQgfHwgJ2NyZWF0ZSc7XG4gICAgICAgIGNvbnN0IGFydGlmYWN0SWQgPSBhcnRpZmFjdElucHV0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgY29uc3QgdmVyc2lvblV1aWQgPSBhcnRpZmFjdElucHV0LnZlcnNpb25fdXVpZDtcblxuICAgICAgICAvLyBVc2UgZm9yY2VkIGxhbmd1YWdlIChmcm9tIGNyZWF0ZS9yZXdyaXRlKSBvciBhdXRvLWRldGVjdFxuICAgICAgICBpZiAoZm9yY2VkTGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGxhbmd1YWdlID0gZm9yY2VkTGFuZ3VhZ2U7XG4gICAgICAgIH0gZWxzZSBpZiAoKGxhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0JyB8fCAhbGFuZ3VhZ2UgfHwgbGFuZ3VhZ2UgPT09ICd1bmRlZmluZWQnKSAmJiB2ZXJzaW9uQ29udGVudCkge1xuICAgICAgICAgICAgY29uc3QgZGV0ZWN0ZWRMYW5ndWFnZSA9IHRoaXMuZGV0ZWN0TGFuZ3VhZ2VGcm9tQ29udGVudCh2ZXJzaW9uQ29udGVudCwgYXJ0aWZhY3RJbnB1dC50eXBlKTtcbiAgICAgICAgICAgIGlmIChkZXRlY3RlZExhbmd1YWdlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IGRldGVjdGVkTGFuZ3VhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBjb252ZXJzYXRpb24gbGluayB3aXRoIHByb3BlciBwYXRoIGlmIGNvbnZlcnNhdGlvbklkIGFuZCB0aXRsZSBhcmUgcHJvdmlkZWRcbiAgICAgICAgbGV0IGNvbnZlcnNhdGlvbkxpbmsgPSAnJztcbiAgICAgICAgaWYgKGNvbnZlcnNhdGlvbklkICYmIGNvbnZlcnNhdGlvblRpdGxlICYmIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZURhdGUgPSBuZXcgRGF0ZShjb252ZXJzYXRpb25DcmVhdGVUaW1lICogMTAwMCk7XG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gY3JlYXRlRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoY3JlYXRlRGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblxuICAgICAgICAgICAgLy8gSW1wb3J0IHV0aWxpdGllc1xuICAgICAgICAgICAgY29uc3QgeyBnZW5lcmF0ZUNvbnZlcnNhdGlvbkZpbGVOYW1lIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi91dGlsc1wiKTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGV4YWN0IGZpbGVuYW1lIHRoYXQgd291bGQgYmUgdXNlZCBmb3IgdGhlIGNvbnZlcnNhdGlvblxuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBnZW5lcmF0ZUNvbnZlcnNhdGlvbkZpbGVOYW1lKFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeCxcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlRm9ybWF0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBVc2UgYWJzb2x1dGUgcGF0aCBmcm9tIHZhdWx0IHJvb3QgKHdpdGhvdXQgLm1kIGV4dGVuc2lvbiBmb3IgbGlua3MpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25QYXRoID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcn0vY2xhdWRlLyR7eWVhcn0vJHttb250aH0vJHtmaWxlTmFtZX1gO1xuICAgICAgICAgICAgY29udmVyc2F0aW9uTGluayA9IGBbWyR7Y29udmVyc2F0aW9uUGF0aH18JHtjb252ZXJzYXRpb25UaXRsZX1dXWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgbWFya2Rvd24gY29udGVudCB3aXRoIGVuaGFuY2VkIGZyb250bWF0dGVyXG4gICAgICAgIGxldCBtYXJrZG93bkNvbnRlbnQgPSBgLS0tXG5uZXh1czogbmV4dXMtYWktY2hhdC1pbXBvcnRlclxucGx1Z2luX3ZlcnNpb246ICR7dGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbn1cbnByb3ZpZGVyOiBjbGF1ZGVcbmFydGlmYWN0X2lkOiAke2FydGlmYWN0SWR9XG52ZXJzaW9uX3V1aWQ6ICR7dmVyc2lvblV1aWR9XG52ZXJzaW9uX251bWJlcjogJHt2ZXJzaW9uTnVtYmVyfVxuY29tbWFuZDogJHtjb21tYW5kfVxuY29udmVyc2F0aW9uX2lkOiAke2NvbnZlcnNhdGlvbklkIHx8ICd1bmtub3duJ31cbmZvcm1hdDogJHtsYW5ndWFnZX1cbmFsaWFzZXM6IFtcIiR7dGl0bGV9XCIsIFwiJHthcnRpZmFjdElkfV92JHt2ZXJzaW9uTnVtYmVyfVwiXVxuLS0tXG5cbiMgJHt0aXRsZX0gKFZlcnNpb24gJHt2ZXJzaW9uTnVtYmVyfSlcblxuKipUeXBlOioqIENsYXVkZSBBcnRpZmFjdFxuKipMYW5ndWFnZToqKiAke2xhbmd1YWdlfWA7XG5cbiAgICAgICAgaWYgKGFydGlmYWN0SW5wdXQubGFuZ3VhZ2UgIT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYCAoZGV0ZWN0ZWQgZnJvbSBjb250ZW50LCBvcmlnaW5hbDogJHthcnRpZmFjdElucHV0Lmxhbmd1YWdlfSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IGBcbioqQ29tbWFuZDoqKiAke2NvbW1hbmR9XG4qKlZlcnNpb246KiogJHt2ZXJzaW9uTnVtYmVyfVxuKipJRDoqKiAke2FydGlmYWN0SWR9XG4qKlVVSUQ6KiogJHt2ZXJzaW9uVXVpZH1gO1xuXG4gICAgICAgIGlmIChjb252ZXJzYXRpb25MaW5rKSB7XG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxuKipDb252ZXJzYXRpb246KiogJHtjb252ZXJzYXRpb25MaW5rfWA7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxcblxcbiMjIENvbnRlbnRcXG5cXG5gO1xuXG4gICAgICAgIC8vIEFkZCBjb250ZW50IGJhc2VkIG9uIGxhbmd1YWdlXG4gICAgICAgIGlmIChsYW5ndWFnZS50b0xvd2VyQ2FzZSgpID09PSAnbWFya2Rvd24nKSB7XG4gICAgICAgICAgICAvLyBGb3IgbWFya2Rvd24sIGluY2x1ZGUgY29udGVudCBkaXJlY3RseVxuICAgICAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IHZlcnNpb25Db250ZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRm9yIG90aGVyIGxhbmd1YWdlcywgdXNlIGNvZGUgYmxvY2tzXG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxcYFxcYFxcYCR7bGFuZ3VhZ2V9XFxuJHt2ZXJzaW9uQ29udGVudH1cXG5cXGBcXGBcXGBgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgYXJ0aWZhY3QgYXMgbWFya2Rvd25cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIG1hcmtkb3duQ29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGFydGlmYWN0IGZpbGUgJHtmaWxlUGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIGEgc2luZ2xlIGFydGlmYWN0IHZlcnNpb24gKGxlZ2FjeSBtZXRob2QpXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2F2ZUFydGlmYWN0VmVyc2lvbihcbiAgICAgICAgYXJ0aWZhY3RJbnB1dDogYW55LFxuICAgICAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgICAgICB2ZXJzaW9uTnVtYmVyOiBudW1iZXIsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLFxuICAgICAgICBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZyxcbiAgICAgICAgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlclxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGFydGlmYWN0SW5wdXQudGl0bGUgfHwgJ1VudGl0bGVkIEFydGlmYWN0JztcbiAgICAgICAgbGV0IGxhbmd1YWdlID0gYXJ0aWZhY3RJbnB1dC5sYW5ndWFnZSB8fCAndGV4dCc7XG4gICAgICAgIGNvbnN0IGNvbW1hbmQgPSBhcnRpZmFjdElucHV0LmNvbW1hbmQgfHwgJ2NyZWF0ZSc7XG4gICAgICAgIGNvbnN0IGFydGlmYWN0SWQgPSBhcnRpZmFjdElucHV0LmlkIHx8ICd1bmtub3duJztcbiAgICAgICAgY29uc3QgY29udGVudCA9IGFydGlmYWN0SW5wdXQuY29udGVudCB8fCAnJztcbiAgICAgICAgY29uc3QgdmVyc2lvblV1aWQgPSBhcnRpZmFjdElucHV0LnZlcnNpb25fdXVpZDtcblxuICAgICAgICAvLyBBdXRvLWRldGVjdCBsYW5ndWFnZSBpZiBtYXJrZWQgYXMgXCJ0ZXh0XCIgb3IgdW5kZWZpbmVkIGJ1dCBjb250ZW50IHN1Z2dlc3RzIG90aGVyd2lzZVxuICAgICAgICBpZiAoKGxhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0JyB8fCAhbGFuZ3VhZ2UgfHwgbGFuZ3VhZ2UgPT09ICd1bmRlZmluZWQnKSAmJiBjb250ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBkZXRlY3RlZExhbmd1YWdlID0gdGhpcy5kZXRlY3RMYW5ndWFnZUZyb21Db250ZW50KGNvbnRlbnQsIGFydGlmYWN0SW5wdXQudHlwZSk7XG4gICAgICAgICAgICBpZiAoZGV0ZWN0ZWRMYW5ndWFnZSAhPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2UgPSBkZXRlY3RlZExhbmd1YWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgY29udmVyc2F0aW9uIGxpbmsgd2l0aCBwcm9wZXIgcGF0aCBpZiBjb252ZXJzYXRpb25JZCBhbmQgdGl0bGUgYXJlIHByb3ZpZGVkXG4gICAgICAgIGxldCBjb252ZXJzYXRpb25MaW5rID0gJyc7XG4gICAgICAgIGlmIChjb252ZXJzYXRpb25JZCAmJiBjb252ZXJzYXRpb25UaXRsZSAmJiBjb252ZXJzYXRpb25DcmVhdGVUaW1lKSB7XG4gICAgICAgICAgICBjb25zdCBjcmVhdGVEYXRlID0gbmV3IERhdGUoY29udmVyc2F0aW9uQ3JlYXRlVGltZSAqIDEwMDApO1xuICAgICAgICAgICAgY29uc3QgeWVhciA9IGNyZWF0ZURhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGNyZWF0ZURhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG5cbiAgICAgICAgICAgIC8vIEltcG9ydCB1dGlsaXRpZXNcbiAgICAgICAgICAgIGNvbnN0IHsgZ2VuZXJhdGVDb252ZXJzYXRpb25GaWxlTmFtZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vLi4vdXRpbHNcIik7XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHRoZSBleGFjdCBmaWxlbmFtZSB0aGF0IHdvdWxkIGJlIHVzZWQgZm9yIHRoZSBjb252ZXJzYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZ2VuZXJhdGVDb252ZXJzYXRpb25GaWxlTmFtZShcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25UaXRsZSxcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25DcmVhdGVUaW1lLFxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZERhdGVQcmVmaXgsXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gVXNlIGFic29sdXRlIHBhdGggZnJvbSB2YXVsdCByb290ICh3aXRob3V0IC5tZCBleHRlbnNpb24gZm9yIGxpbmtzKVxuICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uUGF0aCA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXJ9L2NsYXVkZS8ke3llYXJ9LyR7bW9udGh9LyR7ZmlsZU5hbWV9YDtcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbkxpbmsgPSBgW1ske2NvbnZlcnNhdGlvblBhdGh9fCR7Y29udmVyc2F0aW9uVGl0bGV9XV1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1hcmtkb3duIGNvbnRlbnQgd2l0aCBlbmhhbmNlZCBmcm9udG1hdHRlclxuICAgICAgICBsZXQgbWFya2Rvd25Db250ZW50ID0gYC0tLVxubmV4dXM6IG5leHVzLWFpLWNoYXQtaW1wb3J0ZXJcbnBsdWdpbl92ZXJzaW9uOiAke3RoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb259XG5wcm92aWRlcjogY2xhdWRlXG5hcnRpZmFjdF9pZDogJHthcnRpZmFjdElkfVxudmVyc2lvbl91dWlkOiAke3ZlcnNpb25VdWlkfVxudmVyc2lvbl9udW1iZXI6ICR7dmVyc2lvbk51bWJlcn1cbmNvbW1hbmQ6ICR7Y29tbWFuZH1cbmNvbnZlcnNhdGlvbl9pZDogJHtjb252ZXJzYXRpb25JZCB8fCAndW5rbm93bid9XG5mb3JtYXQ6ICR7bGFuZ3VhZ2V9XG5hbGlhc2VzOiBbXCIke3RpdGxlfVwiLCBcIiR7YXJ0aWZhY3RJZH1fdiR7dmVyc2lvbk51bWJlcn1cIl1cbi0tLVxuXG4jICR7dGl0bGV9IChWZXJzaW9uICR7dmVyc2lvbk51bWJlcn0pXG5cbioqVHlwZToqKiBDbGF1ZGUgQXJ0aWZhY3RcbioqTGFuZ3VhZ2U6KiogJHtsYW5ndWFnZX1gO1xuXG4gICAgICAgIGlmIChhcnRpZmFjdElucHV0Lmxhbmd1YWdlICE9PSBsYW5ndWFnZSkge1xuICAgICAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IGAgKGRldGVjdGVkIGZyb20gY29udGVudCwgb3JpZ2luYWw6ICR7YXJ0aWZhY3RJbnB1dC5sYW5ndWFnZX0pYDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmtkb3duQ29udGVudCArPSBgXG4qKkNvbW1hbmQ6KiogJHtjb21tYW5kfVxuKipWZXJzaW9uOioqICR7dmVyc2lvbk51bWJlcn1cbioqSUQ6KiogJHthcnRpZmFjdElkfVxuKipVVUlEOioqICR7dmVyc2lvblV1aWR9YDtcblxuICAgICAgICBpZiAoY29udmVyc2F0aW9uTGluaykge1xuICAgICAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IGBcbioqQ29udmVyc2F0aW9uOioqICR7Y29udmVyc2F0aW9uTGlua31gO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IGBcXG5cXG4jIyBDb250ZW50XFxuXFxuYDtcblxuICAgICAgICAvLyBBZGQgY29udGVudCBiYXNlZCBvbiBsYW5ndWFnZVxuICAgICAgICBpZiAobGFuZ3VhZ2UudG9Mb3dlckNhc2UoKSA9PT0gJ21hcmtkb3duJykge1xuICAgICAgICAgICAgLy8gRm9yIG1hcmtkb3duLCBpbmNsdWRlIGNvbnRlbnQgZGlyZWN0bHlcbiAgICAgICAgICAgIG1hcmtkb3duQ29udGVudCArPSBjb250ZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRm9yIG90aGVyIGxhbmd1YWdlcywgdXNlIGNvZGUgYmxvY2tzXG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gYFxcYFxcYFxcYCR7bGFuZ3VhZ2V9XFxuJHtjb250ZW50fVxcblxcYFxcYFxcYGA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTYXZlIHRoZSBhcnRpZmFjdCBhcyBtYXJrZG93blxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgbWFya2Rvd25Db250ZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgYXJ0aWZhY3QgZmlsZSAke2ZpbGVQYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmUgYXJ0aWZhY3QgYXMgbWFya2Rvd24gbm90ZSBpbiBhdHRhY2htZW50cy9hcnRpZmFjdHMvIGZvbGRlciAobGVnYWN5IG1ldGhvZClcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBzYXZlQXJ0aWZhY3RUb0ZpbGUoYXJ0aWZhY3RJZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nLCBjb252ZXJzYXRpb25UaXRsZT86IHN0cmluZywgY29udmVyc2F0aW9uQ3JlYXRlVGltZT86IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IHNhZmVUaXRsZSA9IHRpdGxlLnJlcGxhY2UoL1teYS16QS1aMC05XFwtX10vZywgJ18nKTtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtzYWZlVGl0bGV9XyR7YXJ0aWZhY3RJZH0ubWRgO1xuXG4gICAgICAgIGNvbnN0IGFydGlmYWN0Rm9sZGVyID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2xhdWRlL2FydGlmYWN0c2A7XG5cbiAgICAgICAgLy8gRW5zdXJlIGZvbGRlciBleGlzdHNcbiAgICAgICAgY29uc3QgeyBlbnN1cmVGb2xkZXJFeGlzdHMgfSA9IGF3YWl0IGltcG9ydChcIi4uLy4uL3V0aWxzXCIpO1xuICAgICAgICBjb25zdCBmb2xkZXJSZXN1bHQgPSBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMoYXJ0aWZhY3RGb2xkZXIsIHRoaXMucGx1Z2luLmFwcC52YXVsdCk7XG4gICAgICAgIGlmICghZm9sZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBhcnRpZmFjdHMgZm9sZGVyOiAke2ZvbGRlclJlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7YXJ0aWZhY3RGb2xkZXJ9LyR7ZmlsZU5hbWV9YDtcblxuICAgICAgICAvLyBHZW5lcmF0ZSBjb252ZXJzYXRpb24gbGluayB3aXRoIHByb3BlciBwYXRoIGlmIGNvbnZlcnNhdGlvbklkIGFuZCB0aXRsZSBhcmUgcHJvdmlkZWRcbiAgICAgICAgbGV0IGNvbnZlcnNhdGlvbkxpbmsgPSAnJztcbiAgICAgICAgaWYgKGNvbnZlcnNhdGlvbklkICYmIGNvbnZlcnNhdGlvblRpdGxlICYmIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZURhdGUgPSBuZXcgRGF0ZShjb252ZXJzYXRpb25DcmVhdGVUaW1lICogMTAwMCk7XG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gY3JlYXRlRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcoY3JlYXRlRGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcblxuICAgICAgICAgICAgLy8gSW1wb3J0IHV0aWxpdGllc1xuICAgICAgICAgICAgY29uc3QgeyBnZW5lcmF0ZUNvbnZlcnNhdGlvbkZpbGVOYW1lIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi91dGlsc1wiKTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGV4YWN0IGZpbGVuYW1lIHRoYXQgd291bGQgYmUgdXNlZCBmb3IgdGhlIGNvbnZlcnNhdGlvblxuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBnZW5lcmF0ZUNvbnZlcnNhdGlvbkZpbGVOYW1lKFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWRkRGF0ZVByZWZpeCxcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlRm9ybWF0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBVc2UgYWJzb2x1dGUgcGF0aCBmcm9tIHZhdWx0IHJvb3QgKHdpdGhvdXQgLm1kIGV4dGVuc2lvbiBmb3IgbGlua3MpXG4gICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25QYXRoID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXJjaGl2ZUZvbGRlcn0vY2xhdWRlLyR7eWVhcn0vJHttb250aH0vJHtmaWxlTmFtZX1gO1xuICAgICAgICAgICAgY29udmVyc2F0aW9uTGluayA9IGBbWyR7Y29udmVyc2F0aW9uUGF0aH18JHtjb252ZXJzYXRpb25UaXRsZX1dXWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgbWFya2Rvd24gY29udGVudCB3aXRoIGVuaGFuY2VkIGZyb250bWF0dGVyXG4gICAgICAgIGxldCBtYXJrZG93bkNvbnRlbnQgPSBgLS0tXG5uZXh1czogbmV4dXMtYWktY2hhdC1pbXBvcnRlclxucGx1Z2luX3ZlcnNpb246ICR7dGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbn1cbnByb3ZpZGVyOiBjbGF1ZGVcbmFsaWFzZXM6IFtcIiR7dGl0bGV9XCIsIFwiJHthcnRpZmFjdElkfVwiXVxuY29udmVyc2F0aW9uX2lkOiAke2NvbnZlcnNhdGlvbklkIHx8ICd1bmtub3duJ31cbmZvcm1hdDogJHtsYW5ndWFnZX1cbi0tLVxuXG4jICR7dGl0bGV9XG5cbioqVHlwZToqKiBDbGF1ZGUgQXJ0aWZhY3RcbioqTGFuZ3VhZ2U6KiogJHtsYW5ndWFnZX1cbioqSUQ6KiogJHthcnRpZmFjdElkfWA7XG5cbiAgICAgICAgaWYgKGNvbnZlcnNhdGlvbkxpbmspIHtcbiAgICAgICAgICAgIG1hcmtkb3duQ29udGVudCArPSBgXG4qKkNvbnZlcnNhdGlvbjoqKiAke2NvbnZlcnNhdGlvbkxpbmt9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmtkb3duQ29udGVudCArPSBgXFxuXFxuIyMgQ29udGVudFxcblxcbmA7XG5cbiAgICAgICAgLy8gQWRkIGNvbnRlbnQgYmFzZWQgb24gbGFuZ3VhZ2VcbiAgICAgICAgaWYgKGxhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09ICdtYXJrZG93bicpIHtcbiAgICAgICAgICAgIC8vIEZvciBtYXJrZG93biwgaW5jbHVkZSBjb250ZW50IGRpcmVjdGx5XG4gICAgICAgICAgICBtYXJrZG93bkNvbnRlbnQgKz0gY29udGVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZvciBvdGhlciBsYW5ndWFnZXMsIHVzZSBjb2RlIGJsb2Nrc1xuICAgICAgICAgICAgbWFya2Rvd25Db250ZW50ICs9IGBcXGBcXGBcXGAke2xhbmd1YWdlfVxcbiR7Y29udGVudH1cXG5cXGBcXGBcXGBgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgYXJ0aWZhY3QgYXMgbWFya2Rvd25cbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgbWFya2Rvd25Db250ZW50KTtcblxuICAgICAgICByZXR1cm4gZmlsZVBhdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgd2Ugc2hvdWxkIHNraXAgc2F2aW5nIHRoaXMgYXJ0aWZhY3QgdmVyc2lvbiAoYWxyZWFkeSBleGlzdHMpXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2hvdWxkU2tpcEFydGlmYWN0VmVyc2lvbihmaWxlUGF0aDogc3RyaW5nLCB2ZXJzaW9uVXVpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0ZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdGaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBGaWxlIGRvZXNuJ3QgZXhpc3QsIGRvbid0IHNraXBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZXhpc3RpbmdGaWxlIGFzIGFueSk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB2ZXJzaW9uX3V1aWQgbWF0Y2hlcyAoc2FtZSB2ZXJzaW9uKVxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ29udGVudC5pbmNsdWRlcyhgdmVyc2lvbl91dWlkOiAke3ZlcnNpb25VdWlkfWApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFNhbWUgdmVyc2lvbiwgc2tpcFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEaWZmZXJlbnQgdmVyc2lvbl91dWlkIGJ1dCBzYW1lIGZpbGUgcGF0aCAtIHRoaXMgc2hvdWxkbid0IGhhcHBlbiBpbiBub3JtYWwgY2FzZXNcbiAgICAgICAgICAgIC8vIGJ1dCBjb3VsZCBoYXBwZW4gaWYgdGhlcmUgYXJlIGNvbmZsaWN0cy4gTGV0J3MgdXBkYXRlIHRoZSBmaWxlLlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgcmVhZCB0aGUgZmlsZSwgZG9uJ3Qgc2tpcCAodHJ5IHRvIGNyZWF0ZS91cGRhdGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHJlcGxhY2UgdGhlIGN1cnJlbnQgYXJ0aWZhY3Qgd2l0aCBhIG5ldyBvbmVcbiAgICAgKiBQcmlvcml0eTogY3JlYXRlID4gcmV3cml0ZSA+IHVwZGF0ZSAod2l0aCBjb250ZW50KSA+IHZpZXdcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBzaG91bGRSZXBsYWNlQXJ0aWZhY3QoY3VycmVudDogYW55LCBjYW5kaWRhdGU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBjdXJyZW50Q29tbWFuZCA9IGN1cnJlbnQuY29tbWFuZCB8fCAnY3JlYXRlJztcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlQ29tbWFuZCA9IGNhbmRpZGF0ZS5jb21tYW5kIHx8ICdjcmVhdGUnO1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGVudCA9IChjdXJyZW50LmNvbnRlbnQgfHwgJycpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlQ29udGVudCA9IChjYW5kaWRhdGUuY29udGVudCB8fCAnJykubGVuZ3RoO1xuXG4gICAgICAgIC8vIENvbW1hbmQgcHJpb3JpdHkgc2NvcmVzXG4gICAgICAgIGNvbnN0IGNvbW1hbmRQcmlvcml0eSA9IHtcbiAgICAgICAgICAgICdjcmVhdGUnOiA0LFxuICAgICAgICAgICAgJ3Jld3JpdGUnOiAzLFxuICAgICAgICAgICAgJ3VwZGF0ZSc6IDIsXG4gICAgICAgICAgICAndmlldyc6IDFcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UHJpb3JpdHkgPSBjb21tYW5kUHJpb3JpdHlbY3VycmVudENvbW1hbmRdIHx8IDE7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZVByaW9yaXR5ID0gY29tbWFuZFByaW9yaXR5W2NhbmRpZGF0ZUNvbW1hbmRdIHx8IDE7XG5cbiAgICAgICAgLy8gSGlnaGVyIHByaW9yaXR5IGNvbW1hbmQgd2luc1xuICAgICAgICBpZiAoY2FuZGlkYXRlUHJpb3JpdHkgPiBjdXJyZW50UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2FtZSBwcmlvcml0eTogbG9uZ2VyIGNvbnRlbnQgd2luc1xuICAgICAgICBpZiAoY2FuZGlkYXRlUHJpb3JpdHkgPT09IGN1cnJlbnRQcmlvcml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZUNvbnRlbnQgPiBjdXJyZW50Q29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLWRldGVjdCBsYW5ndWFnZSBmcm9tIGNvbnRlbnQgYW5kIGFydGlmYWN0IHR5cGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBkZXRlY3RMYW5ndWFnZUZyb21Db250ZW50KGNvbnRlbnQ6IHN0cmluZywgYXJ0aWZhY3RUeXBlPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCFjb250ZW50IHx8IGNvbnRlbnQudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuICd0ZXh0JztcblxuICAgICAgICAvLyBGaXJzdCBjaGVjayBhcnRpZmFjdCB0eXBlIGZvciBoaW50c1xuICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlKSB7XG4gICAgICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlLmluY2x1ZGVzKCdyZWFjdCcpIHx8IGFydGlmYWN0VHlwZS5pbmNsdWRlcygnanN4JykpIHJldHVybiAnanN4JztcbiAgICAgICAgICAgIGlmIChhcnRpZmFjdFR5cGUuaW5jbHVkZXMoJ3Z1ZScpKSByZXR1cm4gJ3Z1ZSc7XG4gICAgICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlLmluY2x1ZGVzKCdzdmVsdGUnKSkgcmV0dXJuICdzdmVsdGUnO1xuICAgICAgICAgICAgaWYgKGFydGlmYWN0VHlwZS5pbmNsdWRlcygnaHRtbCcpKSByZXR1cm4gJ2h0bWwnO1xuICAgICAgICAgICAgaWYgKGFydGlmYWN0VHlwZS5pbmNsdWRlcygnY3NzJykpIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIGlmIChhcnRpZmFjdFR5cGUuaW5jbHVkZXMoJ2pzb24nKSkgcmV0dXJuICdqc29uJztcbiAgICAgICAgICAgIGlmIChhcnRpZmFjdFR5cGUuaW5jbHVkZXMoJ3htbCcpKSByZXR1cm4gJ3htbCc7XG4gICAgICAgICAgICBpZiAoYXJ0aWZhY3RUeXBlLmluY2x1ZGVzKCdzdmcnKSkgcmV0dXJuICd4bWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJpbW1lZENvbnRlbnQgPSBjb250ZW50LnRyaW0oKTtcblxuICAgICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgZmlsZSB0eXBlIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5zdGFydHNXaXRoKCc8P3BocCcpKSByZXR1cm4gJ3BocCc7XG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5zdGFydHNXaXRoKCcjIS9iaW4vYmFzaCcpIHx8IHRyaW1tZWRDb250ZW50LnN0YXJ0c1dpdGgoJyMhL2Jpbi9zaCcpKSByZXR1cm4gJ2Jhc2gnO1xuICAgICAgICBpZiAodHJpbW1lZENvbnRlbnQuc3RhcnRzV2l0aCgnPCFET0NUWVBFIGh0bWwnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnPGh0bWwnKSkgcmV0dXJuICdodG1sJztcblxuICAgICAgICAvLyBDaGVjayBmb3IgUmVhY3QvSlNYIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygnaW1wb3J0IFJlYWN0JykgfHwgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ2Zyb20gXCJyZWFjdFwiJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCd1c2VTdGF0ZScpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCd1c2VFZmZlY3QnKSB8fFxuICAgICAgICAgICAgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ2NsYXNzTmFtZT0nKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnanN4JykpIHtcbiAgICAgICAgICAgIHJldHVybiAnanN4JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBKU09OXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5zdGFydHNXaXRoKCd7JykgJiYgdHJpbW1lZENvbnRlbnQuZW5kc1dpdGgoJ30nKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBKU09OLnBhcnNlKHRyaW1tZWRDb250ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2pzb24nO1xuICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIFNWRy9YTUxcbiAgICAgICAgaWYgKHRyaW1tZWRDb250ZW50LnN0YXJ0c1dpdGgoJzxzdmcnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygneG1sbnMnKSkge1xuICAgICAgICAgICAgcmV0dXJuICd4bWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG1hcmtkb3duIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygnIyAnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnIyMgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCcqKicpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdgYGAnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdtYXJrZG93bic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgUHl0aG9uIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygnZGVmICcpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdpbXBvcnQgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdmcm9tICcpIHx8IHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdjbGFzcyAnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdweXRob24nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIEphdmFTY3JpcHQgcGF0dGVybnNcbiAgICAgICAgaWYgKHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdmdW5jdGlvbiAnKSB8fCB0cmltbWVkQ29udGVudC5pbmNsdWRlcygnY29uc3QgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCdsZXQgJykgfHwgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ3ZhciAnKSB8fFxuICAgICAgICAgICAgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJz0+JykpIHtcbiAgICAgICAgICAgIHJldHVybiAnamF2YXNjcmlwdCc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgQ1NTIHBhdHRlcm5zXG4gICAgICAgIGlmICh0cmltbWVkQ29udGVudC5pbmNsdWRlcygneycpICYmIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCc6JykgJiZcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LmluY2x1ZGVzKCc7JykgJiYgdHJpbW1lZENvbnRlbnQuaW5jbHVkZXMoJ30nKSkge1xuICAgICAgICAgICAgcmV0dXJuICdjc3MnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIFNRTCBwYXR0ZXJuc1xuICAgICAgICBpZiAodHJpbW1lZENvbnRlbnQudG9VcHBlckNhc2UoKS5pbmNsdWRlcygnU0VMRUNUICcpIHx8XG4gICAgICAgICAgICB0cmltbWVkQ29udGVudC50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKCdJTlNFUlQgJykgfHxcbiAgICAgICAgICAgIHRyaW1tZWRDb250ZW50LnRvVXBwZXJDYXNlKCkuaW5jbHVkZXMoJ1VQREFURSAnKSB8fFxuICAgICAgICAgICAgdHJpbW1lZENvbnRlbnQudG9VcHBlckNhc2UoKS5pbmNsdWRlcygnQ1JFQVRFIFRBQkxFJykpIHtcbiAgICAgICAgICAgIHJldHVybiAnc3FsJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAndGV4dCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgZXh0ZW5zaW9uIGZyb20gbGFuZ3VhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRFeHRlbnNpb25Gcm9tTGFuZ3VhZ2UobGFuZ3VhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHN3aXRjaCAobGFuZ3VhZ2UudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSAncHl0aG9uJzogcmV0dXJuICdweSc7XG4gICAgICAgICAgICBjYXNlICdqYXZhc2NyaXB0JzogcmV0dXJuICdqcyc7XG4gICAgICAgICAgICBjYXNlICd0eXBlc2NyaXB0JzogcmV0dXJuICd0cyc7XG4gICAgICAgICAgICBjYXNlICdodG1sJzogcmV0dXJuICdodG1sJztcbiAgICAgICAgICAgIGNhc2UgJ2Nzcyc6IHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIGNhc2UgJ21hcmtkb3duJzogcmV0dXJuICdtZCc7XG4gICAgICAgICAgICBjYXNlICdqc29uJzogcmV0dXJuICdqc29uJztcbiAgICAgICAgICAgIGNhc2UgJ3lhbWwnOiByZXR1cm4gJ3ltbCc7XG4gICAgICAgICAgICBjYXNlICd4bWwnOiByZXR1cm4gJ3htbCc7XG4gICAgICAgICAgICBjYXNlICdzcWwnOiByZXR1cm4gJ3NxbCc7XG4gICAgICAgICAgICBjYXNlICdiYXNoJzogcmV0dXJuICdzaCc7XG4gICAgICAgICAgICBjYXNlICdzaGVsbCc6IHJldHVybiAnc2gnO1xuICAgICAgICAgICAgY2FzZSAncGhwJzogcmV0dXJuICdwaHAnO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICd0eHQnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ291bnQgdW5pcXVlIGFydGlmYWN0cyBpbiBhIGNvbnZlcnNhdGlvbiAoYnkgYXJ0aWZhY3QgSUQsIG5vdCB2ZXJzaW9ucylcbiAgICAgKi9cbiAgICBzdGF0aWMgY291bnRBcnRpZmFjdHMoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgdW5pcXVlQXJ0aWZhY3RzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNoYXQuY2hhdF9tZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9jay50eXBlID09PSAndG9vbF91c2UnICYmIGJsb2NrLm5hbWUgPT09ICdhcnRpZmFjdHMnICYmIGJsb2NrLmlucHV0Py5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlQXJ0aWZhY3RzLmFkZChibG9jay5pbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5pcXVlQXJ0aWZhY3RzLnNpemU7XG4gICAgfVxufVxuIiwgIi8vIHNyYy9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS1hdHRhY2htZW50LWV4dHJhY3Rvci50c1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuaW1wb3J0IHsgU3RhbmRhcmRBdHRhY2htZW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzL3N0YW5kYXJkXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vLi4vdHlwZXMvcGx1Z2luXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGF1ZGVBdHRhY2htZW50RXh0cmFjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4sXG4gICAgICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXJcbiAgICApIHt9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGF0dGFjaG1lbnRzIGZyb20gQ2xhdWRlIFpJUCBhcmNoaXZlXG4gICAgICogTk9URTogQ2xhdWRlIGV4cG9ydHMgdHlwaWNhbGx5IGRvIE5PVCBpbmNsdWRlIHRoZSBhY3R1YWwgZmlsZXMsIG9ubHkgcmVmZXJlbmNlc1xuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIFwiZmlsZXMgbm90IGZvdW5kXCIgY2FzZSBncmFjZWZ1bGx5XG4gICAgICovXG4gICAgYXN5bmMgZXh0cmFjdEF0dGFjaG1lbnRzKFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W11cbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudFtdPiB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW1wb3J0QXR0YWNobWVudHMgfHwgYXR0YWNobWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXR0YWNobWVudHMubWFwKGF0dCA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmF0dCxcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgRmlsZTogJHthdHQuZmlsZU5hbWV9IChhdHRhY2htZW50IGltcG9ydCBkaXNhYmxlZClgXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9jZXNzZWRBdHRhY2htZW50czogU3RhbmRhcmRBdHRhY2htZW50W10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGF0dGFjaG1lbnQgb2YgYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQXR0YWNobWVudCA9IGF3YWl0IHRoaXMucHJvY2Vzc0F0dGFjaG1lbnQoemlwLCBjb252ZXJzYXRpb25JZCwgYXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkQXR0YWNobWVudHMucHVzaChwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBwcm9jZXNzIENsYXVkZSBhdHRhY2htZW50ICR7YXR0YWNobWVudC5maWxlTmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgYXR0YWNobWVudCB3aXRoIGVycm9yIHN0YXR1c1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZEF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgXHUyNzRDICoqRmlsZTogJHthdHRhY2htZW50LmZpbGVOYW1lfSoqXFxuXFxuRXJyb3IgcHJvY2Vzc2luZyBhdHRhY2htZW50OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRBdHRhY2htZW50cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgc2luZ2xlIENsYXVkZSBhdHRhY2htZW50XG4gICAgICogQ2xhdWRlIGV4cG9ydHMgdHlwaWNhbGx5IGRvbid0IGluY2x1ZGUgZmlsZXMsIHNvIHdlIGNyZWF0ZSBpbmZvcm1hdGl2ZSBwbGFjZWhvbGRlcnNcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBdHRhY2htZW50KFxuICAgICAgICB6aXA6IEpTWmlwLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nLFxuICAgICAgICBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnRcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudD4ge1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGF0dGFjaG1lbnQuZmlsZU5hbWU7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIGZpbGUgaW4gdGhlIFpJUCAodW5saWtlbHkgZm9yIENsYXVkZSBleHBvcnRzKVxuICAgICAgICBjb25zdCB6aXBGaWxlID0gdGhpcy5maW5kRmlsZUluWmlwKHppcCwgZmlsZU5hbWUpO1xuXG4gICAgICAgIGlmICghemlwRmlsZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbm9ybWFsIGNhc2UgZm9yIENsYXVkZSAtIGZpbGVzIGFyZSBub3QgaW5jbHVkZWQgaW4gZXhwb3J0XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVGaWxlTm90Rm91bmRQbGFjZWhvbGRlcihhdHRhY2htZW50LCBjb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBmaWxlIGlzIGZvdW5kIChyYXJlKSwgZXh0cmFjdCBpdFxuICAgICAgICBpZiAodGhpcy5pc0ltYWdlRmlsZShmaWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NJbWFnZUF0dGFjaG1lbnQoemlwRmlsZSwgYXR0YWNobWVudCwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUZXh0RmlsZShmaWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NUZXh0QXR0YWNobWVudCh6aXBGaWxlLCBhdHRhY2htZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NCaW5hcnlBdHRhY2htZW50KHppcEZpbGUsIGF0dGFjaG1lbnQsIGNvbnZlcnNhdGlvbklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzaW1wbGUgcGxhY2Vob2xkZXIgZm9yIG1pc3NpbmcgZmlsZXMgKG5vcm1hbCBmb3IgQ2xhdWRlKVxuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlRmlsZU5vdEZvdW5kUGxhY2Vob2xkZXIoYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50LCBjb252ZXJzYXRpb25JZDogc3RyaW5nKTogU3RhbmRhcmRBdHRhY2htZW50IHtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBhdHRhY2htZW50LmZpbGVOYW1lO1xuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25VcmwgPSBgaHR0cHM6Ly9jbGF1ZGUuYWkvY2hhdC8ke2NvbnZlcnNhdGlvbklkfWA7XG4gICAgICAgIGNvbnN0IGZpbGVUeXBlID0gdGhpcy5nZXRGaWxlVHlwZUZyb21FeHRlbnNpb24oZmlsZU5hbWUpO1xuXG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gYD5bIW5leHVzX2F0dGFjaG1lbnRdICoqJHtmaWxlTmFtZX0qKiAoJHtmaWxlVHlwZX0pXFxuPiBcdTI2QTBcdUZFMEYgTm90IGluY2x1ZGVkIGluIGFyY2hpdmUuIFtPcGVuIG9yaWdpbmFsIGNvbnZlcnNhdGlvbl0oJHtjb252ZXJzYXRpb25Vcmx9KWA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBwbGFjZWhvbGRlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBmaWxlIHR5cGUgZnJvbSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEZpbGVUeXBlRnJvbUV4dGVuc2lvbihmaWxlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgY2FzZSAncG5nJzpcbiAgICAgICAgICAgIGNhc2UgJ2pwZyc6XG4gICAgICAgICAgICBjYXNlICdqcGVnJzpcbiAgICAgICAgICAgIGNhc2UgJ2dpZic6XG4gICAgICAgICAgICBjYXNlICd3ZWJwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYGltYWdlLyR7ZXh0ZW5zaW9ufWA7XG4gICAgICAgICAgICBjYXNlICdwZGYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vcGRmJztcbiAgICAgICAgICAgIGNhc2UgJ3R4dCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICAgICAgICAgIGNhc2UgJ21kJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvbWFya2Rvd24nO1xuICAgICAgICAgICAgY2FzZSAnanNvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhIGZpbGUgaW4gdGhlIFpJUCBhcmNoaXZlXG4gICAgICogQ2xhdWRlIGZpbGVzIG1pZ2h0IGJlIGluIHJvb3Qgb3IgaW4gc3ViZGlyZWN0b3JpZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGZpbmRGaWxlSW5aaXAoemlwOiBKU1ppcCwgZmlsZU5hbWU6IHN0cmluZyk6IEpTWmlwLkpTWmlwT2JqZWN0IHwgbnVsbCB7XG4gICAgICAgIC8vIFRyeSBleGFjdCBtYXRjaCBmaXJzdFxuICAgICAgICBsZXQgZmlsZSA9IHppcC5maWxlKGZpbGVOYW1lKTtcbiAgICAgICAgaWYgKGZpbGUpIHJldHVybiBmaWxlO1xuXG4gICAgICAgIC8vIFRyeSBpbiBjb21tb24gc3ViZGlyZWN0b3JpZXNcbiAgICAgICAgY29uc3QgY29tbW9uUGF0aHMgPSBbJ2F0dGFjaG1lbnRzLycsICdmaWxlcy8nLCAndXBsb2Fkcy8nXTtcbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIGNvbW1vblBhdGhzKSB7XG4gICAgICAgICAgICBmaWxlID0gemlwLmZpbGUocGF0aCArIGZpbGVOYW1lKTtcbiAgICAgICAgICAgIGlmIChmaWxlKSByZXR1cm4gZmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlYXJjaCB0aHJvdWdoIGFsbCBmaWxlcyBmb3IgYSBtYXRjaFxuICAgICAgICBjb25zdCBhbGxGaWxlcyA9IE9iamVjdC5rZXlzKHppcC5maWxlcyk7XG4gICAgICAgIGZvciAoY29uc3QgZmlsZVBhdGggb2YgYWxsRmlsZXMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUGF0aC5lbmRzV2l0aChmaWxlTmFtZSkgfHwgZmlsZVBhdGguaW5jbHVkZXMoZmlsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHppcC5maWxlKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgaW1hZ2UgYXR0YWNobWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0ltYWdlQXR0YWNobWVudChcbiAgICAgICAgemlwRmlsZTogSlNaaXAuSlNaaXBPYmplY3QsXG4gICAgICAgIGF0dGFjaG1lbnQ6IFN0YW5kYXJkQXR0YWNobWVudCxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZ1xuICAgICk6IFByb21pc2U8U3RhbmRhcmRBdHRhY2htZW50PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBhd2FpdCB6aXBGaWxlLmFzeW5jKFwiYmFzZTY0XCIpO1xuICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmdlbmVyYXRlVW5pcXVlRmlsZU5hbWUoYXR0YWNobWVudC5maWxlTmFtZSwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTYXZlIHRvIHZhdWx0IGlmIGVuYWJsZWRcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgdGhpcy5zYXZlQXR0YWNobWVudFRvVmF1bHQoZmlsZU5hbWUsIGltYWdlRGF0YSwgdHJ1ZSwgXCJpbWFnZXNcIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogZmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGAhWyR7YXR0YWNobWVudC5maWxlTmFtZX1dKCR7ZmlsZVBhdGh9KWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgSW1hZ2U6ICR7YXR0YWNobWVudC5maWxlTmFtZX0gKG5vdCBpbXBvcnRlZCAtIGF0dGFjaG1lbnQgaW1wb3J0IGRpc2FibGVkKWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgQ2xhdWRlIGltYWdlICR7YXR0YWNobWVudC5maWxlTmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGBFcnJvciBwcm9jZXNzaW5nIGltYWdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRleHQgYXR0YWNobWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1RleHRBdHRhY2htZW50KFxuICAgICAgICB6aXBGaWxlOiBKU1ppcC5KU1ppcE9iamVjdCxcbiAgICAgICAgYXR0YWNobWVudDogU3RhbmRhcmRBdHRhY2htZW50XG4gICAgKTogUHJvbWlzZTxTdGFuZGFyZEF0dGFjaG1lbnQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gYXdhaXQgemlwRmlsZS5hc3luYyhcInN0cmluZ1wiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGBcXGBcXGBcXGBcXG4ke3RleHRDb250ZW50fVxcblxcYFxcYFxcYGBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBDbGF1ZGUgdGV4dCBmaWxlICR7YXR0YWNobWVudC5maWxlTmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgIGV4dHJhY3RlZENvbnRlbnQ6IGBFcnJvciByZWFkaW5nIHRleHQgZmlsZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBiaW5hcnkgYXR0YWNobWVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc0JpbmFyeUF0dGFjaG1lbnQoXG4gICAgICAgIHppcEZpbGU6IEpTWmlwLkpTWmlwT2JqZWN0LFxuICAgICAgICBhdHRhY2htZW50OiBTdGFuZGFyZEF0dGFjaG1lbnQsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmdcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkQXR0YWNobWVudD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmltcG9ydEF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluYXJ5RGF0YSA9IGF3YWl0IHppcEZpbGUuYXN5bmMoXCJiYXNlNjRcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLmdlbmVyYXRlVW5pcXVlRmlsZU5hbWUoYXR0YWNobWVudC5maWxlTmFtZSwgY29udmVyc2F0aW9uSWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgdGhpcy5zYXZlQXR0YWNobWVudFRvVmF1bHQoZmlsZU5hbWUsIGJpbmFyeURhdGEsIHRydWUsIFwiZG9jdW1lbnRzXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYXR0YWNobWVudCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgWyR7YXR0YWNobWVudC5maWxlTmFtZX1dKCR7ZmlsZVBhdGh9KWBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hdHRhY2htZW50LFxuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRDb250ZW50OiBgRmlsZTogJHthdHRhY2htZW50LmZpbGVOYW1lfSAobm90IGltcG9ydGVkIC0gYXR0YWNobWVudCBpbXBvcnQgZGlzYWJsZWQpYFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3IgcHJvY2Vzc2luZyBDbGF1ZGUgYmluYXJ5IGZpbGUgJHthdHRhY2htZW50LmZpbGVOYW1lfTpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmF0dGFjaG1lbnQsXG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkQ29udGVudDogYEVycm9yIHByb2Nlc3NpbmcgZmlsZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmlsZSBpcyBhbiBpbWFnZVxuICAgICAqL1xuICAgIHByaXZhdGUgaXNJbWFnZUZpbGUoZmlsZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBpbWFnZUV4dGVuc2lvbnMgPSBbJy5wbmcnLCAnLmpwZycsICcuanBlZycsICcuZ2lmJywgJy53ZWJwJywgJy5zdmcnLCAnLmJtcCddO1xuICAgICAgICByZXR1cm4gaW1hZ2VFeHRlbnNpb25zLnNvbWUoZXh0ID0+IGZpbGVOYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZmlsZSBpcyBhIHRleHQgZmlsZVxuICAgICAqL1xuICAgIHByaXZhdGUgaXNUZXh0RmlsZShmaWxlTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHRleHRFeHRlbnNpb25zID0gWycudHh0JywgJy5tZCcsICcuanNvbicsICcuY3N2JywgJy54bWwnLCAnLmh0bWwnLCAnLmNzcycsICcuanMnLCAnLnRzJywgJy5weScsICcuamF2YScsICcuY3BwJywgJy5jJywgJy5oJ107XG4gICAgICAgIHJldHVybiB0ZXh0RXh0ZW5zaW9ucy5zb21lKGV4dCA9PiBmaWxlTmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZSB0byBhdm9pZCBjb25mbGljdHNcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlVW5pcXVlRmlsZU5hbWUob3JpZ2luYWxGaWxlTmFtZTogc3RyaW5nLCBjb252ZXJzYXRpb25JZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3Qgc2hvcnRDb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkLnN1YnN0cmluZygwLCA4KTtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gb3JpZ2luYWxGaWxlTmFtZS5pbmNsdWRlcygnLicpID8gb3JpZ2luYWxGaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpIDogJyc7XG4gICAgICAgIGNvbnN0IGJhc2VOYW1lID0gb3JpZ2luYWxGaWxlTmFtZS5yZXBsYWNlKC9cXC5bXi8uXSskLywgXCJcIik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uIFxuICAgICAgICAgICAgPyBgY2xhdWRlXyR7c2hvcnRDb252ZXJzYXRpb25JZH1fJHt0aW1lc3RhbXB9XyR7YmFzZU5hbWV9LiR7ZXh0ZW5zaW9ufWBcbiAgICAgICAgICAgIDogYGNsYXVkZV8ke3Nob3J0Q29udmVyc2F0aW9uSWR9XyR7dGltZXN0YW1wfV8ke2Jhc2VOYW1lfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZSBhdHRhY2htZW50IHRvIHZhdWx0IHVzaW5nIGF0dGFjaG1lbnRGb2xkZXIgc2V0dGluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgc2F2ZUF0dGFjaG1lbnRUb1ZhdWx0KGZpbGVOYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgaXNCYXNlNjQ6IGJvb2xlYW4sIGNhdGVnb3J5OiBzdHJpbmcgPSBcImZpbGVzXCIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBhdHRhY2htZW50Rm9sZGVyID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNobWVudEZvbGRlcn0vY2xhdWRlLyR7Y2F0ZWdvcnl9YDtcblxuICAgICAgICAvLyBFbnN1cmUgZm9sZGVyIGV4aXN0c1xuICAgICAgICBjb25zdCB7IGVuc3VyZUZvbGRlckV4aXN0cyB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vLi4vdXRpbHNcIik7XG4gICAgICAgIGNvbnN0IGZvbGRlclJlc3VsdCA9IGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhhdHRhY2htZW50Rm9sZGVyLCB0aGlzLnBsdWdpbi5hcHAudmF1bHQpO1xuICAgICAgICBpZiAoIWZvbGRlclJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgQ2xhdWRlIGF0dGFjaG1lbnQgZm9sZGVyOiAke2ZvbGRlclJlc3VsdC5lcnJvcn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7YXR0YWNobWVudEZvbGRlcn0vJHtmaWxlTmFtZX1gO1xuXG4gICAgICAgIGlmIChpc0Jhc2U2NCkge1xuICAgICAgICAgICAgLy8gQ29udmVydCBiYXNlNjQgdG8gYXJyYXkgYnVmZmVyIGZvciBiaW5hcnkgZmlsZXNcbiAgICAgICAgICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeVN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZUJpbmFyeShmaWxlUGF0aCwgYnl0ZXMuYnVmZmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbGVQYXRoO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvcHJvdmlkZXJzL2NsYXVkZS9jbGF1ZGUtcmVwb3J0LW5hbWluZy50c1xuaW1wb3J0IHsgUmVwb3J0TmFtaW5nU3RyYXRlZ3kgfSBmcm9tIFwiLi4vLi4vdHlwZXMvc3RhbmRhcmRcIjtcblxuZXhwb3J0IGNsYXNzIENsYXVkZVJlcG9ydE5hbWluZ1N0cmF0ZWd5IGltcGxlbWVudHMgUmVwb3J0TmFtaW5nU3RyYXRlZ3kge1xuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJjbGF1ZGVcIjtcbiAgICB9XG5cbiAgICBleHRyYWN0UmVwb3J0UHJlZml4KHppcEZpbGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBHZXQgY3VycmVudCBpbXBvcnQgZGF0ZVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBpbXBvcnRZZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IGltcG9ydE1vbnRoID0gU3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3QgaW1wb3J0RGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGltcG9ydERhdGUgPSBgJHtpbXBvcnRZZWFyfS4ke2ltcG9ydE1vbnRofS4ke2ltcG9ydERheX1gO1xuXG4gICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGFyY2hpdmUgZGF0ZSBmcm9tIENsYXVkZSBmaWxlbmFtZSBwYXR0ZXJuc1xuICAgICAgICAvLyBQYXR0ZXJuIDE6IGRhdGEtWVlZWS1NTS1ERC1ISC1NTS1TUy1iYXRjaC1OTk5OLnppcFxuICAgICAgICBjb25zdCBjbGF1ZGVCYXRjaFBhdHRlcm4gPSAvZGF0YS0oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KS1cXGR7Mn0tXFxkezJ9LVxcZHsyfS1iYXRjaC1cXGR7NH0vO1xuICAgICAgICBjb25zdCBiYXRjaE1hdGNoID0gemlwRmlsZU5hbWUubWF0Y2goY2xhdWRlQmF0Y2hQYXR0ZXJuKTtcblxuICAgICAgICBpZiAoYmF0Y2hNYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheV0gPSBiYXRjaE1hdGNoO1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZURhdGUgPSBgJHt5ZWFyfS4ke21vbnRofS4ke2RheX1gO1xuICAgICAgICAgICAgcmV0dXJuIGBpbXBvcnRlZC0ke2ltcG9ydERhdGV9LWFyY2hpdmUtJHthcmNoaXZlRGF0ZX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGF0dGVybiAyOiBMZWdhY3kgQ2xhdWRlIGZvcm1hdCAobm8gYmF0Y2ggc3VmZml4KVxuICAgICAgICBjb25zdCBsZWdhY3lQYXR0ZXJuID0gLyhcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pLztcbiAgICAgICAgY29uc3QgbGVnYWN5TWF0Y2ggPSB6aXBGaWxlTmFtZS5tYXRjaChsZWdhY3lQYXR0ZXJuKTtcblxuICAgICAgICBpZiAobGVnYWN5TWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IFssIHllYXIsIG1vbnRoLCBkYXldID0gbGVnYWN5TWF0Y2g7XG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlRGF0ZSA9IGAke3llYXJ9LiR7bW9udGh9LiR7ZGF5fWA7XG4gICAgICAgICAgICByZXR1cm4gYGltcG9ydGVkLSR7aW1wb3J0RGF0ZX0tYXJjaGl2ZS0ke2FyY2hpdmVEYXRlfWA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjazogdXNlIGN1cnJlbnQgZGF0ZSBpZiBubyBkYXRlIGZvdW5kIGluIGZpbGVuYW1lXG4gICAgICAgIHJldHVybiBgaW1wb3J0ZWQtJHtpbXBvcnREYXRlfS1hcmNoaXZlLSR7aW1wb3J0RGF0ZX1gO1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyU3BlY2lmaWNDb2x1bW4oKTogeyBoZWFkZXI6IHN0cmluZzsgZ2V0VmFsdWU6IChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSkgPT4gbnVtYmVyIH0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVhZGVyOiBcIkFydGlmYWN0c1wiLFxuICAgICAgICAgICAgZ2V0VmFsdWU6IChhZGFwdGVyOiBhbnksIGNoYXQ6IGFueSkgPT4gYWRhcHRlci5jb3VudEFydGlmYWN0cyA/IGFkYXB0ZXIuY291bnRBcnRpZmFjdHMoY2hhdCkgOiAwXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgIi8vIHNyYy9wcm92aWRlcnMvY2xhdWRlL2NsYXVkZS1hZGFwdGVyLnRzXG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG5pbXBvcnQgeyBQcm92aWRlckFkYXB0ZXIgfSBmcm9tIFwiLi4vcHJvdmlkZXItYWRhcHRlclwiO1xuaW1wb3J0IHsgU3RhbmRhcmRDb252ZXJzYXRpb24sIFN0YW5kYXJkTWVzc2FnZSB9IGZyb20gXCIuLi8uLi90eXBlcy9zdGFuZGFyZFwiO1xuaW1wb3J0IHsgQ2xhdWRlQ29udmVydGVyIH0gZnJvbSBcIi4vY2xhdWRlLWNvbnZlcnRlclwiO1xuaW1wb3J0IHsgQ2xhdWRlQXR0YWNobWVudEV4dHJhY3RvciB9IGZyb20gXCIuL2NsYXVkZS1hdHRhY2htZW50LWV4dHJhY3RvclwiO1xuaW1wb3J0IHsgQ2xhdWRlUmVwb3J0TmFtaW5nU3RyYXRlZ3kgfSBmcm9tIFwiLi9jbGF1ZGUtcmVwb3J0LW5hbWluZ1wiO1xuaW1wb3J0IHsgQ2xhdWRlQ29udmVyc2F0aW9uLCBDbGF1ZGVNZXNzYWdlIH0gZnJvbSBcIi4vY2xhdWRlLXR5cGVzXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi8uLi9tYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGF1ZGVBZGFwdGVyIGltcGxlbWVudHMgUHJvdmlkZXJBZGFwdGVyPENsYXVkZUNvbnZlcnNhdGlvbj4ge1xuICAgIHByaXZhdGUgYXR0YWNobWVudEV4dHJhY3RvcjogQ2xhdWRlQXR0YWNobWVudEV4dHJhY3RvcjtcbiAgICBwcml2YXRlIHJlcG9ydE5hbWluZ1N0cmF0ZWd5OiBDbGF1ZGVSZXBvcnROYW1pbmdTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7XG4gICAgICAgIHRoaXMuYXR0YWNobWVudEV4dHJhY3RvciA9IG5ldyBDbGF1ZGVBdHRhY2htZW50RXh0cmFjdG9yKHBsdWdpbiwgcGx1Z2luLmxvZ2dlcik7XG4gICAgICAgIHRoaXMucmVwb3J0TmFtaW5nU3RyYXRlZ3kgPSBuZXcgQ2xhdWRlUmVwb3J0TmFtaW5nU3RyYXRlZ3koKTtcbiAgICB9XG5cbiAgICBkZXRlY3QocmF3Q29udmVyc2F0aW9uczogYW55W10pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHJhd0NvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgc2FtcGxlID0gcmF3Q29udmVyc2F0aW9uc1swXTtcblxuICAgICAgICAvLyBDbGF1ZGUgZGV0ZWN0aW9uOiBoYXMgdXVpZCwgbmFtZSBmaWVsZCwgY2hhdF9tZXNzYWdlcyBhcnJheSwgY3JlYXRlZF9hdC91cGRhdGVkX2F0LCBhbmQgYWNjb3VudFxuICAgICAgICByZXR1cm4gISEoc2FtcGxlLnV1aWQgJiYgJ25hbWUnIGluIHNhbXBsZSAmJiBzYW1wbGUuY2hhdF9tZXNzYWdlcyAmJlxuICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHNhbXBsZS5jaGF0X21lc3NhZ2VzKSAmJiBzYW1wbGUuY3JlYXRlZF9hdCAmJiBzYW1wbGUudXBkYXRlZF9hdCAmJiBzYW1wbGUuYWNjb3VudCk7XG4gICAgfVxuXG4gICAgZ2V0SWQoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNoYXQudXVpZCB8fCBcIlwiO1xuICAgIH1cblxuICAgIGdldFRpdGxlKGNoYXQ6IENsYXVkZUNvbnZlcnNhdGlvbik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBjaGF0Lm5hbWUgfHwgXCJVbnRpdGxlZFwiO1xuICAgIH1cblxuICAgIGdldENyZWF0ZVRpbWUoY2hhdDogQ2xhdWRlQ29udmVyc2F0aW9uKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGNoYXQuY3JlYXRlZF9hdCA/IE1hdGguZmxvb3IobmV3IERhdGUoY2hhdC5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLyAxMDAwKSA6IDA7XG4gICAgfVxuXG4gICAgZ2V0VXBkYXRlVGltZShjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24pOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gY2hhdC51cGRhdGVkX2F0ID8gTWF0aC5mbG9vcihuZXcgRGF0ZShjaGF0LnVwZGF0ZWRfYXQpLmdldFRpbWUoKSAvIDEwMDApIDogMDtcbiAgICB9XG5cbiAgICBhc3luYyBjb252ZXJ0Q2hhdChjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24pOiBQcm9taXNlPFN0YW5kYXJkQ29udmVyc2F0aW9uPiB7XG4gICAgICAgIC8vIFNldCBwbHVnaW4gaW5zdGFuY2UgZm9yIGFydGlmYWN0IHNhdmluZ1xuICAgICAgICBDbGF1ZGVDb252ZXJ0ZXIuc2V0UGx1Z2luKHRoaXMucGx1Z2luKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IENsYXVkZUNvbnZlcnRlci5jb252ZXJ0Q2hhdChjaGF0KTtcbiAgICB9XG5cbiAgICBhc3luYyBjb252ZXJ0TWVzc2FnZXMobWVzc2FnZXM6IENsYXVkZU1lc3NhZ2VbXSwgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmcsIGNvbnZlcnNhdGlvblRpdGxlPzogc3RyaW5nLCBjb252ZXJzYXRpb25DcmVhdGVUaW1lPzogbnVtYmVyKTogUHJvbWlzZTxTdGFuZGFyZE1lc3NhZ2VbXT4ge1xuICAgICAgICAvLyBTZXQgcGx1Z2luIGluc3RhbmNlIGZvciBhcnRpZmFjdCBzYXZpbmdcbiAgICAgICAgQ2xhdWRlQ29udmVydGVyLnNldFBsdWdpbih0aGlzLnBsdWdpbik7XG4gICAgICAgIHJldHVybiBhd2FpdCBDbGF1ZGVDb252ZXJ0ZXIuY29udmVydE1lc3NhZ2VzKG1lc3NhZ2VzLCBjb252ZXJzYXRpb25JZCwgY29udmVyc2F0aW9uVGl0bGUsIGNvbnZlcnNhdGlvbkNyZWF0ZVRpbWUpO1xuICAgIH1cblxuICAgIGdldFByb3ZpZGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJjbGF1ZGVcIjtcbiAgICB9XG5cbiAgICBnZXROZXdNZXNzYWdlcyhjaGF0OiBDbGF1ZGVDb252ZXJzYXRpb24sIGV4aXN0aW5nTWVzc2FnZUlkczogc3RyaW5nW10pOiBDbGF1ZGVNZXNzYWdlW10ge1xuICAgICAgICBjb25zdCBuZXdNZXNzYWdlczogQ2xhdWRlTWVzc2FnZVtdID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNoYXQuY2hhdF9tZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UudXVpZCAmJiAhZXhpc3RpbmdNZXNzYWdlSWRzLmluY2x1ZGVzKG1lc3NhZ2UudXVpZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdNZXNzYWdlcztcbiAgICB9XG5cbiAgICBhc3luYyBwcm9jZXNzTWVzc2FnZUF0dGFjaG1lbnRzKFxuICAgICAgICBtZXNzYWdlczogU3RhbmRhcmRNZXNzYWdlW10sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsXG4gICAgICAgIHppcDogSlNaaXBcbiAgICApOiBQcm9taXNlPFN0YW5kYXJkTWVzc2FnZVtdPiB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZE1lc3NhZ2VzOiBTdGFuZGFyZE1lc3NhZ2VbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYXR0YWNobWVudHMgJiYgbWVzc2FnZS5hdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkQXR0YWNobWVudHMgPSBhd2FpdCB0aGlzLmF0dGFjaG1lbnRFeHRyYWN0b3IuZXh0cmFjdEF0dGFjaG1lbnRzKFxuICAgICAgICAgICAgICAgICAgICB6aXAsXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogcHJvY2Vzc2VkQXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRNZXNzYWdlcztcbiAgICB9XG5cbiAgICBnZXRSZXBvcnROYW1pbmdTdHJhdGVneSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwb3J0TmFtaW5nU3RyYXRlZ3k7XG4gICAgfVxuXG4gICAgZ2V0UHJvdmlkZXJOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImNsYXVkZVwiO1xuICAgIH1cblxuICAgIGNvdW50QXJ0aWZhY3RzKGNoYXQ6IENsYXVkZUNvbnZlcnNhdGlvbik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBDbGF1ZGVDb252ZXJ0ZXIuY291bnRBcnRpZmFjdHMoY2hhdCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG91bGRJbmNsdWRlTWVzc2FnZShtZXNzYWdlOiBDbGF1ZGVNZXNzYWdlKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEluY2x1ZGUgYWxsIGh1bWFuIGFuZCBhc3Npc3RhbnQgbWVzc2FnZXNcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2VuZGVyID09PSAnaHVtYW4nIHx8IG1lc3NhZ2Uuc2VuZGVyID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlLnRleHQgJiYgKCFtZXNzYWdlLmNvbnRlbnQgfHwgbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL3Byb3ZpZGVycy9wcm92aWRlci1yZWdpc3RyeS50c1xuaW1wb3J0IHsgRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnkgfSBmcm9tIFwiLi9wcm92aWRlci1hZGFwdGVyXCI7XG5pbXBvcnQgeyBDaGF0R1BUQWRhcHRlciB9IGZyb20gXCIuL2NoYXRncHQvY2hhdGdwdC1hZGFwdGVyXCI7XG5pbXBvcnQgeyBDbGF1ZGVBZGFwdGVyIH0gZnJvbSBcIi4vY2xhdWRlL2NsYXVkZS1hZGFwdGVyXCI7XG5pbXBvcnQgdHlwZSBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XG5cbi8qKlxuICogQ3JlYXRlIGFuZCBjb25maWd1cmUgdGhlIHByb3ZpZGVyIHJlZ2lzdHJ5IHdpdGggYWxsIGF2YWlsYWJsZSBwcm92aWRlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnkocGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKTogRGVmYXVsdFByb3ZpZGVyUmVnaXN0cnkge1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5KCk7XG5cbiAgICAvLyBSZWdpc3RlciBDaGF0R1BUIHByb3ZpZGVyXG4gICAgcmVnaXN0cnkucmVnaXN0ZXIoXCJjaGF0Z3B0XCIsIG5ldyBDaGF0R1BUQWRhcHRlcihwbHVnaW4pKTtcblxuICAgIC8vIFJlZ2lzdGVyIENsYXVkZSBwcm92aWRlclxuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyKFwiY2xhdWRlXCIsIG5ldyBDbGF1ZGVBZGFwdGVyKHBsdWdpbikpO1xuXG4gICAgLy8gRnV0dXJlIHByb3ZpZGVycyB3aWxsIGJlIHJlZ2lzdGVyZWQgaGVyZTpcbiAgICAvLyByZWdpc3RyeS5yZWdpc3RlcihcImdlbWluaVwiLCBuZXcgR2VtaW5pQWRhcHRlcihwbHVnaW4pKTtcblxuICAgIHJldHVybiByZWdpc3RyeTtcbn1cbiIsICIvLyBzcmMvc2VydmljZXMvc3RvcmFnZS1zZXJ2aWNlLnRzXG5pbXBvcnQgeyBDb252ZXJzYXRpb25DYXRhbG9nRW50cnkgfSBmcm9tIFwiLi4vdHlwZXMvcGx1Z2luXCI7XG5pbXBvcnQgeyBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgTmV4dXNBaUNoYXRJbXBvcnRlclBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5leHBvcnQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgaW1wb3J0ZWRBcmNoaXZlczogUmVjb3JkPHN0cmluZywgeyBmaWxlTmFtZTogc3RyaW5nOyBkYXRlOiBzdHJpbmcgfT4gPSB7fTtcbiAgICBwcml2YXRlIGlzRGlydHkgPSBmYWxzZTtcbiAgICBwcml2YXRlIHNhdmVUaW1lb3V0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOZXh1c0FpQ2hhdEltcG9ydGVyUGx1Z2luKSB7fVxuXG4gICAgYXN5bmMgbG9hZERhdGEoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuaW1wb3J0ZWRBcmNoaXZlcyA9IGRhdGE/LmltcG9ydGVkQXJjaGl2ZXMgfHwge307XG4gICAgICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTWlncmF0aW9uOiBJZiBvbGQgY2F0YWxvZyBleGlzdHMsIHdlIGlnbm9yZSBpdCAobWlncmF0aW9uIGhhbmRsZWQgaW4gdXBncmFkZS50cylcbiAgICAgICAgICAgIGlmIChkYXRhPy5jb252ZXJzYXRpb25DYXRhbG9nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0YWxvZ1NpemUgPSBPYmplY3Qua2V5cyhkYXRhLmNvbnZlcnNhdGlvbkNhdGFsb2cpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuaW5mbyhcIkxlZ2FjeSBjb252ZXJzYXRpb24gY2F0YWxvZyBkZXRlY3RlZCAtIHdpbGwgYmUgbWlncmF0ZWQgaW4gdXBncmFkZSBwcm9jZXNzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuaW5mbyhcIlN0b3JhZ2UgZGF0YSBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLmVycm9yKFwibG9hZERhdGEgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNhdmVEYXRhKGRhdGE6IGFueSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5lcnJvcihcInNhdmVEYXRhIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWJvdW5jZWRTYXZlKCkge1xuICAgICAgICBpZiAodGhpcy5zYXZlVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2F2ZVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNhdmVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQVJDSElWRSBUUkFDS0lORyAtIEhZQlJJRCBERVRFQ1RJT04gKDEuMC54ICsgMS4xLjApXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIFxuICAgIGdldEltcG9ydGVkQXJjaGl2ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltcG9ydGVkQXJjaGl2ZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSFlCUklEIGRldGVjdGlvbjogV29ya3Mgd2l0aCBib3RoIDEuMC54IChmaWxlbmFtZSBhcyBrZXkpIGFuZCAxLjEuMCAoaGFzaCBhcyBrZXkpXG4gICAgICogRklYRUQ6IEhhbmRsZSBib3RoIG9sZCBmb3JtYXQgKHN0cmluZyB2YWx1ZXMpIGFuZCBuZXcgZm9ybWF0IChvYmplY3QgdmFsdWVzKVxuICAgICAqL1xuICAgIGlzQXJjaGl2ZUltcG9ydGVkKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIE1ldGhvZCAxOiBEaXJlY3Qga2V5IGxvb2t1cCAod29ya3MgZm9yIGJvdGggaGFzaCBhbmQgZmlsZW5hbWUga2V5cylcbiAgICAgICAgaWYgKHRoaXMuaW1wb3J0ZWRBcmNoaXZlc1trZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWV0aG9kIDI6IFNlYXJjaCBieSBmaWxlbmFtZSBpbiB2YWx1ZXMgKGZvciAxLjAueCBcdTIxOTIgMS4xLjAgbWlncmF0aW9uKVxuICAgICAgICAvLyBDUklUSUNBTCBGSVg6IEhhbmRsZSBib3RoIG9sZCBmb3JtYXQgKHN0cmluZykgYW5kIG5ldyBmb3JtYXQgKG9iamVjdClcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5pbXBvcnRlZEFyY2hpdmVzKS5zb21lKGFyY2hpdmUgPT4ge1xuICAgICAgICAgICAgLy8gTmV3IGZvcm1hdCAxLjEuMDogYXJjaGl2ZSA9IHtmaWxlTmFtZTogXCJmaWxlLnppcFwiLCBkYXRlOiBcIjIwMjQtMDEtMDFcIn1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJjaGl2ZSA9PT0gJ29iamVjdCcgJiYgYXJjaGl2ZSAhPT0gbnVsbCAmJiBhcmNoaXZlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyY2hpdmUuZmlsZU5hbWUgPT09IGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT2xkIGZvcm1hdCAxLjAueDogYXJjaGl2ZSA9IFwiMjAyNC0wMS0wMVwiIChzdHJpbmcgZGF0ZSlcbiAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgd2UgY2FuJ3QgbWF0Y2ggYnkgZmlsZW5hbWUgc2luY2Ugd2UgZG9uJ3QgaGF2ZSBpdFxuICAgICAgICAgICAgLy8gQnV0IHRoZSBrZXkgbWlnaHQgYmUgdGhlIGZpbGVuYW1lIGl0c2VsZiwgd2hpY2ggd2UgYWxyZWFkeSBjaGVja2VkIGluIE1ldGhvZCAxXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZEltcG9ydGVkQXJjaGl2ZShmaWxlSGFzaDogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW1wb3J0ZWRBcmNoaXZlc1tmaWxlSGFzaF0gPSB7XG4gICAgICAgICAgICBmaWxlTmFtZSxcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlYm91bmNlZFNhdmUoKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gTkVXOiBWQVVMVC1CQVNFRCBDT05WRVJTQVRJT04gRElTQ09WRVJZIChIWUJSSUQpXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogU2NhbiB2YXVsdCBmb3IgZXhpc3RpbmcgTmV4dXMgY29udmVyc2F0aW9ucyB1c2luZyBIWUJSSUQgYXBwcm9hY2g6XG4gICAgICogMS4gV2FpdCBmb3IgY2FjaGUgdG8gYmUgY2xlYW4gKGZhc3QpXG4gICAgICogMi4gVXNlIG1ldGFkYXRhQ2FjaGUgKG9wdGltYWwgcGVyZm9ybWFuY2UpICBcbiAgICAgKiAzLiBGYWxsYmFjayB0byBtYW51YWwgcGFyc2luZyBmb3IgcHJvYmxlbWF0aWMgZmlsZXNcbiAgICAgKi9cbiAgICBhc3luYyBzY2FuRXhpc3RpbmdDb252ZXJzYXRpb25zKCk6IFByb21pc2U8TWFwPHN0cmluZywgQ29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5Pj4ge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RlcCAxOiBXYWl0IGZvciBjYWNoZSB0byBiZSBjbGVhbiAod2l0aCB0aW1lb3V0KVxuICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JDYWNoZUNsZWFuKDEwMDApOyAvLyBNYXggMSBzZWNvbmQgd2FpdFxuICAgICAgICBcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBDb252ZXJzYXRpb25DYXRhbG9nRW50cnk+KCk7XG4gICAgICAgIGNvbnN0IGFyY2hpdmVGb2xkZXIgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcmNoaXZlRm9sZGVyO1xuICAgICAgICBjb25zdCBhbGxGaWxlcyA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaWx0ZXIgY29udmVyc2F0aW9uIGZpbGVzIChleGNsdWRlIFJlcG9ydHMvQXR0YWNobWVudHMpXG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkZpbGVzID0gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFmaWxlLnBhdGguc3RhcnRzV2l0aChhcmNoaXZlRm9sZGVyKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBmaWxlLnBhdGguc3Vic3RyaW5nKGFyY2hpdmVGb2xkZXIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICBpZiAocmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ1JlcG9ydHMvJykgfHwgXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ3JlcG9ydHMvJykgfHxcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnYXR0YWNobWVudHMvJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBwcm9jZXNzZWQgPSAwO1xuICAgICAgICBsZXQgZm91bmRWaWFDYWNoZSA9IDA7XG4gICAgICAgIGxldCBmb3VuZFZpYU1hbnVhbCA9IDA7XG4gICAgICAgIGxldCBlcnJvcnMgPSAwO1xuICAgICAgICBcbiAgICAgICAgLy8gUHJvY2VzcyBmaWxlcyBpbiBiYXRjaGVzXG4gICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDEwMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb252ZXJzYXRpb25GaWxlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IGNvbnZlcnNhdGlvbkZpbGVzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgYmF0Y2gpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgbWV0YWRhdGFDYWNoZSBmaXJzdCAoZmFzdClcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVudHJ5ID0gYXdhaXQgdGhpcy5wYXJzZVdpdGhDYWNoZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25zLnNldChlbnRyeS5jb252ZXJzYXRpb25JZCwgZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRWaWFDYWNoZSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG1hbnVhbCBwYXJzaW5nXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5ID0gYXdhaXQgdGhpcy5wYXJzZUNvbnZlcnNhdGlvbkZpbGVNYW51YWxseShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25zLnNldChlbnRyeS5jb252ZXJzYXRpb25JZCwgZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRWaWFNYW51YWwrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBwYXJzaW5nIGNvbnZlcnNhdGlvbiBmaWxlICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTbWFsbCBkZWxheSBiZXR3ZWVuIGxhcmdlIGJhdGNoZXNcbiAgICAgICAgICAgIGlmIChpICsgYmF0Y2hTaXplIDwgY29udmVyc2F0aW9uRmlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICBjb25zdCB0b3RhbCA9IGZvdW5kVmlhQ2FjaGUgKyBmb3VuZFZpYU1hbnVhbDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucGx1Z2luLmxvZ2dlci5pbmZvKGBTY2FubmVkIHZhdWx0OiBmb3VuZCAke3RvdGFsfSBjb252ZXJzYXRpb25zIGluICR7ZHVyYXRpb259bXNgKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb252ZXJzYXRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIG1ldGFkYXRhIGNhY2hlIHRvIGJlIGNsZWFuIHdpdGggdGltZW91dFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgd2FpdEZvckNhY2hlQ2xlYW4obWF4V2FpdE1zOiBudW1iZXIgPSAxMDAwKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBUeXBlIGFzc2VydGlvbiBmb3IgdW5kb2N1bWVudGVkIE9ic2lkaWFuIEFQSVxuICAgICAgICBjb25zdCBtZXRhZGF0YUNhY2hlID0gdGhpcy5wbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUgYXMgYW55O1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKCFtZXRhZGF0YUNhY2hlLmlzQ2FjaGVDbGVhbigpKSB7XG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA+IG1heFdhaXRNcykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBjb252ZXJzYXRpb24gdXNpbmcgbWV0YWRhdGFDYWNoZSAoZmFzdCBidXQgcG90ZW50aWFsbHkgdW5yZWxpYWJsZSlcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHBhcnNlV2l0aENhY2hlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxDb252ZXJzYXRpb25DYXRhbG9nRW50cnkgfCBudWxsPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IHRoaXMucGx1Z2luLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKT8uZnJvbnRtYXR0ZXI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghZnJvbnRtYXR0ZXI/Lm5leHVzIHx8IGZyb250bWF0dGVyLm5leHVzICE9PSB0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyLmNvbnZlcnNhdGlvbl9pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVUaW1lID0gdGhpcy5wYXJzZVRpbWVTdHJpbmcoZnJvbnRtYXR0ZXIuY3JlYXRlX3RpbWUpO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlVGltZSA9IHRoaXMucGFyc2VUaW1lU3RyaW5nKGZyb250bWF0dGVyLnVwZGF0ZV90aW1lKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogZnJvbnRtYXR0ZXIuY29udmVyc2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBmcm9udG1hdHRlci5wcm92aWRlciB8fCAndW5rbm93bicsXG4gICAgICAgICAgICAgICAgcGF0aDogZmlsZS5wYXRoLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVRpbWU6IHVwZGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgY3JlYXRlX3RpbWU6IGNyZWF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgdXBkYXRlX3RpbWU6IHVwZGF0ZVRpbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIFNpbGVudCBmYWlsIC0gd2lsbCB0cnkgbWFudWFsIHBhcnNpbmdcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2Ugc2luZ2xlIGNvbnZlcnNhdGlvbiBmaWxlIG1hbnVhbGx5IChyb2J1c3QgZmFsbGJhY2spXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwYXJzZUNvbnZlcnNhdGlvbkZpbGVNYW51YWxseShmaWxlOiBURmlsZSk6IFByb21pc2U8Q29udmVyc2F0aW9uQ2F0YWxvZ0VudHJ5IHwgbnVsbD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFeHRyYWN0IGZyb250bWF0dGVyIG1hbnVhbGx5XG4gICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlck1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWZyb250bWF0dGVyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJDb250ZW50ID0gZnJvbnRtYXR0ZXJNYXRjaFsxXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUGFyc2UgZnJvbnRtYXR0ZXIgbGluZXMgbWFudWFsbHlcbiAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyRGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBmcm9udG1hdHRlckNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbG9uSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gbGluZS5zdWJzdHJpbmcoY29sb25JbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBxdW90ZXMgaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlLnN0YXJ0c1dpdGgoJ1wiJykgJiYgdmFsdWUuZW5kc1dpdGgoJ1wiJykpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoXCInXCIpICYmIHZhbHVlLmVuZHNXaXRoKFwiJ1wiKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmcm9udG1hdHRlckRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIE5leHVzIGNvbnZlcnNhdGlvbiBmaWxlXG4gICAgICAgICAgICBjb25zdCBuZXh1c0lkID0gdGhpcy5wbHVnaW4ubWFuaWZlc3QuaWQ7XG4gICAgICAgICAgICBpZiAoZnJvbnRtYXR0ZXJEYXRhLm5leHVzICE9PSBuZXh1c0lkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZnJvbnRtYXR0ZXJEYXRhLmNvbnZlcnNhdGlvbl9pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVUaW1lID0gdGhpcy5wYXJzZVRpbWVTdHJpbmcoZnJvbnRtYXR0ZXJEYXRhLmNyZWF0ZV90aW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVRpbWUgPSB0aGlzLnBhcnNlVGltZVN0cmluZyhmcm9udG1hdHRlckRhdGEudXBkYXRlX3RpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBmcm9udG1hdHRlckRhdGEuY29udmVyc2F0aW9uX2lkLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBmcm9udG1hdHRlckRhdGEucHJvdmlkZXIgfHwgJ3Vua25vd24nLFxuICAgICAgICAgICAgICAgIHBhdGg6IGZpbGUucGF0aCxcbiAgICAgICAgICAgICAgICB1cGRhdGVUaW1lOiB1cGRhdGVUaW1lLFxuICAgICAgICAgICAgICAgIGNyZWF0ZV90aW1lOiBjcmVhdGVUaW1lLFxuICAgICAgICAgICAgICAgIHVwZGF0ZV90aW1lOiB1cGRhdGVUaW1lXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBtYW51YWxseSBwYXJzaW5nICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIHRpbWUgc3RyaW5nIGZyb20gZnJvbnRtYXR0ZXIgKGhhbmRsZSBtdWx0aXBsZSBmb3JtYXRzKVxuICAgICAqL1xuICAgIHByaXZhdGUgcGFyc2VUaW1lU3RyaW5nKHRpbWVTdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGlmICghdGltZVN0cikgcmV0dXJuIDA7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSB0aW1lU3RyLnJlcGxhY2UoJyBhdCAnLCAnICcpO1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IHBhcnNlIGRhdGU6ICR7dGltZVN0cn1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGF0ZS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRGF0ZSBwYXJzaW5nIGVycm9yIGZvciBcIiR7dGltZVN0cn1cIjpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhc3QgY2hlY2sgaWYgYSBzcGVjaWZpYyBjb252ZXJzYXRpb24gZXhpc3RzXG4gICAgICovXG4gICAgYXN5bmMgY29udmVyc2F0aW9uRXhpc3RzKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9ucyA9IGF3YWl0IHRoaXMuc2NhbkV4aXN0aW5nQ29udmVyc2F0aW9ucygpO1xuICAgICAgICByZXR1cm4gY29udmVyc2F0aW9ucy5oYXMoY29udmVyc2F0aW9uSWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb252ZXJzYXRpb24gZW50cnkgYnkgSUQgKHNpbmdsZSBsb29rdXApXG4gICAgICovXG4gICAgYXN5bmMgZ2V0Q29udmVyc2F0aW9uQnlJZChjb252ZXJzYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxDb252ZXJzYXRpb25DYXRhbG9nRW50cnkgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbnMgPSBhd2FpdCB0aGlzLnNjYW5FeGlzdGluZ0NvbnZlcnNhdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbnMuZ2V0KGNvbnZlcnNhdGlvbklkKSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb252ZXJzYXRpb25zIGJ5IHByb3ZpZGVyIChmb3IgcmVwb3J0aW5nL3N0YXRzKVxuICAgICAqL1xuICAgIGFzeW5jIGdldENvbnZlcnNhdGlvbnNCeVByb3ZpZGVyKHByb3ZpZGVyOiBzdHJpbmcpOiBQcm9taXNlPENvbnZlcnNhdGlvbkNhdGFsb2dFbnRyeVtdPiB7XG4gICAgICAgIGNvbnN0IGFsbENvbnZlcnNhdGlvbnMgPSBhd2FpdCB0aGlzLnNjYW5FeGlzdGluZ0NvbnZlcnNhdGlvbnMoKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oYWxsQ29udmVyc2F0aW9ucy52YWx1ZXMoKSkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnByb3ZpZGVyID09PSBwcm92aWRlcik7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIExFR0FDWSBTVVBQT1JUICYgQ0xFQU5VUFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGFzeW5jIHJlc2V0Q2F0YWxvZ3MoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmltcG9ydGVkQXJjaGl2ZXMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuaXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5zYXZlVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoe1xuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB0aGlzLnBsdWdpbi5zZXR0aW5nc1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IE5vIGNvbnZlcnNhdGlvbiBjYXRhbG9nIHRvIHJlc2V0IC0gaXQncyBub3cgdmF1bHQtYmFzZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuaW5mbyhcIlJlc2V0IGFyY2hpdmUgY2F0YWxvZyAoY29udmVyc2F0aW9uIHRyYWNraW5nIGlzIG5vdyB2YXVsdC1iYXNlZClcIik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5sb2dnZXIuZXJyb3IoXCJyZXNldENhdGFsb2dzIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RhdGlzdGljcyBmb3IgZGVidWdnaW5nXG4gICAgZ2V0U3RhdHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3RhbEFyY2hpdmVzOiBPYmplY3Qua2V5cyh0aGlzLmltcG9ydGVkQXJjaGl2ZXMpLmxlbmd0aCxcbiAgICAgICAgICAgIGlzRGlydHk6IHRoaXMuaXNEaXJ0eSxcbiAgICAgICAgICAgIGhhc1BlbmRpbmdTYXZlOiB0aGlzLnNhdmVUaW1lb3V0ICE9PSBudWxsLFxuICAgICAgICAgICAgY2F0YWxvZ01ldGhvZDogJ3ZhdWx0LWJhc2VkLWh5YnJpZCcsXG4gICAgICAgICAgICB0cmFja2luZ01ldGhvZDogJ2h5YnJpZC1oYXNoLWZpbGVuYW1lJ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIGZvcmNlU2F2ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIERFUFJFQ0FURUQgTUVUSE9EUyAoRm9yIENvbXBhdGliaWxpdHkpXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHNjYW5FeGlzdGluZ0NvbnZlcnNhdGlvbnMoKSBpbnN0ZWFkXG4gICAgICovXG4gICAgZ2V0Q29udmVyc2F0aW9uQ2F0YWxvZygpOiBSZWNvcmQ8c3RyaW5nLCBDb252ZXJzYXRpb25DYXRhbG9nRW50cnk+IHtcbiAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLndhcm4oXCJnZXRDb252ZXJzYXRpb25DYXRhbG9nKCkgaXMgZGVwcmVjYXRlZCAtIHVzZSBzY2FuRXhpc3RpbmdDb252ZXJzYXRpb25zKClcIik7XG4gICAgICAgIHJldHVybiB7fTsgLy8gUmV0dXJuIGVtcHR5IC0gZm9yY2VzIHVzZSBvZiBuZXcgc2NhbiBtZXRob2RcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBDb252ZXJzYXRpb25zIGFyZSBub3cgdHJhY2tlZCB2aWEgdmF1bHQgZnJvbnRtYXR0ZXJcbiAgICAgKi9cbiAgICB1cGRhdGVDb252ZXJzYXRpb25DYXRhbG9nKGlkOiBzdHJpbmcsIGVudHJ5OiBDb252ZXJzYXRpb25DYXRhbG9nRW50cnkpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLndhcm4oXCJ1cGRhdGVDb252ZXJzYXRpb25DYXRhbG9nKCkgaXMgZGVwcmVjYXRlZCAtIGNvbnZlcnNhdGlvbnMgdHJhY2tlZCB2aWEgZnJvbnRtYXR0ZXJcIik7XG4gICAgICAgIC8vIE5vLW9wIC0gZnJvbnRtYXR0ZXIgaXMgdGhlIHNvdXJjZSBvZiB0cnV0aCBub3dcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBDb252ZXJzYXRpb25zIGFyZSBub3cgdHJhY2tlZCB2aWEgdmF1bHQgZnJvbnRtYXR0ZXIgIFxuICAgICAqL1xuICAgIGRlbGV0ZUZyb21Db252ZXJzYXRpb25DYXRhbG9nKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4ubG9nZ2VyLndhcm4oXCJkZWxldGVGcm9tQ29udmVyc2F0aW9uQ2F0YWxvZygpIGlzIGRlcHJlY2F0ZWQgLSBmaWxlcyB0cmFja2VkIHZpYSB2YXVsdFwiKTtcbiAgICAgICAgLy8gTm8tb3AgLSBmaWxlIGRlbGV0aW9uIGlzIGhhbmRsZWQgYnkgZXZlbnQgaGFuZGxlcnNcbiAgICB9XG59IiwgIi8vIHNyYy91cGdyYWRlL2luY3JlbWVudGFsLXVwZ3JhZGUtbWFuYWdlci50c1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBWZXJzaW9uVXBncmFkZSwgVXBncmFkZUNvbnRleHQgfSBmcm9tIFwiLi91cGdyYWRlLWludGVyZmFjZVwiO1xuaW1wb3J0IHsgVmVyc2lvblV0aWxzIH0gZnJvbSBcIi4vdXRpbHMvdmVyc2lvbi11dGlsc1wiO1xuaW1wb3J0IHsgc2hvd0RpYWxvZyB9IGZyb20gXCIuLi9kaWFsb2dzXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vbG9nZ2VyXCI7XG5pbXBvcnQgeyBHSVRIVUIgfSBmcm9tIFwiLi4vY29uZmlnL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTXVsdGlPcGVyYXRpb25Qcm9ncmVzc01vZGFsLCBPcGVyYXRpb25TdGF0dXMgfSBmcm9tIFwiLi91dGlscy9tdWx0aS1vcGVyYXRpb24tcHJvZ3Jlc3MtbW9kYWxcIjtcbmltcG9ydCB0eXBlIE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcigpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEluY3JlbWVudGFsVXBncmFkZVJlc3VsdCB7XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICB1cGdyYWRlc0V4ZWN1dGVkOiBudW1iZXI7XG4gICAgdXBncmFkZXNTa2lwcGVkOiBudW1iZXI7XG4gICAgdXBncmFkZXNGYWlsZWQ6IG51bWJlcjtcbiAgICByZXN1bHRzOiBBcnJheTx7XG4gICAgICAgIHZlcnNpb246IHN0cmluZztcbiAgICAgICAgYXV0b21hdGljUmVzdWx0czogYW55O1xuICAgICAgICBtYW51YWxSZXN1bHRzOiBhbnk7XG4gICAgfT47XG59XG5cbmV4cG9ydCBjbGFzcyBJbmNyZW1lbnRhbFVwZ3JhZGVNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGF2YWlsYWJsZVVwZ3JhZGVzOiBWZXJzaW9uVXBncmFkZVtdID0gW107XG4gICAgcHJpdmF0ZSBwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IE5leHVzQWlDaGF0SW1wb3J0ZXJQbHVnaW4pIHtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGdyYWRlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGFsbCBhdmFpbGFibGUgdmVyc2lvbiB1cGdyYWRlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVnaXN0ZXJVcGdyYWRlcygpOiB2b2lkIHtcbiAgICAgICAgLy8gSW1wb3J0IGFuZCByZWdpc3RlciB1cGdyYWRlc1xuICAgICAgICBjb25zdCB7IFVwZ3JhZGUxMTAgfSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25zL3VwZ3JhZGUtMS4xLjBcIik7XG4gICAgICAgIGNvbnN0IHsgVXBncmFkZTEyMCB9ID0gcmVxdWlyZShcIi4vdmVyc2lvbnMvdXBncmFkZS0xLjIuMFwiKTtcblxuICAgICAgICB0aGlzLmF2YWlsYWJsZVVwZ3JhZGVzID0gW1xuICAgICAgICAgICAgbmV3IFVwZ3JhZGUxMTAoKSxcbiAgICAgICAgICAgIG5ldyBVcGdyYWRlMTIwKCksXG4gICAgICAgICAgICAvLyBGdXR1cmU6IG5ldyBVcGdyYWRlMTIxKCksIG5ldyBVcGdyYWRlMTMwKCksIGV0Yy5cbiAgICAgICAgXTtcblxuICAgICAgICAvLyBTb3J0IGJ5IHZlcnNpb24gZm9yIGluY3JlbWVudGFsIGV4ZWN1dGlvblxuICAgICAgICB0aGlzLmF2YWlsYWJsZVVwZ3JhZGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBWZXJzaW9uVXRpbHMuY29tcGFyZVZlcnNpb25zKGEudmVyc2lvbiwgYi52ZXJzaW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9nZ2VyLmluZm8oYFJlZ2lzdGVyZWQgJHt0aGlzLmF2YWlsYWJsZVVwZ3JhZGVzLmxlbmd0aH0gdmVyc2lvbiB1cGdyYWRlc2ApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1haW4gaW5jcmVtZW50YWwgdXBncmFkZSBjaGVjayBhbmQgZXhlY3V0aW9uXG4gICAgICovXG4gICAgYXN5bmMgY2hlY2tBbmRQZXJmb3JtVXBncmFkZSgpOiBQcm9taXNlPEluY3JlbWVudGFsVXBncmFkZVJlc3VsdCB8IG51bGw+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWZXJzaW9uID0gdGhpcy5wbHVnaW4ubWFuaWZlc3QudmVyc2lvbjtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmVyc2lvbiA9IHRoaXMucGx1Z2luLnNldHRpbmdzLnByZXZpb3VzVmVyc2lvbjsgLy8gXHUyMTkwIFVzZSBzZXR0aW5ncyBpbnN0ZWFkIG9mIGRhdGFcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBJbmNyZW1lbnRhbCB1cGdyYWRlIGNoZWNrOiAke3ByZXZpb3VzVmVyc2lvbn0gXHUyMTkyICR7Y3VycmVudFZlcnNpb259YCk7XG5cbiAgICAgICAgICAgIC8vIFNraXAgaWYgbm8gdmVyc2lvbiBjaGFuZ2VcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1ZlcnNpb24gPT09IGN1cnJlbnRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBObyB2ZXJzaW9uIGNoYW5nZSAtIFNLSVBQSU5HIEFMTGApO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGBObyB2ZXJzaW9uIGNoYW5nZSAoJHtjdXJyZW50VmVyc2lvbn0pLCBza2lwcGluZyB1cGdyYWRlIGNoZWNrc2ApO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGNvbXBsZXRlZCB1cGdyYWRlIHRvIHRoaXMgdmVyc2lvbiB1c2luZyBuZXcgc3RydWN0dXJlXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25LZXkgPSBjdXJyZW50VmVyc2lvbi5yZXBsYWNlKC9cXC4vZywgJ18nKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0NvbXBsZXRlZFRoaXNVcGdyYWRlID0gZGF0YT8udXBncmFkZUhpc3Rvcnk/LmNvbXBsZXRlZFVwZ3JhZGVzPy5bdmVyc2lvbktleV0/LmNvbXBsZXRlZDtcblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBVcGdyYWRlIGhpc3RvcnkgY2hlY2sgZm9yICcke3ZlcnNpb25LZXl9JzogJHtoYXNDb21wbGV0ZWRUaGlzVXBncmFkZX1gKTtcblxuICAgICAgICAgICAgaWYgKGhhc0NvbXBsZXRlZFRoaXNVcGdyYWRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBVcGdyYWRlIGFscmVhZHkgY29tcGxldGVkIC0gU0tJUFBJTkcgQUxMYCk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oYEFscmVhZHkgY29tcGxldGVkIHVwZ3JhZGUgdG8gJHtjdXJyZW50VmVyc2lvbn0sIHNraXBwaW5nYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZSRVNIIElOU1RBTEwgREVURUNUSU9OIC0gU2tpcCB1cGdyYWRlcyBpZiB0aGlzIGlzIGEgbmV3IGluc3RhbGxhdGlvblxuICAgICAgICAgICAgY29uc3QgaXNGcmVzaEluc3RhbGwgPSBhd2FpdCB0aGlzLmRldGVjdEZyZXNoSW5zdGFsbCgpO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBGcmVzaCBpbnN0YWxsIGRldGVjdGlvbjogJHtpc0ZyZXNoSW5zdGFsbH1gKTtcblxuICAgICAgICAgICAgaWYgKGlzRnJlc2hJbnN0YWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgW05FWFVTLURFQlVHXSBGcmVzaCBpbnN0YWxsIGRldGVjdGVkIC0gbWFya2luZyBhcyBjb21wbGV0ZSB3aXRob3V0IHVwZ3JhZGVzYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tYXJrVXBncmFkZUNvbXBsZXRlKGN1cnJlbnRWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhgRnJlc2ggaW5zdGFsbGF0aW9uIGRldGVjdGVkIC0gbWFya2VkIGFzIHVwLXRvLWRhdGUgdiR7Y3VycmVudFZlcnNpb259YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZXNFeGVjdXRlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZXNTa2lwcGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlc0ZhaWxlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdXBncmFkZSBjaGFpbjogYWxsIHVwZ3JhZGVzIGJldHdlZW4gcHJldmlvdXNWZXJzaW9uIGFuZCBjdXJyZW50VmVyc2lvblxuICAgICAgICAgICAgY29uc3QgdXBncmFkZUNoYWluID0gdGhpcy5nZXRVcGdyYWRlQ2hhaW4ocHJldmlvdXNWZXJzaW9uLCBjdXJyZW50VmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIFVwZ3JhZGUgY2hhaW46YCwgdXBncmFkZUNoYWluLm1hcCh1ID0+IHUudmVyc2lvbikpO1xuXG4gICAgICAgICAgICBpZiAodXBncmFkZUNoYWluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gTm8gdXBncmFkZXMgbmVlZGVkIC0gbWFya2luZyBjb21wbGV0ZWApO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWFya1VwZ3JhZGVDb21wbGV0ZShjdXJyZW50VmVyc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaG93VXBncmFkZURpYWxvZyhjdXJyZW50VmVyc2lvbiwgcHJldmlvdXNWZXJzaW9uLCBbXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZXNFeGVjdXRlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZXNTa2lwcGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlc0ZhaWxlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIE5lZWQgdG8gZXhlY3V0ZSAke3VwZ3JhZGVDaGFpbi5sZW5ndGh9IHVwZ3JhZGVzIC0gc2hvd2luZyBkaWFsb2cgZmlyc3RgKTtcblxuICAgICAgICAgICAgLy8gU2hvdyB1cGdyYWRlIGRpYWxvZyBGSVJTVCAtIElORk9STUFUSU9OIE9OTFkgKG5vIGNhbmNlbCBvcHRpb24pXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNob3dVcGdyYWRlRGlhbG9nKGN1cnJlbnRWZXJzaW9uLCBwcmV2aW91c1ZlcnNpb24sIHVwZ3JhZGVDaGFpbik7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdXBncmFkZSBjaGFpbiB3aXRoIG1vZGFsIChubyB1c2VyIGNob2ljZSAtIGF1dG9tYXRpYylcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRXhlY3V0aW5nIHVwZ3JhZGVzIHdpdGggbW9kYWwuLi5gKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZVVwZ3JhZGVDaGFpbldpdGhNb2RhbCh1cGdyYWRlQ2hhaW4sIHByZXZpb3VzVmVyc2lvbiwgY3VycmVudFZlcnNpb24pO1xuXG4gICAgICAgICAgICAvLyBNYXJrIG92ZXJhbGwgdXBncmFkZSBjb21wbGV0ZSAtIEFMV0FZUyAoZXZlbiBpZiBzb21lIG9wZXJhdGlvbnMgd2VyZSBcIm5vLW9wXCIpXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbTkVYVVMtREVCVUddIFVwZ3JhZGUgcHJvY2VzcyBjb21wbGV0ZWQgLSBtYXJraW5nIG92ZXJhbGwgdXBncmFkZSBjb21wbGV0ZWApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5tYXJrVXBncmFkZUNvbXBsZXRlKGN1cnJlbnRWZXJzaW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW05FWFVTLURFQlVHXSBJbmNyZW1lbnRhbCB1cGdyYWRlIEZBSUxFRDpgLCBlcnJvcik7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciBkdXJpbmcgaW5jcmVtZW50YWwgdXBncmFkZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShcIlVwZ3JhZGUgZmFpbGVkIC0gc2VlIGNvbnNvbGUgZm9yIGRldGFpbHNcIik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVzRXhlY3V0ZWQ6IDAsXG4gICAgICAgICAgICAgICAgdXBncmFkZXNTa2lwcGVkOiAwLFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVzRmFpbGVkOiAxLFxuICAgICAgICAgICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIHRoaXMgaXMgYSBmcmVzaCBpbnN0YWxsYXRpb24gd2l0aCBubyBleGlzdGluZyBkYXRhXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBkZXRlY3RGcmVzaEluc3RhbGwoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayAxOiBObyBwbHVnaW4gZGF0YSBvciB2ZXJ5IG1pbmltYWwgZGF0YVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgICAgICBjb25zdCBoYXNMZWdhY3lEYXRhID0gISEoZGF0YT8uY29udmVyc2F0aW9uQ2F0YWxvZyAmJiBPYmplY3Qua2V5cyhkYXRhLmNvbnZlcnNhdGlvbkNhdGFsb2cpLmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgY29uc3QgaGFzSW1wb3J0ZWRBcmNoaXZlcyA9ICEhKGRhdGE/LmltcG9ydGVkQXJjaGl2ZXMgJiYgT2JqZWN0LmtleXMoZGF0YS5pbXBvcnRlZEFyY2hpdmVzKS5sZW5ndGggPiAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgMjogTm8gZXhpc3RpbmcgY29udmVyc2F0aW9ucyBpbiB2YXVsdFxuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZUZvbGRlciA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmFyY2hpdmVGb2xkZXI7XG4gICAgICAgICAgICBjb25zdCBhbGxGaWxlcyA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ29udmVyc2F0aW9ucyA9IGFsbEZpbGVzLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGFyY2hpdmVGb2xkZXIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRXhjbHVkZSBSZXBvcnRzIGFuZCBBdHRhY2htZW50cyBmb2xkZXJzXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZmlsZS5wYXRoLnN1YnN0cmluZyhhcmNoaXZlRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChyZWxhdGl2ZVBhdGguc3RhcnRzV2l0aCgnUmVwb3J0cy8nKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoJ0F0dGFjaG1lbnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdyZXBvcnRzLycpIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKCdhdHRhY2htZW50cy8nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBOZXh1cyBjb252ZXJzYXRpb24gZmlsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZyb250bWF0dGVyID0gdGhpcy5wbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpPy5mcm9udG1hdHRlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbnRtYXR0ZXI/Lm5leHVzID09PSB0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBoYXNFeGlzdGluZ0NvbnZlcnNhdGlvbnMgPSBleGlzdGluZ0NvbnZlcnNhdGlvbnMubGVuZ3RoID4gMDtcblxuICAgICAgICAgICAgLy8gRnJlc2ggaW5zdGFsbCBjcml0ZXJpYTogbm8gbGVnYWN5IGRhdGEgQU5EIG5vIGltcG9ydGVkIGFyY2hpdmVzIEFORCBubyBleGlzdGluZyBjb252ZXJzYXRpb25zXG4gICAgICAgICAgICBjb25zdCBpc0ZyZXNoSW5zdGFsbCA9ICFoYXNMZWdhY3lEYXRhICYmICFoYXNJbXBvcnRlZEFyY2hpdmVzICYmICFoYXNFeGlzdGluZ0NvbnZlcnNhdGlvbnM7XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRnJlc2ggaW5zdGFsbCBkZXRlY3Rpb246YCwge1xuICAgICAgICAgICAgICAgIGhhc0xlZ2FjeURhdGEsXG4gICAgICAgICAgICAgICAgaGFzSW1wb3J0ZWRBcmNoaXZlcyxcbiAgICAgICAgICAgICAgICBoYXNFeGlzdGluZ0NvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICAgICAgaXNGcmVzaEluc3RhbGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaXNGcmVzaEluc3RhbGw7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtORVhVUy1ERUJVR10gRXJyb3IgZGV0ZWN0aW5nIGZyZXNoIGluc3RhbGw6YCwgZXJyb3IpO1xuICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgZGV0ZXJtaW5lLCBhc3N1bWUgaXQncyBub3QgZnJlc2ggKHNhZmVyIHRvIHJ1biB1cGdyYWRlcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjaGFpbiBvZiB1cGdyYWRlcyB0byBleGVjdXRlIGluY3JlbWVudGFsbHlcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldFVwZ3JhZGVDaGFpbihmcm9tVmVyc2lvbjogc3RyaW5nLCB0b1ZlcnNpb246IHN0cmluZyk6IFZlcnNpb25VcGdyYWRlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVVcGdyYWRlcy5maWx0ZXIodXBncmFkZSA9PiBcbiAgICAgICAgICAgIHVwZ3JhZGUuc2hvdWxkUnVuKGZyb21WZXJzaW9uLCB0b1ZlcnNpb24pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB1cGdyYWRlIGNoYWluIHdpdGggbW9kYWwgcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVVcGdyYWRlQ2hhaW5XaXRoTW9kYWwoXG4gICAgICAgIHVwZ3JhZGVDaGFpbjogVmVyc2lvblVwZ3JhZGVbXSxcbiAgICAgICAgZnJvbVZlcnNpb246IHN0cmluZyxcbiAgICAgICAgdG9WZXJzaW9uOiBzdHJpbmdcbiAgICApOiBQcm9taXNlPEluY3JlbWVudGFsVXBncmFkZVJlc3VsdD4ge1xuICAgICAgICBcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgb3BlcmF0aW9ucyBmcm9tIGFsbCB1cGdyYWRlc1xuICAgICAgICBjb25zdCBhbGxPcGVyYXRpb25zOiBPcGVyYXRpb25TdGF0dXNbXSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHVwZ3JhZGUgb2YgdXBncmFkZUNoYWluKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiB1cGdyYWRlLmF1dG9tYXRpY09wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBhbGxPcGVyYXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogYCR7dXBncmFkZS52ZXJzaW9ufV8ke29wZXJhdGlvbi5pZH1gLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvcGVyYXRpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgc2hvdyBtb2RhbFxuICAgICAgICBjb25zdCBwcm9ncmVzc01vZGFsID0gbmV3IE11bHRpT3BlcmF0aW9uUHJvZ3Jlc3NNb2RhbChcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcCxcbiAgICAgICAgICAgIGBVcGdyYWRpbmcgdG8gdiR7dG9WZXJzaW9ufWAsXG4gICAgICAgICAgICBhbGxPcGVyYXRpb25zXG4gICAgICAgICk7XG4gICAgICAgIHByb2dyZXNzTW9kYWwub3BlbigpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgbGV0IHVwZ3JhZGVzRXhlY3V0ZWQgPSAwO1xuICAgICAgICBsZXQgdXBncmFkZXNTa2lwcGVkID0gMDtcbiAgICAgICAgbGV0IHVwZ3JhZGVzRmFpbGVkID0gMDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB1cGdyYWRlIG9mIHVwZ3JhZGVDaGFpbikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gRXhlY3V0aW5nIHVwZ3JhZGUgJHt1cGdyYWRlLnZlcnNpb259Li4uYCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHRoaXMuY3JlYXRlVXBncmFkZUNvbnRleHQodXBncmFkZSwgZnJvbVZlcnNpb24sIHRvVmVyc2lvbik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBhdXRvbWF0aWMgb3BlcmF0aW9ucyB3aXRoIHByb2dyZXNzIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvbWF0aWNSZXN1bHRzID0gYXdhaXQgdGhpcy5leGVjdXRlT3BlcmF0aW9uc1dpdGhQcm9ncmVzcyhcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZS5hdXRvbWF0aWNPcGVyYXRpb25zLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFtORVhVUy1ERUJVR10gQXV0b21hdGljIG9wZXJhdGlvbnMgZm9yICR7dXBncmFkZS52ZXJzaW9ufTpgLCBhdXRvbWF0aWNSZXN1bHRzKTtcblxuICAgICAgICAgICAgICAgIC8vIE1hbnVhbCBvcGVyYXRpb25zIHdpbGwgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5IGlmIGFueSBleGlzdFxuICAgICAgICAgICAgICAgIGNvbnN0IG1hbnVhbFJlc3VsdHMgPSB7IHN1Y2Nlc3M6IHRydWUsIHJlc3VsdHM6IFtdIH07XG5cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB1cGdyYWRlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGF1dG9tYXRpY1Jlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbFJlc3VsdHNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIENvdW50IGFzIHN1Y2Nlc3MgZXZlbiBpZiBzb21lIG9wZXJhdGlvbnMgd2VyZSBcIm5vLW9wXCIgKHNtYXJ0IHN1Y2Nlc3MgbG9naWMpXG4gICAgICAgICAgICAgICAgdXBncmFkZXNFeGVjdXRlZCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBvdmVyYWxsU3VjY2VzcyA9IHRydWU7IC8vIEFsd2F5cyBzdWNjZXNzIGZvciBhdXRvbWF0aWMgb3BlcmF0aW9uc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9ncmVzc01vZGFsLm1hcmtDb21wbGV0ZShgQWxsIG9wZXJhdGlvbnMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseSFgKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFVwZ3JhZGUgY29tcGxldGVkOiAke3VwZ3JhZGVzRXhlY3V0ZWR9IHZlcnNpb25zIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHlgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBvdmVyYWxsU3VjY2VzcyxcbiAgICAgICAgICAgICAgICB1cGdyYWRlc0V4ZWN1dGVkLFxuICAgICAgICAgICAgICAgIHVwZ3JhZGVzU2tpcHBlZCxcbiAgICAgICAgICAgICAgICB1cGdyYWRlc0ZhaWxlZCxcbiAgICAgICAgICAgICAgICByZXN1bHRzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTkVYVVMtREVCVUddIE1vZGFsIHVwZ3JhZGUgZXhlY3V0aW9uIGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICBwcm9ncmVzc01vZGFsLnNob3dFcnJvcihgVXBncmFkZSBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgb3BlcmF0aW9ucyB3aXRoIHByb2dyZXNzIHVwZGF0ZXMgdG8gbW9kYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVPcGVyYXRpb25zV2l0aFByb2dyZXNzKFxuICAgICAgICBvcGVyYXRpb25zOiBhbnlbXSxcbiAgICAgICAgY29udGV4dDogVXBncmFkZUNvbnRleHQsXG4gICAgICAgIHZlcnNpb246IHN0cmluZyxcbiAgICAgICAgcHJvZ3Jlc3NNb2RhbDogTXVsdGlPcGVyYXRpb25Qcm9ncmVzc01vZGFsXG4gICAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8e29wZXJhdGlvbklkOiBzdHJpbmc7IHJlc3VsdDogYW55fT4gPSBbXTtcbiAgICAgICAgbGV0IGNyaXRpY2FsRmFpbHVyZXMgPSAwOyAvLyBPbmx5IGNvdW50IGFjdHVhbCBjcml0aWNhbCBmYWlsdXJlc1xuXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0aW9uIG9mIG9wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsT3BlcmF0aW9uSWQgPSBgJHt2ZXJzaW9ufV8ke29wZXJhdGlvbi5pZH1gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgY29tcGxldGVkXG4gICAgICAgICAgICAgICAgaWYgKGF3YWl0IHRoaXMuaXNPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uLmlkLCB2ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc01vZGFsLnVwZGF0ZU9wZXJhdGlvbihtb2RhbE9wZXJhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDEwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJBbHJlYWR5IGNvbXBsZXRlZFwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1hcmsgYXMgcnVubmluZ1xuICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwudXBkYXRlT3BlcmF0aW9uKG1vZGFsT3BlcmF0aW9uSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncnVubmluZycsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAwXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjYW4gcnVuXG4gICAgICAgICAgICAgICAgaWYgKCEoYXdhaXQgb3BlcmF0aW9uLmNhblJ1bihjb250ZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9UIGEgY3JpdGljYWwgZmFpbHVyZSAtIGp1c3QgbWVhbnMgbm90aGluZyB0byBkb1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc01vZGFsLnVwZGF0ZU9wZXJhdGlvbihtb2RhbE9wZXJhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREZXRhaWw6IFwiTm90aGluZyB0byBwcm9jZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogb3BlcmF0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiUHJlcmVxdWlzaXRlcyBub3QgbWV0IC0gbm90aGluZyB0byBwcm9jZXNzXCIgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZSBvcGVyYXRpb24gd2l0aCBwcm9ncmVzcyB1cGRhdGVzXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlT3BlcmF0aW9uV2l0aFByb2dyZXNzKFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsT3BlcmF0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsIHJlc3VsdCB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm1hcmtPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uLmlkLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbC51cGRhdGVPcGVyYXRpb24obW9kYWxPcGVyYXRpb25JZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAxMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBjb3VudCBhcyBjcml0aWNhbCBmYWlsdXJlIGlmIGl0J3MgYWN0dWFsbHkgY3JpdGljYWxcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDcml0aWNhbCA9IHRoaXMuaXNDcml0aWNhbEZhaWx1cmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ3JpdGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTW9kYWwudXBkYXRlT3BlcmF0aW9uKG1vZGFsT3BlcmF0aW9uSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiByZXN1bHQubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmVhdCBhcyBjb21wbGV0ZWQgd2l0aCB3YXJuaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc01vZGFsLnVwZGF0ZU9wZXJhdGlvbihtb2RhbE9wZXJhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREZXRhaWw6IFwiQ29tcGxldGVkIHdpdGggd2FybmluZ3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgT3BlcmF0aW9uIGZhaWxlZDogJHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IG9wZXJhdGlvbklkOiBvcGVyYXRpb24uaWQsIHJlc3VsdDogZXJyb3JSZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NNb2RhbC51cGRhdGVPcGVyYXRpb24obW9kYWxPcGVyYXRpb25JZCwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogU3RyaW5nKGVycm9yKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNyaXRpY2FsRmFpbHVyZXMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGNyaXRpY2FsRmFpbHVyZXMgPT09IDAsIHJlc3VsdHMgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYW4gb3BlcmF0aW9uIGZhaWx1cmUgaXMgY3JpdGljYWxcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzQ3JpdGljYWxGYWlsdXJlKHJlc3VsdDogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEZvciBub3csIG5vIGZhaWx1cmVzIGFyZSBjcml0aWNhbCBmb3IgdXBncmFkZSBvcGVyYXRpb25zXG4gICAgICAgIC8vIFRoZXkncmUgZWl0aGVyIHN1Y2Nlc3NmdWwgb3IgXCJub3RoaW5nIHRvIGRvXCJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgc2luZ2xlIG9wZXJhdGlvbiB3aXRoIHByb2dyZXNzIGNhbGxiYWNrc1xuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZU9wZXJhdGlvbldpdGhQcm9ncmVzcyhcbiAgICAgICAgb3BlcmF0aW9uOiBhbnksXG4gICAgICAgIGNvbnRleHQ6IFVwZ3JhZGVDb250ZXh0LFxuICAgICAgICBtb2RhbE9wZXJhdGlvbklkOiBzdHJpbmcsXG4gICAgICAgIHByb2dyZXNzTW9kYWw6IE11bHRpT3BlcmF0aW9uUHJvZ3Jlc3NNb2RhbFxuICAgICk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIC8vIEZvciBub3csIGp1c3QgZXhlY3V0ZSB0aGUgb3BlcmF0aW9uIG5vcm1hbGx5XG4gICAgICAgIC8vIEluIHRoZSBmdXR1cmUsIHdlIGNvdWxkIG1vZGlmeSBvcGVyYXRpb25zIHRvIGFjY2VwdCBwcm9ncmVzcyBjYWxsYmFja3NcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uLmV4ZWN1dGUoY29udGV4dCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW11bGF0ZSBwcm9ncmVzcyBmb3IgZGVtbyAocmVtb3ZlIHRoaXMgaW4gcHJvZHVjdGlvbilcbiAgICAgICAgY29uc3Qgc3RlcHMgPSA1O1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdGVwczsgaSsrKSB7XG4gICAgICAgICAgICBwcm9ncmVzc01vZGFsLnVwZGF0ZU9wZXJhdGlvbihtb2RhbE9wZXJhdGlvbklkLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAncnVubmluZycsXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IChpIC8gc3RlcHMpICogMTAwLFxuICAgICAgICAgICAgICAgIGN1cnJlbnREZXRhaWw6IHJlc3VsdC5kZXRhaWxzPy5wcm9jZXNzZWQgPyBgUHJvY2Vzc2luZy4uLiAke2l9LyR7c3RlcHN9YCA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHVwZ3JhZGUgY29udGV4dFxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlVXBncmFkZUNvbnRleHQoXG4gICAgICAgIHVwZ3JhZGU6IFZlcnNpb25VcGdyYWRlLFxuICAgICAgICBmcm9tVmVyc2lvbjogc3RyaW5nLFxuICAgICAgICB0b1ZlcnNpb246IHN0cmluZ1xuICAgICk6IFByb21pc2U8VXBncmFkZUNvbnRleHQ+IHtcbiAgICAgICAgY29uc3QgcGx1Z2luRGF0YSA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGx1Z2luOiB0aGlzLnBsdWdpbixcbiAgICAgICAgICAgIGZyb21WZXJzaW9uLFxuICAgICAgICAgICAgdG9WZXJzaW9uLFxuICAgICAgICAgICAgcGx1Z2luRGF0YVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmsgb3ZlcmFsbCB1cGdyYWRlIGFzIGNvbXBsZXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBtYXJrVXBncmFkZUNvbXBsZXRlKHZlcnNpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKSB8fCB7fTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluaXRpYWxpemUgdXBncmFkZSBoaXN0b3J5IHN0cnVjdHVyZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKCFkYXRhLnVwZ3JhZGVIaXN0b3J5KSB7XG4gICAgICAgICAgICBkYXRhLnVwZ3JhZGVIaXN0b3J5ID0ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFVwZ3JhZGVzOiB7fSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWFyayB1cGdyYWRlIGFzIGNvbXBsZXRlZCBpbiBzdHJ1Y3R1cmVkIGZvcm1hdFxuICAgICAgICBjb25zdCB2ZXJzaW9uS2V5ID0gdmVyc2lvbi5yZXBsYWNlKC9cXC4vZywgJ18nKTtcbiAgICAgICAgZGF0YS51cGdyYWRlSGlzdG9yeS5jb21wbGV0ZWRVcGdyYWRlc1t2ZXJzaW9uS2V5XSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBjb21wbGV0ZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIExlZ2FjeSBmaWVsZHMgZm9yIGNvbXBhdGliaWxpdHkgKGNhbiBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucylcbiAgICAgICAgZGF0YS5sYXN0VmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIGRhdGEuaGFzQ29tcGxldGVkVXBncmFkZSA9IHRydWU7XG4gICAgICAgIGRhdGEudXBncmFkZURhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBWZXJzaW9uIHRyYWNraW5nXG4gICAgICAgIGlmIChWZXJzaW9uVXRpbHMuY29tcGFyZVZlcnNpb25zKHZlcnNpb24sIFwiMS4xLjBcIikgPj0gMCkge1xuICAgICAgICAgICAgZGF0YS52ZXJzaW9uVHJhY2tpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoZGF0YSk7XG4gICAgICAgIGxvZ2dlci5pbmZvKGBNYXJrZWQgb3ZlcmFsbCB1cGdyYWRlIHRvICR7dmVyc2lvbn0gYXMgY29tcGxldGVgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHVwZ3JhZGUgZGlhbG9nIC0gSU5GT1JNQVRJT04gT05MWSAobm8gY2FuY2VsKVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgc2hvd1VwZ3JhZGVEaWFsb2coY3VycmVudFZlcnNpb246IHN0cmluZywgbGFzdFZlcnNpb246IHN0cmluZywgdXBncmFkZUNoYWluOiBWZXJzaW9uVXBncmFkZVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBHZXQgb3ZlcnZpZXcgY29udGVudFxuICAgICAgICAgICAgY29uc3Qgb3ZlcnZpZXcgPSBhd2FpdCB0aGlzLmZldGNoUmVsZWFzZU92ZXJ2aWV3KGN1cnJlbnRWZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VNZXNzYWdlID0gb3ZlcnZpZXcgfHwgYE5leHVzIEFJIENoYXQgSW1wb3J0ZXIgaGFzIGJlZW4gdXBncmFkZWQgdG8gdmVyc2lvbiAke2N1cnJlbnRWZXJzaW9ufS5gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBCdWlsZCBwYXJhZ3JhcGhzIGFycmF5IHdpdGggcHJvcGVyIHNwYWNpbmdcbiAgICAgICAgICAgIGNvbnN0IHBhcmFncmFwaHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE92ZXJ2aWV3IHNlY3Rpb25cbiAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChiYXNlTWVzc2FnZSk7XG4gICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2godGhpcy5nZXREb2NMaW5rcyhjdXJyZW50VmVyc2lvbikpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodXBncmFkZUNoYWluLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgaW5mb3JtYXRpb24gYWJvdXQgb3BlcmF0aW9ucyB0aGF0IHdpbGwgcnVuXG4gICAgICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKFwiXCIpOyAvLyBFbXB0eSBwYXJhZ3JhcGggZm9yIHNwYWNpbmdcbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2goXCIqKlVwZ3JhZGUgT3BlcmF0aW9ucyBSZXF1aXJlZCoqXCIpO1xuICAgICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChcIlRoZSBmb2xsb3dpbmcgb3BlcmF0aW9ucyB3aWxsIGJlIHBlcmZvcm1lZCBhdXRvbWF0aWNhbGx5OlwiKTtcbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2goXCJcIik7IC8vIEVtcHR5IHBhcmFncmFwaCBmb3Igc3BhY2luZ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIExpc3Qgb3BlcmF0aW9ucyBmcm9tIGFsbCB1cGdyYWRlc1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbnNMaXN0OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdXBncmFkZSBvZiB1cGdyYWRlQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgdXBncmFkZS5hdXRvbWF0aWNPcGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25zTGlzdC5wdXNoKGBcdTIwMjIgKioke29wZXJhdGlvbi5uYW1lfSoqOiAke29wZXJhdGlvbi5kZXNjcmlwdGlvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzLnB1c2gob3BlcmF0aW9uc0xpc3Quam9pbignXFxuJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyBvcGVyYXRpb25zIG5lZWRlZFxuICAgICAgICAgICAgICAgIHBhcmFncmFwaHMucHVzaChcIlwiKTsgLy8gRW1wdHkgcGFyYWdyYXBoIGZvciBzcGFjaW5nXG4gICAgICAgICAgICAgICAgcGFyYWdyYXBocy5wdXNoKFwiQWxsIHN5c3RlbXMgYXJlIHVwIHRvIGRhdGUuIE5vIG9wZXJhdGlvbnMgcmVxdWlyZWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJTkZPUk1BVElPTiBESUFMT0cgLSBubyBjYW5jZWwgb3B0aW9uXG4gICAgICAgICAgICBpZiAodXBncmFkZUNoYWluLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIHRoZSB2MS4yLjAgdXBncmFkZSAtIHVzZSBiZWF1dGlmdWwgbW9kYWxcbiAgICAgICAgICAgICAgICBjb25zdCBpc1YxMjBVcGdyYWRlID0gdXBncmFkZUNoYWluLnNvbWUodXBncmFkZSA9PiB1cGdyYWRlLnZlcnNpb24gPT09IFwiMS4yLjBcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWMTIwVXBncmFkZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYmVhdXRpZnVsIHVwZ3JhZGUgbW9kYWwgZm9yIHYxLjIuMFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IE5leHVzVXBncmFkZU1vZGFsIH0gPSByZXF1aXJlKFwiLi92ZXJzaW9ucy91cGdyYWRlLTEuMi4wXCIpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5leHVzVXBncmFkZU1vZGFsKHRoaXMucGx1Z2luLmFwcCwgdGhpcy5wbHVnaW4sIFwiMS4yLjBcIiwgcmVzb2x2ZSkub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2Ugc3RhbmRhcmQgZGlhbG9nIGZvciBvdGhlciB1cGdyYWRlc1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzaG93RGlhbG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmZvcm1hdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYFVwZ3JhZGUgdG8gJHtWZXJzaW9uVXRpbHMuZm9ybWF0VmVyc2lvbihjdXJyZW50VmVyc2lvbil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFNob3dVcGdyYWRlV2FybmluZyhsYXN0VmVyc2lvbikgPyB0aGlzLmdldFVwZ3JhZGVXYXJuaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGJ1dHRvbjE6IFwiUHJvY2VlZCB3aXRoIFVwZ3JhZGVcIiB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBSaWVuIFx1MDBFMCBmYWlyZVxuICAgICAgICAgICAgICAgIGF3YWl0IHNob3dEaWFsb2coXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcCxcbiAgICAgICAgICAgICAgICAgICAgXCJpbmZvcm1hdGlvblwiLCBcbiAgICAgICAgICAgICAgICAgICAgYFVwZ3JhZGUgdG8gJHtWZXJzaW9uVXRpbHMuZm9ybWF0VmVyc2lvbihjdXJyZW50VmVyc2lvbil9YCxcbiAgICAgICAgICAgICAgICAgICAgcGFyYWdyYXBocyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG91bGRTaG93VXBncmFkZVdhcm5pbmcobGFzdFZlcnNpb24pID8gdGhpcy5nZXRVcGdyYWRlV2FybmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB7IGJ1dHRvbjE6IFwiR290IGl0IVwiIH0gIC8vIFx1MjE5MCBKdXN0ZSBpbmZvcm1hdGlmXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIHNob3dpbmcgdXBncmFkZSBkaWFsb2c6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFVwZ3JhZGVkIHRvIE5leHVzIEFJIENoYXQgSW1wb3J0ZXIgdiR7Y3VycmVudFZlcnNpb259YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBvcGVyYXRpb24gd2FzIGNvbXBsZXRlZCB1c2luZyBuZXcgdXBncmFkZSBoaXN0b3J5IHN0cnVjdHVyZVxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgaXNPcGVyYXRpb25Db21wbGV0ZWQob3BlcmF0aW9uSWQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpO1xuICAgICAgICBjb25zdCBvcGVyYXRpb25LZXkgPSBgb3BlcmF0aW9uXyR7dmVyc2lvbi5yZXBsYWNlKC9cXC4vZywgJ18nKX1fJHtvcGVyYXRpb25JZH1gO1xuICAgICAgICByZXR1cm4gZGF0YT8udXBncmFkZUhpc3Rvcnk/LmNvbXBsZXRlZE9wZXJhdGlvbnM/LltvcGVyYXRpb25LZXldPy5jb21wbGV0ZWQgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFyayBvcGVyYXRpb24gYXMgY29tcGxldGVkIHVzaW5nIHN0cnVjdHVyZWQgdXBncmFkZSBoaXN0b3J5XG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBtYXJrT3BlcmF0aW9uQ29tcGxldGVkKG9wZXJhdGlvbklkOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKSB8fCB7fTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluaXRpYWxpemUgdXBncmFkZSBoaXN0b3J5IHN0cnVjdHVyZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKCFkYXRhLnVwZ3JhZGVIaXN0b3J5KSB7XG4gICAgICAgICAgICBkYXRhLnVwZ3JhZGVIaXN0b3J5ID0ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZFVwZ3JhZGVzOiB7fSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRPcGVyYXRpb25zOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWFyayBvcGVyYXRpb24gYXMgY29tcGxldGVkIGluIHN0cnVjdHVyZWQgZm9ybWF0XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleSA9IGBvcGVyYXRpb25fJHt2ZXJzaW9uLnJlcGxhY2UoL1xcLi9nLCAnXycpfV8ke29wZXJhdGlvbklkfWA7XG4gICAgICAgIGRhdGEudXBncmFkZUhpc3RvcnkuY29tcGxldGVkT3BlcmF0aW9uc1tvcGVyYXRpb25LZXldID0ge1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IG9wZXJhdGlvbklkLFxuICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGNvbXBsZXRlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZURhdGEoZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBsb2dnZXIuaW5mbyhgTWFya2VkIG9wZXJhdGlvbiAke29wZXJhdGlvbklkfSAodiR7dmVyc2lvbn0pIGFzIGNvbXBsZXRlZGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBkb2N1bWVudGF0aW9uIGxpbmtzXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXREb2NMaW5rcyh2ZXJzaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCoqUmVzb3VyY2VzOioqXG5cdTIwMjIgW0Z1bGwgUmVsZWFzZSBOb3Rlc10oJHtHSVRIVUIuUkVQT19CQVNFfS9ibG9iLyR7dmVyc2lvbn0vUkVMRUFTRV9OT1RFUy5tZClcblx1MjAyMiBbRG9jdW1lbnRhdGlvbl0oJHtHSVRIVUIuUkVQT19CQVNFfS9ibG9iLyR7dmVyc2lvbn0vUkVBRE1FLm1kKWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc2hvdWxkIHNob3cgdXBncmFkZSB3YXJuaW5nIGZvciB2ZXJ5IG9sZCB2ZXJzaW9uc1xuICAgICAqL1xuICAgIHByaXZhdGUgc2hvdWxkU2hvd1VwZ3JhZGVXYXJuaW5nKGxhc3RWZXJzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFZlcnNpb25VdGlscy5jb21wYXJlVmVyc2lvbnMobGFzdFZlcnNpb24sIFwiMS4wLjJcIikgPCAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB1cGdyYWRlIHdhcm5pbmcgZm9yIHZlcnkgb2xkIHZlcnNpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRVcGdyYWRlV2FybmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYFx1MjZBMFx1RkUwRiAqKkltcG9ydGFudCBmb3IgdXNlcnMgdXBncmFkaW5nIGZyb20gdmVyc2lvbnMgcHJpb3IgdG8gdjEuMC4yOioqXG5cblZlcnNpb24gMS4wLjIgaW50cm9kdWNlZCBuZXcgbWV0YWRhdGEgcGFyYW1ldGVycyByZXF1aXJlZCBmb3IgY2VydGFpbiBmZWF0dXJlcy4gRm9yIG9wdGltYWwgcGVyZm9ybWFuY2UgYW5kIGZlYXR1cmUgY29tcGF0aWJpbGl0eSwgaXQncyByZWNvbW1lbmRlZCB0byBkZWxldGUgb2xkIGRhdGEgYW5kIHJlLWltcG9ydCBjb252ZXJzYXRpb25zIHdpdGggdGhpcyBuZXcgdmVyc2lvbi5gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoIHJlbGVhc2Ugb3ZlcnZpZXcgZnJvbSBHaXRIdWJcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGZldGNoUmVsZWFzZU92ZXJ2aWV3KHZlcnNpb246IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyByZXF1ZXN0VXJsIH0gPSByZXF1aXJlKFwib2JzaWRpYW5cIik7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICAgICAgICAgIHVybDogYCR7R0lUSFVCLlJBV19CQVNFfS8ke3ZlcnNpb259L1JFTEVBU0VfTk9URVMubWRgLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvdmVydmlld1JlZ2V4ID0gLyMjIE92ZXJ2aWV3XFxzKyguKj8pKD89IyN8JCkvcztcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcmVzcG9uc2UudGV4dC5tYXRjaChvdmVydmlld1JlZ2V4KTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIkNvdWxkIG5vdCBmZXRjaCByZWxlYXNlIG92ZXJ2aWV3OlwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBtYW51YWwgb3BlcmF0aW9ucyBzdGF0dXMgZm9yIHNldHRpbmdzIFVJXG4gICAgICovXG4gICAgYXN5bmMgZ2V0TWFudWFsT3BlcmF0aW9uc0ZvclNldHRpbmdzKCk6IFByb21pc2U8QXJyYXk8e1xuICAgICAgICB2ZXJzaW9uOiBzdHJpbmc7XG4gICAgICAgIG9wZXJhdGlvbnM6IEFycmF5PHtcbiAgICAgICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgICAgICAgICAgY29tcGxldGVkOiBib29sZWFuO1xuICAgICAgICAgICAgY2FuUnVuOiBib29sZWFuO1xuICAgICAgICB9PjtcbiAgICB9Pj4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IHVwZ3JhZGUgb2YgdGhpcy5hdmFpbGFibGVVcGdyYWRlcykge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHRoaXMuY3JlYXRlVXBncmFkZUNvbnRleHQodXBncmFkZSwgXCIwLjAuMFwiLCB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbnNTdGF0dXMgPSBhd2FpdCB1cGdyYWRlLmdldE1hbnVhbE9wZXJhdGlvbnNTdGF0dXMoY29udGV4dCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb25zU3RhdHVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB1cGdyYWRlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbnM6IG9wZXJhdGlvbnNTdGF0dXMubWFwKHN0YXR1cyA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHN0YXR1cy5vcGVyYXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdGF0dXMub3BlcmF0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc3RhdHVzLm9wZXJhdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogc3RhdHVzLmNvbXBsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblJ1bjogc3RhdHVzLmNhblJ1blxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBzaW5nbGUgbWFudWFsIG9wZXJhdGlvbiBmcm9tIHNldHRpbmdzXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZU1hbnVhbE9wZXJhdGlvbih2ZXJzaW9uOiBzdHJpbmcsIG9wZXJhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHtzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmd9PiB7XG4gICAgICAgIGNvbnN0IHVwZ3JhZGUgPSB0aGlzLmF2YWlsYWJsZVVwZ3JhZGVzLmZpbmQodSA9PiB1LnZlcnNpb24gPT09IHZlcnNpb24pO1xuICAgICAgICBpZiAoIXVwZ3JhZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlVwZ3JhZGUgdmVyc2lvbiBub3QgZm91bmRcIiB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHRoaXMuY3JlYXRlVXBncmFkZUNvbnRleHQodXBncmFkZSwgXCIwLjAuMFwiLCB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBncmFkZS5leGVjdXRlTWFudWFsT3BlcmF0aW9uKG9wZXJhdGlvbklkLCBjb250ZXh0KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlXG4gICAgICAgIH07XG4gICAgfVxufSIsICIvLyBzcmMvdXBncmFkZS91dGlscy9tdWx0aS1vcGVyYXRpb24tcHJvZ3Jlc3MtbW9kYWwudHNcbmltcG9ydCB7IE1vZGFsLCBBcHAgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGludGVyZmFjZSBPcGVyYXRpb25TdGF0dXMge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3J1bm5pbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJztcbiAgICBwcm9ncmVzcz86IG51bWJlcjsgLy8gMC0xMDBcbiAgICBjdXJyZW50RGV0YWlsPzogc3RyaW5nOyAvLyBDdXJyZW50IGZpbGUgYmVpbmcgcHJvY2Vzc2VkLCBldGMuXG4gICAgZXJyb3I/OiBzdHJpbmc7IC8vIEVycm9yIG1lc3NhZ2UgaWYgZmFpbGVkXG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aU9wZXJhdGlvblByb2dyZXNzTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nO1xuICAgIHByaXZhdGUgb3BlcmF0aW9uczogT3BlcmF0aW9uU3RhdHVzW107XG4gICAgcHJpdmF0ZSBjYW5DbG9zZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIFxuICAgIHByaXZhdGUgbW9kYWxUaXRsZUVsITogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBvcGVyYXRpb25zQ29udGFpbmVyITogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBvdmVyYWxsUHJvZ3Jlc3NFbCE6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgY2xvc2VCdXR0b25FbD86IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHRpdGxlOiBzdHJpbmcsIG9wZXJhdGlvbnM6IE9wZXJhdGlvblN0YXR1c1tdKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zID0gWy4uLm9wZXJhdGlvbnNdOyAvLyBDb3B5IGFycmF5XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKFwibmV4dXMtYWktY2hhdC1pbXBvcnRlci1tb2RhbFwiKTtcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKFwibXVsdGktb3BlcmF0aW9uLXByb2dyZXNzLW1vZGFsXCIpO1xuXG4gICAgICAgIC8vIFRpdGxlXG4gICAgICAgIHRoaXMubW9kYWxUaXRsZUVsID0gY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyBcbiAgICAgICAgICAgIHRleHQ6IHRoaXMudGl0bGUsIFxuICAgICAgICAgICAgY2xzOiBcIm1vZGFsLXRpdGxlXCIgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1vZGFsLWNvbnRlbnRcIiB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIE9wZXJhdGlvbnMgY29udGFpbmVyXG4gICAgICAgIHRoaXMub3BlcmF0aW9uc0NvbnRhaW5lciA9IGNvbnRlbnRDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcIm9wZXJhdGlvbnMtY29udGFpbmVyXCIgfSk7XG4gICAgICAgIHRoaXMub3BlcmF0aW9uc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgICAgICBtYXgtaGVpZ2h0OiAzMDBweDtcbiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gT3ZlcmFsbCBwcm9ncmVzc1xuICAgICAgICB0aGlzLm92ZXJhbGxQcm9ncmVzc0VsID0gY29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwib3ZlcmFsbC1wcm9ncmVzc1wiIH0pO1xuICAgICAgICB0aGlzLm92ZXJhbGxQcm9ncmVzc0VsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gSW5pdGlhbCByZW5kZXJcbiAgICAgICAgdGhpcy5yZW5kZXJPcGVyYXRpb25zKCk7XG4gICAgICAgIHRoaXMudXBkYXRlT3ZlcmFsbFByb2dyZXNzKCk7XG5cbiAgICAgICAgLy8gT3ZlcnJpZGUgY2xvc2UgYmVoYXZpb3JcbiAgICAgICAgdGhpcy5tb2RhbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiAhdGhpcy5jYW5DbG9zZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgb3BlcmF0aW9uIHN0YXR1c1xuICAgICAqL1xuICAgIHVwZGF0ZU9wZXJhdGlvbihvcGVyYXRpb25JZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPE9wZXJhdGlvblN0YXR1cz4pIHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gdGhpcy5vcGVyYXRpb25zLmZpbmQob3AgPT4gb3AuaWQgPT09IG9wZXJhdGlvbklkKTtcbiAgICAgICAgaWYgKG9wZXJhdGlvbikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcGVyYXRpb24sIHVwZGF0ZXMpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJPcGVyYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU92ZXJhbGxQcm9ncmVzcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFyayBhbGwgb3BlcmF0aW9ucyBhcyBjb21wbGV0ZSBhbmQgYWxsb3cgY2xvc2luZ1xuICAgICAqL1xuICAgIG1hcmtDb21wbGV0ZShtZXNzYWdlOiBzdHJpbmcgPSBcIkFsbCBvcGVyYXRpb25zIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcIikge1xuICAgICAgICB0aGlzLmNhbkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtc3VjY2VzcylcIjtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBjbG9zZSBidXR0b25cbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlQnV0dG9uRWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IHRoaXMuY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogXCJtb2RhbC1idXR0b24tY29udGFpbmVyXCIgfSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uRWwgPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkNvbXBsZXRlXCIsXG4gICAgICAgICAgICAgICAgY2xzOiBcIm1vZC1jdGFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IGVycm9yIHN0YXRlXG4gICAgICovXG4gICAgc2hvd0Vycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNhbkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtZXJyb3IpXCI7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgY2xvc2UgYnV0dG9uXG4gICAgICAgIGlmICghdGhpcy5jbG9zZUJ1dHRvbkVsKSB7XG4gICAgICAgICAgICBjb25zdCBidXR0b25Db250YWluZXIgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6IFwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiIH0pO1xuICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbkVsID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgXG4gICAgICAgICAgICAgICAgdGV4dDogXCJDbG9zZVwiLFxuICAgICAgICAgICAgICAgIGNsczogXCJtb2Qtd2FybmluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b25FbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBhbGwgb3BlcmF0aW9uc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVuZGVyT3BlcmF0aW9ucygpIHtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zQ29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgdGhpcy5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBvcGVyYXRpb25FbCA9IHRoaXMub3BlcmF0aW9uc0NvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwib3BlcmF0aW9uLWl0ZW1cIiB9KTtcbiAgICAgICAgICAgIG9wZXJhdGlvbkVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgLy8gU3RhdHVzIGljb25cbiAgICAgICAgICAgIGNvbnN0IGljb25FbCA9IG9wZXJhdGlvbkVsLmNyZWF0ZURpdih7IGNsczogXCJvcGVyYXRpb24taWNvblwiIH0pO1xuICAgICAgICAgICAgaWNvbkVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTJweDtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICAgICAgICAgIGljb25FbC50ZXh0Q29udGVudCA9ICdcdTI1Q0InO1xuICAgICAgICAgICAgICAgICAgICBpY29uRWwuc3R5bGUuY29sb3IgPSAndmFyKC0tdGV4dC1tdXRlZCknO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdydW5uaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsLnRleHRDb250ZW50ID0gJ1x1MjZBMCc7XG4gICAgICAgICAgICAgICAgICAgIGljb25FbC5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LWFjY2VudCknO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICBpY29uRWwudGV4dENvbnRlbnQgPSAnXHUyNzEzJztcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtc3VjY2VzcyknO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgICAgICAgICAgICBpY29uRWwudGV4dENvbnRlbnQgPSAnXHUyNzE3JztcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtZXJyb3IpJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbnRlbnQgY29udGFpbmVyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50RWwgPSBvcGVyYXRpb25FbC5jcmVhdGVEaXYoeyBjbHM6IFwib3BlcmF0aW9uLWNvbnRlbnRcIiB9KTtcbiAgICAgICAgICAgIGNvbnRlbnRFbC5zdHlsZS5jc3NUZXh0ID0gYGZsZXg6IDE7IG1pbi13aWR0aDogMDtgO1xuXG4gICAgICAgICAgICAvLyBPcGVyYXRpb24gbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZUVsID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogXCJvcGVyYXRpb24tbmFtZVwiIH0pO1xuICAgICAgICAgICAgbmFtZUVsLnRleHRDb250ZW50ID0gb3BlcmF0aW9uLm5hbWU7XG4gICAgICAgICAgICBuYW1lRWwuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgLy8gUHJvZ3Jlc3MgYmFyIChpZiBvcGVyYXRpb24gaXMgcnVubmluZyBvciBoYXMgcHJvZ3Jlc3MpXG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uLnN0YXR1cyA9PT0gJ3J1bm5pbmcnIHx8IChvcGVyYXRpb24ucHJvZ3Jlc3MgIT09IHVuZGVmaW5lZCAmJiBvcGVyYXRpb24ucHJvZ3Jlc3MgPiAwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogXCJwcm9ncmVzcy1jb250YWluZXJcIiB9KTtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogNXB4IDA7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gcHJvZ3Jlc3NDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcInByb2dyZXNzLWJhclwiIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gb3BlcmF0aW9uLnByb2dyZXNzIHx8IDA7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJHtwcm9ncmVzc30lO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2U7XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3VycmVudCBkZXRhaWwgKGlmIHByb3ZpZGVkKVxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5jdXJyZW50RGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGV0YWlsRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm9wZXJhdGlvbi1kZXRhaWxcIiB9KTtcbiAgICAgICAgICAgICAgICBkZXRhaWxFbC50ZXh0Q29udGVudCA9IHRoaXMudHJ1bmNhdGVEZXRhaWwob3BlcmF0aW9uLmN1cnJlbnREZXRhaWwpO1xuICAgICAgICAgICAgICAgIGRldGFpbEVsLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAzcHg7XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRXJyb3IgbWVzc2FnZSAoaWYgZmFpbGVkKVxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5zdGF0dXMgPT09ICdmYWlsZWQnICYmIG9wZXJhdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiBcIm9wZXJhdGlvbi1lcnJvclwiIH0pO1xuICAgICAgICAgICAgICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBvcGVyYXRpb24uZXJyb3I7XG4gICAgICAgICAgICAgICAgZXJyb3JFbC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDNweDtcbiAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIG92ZXJhbGwgcHJvZ3Jlc3MgZGlzcGxheVxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlT3ZlcmFsbFByb2dyZXNzKCkge1xuICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSB0aGlzLm9wZXJhdGlvbnMuZmlsdGVyKG9wID0+IG9wLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZmFpbGVkID0gdGhpcy5vcGVyYXRpb25zLmZpbHRlcihvcCA9PiBvcC5zdGF0dXMgPT09ICdmYWlsZWQnKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5vcGVyYXRpb25zLmxlbmd0aDtcblxuICAgICAgICBpZiAoZmFpbGVkID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IGBQcm9ncmVzczogJHtjb21wbGV0ZWR9LyR7dG90YWx9IG9wZXJhdGlvbnMgKCR7ZmFpbGVkfSBmYWlsZWQpYDtcbiAgICAgICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtZXJyb3IpXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcGxldGVkID09PSB0b3RhbCkge1xuICAgICAgICAgICAgdGhpcy5vdmVyYWxsUHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IGBBbGwgJHt0b3RhbH0gb3BlcmF0aW9ucyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5YDtcbiAgICAgICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtc3VjY2VzcylcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwudGV4dENvbnRlbnQgPSBgUHJvZ3Jlc3M6ICR7Y29tcGxldGVkfS8ke3RvdGFsfSBvcGVyYXRpb25zYDtcbiAgICAgICAgICAgIHRoaXMub3ZlcmFsbFByb2dyZXNzRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtbm9ybWFsKVwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1bmNhdGUgZGV0YWlsIHRleHQgdG8gZml0IGluIG1vZGFsXG4gICAgICovXG4gICAgcHJpdmF0ZSB0cnVuY2F0ZURldGFpbChkZXRhaWw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG1heExlbmd0aCA9IDUwO1xuICAgICAgICBpZiAoZGV0YWlsLmxlbmd0aCA8PSBtYXhMZW5ndGgpIHJldHVybiBkZXRhaWw7XG4gICAgICAgIHJldHVybiAnLi4uJyArIGRldGFpbC5zbGljZSgtbWF4TGVuZ3RoICsgMyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgY2xvc2UgdG8gcmVzcGVjdCBjYW5DbG9zZSBmbGFnXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkNsb3NlKSB7XG4gICAgICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn0iLCAiLy8gc3JjL2RpYWxvZ3MvcHJvdmlkZXItc2VsZWN0aW9uLWRpYWxvZy50c1xuaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgUHJvdmlkZXJSZWdpc3RyeSB9IGZyb20gXCIuLi9wcm92aWRlcnMvcHJvdmlkZXItYWRhcHRlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVySW5mbyB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBmaWxlRm9ybWF0czogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBQcm92aWRlclNlbGVjdGlvbkRpYWxvZyBleHRlbmRzIE1vZGFsIHtcbiAgICBwcml2YXRlIHNlbGVjdGVkUHJvdmlkZXI6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgb25Qcm92aWRlclNlbGVjdGVkOiAocHJvdmlkZXI6IHN0cmluZykgPT4gdm9pZDtcbiAgICBwcml2YXRlIHByb3ZpZGVyczogUHJvdmlkZXJJbmZvW107XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgYXBwOiBBcHAsIFxuICAgICAgICBwcm92aWRlclJlZ2lzdHJ5OiBQcm92aWRlclJlZ2lzdHJ5LFxuICAgICAgICBvblByb3ZpZGVyU2VsZWN0ZWQ6IChwcm92aWRlcjogc3RyaW5nKSA9PiB2b2lkXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMub25Qcm92aWRlclNlbGVjdGVkID0gb25Qcm92aWRlclNlbGVjdGVkO1xuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IHRoaXMuZ2V0QXZhaWxhYmxlUHJvdmlkZXJzKHByb3ZpZGVyUmVnaXN0cnkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXZhaWxhYmxlUHJvdmlkZXJzKHJlZ2lzdHJ5OiBQcm92aWRlclJlZ2lzdHJ5KTogUHJvdmlkZXJJbmZvW10ge1xuICAgICAgICAvLyBHZXQgYXZhaWxhYmxlIHByb3ZpZGVycyBmcm9tIHJlZ2lzdHJ5XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyczogUHJvdmlkZXJJbmZvW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoYXRHUFRcbiAgICAgICAgaWYgKHJlZ2lzdHJ5LmdldEFkYXB0ZXIoXCJjaGF0Z3B0XCIpKSB7XG4gICAgICAgICAgICBwcm92aWRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IFwiY2hhdGdwdFwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiQ2hhdEdQVFwiLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIk9wZW5BSSBDaGF0R1BUIGNvbnZlcnNhdGlvbiBleHBvcnRzXCIsXG4gICAgICAgICAgICAgICAgZmlsZUZvcm1hdHM6IFtcImNvbnZlcnNhdGlvbnMuanNvbiBvbmx5XCJdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2xhdWRlXG4gICAgICAgIGlmIChyZWdpc3RyeS5nZXRBZGFwdGVyKFwiY2xhdWRlXCIpKSB7XG4gICAgICAgICAgICBwcm92aWRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IFwiY2xhdWRlXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJDbGF1ZGVcIixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBbnRocm9waWMgQ2xhdWRlIGNvbnZlcnNhdGlvbiBleHBvcnRzXCIsXG4gICAgICAgICAgICAgICAgZmlsZUZvcm1hdHM6IFtcImNvbnZlcnNhdGlvbnMuanNvbiArIHVzZXJzLmpzb25cIiwgXCJwcm9qZWN0cy5qc29uIChvcHRpb25hbClcIl1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcHJvdmlkZXJzO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgICAgIC8vIFRpdGxlXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJTZWxlY3QgQXJjaGl2ZSBQcm92aWRlclwiIH0pO1xuXG4gICAgICAgIC8vIFByb3ZpZGVyIHNlbGVjdGlvblxuICAgICAgICB0aGlzLnByb3ZpZGVycy5mb3JFYWNoKHByb3ZpZGVyID0+IHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShwcm92aWRlci5uYW1lKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKHRoaXMuY3JlYXRlUHJvdmlkZXJEZXNjcmlwdGlvbihwcm92aWRlcikpXG4gICAgICAgICAgICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiU2VsZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0Q3RhKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvdmlkZXIgPSBwcm92aWRlci5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblByb3ZpZGVyU2VsZWN0ZWQocHJvdmlkZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbmNlbCBidXR0b25cbiAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuICAgICAgICBidXR0b25Db250YWluZXIuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgYnV0dG9uQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9IFwiMjBweFwiO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHsgdGV4dDogXCJDYW5jZWxcIiB9KTtcbiAgICAgICAgY2FuY2VsQnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIxMHB4XCI7XG4gICAgICAgIGNhbmNlbEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUHJvdmlkZXJEZXNjcmlwdGlvbihwcm92aWRlcjogUHJvdmlkZXJJbmZvKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyLmRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsa0RBQUFBLFNBQUE7QUFZQSxLQUFDLFNBQVMsR0FBRTtBQUFDLFVBQUcsWUFBVSxPQUFPLFdBQVMsZUFBYSxPQUFPQTtBQUFPLFFBQUFBLFFBQU8sVUFBUSxFQUFFO0FBQUEsZUFBVSxjQUFZLE9BQU8sVUFBUSxPQUFPO0FBQUksZUFBTyxDQUFDLEdBQUUsQ0FBQztBQUFBLFdBQU07QUFBQyxTQUFDLGVBQWEsT0FBTyxTQUFPLFNBQU8sZUFBYSxPQUFPLFNBQU8sU0FBTyxlQUFhLE9BQU8sT0FBSyxPQUFLLE1BQU0sUUFBTSxFQUFFO0FBQUEsTUFBQztBQUFBLElBQUMsRUFBRSxXQUFVO0FBQUMsYUFBTyxTQUFTLEVBQUUsR0FBRSxHQUFFLEdBQUU7QUFBQyxpQkFBUyxFQUFFLEdBQUVDLElBQUU7QUFBQyxjQUFHLENBQUMsRUFBRSxDQUFDLEdBQUU7QUFBQyxnQkFBRyxDQUFDLEVB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QUFDO0FBQUEsTUFBQyxHQUFFLENBQUMsQ0FBQyxHQUFFLElBQUcsQ0FBQyxTQUFTLEdBQUUsR0FBRSxHQUFFO0FBQUM7QUFBYSxZQUFJLElBQUUsV0FBVTtBQUFDLG1CQUFRRCxJQUFFQyxLQUFFLENBQUMsR0FBRUMsS0FBRSxHQUFFQSxLQUFFLEtBQUlBLE1BQUk7QUFBQyxZQUFBRixLQUFFRTtBQUFFLHFCQUFRLElBQUUsR0FBRSxJQUFFLEdBQUU7QUFBSSxjQUFBRixLQUFFLElBQUVBLEtBQUUsYUFBV0EsT0FBSSxJQUFFQSxPQUFJO0FBQUUsWUFBQUMsR0FBRUMsRUFBQyxJQUFFRjtBQUFBLFVBQUM7QUFBQyxpQkFBT0M7QUFBQSxRQUFDLEVBQUU7QUFBRSxVQUFFLFVBQVEsU0FBU0QsSUFBRUMsSUFBRUMsSUFBRSxHQUFFO0FBQUMsY0FBSSxJQUFFLEdBQUUsSUFBRSxJQUFFQTtBQUFFLFVBQUFGLE1BQUc7QUFBRyxtQkFBUSxJQUFFLEdBQUUsSUFBRSxHQUFFO0FBQUksWUFBQUEsS0FBRUEsT0FBSSxJQUFFLEVBQUUsT0FBS0EsS0FBRUMsR0FBRSxDQUFDLEVBQUU7QUFBRSxpQkFBTSxLQUFHRDtBQUFBLFFBQUM7QUFBQSxNQUFDLEdBQUUsQ0FBQyxDQUFDLEdBQUUsSUFBRyxDQUFDLFNBQVMsR0FBRSxHQUFFLEdBQUU7QUFBQztBQUFhLFlBQUksR0FBRSxJQUFFLEVBQUUsaUJBQWlCLEdBQUUsSUFBRSxFQUFFLFNBQVMsR0FBRSxJQUFFLEVBQUUsV0FBVyxHQUFFLElBQUUsRUFBRSxTQUFTLEdBQUUsSUFBRSxFQUFFLFlBQVksR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLElBQUcsSUFBRSxJQUFHLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEtBQUksSUFBRSxJQUFHLElBQUUsSUFBRyxJQUFFLElBQUUsSUFBRSxHQUFFLElBQUUsSUFBRyxJQUFFLEdBQUUsSUFBRSxLQUFJLElBQUUsSUFBRSxJQUFFLEdBQUUsSUFBRSxJQUFH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SyxhQUFXLElBQUcsS0FBSyxTQUFPLEdBQUUsS0FBSyxTQUFPLEdBQUUsS0FBSyxTQUFPLEdBQUUsS0FBSyxTQUFPLE1BQUssS0FBSyxjQUFZLEdBQUUsS0FBSyxPQUFLLE1BQUssS0FBSyxPQUFLLE1BQUssS0FBSyxRQUFNLEdBQUUsS0FBSyxZQUFVLEdBQUUsS0FBSyxZQUFVLEdBQUUsS0FBSyxZQUFVLEdBQUUsS0FBSyxhQUFXLEdBQUUsS0FBSyxjQUFZLEdBQUUsS0FBSyxlQUFhLEdBQUUsS0FBSyxhQUFXLEdBQUUsS0FBSyxrQkFBZ0IsR0FBRSxLQUFLLFdBQVMsR0FBRSxLQUFLLGNBQVksR0FBRSxLQUFLLFlBQVUsR0FBRSxLQUFLLGNBQVksR0FBRSxLQUFLLG1CQUFpQixHQUFFLEtBQUssaUJBQWUsR0FBRSxLQUFLLFFBQU0sR0FBRSxLQUFLLFdBQVMsR0FBRSxLQUFLLGFBQVcsR0FBRSxLQUFLLGFBQVcsR0FBRSxLQUFLLFlBQVUsSUFBSSxFQUFFLE1BQU0sSUFBRSxDQUFDLEdBQUUsS0FBSyxZQUFVLElBQUksRUFBRSxNQUFNLEtBQUcsSUFBRSxJQUFFLEVBQUUsR0FBRSxLQUFLLFVBQVEsSUFBSSxFQUFFLE1BQU0sS0FBRyxJQUFFLElBQUUsRUFBRSxHQUFFLEVBQUUsS0FBSyxTQUFTLEdBQUUsRUFBRSxLQUFLLFNBQVMsR0FBRSxFQUFFLEtBQUssT0FBTyxHQUFFLEtBQUssU0FBTyxNQUFLLEtBQUssU0FBTyxNQUFLLEtBQUssVUFBUSxNQUFLLEtBQUssV0FBUyxJQUFJLEVBQUUsTUFBTSxJQUFFLENBQUMsR0FBRSxLQUFLLE9BQUssSUFBSSxFQUFFLE1BQU0sSUFBRSxJQUFFLENBQUMsR0FBRSxFQUFFLEtBQUssSUFBSSxHQUFFLEtBQUssV0FBUyxHQUFFLEtBQUssV0FBUyxHQUFFLEtBQUssUUFBTSxJQUFJLEVBQUUsTUFBTSxJQUFFLElBQUUsQ0FBQyxHQUFFLEVBQUUsS0FBSyxLQUFLLEdBQUUsS0FBSyxRQUFNLEdBQUUsS0FBSyxjQUFZLEdBQUUsS0FBSyxXQUFTLEdBQUUsS0FB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LElBQUVHLEdBQUUsV0FBUztBQUFFLGdCQUFHLE1BQUlBLEdBQUU7QUFBSyxjQUFBSixHQUFFLFFBQU0sR0FBRSxFQUFFSSxJQUFFLEVBQUUsR0FBRSxFQUFFQSxJQUFFLEdBQUcsR0FBRSxFQUFFQSxJQUFFLENBQUMsR0FBRUEsR0FBRSxVQUFRLEVBQUVBLEtBQUdBLEdBQUUsT0FBTyxPQUFLLElBQUUsTUFBSUEsR0FBRSxPQUFPLE9BQUssSUFBRSxNQUFJQSxHQUFFLE9BQU8sUUFBTSxJQUFFLE1BQUlBLEdBQUUsT0FBTyxPQUFLLElBQUUsTUFBSUEsR0FBRSxPQUFPLFVBQVEsS0FBRyxFQUFFLEdBQUUsRUFBRUEsSUFBRSxNQUFJQSxHQUFFLE9BQU8sSUFBSSxHQUFFLEVBQUVBLElBQUVBLEdBQUUsT0FBTyxRQUFNLElBQUUsR0FBRyxHQUFFLEVBQUVBLElBQUVBLEdBQUUsT0FBTyxRQUFNLEtBQUcsR0FBRyxHQUFFLEVBQUVBLElBQUVBLEdBQUUsT0FBTyxRQUFNLEtBQUcsR0FBRyxHQUFFLEVBQUVBLElBQUUsTUFBSUEsR0FBRSxRQUFNLElBQUUsS0FBR0EsR0FBRSxZQUFVQSxHQUFFLFFBQU0sSUFBRSxJQUFFLENBQUMsR0FBRSxFQUFFQSxJQUFFLE1BQUlBLEdBQUUsT0FBTyxFQUFFLEdBQUVBLEdBQUUsT0FBTyxTQUFPQSxHQUFFLE9BQU8sTUFBTSxXQUFTLEVBQUVBLElBQUUsTUFBSUEsR0FBRSxPQUFPLE1BQU0sTUFBTSxHQUFFLEVBQUVBLElBQUVBLEdBQUUsT0FBTyxNQUFNLFVBQVEsSUFBRSxHQUFHLElBQUdBLEdBQUUsT0FBTyxTQUFPSixHQUFFLFFBQU0sRUFBRUEsR0FBRSxPQUFNSSxHQUFFLGFBQVlBLEdBQUUsU0FBUSxDQUFDLElBQUdBLEdBQUUsVUFBUSxHQUFFQSxHQUFFLFNBQU8sT0FBSyxFQUFFQSxJQUFFLENBQUMsR0FBRSxFQUFFQSxJQUFFLENBQUMsR0FBRSxFQUFFQSxJQUFFLENBQUMsR0FBRSxFQUFFQSxJQUFFLENBQUMsR0FBRSxFQUFFQSxJQUFFLENBQUMsR0FB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QyxHQUFFLENBQUMsQ0FBQyxHQUFFLElBQUcsQ0FBQyxTQUFTLEdBQUUsR0FBRSxHQUFFO0FBQUM7QUFBYSxVQUFFLFVBQVEsU0FBU04sSUFBRUMsSUFBRTtBQUFDLGNBQUlDLElBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFO0FBQUUsVUFBQUEsS0FBRUYsR0FBRSxPQUFNLElBQUVBLEdBQUUsU0FBUSxJQUFFQSxHQUFFLE9BQU0sSUFBRSxLQUFHQSxHQUFFLFdBQVMsSUFBRyxJQUFFQSxHQUFFLFVBQVMsSUFBRUEsR0FBRSxRQUFPLElBQUUsS0FBR0MsS0FBRUQsR0FBRSxZQUFXLElBQUUsS0FBR0EsR0FBRSxZQUFVLE1BQUssSUFBRUUsR0FBRSxNQUFLLElBQUVBLEdBQUUsT0FBTSxJQUFFQSxHQUFFLE9BQU0sSUFBRUEsR0FBRSxPQUFNLElBQUVBLEdBQUUsUUFBTyxJQUFFQSxHQUFFLE1BQUssSUFBRUEsR0FBRSxNQUFLLElBQUVBLEdBQUUsU0FBUSxJQUFFQSxHQUFFLFVBQVMsS0FBRyxLQUFHQSxHQUFFLFdBQVMsR0FBRSxLQUFHLEtBQUdBLEdBQUUsWUFBVTtBQUFFO0FBQUUsZUFBRTtBQUFDLGtCQUFFLE9BQUssS0FBRyxFQUFFLEdBQUcsS0FBRyxHQUFFLEtBQUcsR0FBRSxLQUFHLEVBQUUsR0FBRyxLQUFHLEdBQUUsS0FBRyxJQUFHLElBQUUsRUFBRSxJQUFFLENBQUM7QUFBRTtBQUFFLDJCQUFPO0FBQUMsc0JBQUcsT0FBSyxJQUFFLE1BQUksSUFBRyxLQUFHLEdBQUUsT0FBSyxJQUFFLE1BQUksS0FBRztBQUFLLHNCQUFFLEdBQUcsSUFBRSxRQUFNO0FBQUEsdUJBQU07QUFBQyx3QkFBRyxFQUFFLEtBQUcsSUFBRztBQUFDLDBCQUFHLE1BQUksS0FBRyxJQUFHO0FBQUMsNEJBQUUsR0FBRyxRQUFNLE1BQUksS0FBRyxL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RSxJQUFFLEdBQUUsRUFBRSxHQUFHLElBQUUsRUFBRSxHQUFHLEdBQUUsRUFBRSxHQUFHLElBQUUsRUFBRSxHQUFHLEdBQUUsRUFBRSxHQUFHLElBQUUsRUFBRSxHQUFHLEdBQUUsS0FBRyxLQUFHO0FBQUk7QUFBQyxnQ0FBSSxFQUFFLEdBQUcsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLE1BQUksRUFBRSxHQUFHLElBQUUsRUFBRSxHQUFHO0FBQUEsd0JBQUc7QUFBQztBQUFBLHNCQUFLO0FBQUEsa0JBQUM7QUFBQztBQUFBLGdCQUFLO0FBQUEsWUFBQyxTQUFPLElBQUUsS0FBRyxJQUFFO0FBQUcsZUFBRyxJQUFFLEtBQUcsR0FBRSxNQUFJLE1BQUksS0FBRyxLQUFHLE1BQUksR0FBRUYsR0FBRSxVQUFRLEdBQUVBLEdBQUUsV0FBUyxHQUFFQSxHQUFFLFdBQVMsSUFBRSxJQUFFLElBQUUsSUFBRSxJQUFFLEtBQUcsSUFBRSxJQUFHQSxHQUFFLFlBQVUsSUFBRSxJQUFFLElBQUUsSUFBRSxNQUFJLE9BQUssSUFBRSxJQUFHRSxHQUFFLE9BQUssR0FBRUEsR0FBRSxPQUFLO0FBQUEsUUFBQztBQUFBLE1BQUMsR0FBRSxDQUFDLENBQUMsR0FBRSxJQUFHLENBQUMsU0FBUyxHQUFFLEdBQUUsR0FBRTtBQUFDO0FBQWEsWUFBSSxJQUFFLEVBQUUsaUJBQWlCLEdBQUUsSUFBRSxFQUFFLFdBQVcsR0FBRSxJQUFFLEVBQUUsU0FBUyxHQUFFLElBQUUsRUFBRSxXQUFXLEdBQUUsSUFBRSxFQUFFLFlBQVksR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLElBQUcsSUFBRSxHQUFFLElBQUUsS0FBSSxJQUFFO0FBQUksaUJBQVMsRUFBRUYsSUFBRTtBQUFDLGtCQUFPQSxPQUFJLEtBQUcsUUFBTUEsT0FBSSxJQUFFLFdBQVMsUUFBTUEsT0FBSSxPQUFLLE1BQUlBLE9BQUk7QUFBQSxRQUFHO0FBQUMsaUJBQVMsSUFBRztBQUFDLGVBQUssT0FBSyxHQUFFLEtBQUssT0FBSyxPQUFHLEtBQUssT0FBSyxHQUFFLEtBQUssV0FBUyxPQUFHLEtBQUssUUFBTSxHQUFFLEtBQUssT0FBSyxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssT0FBSyxNQUFLLEtBQUssUUFBTSxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssU0FBTyxNQUFLLEtBQUssT0FBSyxHQUFFLEtBQUssT0FBSyxHQUFFLEtBQUssU0FBTyxHQUFFLEtBQUssU0FBTyxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssVUFBUSxNQUFLLEtBQUssV0FBUyxNQUFLLEtBQUssVUFBUSxHQUFFLEtBQUssV0FBUyxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssT0FBSyxHQUFFLEtBQUssUUFBTSxHQUFFLEtBQUssT0FBSyxHQUFFLEtBQUssT0FBSyxNQUFLLEtBQUssT0FBSyxJQUFJLEVBQUUsTUFBTSxHQUFHLEdBQUUsS0FBSyxPQUFLLElBQUksRUFBRSxNQUFNLEdBQUcsR0FBRSxLQUFLLFNBQU8sTUFBSyxLQUFLLFVBQVEsTUFBSyxLQUFLLE9BQUssR0FBRSxLQUFLLE9BQUssR0FBRSxLQUFLLE1BQUk7QUFBQSxRQUFDO0FBQUMsaUJBQVMsRUFBRUEsSUFBRTtBQUFDLGNBQUlDO0FBQUUsaUJBQU9ELE1BQUdBLEdBQUUsU0FBT0MsS0FBRUQsR0FBRSxPQUFNQSxHQUFFLFdBQVNBLEdBQUUsWUFBVUMsR0FBRSxRQUFNLEdBQUVELEdBQUUsTUFBSSxJQUFHQyxHQUFFLFNBQU9ELEdBQUUsUUFBTSxJQUFFQyxHQUFFLE9BQU1BLEdBQUUsT0FBSyxHQUFFQSxHQUFFLE9BQUssR0FBRUEsR0FBRSxXQUFTLEdBQUVBLEdBQUUsT0FBSyxPQUFNQSxHQUFFLE9BQUssTUFBS0EsR0FBRSxPQUFLLEdBQUVBLEdBQUUsT0FBSyxHQUFFQSxHQUFFLFVBQVFBLEdBQUUsU0FBTyxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUVBLEdBQUUsV0FBU0EsR0FBRSxVQUFRLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRUEsR0FBRSxPQUFLLEdBQUVBLEdBQUUsT0FBSyxJQUFHLEtBQUc7QUFBQSxRQUFDO0FBQUMsaUJBQVMsRUFBRUQsSUFBRTtBQUFDLGNBQUlDO0FBQUUsaUJBQU9ELE1BQUdBLEdBQUUsVUFBUUMsS0FBRUQsR0FBRSxPQUFPLFFBQU0sR0FBRUMsR0FBRSxRQUFNLEdBQUVBLEdBQUUsUUFBTSxHQUFFLEVBQUVELEVBQUMsS0FBRztBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFQSxJQUFFQyxJQUFFO0FBQUMsY0FBSUMsSUFBRUU7QUFBRSxpQkFBT0osTUFBR0EsR0FBRSxTQUFPSSxLQUFFSixHQUFFLE9BQU1DLEtBQUUsS0FBR0MsS0FBRSxHQUFFRCxLQUFFLENBQUNBLE9BQUlDLEtBQUUsS0FBR0QsTUFBRyxJQUFHQSxLQUFFLE9BQUtBLE1BQUcsTUFBS0EsT0FBSUEsS0FBRSxLQUFHLEtBQUdBLE1BQUcsS0FBRyxTQUFPRyxHQUFFLFVBQVFBLEdBQUUsVUFBUUgsT0FBSUcsR0FBRSxTQUFPLE9BQU1BLEdBQUUsT0FBS0YsSUFBRUUsR0FBRSxRQUFNSCxJQUFFLEVBQUVELEVBQUMsTUFBSTtBQUFBLFFBQUM7QUFBQyxpQkFBUyxFQUFFQSxJQUFFQyxJQUFFO0FBQUMsY0FBSUMsSUFBRUU7QUFBRSxpQkFBT0osTUFBR0ksS0FBRSxJQUFJLE1BQUdKLEdBQUUsUUFBTUksSUFBRyxTQUFPLE9BQU1GLEtBQUUsRUFBRUYsSUFBRUMsRUFBQyxPQUFLLE1BQUlELEdBQUUsUUFBTSxPQUFNRSxNQUFHO0FBQUEsUUFBQztBQUFDLFlBQUksR0FBRSxHQUFFLElBQUU7QUFBRyxpQkFBUyxFQUFFRixJQUFFO0FBQUMsY0FBRyxHQUFFO0FBQUMsZ0JBQUlDO0FBQUUsaUJBQUksSUFBRSxJQUFJLEVBQUUsTUFBTSxHQUFHLEdBQUUsSUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUVBLEtBQUUsR0FBRUEsS0FBRTtBQUFLLGNBQUFELEdBQUUsS0FBS0MsSUFBRyxJQUFFO0FBQUUsbUJBQUtBLEtBQUU7QUFBSyxjQUFBRCxHQUFFLEtBQUtDLElBQUcsSUFBRTtBQUFFLG1CQUFLQSxLQUFFO0FBQUssY0FBQUQsR0FBRSxLQUFLQyxJQUFHLElBQUU7QUFBRSxtQkFBS0EsS0FBRTtBQUFLLGNBQUFELEdBQUUsS0FBS0MsSUFBRyxJQUFFO0FBQUUsaUJBQUksRUFBRSxHQUFFRCxHQUFFLE1BQUssR0FBRSxLQUFJLEdBQUUsR0FBRUEsR0FBRSxNQUFLLEVBQUMsTUFBSyxFQUFDLENBQUMsR0FBRUMsS0FBRSxHQUFFQSxLQUFFO0FBQUksY0FBQUQsR0FBRSxLQUFLQyxJQUFHLElBQUU7QUFBRSxjQUFFLEdBQUVELEdBQUUsTUFBSyxHQUFFLElBQUcsR0FBRSxHQUFFQSxHQUFFLE1BQUssRUFBQyxNQUFLLEVBQUMsQ0FBQyxHQUFFLElBQUU7QUFBQSxVQUFFO0FBQUMsVUFBQUEsR0FBRSxVQUFRLEdBQUVBLEdBQUUsVUFBUSxHQUFFQSxHQUFFLFdBQVMsR0FBRUEsR0FBRSxXQUFTO0FBQUEsUUFBQztBQUFDLGlCQUFTLEVBQUVBLElBQUVDLElBQUVDLElBQUVFLElBQUU7QUFBQyxjQUFJQyxJQUFFQyxLQUFFTixHQUFFO0FBQU0saUJBQU8sU0FBT00sR0FBRSxXQUFTQSxHQUFFLFFBQU0sS0FBR0EsR0FBRSxPQUFNQSxHQUFFLFFBQU0sR0FBRUEsR0FBRSxRQUFNLEdBQUVBLEdBQUUsU0FBTyxJQUFJLEVBQUUsS0FBS0EsR0FBRSxLQUFLLElBQUdGLE1BQUdFLEdBQUUsU0FBTyxFQUFFLFNBQVNBLEdBQUUsUUFBT0wsSUFBRUMsS0FBRUksR0FBRSxPQUFNQSxHQUFFLE9BQU0sQ0FBQyxHQUFFQSxHQUFFLFFBQU0sR0FBRUEsR0FBRSxRQUFNQSxHQUFFLFVBQVFGLE1BQUdDLEtBQUVDLEdBQUUsUUFBTUEsR0FBRSxXQUFTRCxLQUFFRCxLQUFHLEVBQUUsU0FBU0UsR0FBRSxRQUFPTCxJQUFFQyxLQUFFRSxJQUFFQyxJQUFFQyxHQUFFLEtBQUssSUFBR0YsTUFBR0MsT0FBSSxFQUFFLFNBQVNDLEdBQUUsUUFB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QUFFQyxJQUFFQyxJQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRTtBQUFDLGNBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRSxFQUFFLE1BQUssSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLEdBQUUsSUFBRSxHQUFFLElBQUUsTUFBSyxJQUFFLEdBQUUsSUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUUsSUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUUsSUFBRSxNQUFLLElBQUU7QUFBRSxlQUFJLElBQUUsR0FBRSxLQUFHLElBQUc7QUFBSSxjQUFFLENBQUMsSUFBRTtBQUFFLGVBQUksSUFBRSxHQUFFLElBQUUsR0FBRTtBQUFJLGNBQUVELEdBQUVDLEtBQUUsQ0FBQyxDQUFDO0FBQUksZUFBSSxJQUFFLEdBQUUsSUFBRSxJQUFHLEtBQUcsS0FBRyxNQUFJLEVBQUUsQ0FBQyxHQUFFO0FBQUk7QUFBQyxjQUFHLElBQUUsTUFBSSxJQUFFLElBQUcsTUFBSTtBQUFFLG1CQUFPLEVBQUUsR0FBRyxJQUFFLFVBQVMsRUFBRSxHQUFHLElBQUUsVUFBUyxFQUFFLE9BQUssR0FBRTtBQUFFLGVBQUksSUFBRSxHQUFFLElBQUUsS0FBRyxNQUFJLEVBQUUsQ0FBQyxHQUFFO0FBQUk7QUFBQyxlQUFJLElBQUUsTUFBSSxJQUFFLElBQUcsSUFBRSxJQUFFLEdBQUUsS0FBRyxJQUFHO0FBQUksZ0JBQUcsTUFBSSxJQUFHLEtBQUcsRUFBRSxDQUFDLEtBQUc7QUFBRSxxQkFBTTtBQUFHLGNBQUcsSUFBRSxNQUFJLE1BQUlGLE1BQUcsTUFBSTtBQUFHLG1CQUFNO0FBQUcsZUFBSSxFQUFFLENBQUMsSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLElBQUc7QUFBSSxjQUFFLElBQUUsQ0FBQyxJQUFFLEVBQUUsQ0FBQyxJQUFFLEVBQUUsQ0FBQztBQUFFLGVBQUksSUFBRSxHQUFFLElBQUUsR0FBRTtBQUFJLGtCQUFJQyxHQUFFQyxLQUFFLENBQUMsTUFBSSxFQUFFLEVBQUVELEdBQUVDLEtBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBRTtBQUFHLGNBQUcsSUFBRSxNQUFJRixNQUFHLElBQUUsSUFBRSxHQUFFLE1BQUksTUFBSUEsTUFBRyxJQUFFLEdBQUUsS0FBRyxLQUFJLElBQUUsR0FBRSxLQUFHLEtBQUksUUFBTSxJQUFFLEdBQUUsSUFBRSxHQUFFLEtBQUksSUFBRSxHQUFFLElBQUUsR0FBRSxJQUFFLElBQUUsSUFBRSxHQUFFLElBQUUsSUFBRyxLQUFHLElBQUUsTUFBSSxJQUFFLE1BQUksR0FBRSxNQUFJQSxNQUFHLE1BQUksS0FBRyxNQUFJQSxNQUFHLE1BQUk7QUFBRSxtQkFBTztBQUFFLHFCQUFPO0FBQUMsaUJBQUksSUFBRSxJQUFFLEdBQUUsSUFBRSxFQUFFLENBQUMsSUFBRSxLQUFHLElBQUUsR0FBRSxFQUFFLENBQUMsS0FBRyxFQUFFLENBQUMsSUFBRSxLQUFHLElBQUUsRUFBRSxJQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUUsRUFBRSxJQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQUksSUFBRSxJQUFHLElBQUcsSUFBRSxLQUFHLElBQUUsR0FBRSxJQUFFLElBQUUsS0FBRyxHQUFFLEVBQUUsS0FBRyxLQUFHLE1BQUksS0FBRyxFQUFFLElBQUUsS0FBRyxLQUFHLEtBQUcsS0FBRyxJQUFFLEdBQUUsTUFBSTtBQUFHO0FBQUMsaUJBQUksSUFBRSxLQUFHLElBQUUsR0FBRSxJQUFFO0FBQUcsb0JBQUk7QUFBRSxnQkFBRyxNQUFJLEtBQUcsS0FBRyxJQUFFLEdBQUUsS0FBRyxLQUFHLElBQUUsR0FBRSxLQUFJLEtBQUcsRUFBRSxFQUFFLENBQUMsR0FBRTtBQUFDLGtCQUFHLE1BQUk7QUFBRTtBQUFNLGtCQUFFQyxHQUFFQyxLQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQUEsWUFBQztBQUFDLGdCQUFHLElBQUUsTUFBSSxJQUFFLE9BQUssR0FBRTtBQUFDLG1CQUFJLE1BQUksTUFBSSxJQUFFLElBQUcsS0FBRyxHQUFFLElBQUUsTUFBSSxJQUFFLElBQUUsSUFBRyxJQUFFLElBQUUsS0FBRyxHQUFHLEtBQUcsRUFBRSxJQUFFLENBQUMsTUFBSTtBQUFJLHFCQUFJLE1BQUk7QUFBRSxrQkFBRyxLQUFHLEtBQUcsR0FBRSxNQUFJRixNQUFHLE1BQUksS0FBRyxNQUFJQSxNQUFHLE1BQUk7QUFBRSx1QkFBTztBQUFFLGdCQUFFLElBQUUsSUFBRSxDQUFDLElBQUUsS0FBRyxLQUFHLEtBQUcsS0FBRyxJQUFFLElBQUU7QUFBQSxZQUFDO0FBQUEsVUFBQztBQUFDLGlCQUFPLE1BQUksTUFBSSxFQUFFLElBQUUsQ0FBQyxJQUFFLElBQUUsS0FBRyxLQUFHLE1BQUksS0FBRyxJQUFHLEVBQUUsT0FBSyxHQUFFO0FBQUEsUUFBQztBQUFBLE1BQUMsR0FBRSxFQUFDLG1CQUFrQixHQUFFLENBQUMsR0FBRSxJQUFHLENBQUMsU0FBUyxHQUFFLEdBQUUsR0FBRTtBQUFDO0FBQWEsVUFBRSxVQUFRLEVBQUMsR0FBRSxtQkFBa0IsR0FBRSxjQUFhLEdBQUUsSUFBRyxNQUFLLGNBQWEsTUFBSyxnQkFBZSxNQUFLLGNBQWEsTUFBSyx1QkFBc0IsTUFBSyxnQkFBZSxNQUFLLHVCQUFzQjtBQUFBLE1BQUMsR0FBRSxDQUFDLENBQUMsR0FBRSxJQUFHLENBQUMsU0FBUyxHQUFFLEdBQUUsR0FBRTtBQUFDO0FBQWEsWUFBSSxJQUFFLEVBQUUsaUJBQWlCLEdBQUUsSUFBRSxHQUFFLElBQUU7QUFBRSxpQkFBUyxFQUFFQSxJQUFFO0FBQUMsbUJBQVFDLEtBQUVELEdBQUUsUUFBTyxLQUFHLEVBQUVDO0FBQUcsWUFBQUQsR0FBRUMsRUFBQyxJQUFFO0FBQUEsUUFBQztBQUFDLFlBQUksSUFBRSxHQUFFLElBQUUsSUFBRyxJQUFFLEtBQUksSUFBRSxJQUFFLElBQUUsR0FBRSxJQUFFLElBQUcsSUFBRSxJQUFHLElBQUUsSUFBRSxJQUFFLEdBQUUsSUFBRSxJQUFHLElBQUUsSUFBRyxJQUFFLEdBQUUsSUFBRSxLQUFJLElBQUUsSUFBRyxJQUFFLElBQUcsSUFBRSxJQUFHLElBQUUsQ0FBQyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLENBQUMsR0FBRSxJQUFFLENBQUMsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxJQUFFLENBQUMsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsSUFBRSxJQUFJLE1BQU0sS0FBRyxJQUFFLEVBQUU7QUFBRSxVQUFFLENBQUM7QUFBRSxZQUFJLElBQUUsSUFBSSxNQUFNLElBQUUsQ0FBQztBQUFFLFVBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxJQUFJLE1BQU0sR0FBRztBQUFFLFVBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxJQUFJLE1BQU0sR0FBRztBQUFFLFVBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxJQUFJLE1BQU0sQ0FBQztBQUFFLFVBQUUsQ0FBQztBQUFFLFlBQUksR0FBRSxHQUFFLEdBQUUsSUFBRSxJQUFJLE1BQU0sQ0FBQztBQUFFLGlCQUFTLEVBQUVELElBQUVDLElBQUVDLElBQUVF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SyxDQUFDLElBQUVBLEdBQUUsS0FBS0EsR0FBRSxVQUFVLEdBQUUsRUFBRUEsSUFBRU0sSUFBRSxDQUFDLEdBQUVGLEtBQUVKLEdBQUUsS0FBSyxDQUFDLEdBQUVBLEdBQUUsS0FBSyxFQUFFQSxHQUFFLFFBQVEsSUFBRUUsSUFBRUYsR0FBRSxLQUFLLEVBQUVBLEdBQUUsUUFBUSxJQUFFSSxJQUFFRSxHQUFFLElBQUVELEVBQUMsSUFBRUMsR0FBRSxJQUFFSixFQUFDLElBQUVJLEdBQUUsSUFBRUYsRUFBQyxHQUFFSixHQUFFLE1BQU1LLEVBQUMsS0FBR0wsR0FBRSxNQUFNRSxFQUFDLEtBQUdGLEdBQUUsTUFBTUksRUFBQyxJQUFFSixHQUFFLE1BQU1FLEVBQUMsSUFBRUYsR0FBRSxNQUFNSSxFQUFDLEtBQUcsR0FBRUUsR0FBRSxJQUFFSixLQUFFLENBQUMsSUFBRUksR0FBRSxJQUFFRixLQUFFLENBQUMsSUFBRUMsSUFBRUwsR0FBRSxLQUFLLENBQUMsSUFBRUssTUFBSSxFQUFFTCxJQUFFTSxJQUFFLENBQUMsR0FBRSxLQUFHTixHQUFFO0FBQVU7QUFBQyxVQUFBQSxHQUFFLEtBQUssRUFBRUEsR0FBRSxRQUFRLElBQUVBLEdBQUUsS0FBSyxDQUFDLEdBQUUsU0FBU0EsSUFBRUMsSUFBRTtBQUFDLGdCQUFJQyxJQUFFRSxJQUFFQyxJQUFFQyxJQUFFQyxJQUFFQyxJQUFFQyxLQUFFUixHQUFFLFVBQVNTLEtBQUVULEdBQUUsVUFBU1UsS0FBRVYsR0FBRSxVQUFVLGFBQVlXLEtBQUVYLEdBQUUsVUFBVSxXQUFVRSxLQUFFRixHQUFFLFVBQVUsWUFBV1ksS0FBRVosR0FBRSxVQUFVLFlBQVdhLEtBQUViLEdBQUUsVUFBVSxZQUFXYyxLQUFFO0FBQUUsaUJBQUlULEtBQUUsR0FBRUEsTUFBRyxHQUFFQTtBQUFJLGNBQUFOLEdBQUUsU0FBU00sRUFBQyxJQUFFO0FBQUUsaUJBQUlHLEdBQUUsSUFBRVQsR0FBRSxLQUFLQSxHQUFFLFFBQVEsSUFBRSxDQUFDLElBQUUsR0FBRUUsS0FBRUYsR0FBRSxX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S0FBRUU7QUFBRSx1QkFBSyxFQUFFVixJQUFFSyxJQUFFTCxHQUFFLE9BQU8sR0FBRSxLQUFHLEVBQUVRO0FBQUc7QUFBQTtBQUFNLHNCQUFJSCxNQUFHQSxPQUFJQyxPQUFJLEVBQUVOLElBQUVLLElBQUVMLEdBQUUsT0FBTyxHQUFFUSxPQUFLLEVBQUVSLElBQUUsR0FBRUEsR0FBRSxPQUFPLEdBQUUsRUFBRUEsSUFBRVEsS0FBRSxHQUFFLENBQUMsS0FBR0EsTUFBRyxNQUFJLEVBQUVSLElBQUUsR0FBRUEsR0FBRSxPQUFPLEdBQUUsRUFBRUEsSUFBRVEsS0FBRSxHQUFFLENBQUMsTUFBSSxFQUFFUixJQUFFLEdBQUVBLEdBQUUsT0FBTyxHQUFFLEVBQUVBLElBQUVRLEtBQUUsSUFBRyxDQUFDO0FBQUcsY0FBQUYsS0FBRUQsSUFBRUssTUFBR0YsS0FBRSxPQUFLRCxNQUFHRSxLQUFFLEtBQUksS0FBR0osT0FBSUUsTUFBR0UsS0FBRSxHQUFFLE1BQUlBLEtBQUUsR0FBRTtBQUFBLFlBQUU7QUFBQSxRQUFDO0FBQUMsVUFBRSxDQUFDO0FBQUUsWUFBSSxJQUFFO0FBQUcsaUJBQVMsRUFBRVQsSUFBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFlBQUVKLEtBQUcsS0FBRyxNQUFJSSxLQUFFLElBQUUsSUFBRyxDQUFDLEdBQUUsU0FBU0osSUFBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLGNBQUVKLEVBQUMsR0FBRUksT0FBSSxFQUFFSixJQUFFRSxFQUFDLEdBQUUsRUFBRUYsSUFBRSxDQUFDRSxFQUFDLElBQUcsRUFBRSxTQUFTRixHQUFFLGFBQVlBLEdBQUUsUUFBT0MsSUFBRUMsSUFBRUYsR0FBRSxPQUFPLEdBQUVBLEdBQUUsV0FBU0U7QUFBQSxVQUFDLEVBQUVGLElBQUVDLElBQUVDLElBQUUsSUFBRTtBQUFBLFFBQUM7QUFBQyxVQUFFLFdBQVMsU0FBU0YsSUFBRTtBQUFDLGdCQUFJLFdBQVU7QUFBQyxnQkFBSUEsSUFBRUMsSUFBRUMsSUFBRUUsSUFBRUMsSUFBRUMsS0FBRSxJQUFJLE1B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O0FBQUEsTUFDbEI7QUFDQSxhQUFPLGFBQWEsRUFBRSxJQUFJLEVBQUUsY0FBYyxhQUFhLEVBQUUsSUFBSSxDQUFDO0FBQUEsSUFDbEUsQ0FBQztBQUFBLEVBQ0w7QUFDSjsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgImUiLCAidCIsICJyIiwgImMiLCAibiIsICJpIiwgInMiLCAiYSIsICJvIiwgImgiLCAidSIsICJsIiwgImYiLCAiZCIsICJwIiwgIm0iLCAiTG9nTGV2ZWwiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJsb2dnZXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgImNvbnRlbnQiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJsb2dnZXIiLCAibG9nZ2VyIiwgImltcG9ydF9vYnNpZGlhbiIsICJfYSIsICJsb2dnZXIiLCAiX2EiLCAiZW5zdXJlRm9sZGVyRXhpc3RzIiwgImdlbmVyYXRlQ29udmVyc2F0aW9uRmlsZU5hbWUiLCAiZmlsZU5hbWUiLCAibG9nZ2VyIiwgImVuc3VyZUZvbGRlckV4aXN0cyIsICJKU1ppcCIsICJlbnN1cmVGb2xkZXJFeGlzdHMiLCAiZm9ybWF0VGltZXN0YW1wIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAibG9nZ2VyIiwgIlVwZ3JhZGUxMTAiLCAiVXBncmFkZTEyMCIsICJOZXh1c1VwZ3JhZGVNb2RhbCIsICJyZXF1ZXN0VXJsIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
